/*!
 *
 *     VERSION: 3.9.15
 *     Git Hash: 0bcc91b00b789cd59996fd99a5b71de5a9298065
 *
 *     Create At: 2025/4/22 15:36:21
 *
 */
! function (e, t) {
  "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" ==
    typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports
    .WhiteBoardSDK = t() : e.WhiteBoardSDK = t()
}(window, (function () {
  return function (e) {
    var t = {};

    function n(r) {
      if (t[r]) return t[r].exports;
      var A = t[r] = {
        i: r,
        l: !1,
        exports: {}
      };
      return e[r].call(A.exports, A, A.exports, n), A.l = !0, A.exports
    }
    return n.m = e, n.c = t, n.d = function (e, t, r) {
      n.o(e, t) || Object.defineProperty(e, t, {
        enumerable: !0,
        get: r
      })
    }, n.r = function (e) {
      "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol
        .toStringTag, {
          value: "Module"
        }), Object.defineProperty(e, "__esModule", {
        value: !0
      })
    }, n.t = function (e, t) {
      if (1 & t && (e = n(e)), 8 & t) return e;
      if (4 & t && "object" == typeof e && e && e.__esModule) return e;
      var r = Object.create(null);
      if (n.r(r), Object.defineProperty(r, "default", {
          enumerable: !0,
          value: e
        }), 2 & t && "string" != typeof e)
        for (var A in e) n.d(r, A, function (t) {
          return e[t]
        }.bind(null, A));
      return r
    }, n.n = function (e) {
      var t = e && e.__esModule ? function () {
        return e.default
      } : function () {
        return e
      };
      return n.d(t, "a", t), t
    }, n.o = function (e, t) {
      return Object.prototype.hasOwnProperty.call(e, t)
    }, n.p = "", n(n.s = 488)
  }([function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e, t) {
      if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }
  }, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var r, A = n(125),
      a = (r = A) && r.__esModule ? r : {
        default: r
      };
    t.default = function () {
      function e(e, t) {
        for (var n = 0; n < t.length; n++) {
          var r = t[n];
          r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r
            .writable = !0), (0, a.default)(e, r.key, r)
        }
      }
      return function (t, n, r) {
        return n && e(t.prototype, n), r && e(t, r), t
      }
    }()
  }, function (e, t, n) {
    e.exports = {
      default: n(208),
      __esModule: !0
    }
  }, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var r, A = n(33),
      a = (r = A) && r.__esModule ? r : {
        default: r
      };
    t.default = function (e, t) {
      if (!e) throw new ReferenceError(
        "this hasn't been initialised - super() hasn't been called");
      return !t || "object" !== (void 0 === t ? "undefined" : (0, a.default)(t)) &&
        "function" != typeof t ? e : t
    }
  }, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var r = i(n(210)),
      A = i(n(155)),
      a = i(n(33));

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.default = function (e, t) {
      if ("function" != typeof t && null !== t) throw new TypeError(
        "Super expression must either be null or a function, not " + (void 0 === t ?
          "undefined" : (0, a.default)(t)));
      e.prototype = (0, A.default)(t && t.prototype, {
        constructor: {
          value: e,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), t && (r.default ? (0, r.default)(e, t) : e.__proto__ = t)
    }
  }, function (e, t, n) {
    e.exports = {
      default: n(164),
      __esModule: !0
    }
  }, function (e, t, n) {
    ! function () {
      "use strict";

      function t(e, t) {
        var n, r, A, a, i = E;
        for (a = arguments.length; a-- > 2;) k.push(arguments[a]);
        for (t && null != t.children && (k.length || k.push(t.children), delete t
            .children); k.length;)
          if ((r = k.pop()) && void 0 !== r.pop)
            for (a = r.length; a--;) k.push(r[a]);
          else "boolean" == typeof r && (r = null), (A = "function" != typeof e) && (
              null == r ? r = "" : "number" == typeof r ? r += "" : "string" !=
              typeof r && (A = !1)), A && n ? i[i.length - 1] += r : i === E ? i = [r] : i
            .push(r), n = A;
        var o = new x;
        return o.nodeName = e, o.children = i, o.attributes = null == t ? void 0 : t, o
          .key = null == t ? void 0 : t.key, void 0 !== T.vnode && T.vnode(o), o
      }

      function n(e, t) {
        for (var n in t) e[n] = t[n];
        return e
      }

      function r(e, t) {
        e && ("function" == typeof e ? e(t) : e.current = t)
      }

      function A(e) {
        !e.__d && (e.__d = !0) && 1 == P.push(e) && (T.debounceRendering || N)(a)
      }

      function a() {
        for (var e; e = P.pop();) e.__d && I(e)
      }

      function i(e, t, n) {
        return "string" == typeof t || "number" == typeof t ? void 0 !== e.splitText :
          "string" == typeof t.nodeName ? !e._componentConstructor && o(e, t.nodeName) :
          n || e._componentConstructor === t.nodeName
      }

      function o(e, t) {
        return e.__n === t || e.nodeName.toLowerCase() === t.toLowerCase()
      }

      function s(e) {
        var t = n({}, e.attributes);
        t.children = e.children;
        var r = e.nodeName.defaultProps;
        if (void 0 !== r)
          for (var A in r) void 0 === t[A] && (t[A] = r[A]);
        return t
      }

      function u(e) {
        var t = e.parentNode;
        t && t.removeChild(e)
      }

      function l(e, t, n, A, a) {
        if ("className" === t && (t = "class"), "key" === t);
        else if ("ref" === t) r(n, null), r(A, e);
        else if ("class" !== t || a)
          if ("style" === t) {
            if (A && "string" != typeof A && "string" != typeof n || (e.style.cssText =
                A || ""), A && "object" == typeof A) {
              if ("string" != typeof n)
                for (var i in n) i in A || (e.style[i] = "");
              for (var i in A) e.style[i] = "number" == typeof A[i] && !1 === O.test(i) ?
                A[i] + "px" : A[i]
            }
          } else if ("dangerouslySetInnerHTML" === t) A && (e.innerHTML = A.__html || "");
        else if ("o" == t[0] && "n" == t[1]) {
          var o = t !== (t = t.replace(/Capture$/, ""));
          t = t.toLowerCase().substring(2), A ? n || e.addEventListener(t, c, o) : e
            .removeEventListener(t, c, o), (e.__l || (e.__l = {}))[t] = A
        } else if ("list" !== t && "type" !== t && !a && t in e) {
          try {
            e[t] = null == A ? "" : A
          } catch (e) {}
          null != A && !1 !== A || "spellcheck" == t || e.removeAttribute(t)
        } else {
          var s = a && t !== (t = t.replace(/^xlink:?/, ""));
          null == A || !1 === A ? s ? e.removeAttributeNS("http://www.w3.org/1999/xlink",
            t.toLowerCase()) : e.removeAttribute(t) : "function" != typeof A && (s ? e
            .setAttributeNS("http://www.w3.org/1999/xlink", t.toLowerCase(), A) : e
            .setAttribute(t, A))
        } else e.className = A || ""
      }

      function c(e) {
        return this.__l[e.type](T.event && T.event(e) || e)
      }

      function d() {
        for (var e; e = _.shift();) T.afterMount && T.afterMount(e), e
          .componentDidMount && e.componentDidMount()
      }

      function p(e, t, n, r, A, a) {
        D++ || (Q = null != A && void 0 !== A.ownerSVGElement, S = null != e && !(
          "__preactattr_" in e));
        var i = h(e, t, n, r, a);
        return A && i.parentNode !== A && A.appendChild(i), --D || (S = !1, a || d()), i
      }

      function h(e, t, n, r, A) {
        var a = e,
          i = Q;
        if (null != t && "boolean" != typeof t || (t = ""), "string" == typeof t ||
          "number" == typeof t) return e && void 0 !== e.splitText && e.parentNode && (!e
          ._component || A) ? e.nodeValue != t && (e.nodeValue = t) : (a = document
          .createTextNode(t), e && (e.parentNode && e.parentNode.replaceChild(a, e),
            g(e, !0))), a.__preactattr_ = !0, a;
        var s = t.nodeName;
        if ("function" == typeof s) return M(e, t, n, r);
        if (Q = "svg" === s || "foreignObject" !== s && Q, s += "", (!e || !o(e, s)) && (
            a = function (e, t) {
              var n = t ? document.createElementNS("http://www.w3.org/2000/svg", e) :
                document.createElement(e);
              return n.__n = e, n
            }(s, Q), e)) {
          for (; e.firstChild;) a.appendChild(e.firstChild);
          e.parentNode && e.parentNode.replaceChild(a, e), g(e, !0)
        }
        var u = a.firstChild,
          l = a.__preactattr_,
          c = t.children;
        if (null == l) {
          l = a.__preactattr_ = {};
          for (var d = a.attributes, p = d.length; p--;) l[d[p].name] = d[p].value
        }
        return !S && c && 1 === c.length && "string" == typeof c[0] && null != u &&
          void 0 !== u.splitText && null == u.nextSibling ? u.nodeValue != c[0] && (u
            .nodeValue = c[0]) : (c && c.length || null != u) && f(a, c, n, r, S ||
            null != l.dangerouslySetInnerHTML), v(a, t.attributes, l), Q = i, a
      }

      function f(e, t, n, r, A) {
        var a, o, s, l, c, d = e.childNodes,
          p = [],
          f = {},
          y = 0,
          v = 0,
          m = d.length,
          w = 0,
          B = t ? t.length : 0;
        if (0 !== m)
          for (var I = 0; I < m; I++) {
            var M = d[I],
              C = M.__preactattr_;
            null != (b = B && C ? M._component ? M._component.__k : C.key : null) ? (y++,
                f[b] = M) : (C || (void 0 !== M.splitText ? !A || M.nodeValue.trim() :
              A)) && (p[w++] = M)
          }
        if (0 !== B)
          for (I = 0; I < B; I++) {
            var b;
            if (c = null, null != (b = (l = t[I]).key)) y && void 0 !== f[b] && (c = f[b],
              f[b] = void 0, y--);
            else if (v < w)
              for (a = v; a < w; a++)
                if (void 0 !== p[a] && i(o = p[a], l, A)) {
                  c = o, p[a] = void 0, a === w - 1 && w--, a === v && v++;
                  break
                } c = h(c, l, n, r), s = d[I], c && c !== e && c !== s && (null == s ? e
              .appendChild(c) : c === s.nextSibling ? u(s) : e.insertBefore(c, s))
          }
        if (y)
          for (var I in f) void 0 !== f[I] && g(f[I], !1);
        for (; v <= w;) void 0 !== (c = p[w--]) && g(c, !1)
      }

      function g(e, t) {
        var n = e._component;
        n ? C(n) : (null != e.__preactattr_ && r(e.__preactattr_.ref, null), !1 !== t &&
          null != e.__preactattr_ || u(e), y(e))
      }

      function y(e) {
        for (e = e.lastChild; e;) {
          var t = e.previousSibling;
          g(e, !0), e = t
        }
      }

      function v(e, t, n) {
        var r;
        for (r in n) t && null != t[r] || null == n[r] || l(e, r, n[r], n[r] = void 0, Q);
        for (r in t) "children" === r || "innerHTML" === r || r in n && t[r] === (
          "value" === r || "checked" === r ? e[r] : n[r]) || l(e, r, n[r], n[r] = t[r],
          Q)
      }

      function m(e, t, n) {
        var r, A = U.length;
        for (e.prototype && e.prototype.render ? (r = new e(t, n), b.call(r, t, n)) : ((
            r = new b(t, n)).constructor = e, r.render = w); A--;)
          if (U[A].constructor === e) return r.__b = U[A].__b, U.splice(A, 1), r;
        return r
      }

      function w(e, t, n) {
        return this.constructor(e, n)
      }

      function B(e, t, n, a, i) {
        e.__x || (e.__x = !0, e.__r = t.ref, e.__k = t.key, delete t.ref, delete t.key,
          void 0 === e.constructor.getDerivedStateFromProps && (!e.base || i ? e
            .componentWillMount && e.componentWillMount() : e
            .componentWillReceiveProps && e.componentWillReceiveProps(t, a)), a && a !==
          e.context && (e.__c || (e.__c = e.context), e.context = a), e.__p || (e.__p =
            e.props), e.props = t, e.__x = !1, 0 !== n && (1 !== n && !1 === T
            .syncComponentUpdates && e.base ? A(e) : I(e, 1, i)), r(e.__r, e))
      }

      function I(e, t, r, A) {
        if (!e.__x) {
          var a, i, o, u = e.props,
            l = e.state,
            c = e.context,
            h = e.__p || u,
            f = e.__s || l,
            y = e.__c || c,
            v = e.base,
            w = e.__b,
            M = v || w,
            b = e._component,
            x = !1,
            k = y;
          if (e.constructor.getDerivedStateFromProps && (l = n(n({}, l), e.constructor
              .getDerivedStateFromProps(u, l)), e.state = l), v && (e.props = h, e.state =
              f, e.context = y, 2 !== t && e.shouldComponentUpdate && !1 === e
              .shouldComponentUpdate(u, l, c) ? x = !0 : e.componentWillUpdate && e
              .componentWillUpdate(u, l, c), e.props = u, e.state = l, e.context = c), e
            .__p = e.__s = e.__c = e.__b = null, e.__d = !1, !x) {
            a = e.render(u, l, c), e.getChildContext && (c = n(n({}, c), e
              .getChildContext())), v && e.getSnapshotBeforeUpdate && (k = e
              .getSnapshotBeforeUpdate(h, f));
            var E, N, O = a && a.nodeName;
            if ("function" == typeof O) {
              var P = s(a);
              (i = b) && i.constructor === O && P.key == i.__k ? B(i, P, 1, c, !1) : (E =
                i, e._component = i = m(O, P, c), i.__b = i.__b || w, i.__u = e, B(i, P,
                  0, c, !1), I(i, 1, r, !0)), N = i.base
            } else o = M, (E = b) && (o = e._component = null), (M || 1 === t) && (o && (o
              ._component = null), N = p(o, a, c, r || !v, M && M.parentNode, !0));
            if (M && N !== M && i !== b) {
              var Q = M.parentNode;
              Q && N !== Q && (Q.replaceChild(N, M), E || (M._component = null, g(M, !1)))
            }
            if (E && C(E), e.base = N, N && !A) {
              for (var S = e, U = e; U = U.__u;)(S = U).base = N;
              N._component = S, N._componentConstructor = S.constructor
            }
          }
          for (!v || r ? _.push(e) : x || (e.componentDidUpdate && e.componentDidUpdate(h,
              f, k), T.afterUpdate && T.afterUpdate(e)); e.__h.length;) e.__h.pop().call(
            e);
          D || A || d()
        }
      }

      function M(e, t, n, r) {
        for (var A = e && e._component, a = A, i = e, o = A && e._componentConstructor ===
            t.nodeName, u = o, l = s(t); A && !u && (A = A.__u);) u = A.constructor === t
          .nodeName;
        return A && u && (!r || A._component) ? (B(A, l, 3, n, r), e = A.base) : (a && !
          o && (C(a), e = i = null), A = m(t.nodeName, l, n), e && !A.__b && (A.__b = e,
            i = null), B(A, l, 1, n, r), e = A.base, i && e !== i && (i._component =
            null, g(i, !1))), e
      }

      function C(e) {
        T.beforeUnmount && T.beforeUnmount(e);
        var t = e.base;
        e.__x = !0, e.componentWillUnmount && e.componentWillUnmount(), e.base = null;
        var n = e._component;
        n ? C(n) : t && (null != t.__preactattr_ && r(t.__preactattr_.ref, null), e.__b =
          t, u(t), U.push(e), y(t)), r(e.__r, null)
      }

      function b(e, t) {
        this.__d = !0, this.context = t, this.props = e, this.state = this.state || {},
          this.__h = []
      }
      var x = function () {},
        T = {},
        k = [],
        E = [],
        N = "function" == typeof Promise ? Promise.resolve().then.bind(Promise
      .resolve()) : setTimeout,
        O = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,
        P = [],
        _ = [],
        D = 0,
        Q = !1,
        S = !1,
        U = [];
      n(b.prototype, {
        setState: function (e, t) {
          this.__s || (this.__s = this.state), this.state = n(n({}, this.state),
              "function" == typeof e ? e(this.state, this.props) : e), t && this.__h
            .push(t), A(this)
        },
        forceUpdate: function (e) {
          e && this.__h.push(e), I(this, 2)
        },
        render: function () {}
      });
      var F = {
        h: t,
        createElement: t,
        cloneElement: function (e, r) {
          return t(e.nodeName, n(n({}, e.attributes), r), arguments.length > 2 ? []
            .slice.call(arguments, 2) : e.children)
        },
        createRef: function () {
          return {}
        },
        Component: b,
        render: function (e, t, n) {
          return p(n, e, {}, !1, t, !1)
        },
        rerender: a,
        options: T
      };
      e.exports = F
    }()
  }, function (e, t, n) {
    e.exports = {
      default: n(192),
      __esModule: !0
    }
  }, function (e, t) {
    var n = e.exports = {
      version: "2.6.12"
    };
    "number" == typeof __e && (__e = n)
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = l(n(11)),
      A = l(n(5)),
      a = l(n(0)),
      i = l(n(1)),
      o = l(n(33)),
      s = n(46),
      u = n(107);

    function l(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var c = void 0,
      d = {
        type: "",
        boardName: "whiteboard",
        pageIndex: "0",
        dependOn: void 0,
        timestamp: 0
      },
      p = !1;

    function h(e, t, n, r) {
      var A = !1;
      return d.pageIndex !== n || d.boardName !== r ? A = !0 : d.inProgress ? (e !== d
        .type || (void 0 === t ? "undefined" : (0, o.default)(t)) !== (0, o.default)(d
          .dependOn) || "string" == typeof t && t !== d.dependOn || Array.isArray(t) &&
        Array.isArray(d.dependOn) && t.join(",") !== d.dependOn.join(",") || p || -1 !==
        ["undo", "redo"].indexOf(e)) && (A = !0) : A = !0, A
    }
    var f = function () {
      function e(t) {
        (0, a.default)(this, e), this.type = "base", this.currentUrlOpid = "", this
          .app = t, this.opsManager = t.opsManager, this.registerHooks()
      }
      return (0, i.default)(e, [{
        key: "registerHooks",
        value: function () {}
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            exec: {
              value: !1,
              information: {
                args: "",
                message: "执行" + this.type + "事件"
              }
            },
            activate: {
              value: !1,
              information: {
                args: "",
                message: "设置工具栏状态为：" + this.type
              }
            }
          }
        }
      }, {
        key: "execCommand",
        value: function () {
          console.warn("DEV--\x3e", "若设置了exec为true，请继承execCommand函数，并作出对应的处理。")
        }
      }, {
        key: "getSnapshot",
        value: function () {
          return {
            type: this.type
          }
        }
      }, {
        key: "opIdForseen",
        value: function (e, t) {
          return h(e, t, this.opsManager.currPage.pageIndex, this.opsManager
              .currPage.boardName) ? this.opsManager.currPage.getNextOpId() :
            this.opsManager.currPage.getOpId()
        }
      }, {
        key: "dispatch",
        value: function (e) {
          var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[
              1],
            n = arguments[2];
          if (e.hasOwnProperty("type")) {
            if (s.globalSnapshotTypes.indexOf(e.type) > -1) return this
              .dispatchGlobalAction(e);
            if ("page" === e.type) return this.dispatchPageAction(e);
            if ("board" === e.type || "transDoc" === e.type) return this
              .dispatchBoardAction(e);
            var r = this.app.room.currBoard,
              a = this.app.room.currBoard.currPage,
              i = Date.now() + this.app.ntpTimeDiff,
              o = void 0;
            if (e.reuseOpType) o = this.app.account + "-" + e.reuseOpType,
              delete e.reuseOpType;
            else if (n) o = n, d = {
              type: e.type,
              dependOn: e.dependOn,
              timestamp: i,
              pageIndex: this.opsManager.currPage.pageIndex,
              boardName: this.opsManager.currPage.boardName,
              inProgress: e.inProgress
            };
            else {
              var u = h(e.type, e.dependOn, this.opsManager.currPage.pageIndex,
                this.opsManager.currPage.boardName);
              p = !1, d = {
                  type: e.type,
                  dependOn: e.dependOn,
                  timestamp: i,
                  pageIndex: this.opsManager.currPage.pageIndex,
                  boardName: this.opsManager.currPage.boardName,
                  inProgress: e.inProgress
                }, u && this.opsManager.currPage.prepareNewOpId(), o = this
                .opsManager.currPage.getOpId()
            }
            var l = {
                category: "inPageOp",
                board: this.app.room.currIndex,
                page: r.currIndex,
                time: i,
                uid: this.app.account,
                opId: o,
                data: e
              },
              c = 200,
              f = Array.isArray(e.dependOn) && e.dependOn.length > c;
            if (e.inProgress && f) a.setLocalOp(l.data.type, l, !0);
            else if (f) {
              a.setLocalOp(l.data.type, void 0, !0);
              for (var g = 0; g < e.dependOn.length; g += c) o = this.opsManager
                .currPage.getNextOpId(!0), this.app.room.dispatch((0, A.default)
                  ((0, A.default)({}, l), {
                    opId: o,
                    data: (0, A.default)((0, A.default)({}, l.data), {
                      dependOn: e.dependOn.slice(g, g + c)
                    })
                  }), !0)
            } else this.app.room.dispatch(l, t);
            return o
          }
          var y = n || this.opsManager.currPage.getOpId(),
            v = {
              opId: y,
              data: e
            };
          return this.app.room.dispatch(v, t), y
        }
      }, {
        key: "getLocalSnapshot",
        value: function (e) {
          return {
            category: "inPageOp",
            board: this.app.room.currIndex,
            page: this.app.room.currBoard.currIndex,
            time: Date.now(),
            uid: this.app.account,
            opId: e.reuseOpType || e.type,
            data: e
          }
        }
      }, {
        key: "dispatchFromPage",
        value: function (e, t) {
          var n = Date.now() + this.app.ntpTimeDiff;
          t.prepareNewOpId();
          var r = {
            category: "inPageOp",
            board: t.boardName,
            page: Number(t.pageIndex),
            time: n,
            uid: this.app.account,
            opId: t.getOpId(),
            data: e
          };
          d = {
            type: e.type,
            dependOn: e.dependOn,
            timestamp: n,
            pageIndex: t.pageIndex,
            boardName: t.boardName,
            inProgress: e.inProgress
          }, this.app.room.dispatch(r)
        }
      }, {
        key: "dispatchPageAction",
        value: function (e) {
          var t = Date.now() + this.app.ntpTimeDiff,
            n = (0, u.v4)(),
            r = {
              category: "pageOp",
              board: this.app.room.currIndex,
              time: t,
              uid: this.app.account,
              opId: n,
              data: e
            };
          return this.app.room.dispatch(r), n
        }
      }, {
        key: "dispatchBoardAction",
        value: function (e) {
          var t = Date.now() + this.app.ntpTimeDiff,
            n = (0, u.v4)(),
            r = {
              category: "boardOp",
              time: t,
              uid: this.app.account,
              opId: n,
              data: e
            };
          return this.app.room.dispatch(r), n
        }
      }, {
        key: "dispatchGlobalAction",
        value: function (e) {
          var t = void 0,
            n = Date.now() + this.app.ntpTimeDiff;
          e.reuseOpType ? (t = this.app.account + "-" + e.reuseOpType, delete e
            .reuseOpType) : (c && !p || (c = (0, u.v4)(), p = !1), t = c);
          var r = {
            category: "globalOp",
            time: n,
            uid: this.app.account,
            opId: t,
            data: e
          };
          return this.app.room.dispatch(r), t
        }
      }, {
        key: "emit",
        value: function (e) {
          for (var t, n = arguments.length, r = Array(n > 1 ? n - 1 : 0), A =
            1; A < n; A++) r[A - 1] = arguments[A];
          (t = this.app.dispatcher).emit.apply(t, [e].concat(r))
        }
      }, {
        key: "draw",
        value: function (e, t, n) {
          console.warn("DEV--\x3e", "请实现" + this.type + "子类中draw函数。")
        }
      }, {
        key: "intepSnap",
        value: function (e) {
          return e
        }
      }, {
        key: "preview",
        value: function (e, t, n) {
          this.draw(e, t, n)
        }
      }, {
        key: "hide",
        value: function (e, t, n) {}
      }, {
        key: "validatePayloads",
        value: function () {}
      }, {
        key: "waitTilReady",
        value: function (e) {
          return r.default.resolve()
        }
      }, {
        key: "mergePartial",
        value: function (e, t) {
          return t.hasOwnProperty("category") ? t.time >= e.time ? t : e : (0, A
            .default)((0, A.default)({}, e), {
            data: (0, A.default)((0, A.default)({}, e.data), t.data)
          })
        }
      }, {
        key: "beginBatch",
        value: function () {
          p = !0
        }
      }, {
        key: "isKeyDown",
        value: function (e) {
          return this.app.container.isKeyDown(e)
        }
      }, {
        key: "getOpTypeByOpId",
        value: function (e) {
          return this.opsManager.drawOpsOfPage.hasOwnProperty(e) ? this
            .opsManager.drawOpsOfPage[e].data.type : void 0
        }
      }, {
        key: "isMouseDown",
        get: function () {
          return this.app.container.isMouseDown
        }
      }, {
        key: "isMouseMoved",
        get: function () {
          return this.app.container.isMouseMoved
        }
      }, {
        key: "logger",
        get: function () {
          return this.app.logger
        }
      }, {
        key: "opsOfPage",
        get: function () {
          return this.opsManager.currPage.opQueue
        }
      }, {
        key: "drawOpsOfPage",
        get: function () {
          return this.opsManager.drawOpsOfPage
        }
      }, {
        key: "localOps",
        get: function () {
          return this.app.room.currBoard.currPage.localDrawQueue
        }
      }]), e
    }();
    t.default = f
  }, function (e, t, n) {
    var r = n(17),
      A = n(8),
      a = n(34),
      i = n(37),
      o = n(43),
      s = function (e, t, n) {
        var u, l, c, d = e & s.F,
          p = e & s.G,
          h = e & s.S,
          f = e & s.P,
          g = e & s.B,
          y = e & s.W,
          v = p ? A : A[t] || (A[t] = {}),
          m = v.prototype,
          w = p ? r : h ? r[t] : (r[t] || {}).prototype;
        for (u in p && (n = t), n)(l = !d && w && void 0 !== w[u]) && o(v, u) || (c = l ?
          w[u] : n[u], v[u] = p && "function" != typeof w[u] ? n[u] : g && l ? a(c, r) :
          y && w[u] == c ? function (e) {
            var t = function (t, n, r) {
              if (this instanceof e) {
                switch (arguments.length) {
                  case 0:
                    return new e;
                  case 1:
                    return new e(t);
                  case 2:
                    return new e(t, n)
                }
                return new e(t, n, r)
              }
              return e.apply(this, arguments)
            };
            return t.prototype = e.prototype, t
          }(c) : f && "function" == typeof c ? a(Function.call, c) : c, f && ((v
            .virtual || (v.virtual = {}))[u] = c, e & s.R && m && !m[u] && i(m, u, c)))
      };
    s.F = 1, s.G = 2, s.S = 4, s.P = 8, s.B = 16, s.W = 32, s.U = 64, s.R = 128, e
      .exports = s
  }, function (e, t, n) {
    e.exports = {
      default: n(181),
      __esModule: !0
    }
  }, function (e, t, n) {
    "use strict";
    e.exports = function (e) {
      var t = [];
      return t.toString = function () {
        return this.map((function (t) {
          var n = function (e, t) {
            var n = e[1] || "",
              r = e[3];
            if (!r) return n;
            if (t && "function" == typeof btoa) {
              var A = (i = r,
                  "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," +
                  btoa(unescape(encodeURIComponent(JSON.stringify(i)))) +
                  " */"),
                a = r.sources.map((function (e) {
                  return "/*# sourceURL=" + r.sourceRoot + e + " */"
                }));
              return [n].concat(a).concat([A]).join("\n")
            }
            var i;
            return [n].join("\n")
          }(t, e);
          return t[2] ? "@media " + t[2] + "{" + n + "}" : n
        })).join("")
      }, t.i = function (e, n) {
        "string" == typeof e && (e = [
          [null, e, ""]
        ]);
        for (var r = {}, A = 0; A < this.length; A++) {
          var a = this[A][0];
          null != a && (r[a] = !0)
        }
        for (A = 0; A < e.length; A++) {
          var i = e[A];
          null != i[0] && r[i[0]] || (n && !i[2] ? i[2] = n : n && (i[2] = "(" + i[
            2] + ") and (" + n + ")"), t.push(i))
        }
      }, t
    }
  }, function (e, t, n) {
    var r, A, a = {},
      i = (r = function () {
        return window && document && document.all && !window.atob
      }, function () {
        return void 0 === A && (A = r.apply(this, arguments)), A
      }),
      o = function (e, t) {
        return t ? t.querySelector(e) : document.querySelector(e)
      },
      s = function (e) {
        var t = {};
        return function (e, n) {
          if ("function" == typeof e) return e();
          if (void 0 === t[e]) {
            var r = o.call(this, e, n);
            if (window.HTMLIFrameElement && r instanceof window.HTMLIFrameElement) try {
              r = r.contentDocument.head
            } catch (e) {
              r = null
            }
            t[e] = r
          }
          return t[e]
        }
      }(),
      u = null,
      l = 0,
      c = [],
      d = n(222);

    function p(e, t) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n],
          A = a[r.id];
        if (A) {
          A.refs++;
          for (var i = 0; i < A.parts.length; i++) A.parts[i](r.parts[i]);
          for (; i < r.parts.length; i++) A.parts.push(m(r.parts[i], t))
        } else {
          var o = [];
          for (i = 0; i < r.parts.length; i++) o.push(m(r.parts[i], t));
          a[r.id] = {
            id: r.id,
            refs: 1,
            parts: o
          }
        }
      }
    }

    function h(e, t) {
      for (var n = [], r = {}, A = 0; A < e.length; A++) {
        var a = e[A],
          i = t.base ? a[0] + t.base : a[0],
          o = {
            css: a[1],
            media: a[2],
            sourceMap: a[3]
          };
        r[i] ? r[i].parts.push(o) : n.push(r[i] = {
          id: i,
          parts: [o]
        })
      }
      return n
    }

    function f(e, t) {
      var n = s(e.insertInto);
      if (!n) throw new Error(
        "Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid."
        );
      var r = c[c.length - 1];
      if ("top" === e.insertAt) r ? r.nextSibling ? n.insertBefore(t, r.nextSibling) : n
        .appendChild(t) : n.insertBefore(t, n.firstChild), c.push(t);
      else if ("bottom" === e.insertAt) n.appendChild(t);
      else {
        if ("object" != typeof e.insertAt || !e.insertAt.before) throw new Error(
          "[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n"
          );
        var A = s(e.insertAt.before, n);
        n.insertBefore(t, A)
      }
    }

    function g(e) {
      if (null === e.parentNode) return !1;
      e.parentNode.removeChild(e);
      var t = c.indexOf(e);
      t >= 0 && c.splice(t, 1)
    }

    function y(e) {
      var t = document.createElement("style");
      if (void 0 === e.attrs.type && (e.attrs.type = "text/css"), void 0 === e.attrs
        .nonce) {
        var r = function () {
          0;
          return n.nc
        }();
        r && (e.attrs.nonce = r)
      }
      return v(t, e.attrs), f(e, t), t
    }

    function v(e, t) {
      Object.keys(t).forEach((function (n) {
        e.setAttribute(n, t[n])
      }))
    }

    function m(e, t) {
      var n, r, A, a;
      if (t.transform && e.css) {
        if (!(a = "function" == typeof t.transform ? t.transform(e.css) : t.transform
            .default(e.css))) return function () {};
        e.css = a
      }
      if (t.singleton) {
        var i = l++;
        n = u || (u = y(t)), r = I.bind(null, n, i, !1), A = I.bind(null, n, i, !0)
      } else e.sourceMap && "function" == typeof URL && "function" == typeof URL
        .createObjectURL && "function" == typeof URL.revokeObjectURL && "function" ==
        typeof Blob && "function" == typeof btoa ? (n = function (e) {
          var t = document.createElement("link");
          return void 0 === e.attrs.type && (e.attrs.type = "text/css"), e.attrs.rel =
            "stylesheet", v(t, e.attrs), f(e, t), t
        }(t), r = C.bind(null, n, t), A = function () {
          g(n), n.href && URL.revokeObjectURL(n.href)
        }) : (n = y(t), r = M.bind(null, n), A = function () {
          g(n)
        });
      return r(e),
        function (t) {
          if (t) {
            if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap)
              return;
            r(e = t)
          } else A()
        }
    }
    e.exports = function (e, t) {
      if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document)
      throw new Error("The style-loader cannot be used in a non-browser environment");
      (t = t || {}).attrs = "object" == typeof t.attrs ? t.attrs : {}, t.singleton ||
        "boolean" == typeof t.singleton || (t.singleton = i()), t.insertInto || (t
          .insertInto = "head"), t.insertAt || (t.insertAt = "bottom");
      var n = h(e, t);
      return p(n, t),
        function (e) {
          for (var r = [], A = 0; A < n.length; A++) {
            var i = n[A];
            (o = a[i.id]).refs--, r.push(o)
          }
          e && p(h(e, t), t);
          for (A = 0; A < r.length; A++) {
            var o;
            if (0 === (o = r[A]).refs) {
              for (var s = 0; s < o.parts.length; s++) o.parts[s]();
              delete a[o.id]
            }
          }
        }
    };
    var w, B = (w = [], function (e, t) {
      return w[e] = t, w.filter(Boolean).join("\n")
    });

    function I(e, t, n, r) {
      var A = n ? "" : r.css;
      if (e.styleSheet) e.styleSheet.cssText = B(t, A);
      else {
        var a = document.createTextNode(A),
          i = e.childNodes;
        i[t] && e.removeChild(i[t]), i.length ? e.insertBefore(a, i[t]) : e.appendChild(a)
      }
    }

    function M(e, t) {
      var n = t.css,
        r = t.media;
      if (r && e.setAttribute("media", r), e.styleSheet) e.styleSheet.cssText = n;
      else {
        for (; e.firstChild;) e.removeChild(e.firstChild);
        e.appendChild(document.createTextNode(n))
      }
    }

    function C(e, t, n) {
      var r = n.css,
        A = n.sourceMap,
        a = void 0 === t.convertToAbsoluteUrls && A;
      (t.convertToAbsoluteUrls || a) && (r = d(r)), A && (r +=
        "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(
          encodeURIComponent(JSON.stringify(A)))) + " */");
      var i = new Blob([r], {
          type: "text/css"
        }),
        o = e.href;
      e.href = URL.createObjectURL(i), o && URL.revokeObjectURL(o)
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = t.isZh = !0,
      A = (t.setLang = function (e) {
        t.isZh = r = "zh" === e
      }, t.getMsg = function (e, t) {
        if (a[e]) {
          var n = a[e];
          if ("string" == typeof n) return r ? n : e;
          var A = r ? n.zh : n.en;
          return "function" == typeof A ? A(t) : A
        }
        return console.error("[wb] 找不到名称为: " + e + "的文案"), e
      }, {
        sync: {
          zh: "同步数据中",
          en: "Synchronizing"
        },
        recnned: {
          zh: "重新连接成功",
          en: "Reconnected"
        },
        recnning: {
          zh: "网络状况不稳定，正在重新连接...",
          en: "Network unstable. Reconnecting"
        },
        disconn: {
          zh: "连接已断开",
          en: "Disconnected"
        },
        syncFail: {
          zh: "无法同步数据，请检查你的网络",
          en: "Sync failed, please check your network connection"
        },
        invalidUrl: {
          zh: "输入的H5页面URL格式非法",
          en: "Invalid H5 page URL"
        },
        onemedia: {
          zh: "只允许同时放置一个音视频或者H5页面插件",
          en: "Each page could insert at most one media file or one H5 page"
        },
        follow: {
          zh: "你当前处于视角跟随状态",
          en: "You are currently in camera follow state"
        },
        imgDownFail: {
          zh: "图片下载失败",
          en: "Image download failed"
        },
        cpyClipFail: {
          zh: "复制元素为图片失败",
          en: "Save elements as image failed"
        },
        cpyClipSucc: {
          zh: "元素已复制至剪切板中",
          en: "Elements are copied to clipboard"
        },
        logThrottle: {
          zh: "正在上传中，请勿重复点击",
          en: "Log is uploading, please wait"
        },
        logUploading: {
          zh: "正在上传中，大概需要5-10s",
          en: "Log is uploading, it takes about 5-10 seconds"
        },
        logUploadFail: {
          zh: function (e) {
            return "日志上传失败: " + e
          },
          en: function (e) {
            return "Log upload failed: " + e
          }
        },
        mediaPreMiss: {
          zh: "转码必需提供模板",
          en: "Preset id is needed to transcode media file"
        },
        sizeLimit: {
          zh: "文件大小不能超过",
          en: "File size should not exceed "
        },
        fileEmpty: {
          zh: "文件不能为空",
          en: "File should not be empty"
        },
        allowedTypes: {
          zh: "当前仅支持以下格式",
          en: "Only these formats are supported"
        },
        transFail: {
          zh: "转码失败",
          en: "Transcode failed"
        },
        transSucc: {
          zh: function (e) {
            return e + "转码成功"
          },
          en: function (e) {
            return e + " transcode succeed"
          }
        },
        delayAdd: {
          zh: "目前网络不稳定，若30s内恢复网络，将自动添加文档",
          en: "If connection restores in 30 secs, it would automatically add your selected file"
        },
        txtExceed: {
          zh: "文本输入超出最大限制",
          en: "Text length exceeds limit"
        },
        iosTxt: {
          zh: "Ios设备暂不支持添加文本",
          en: "Currently add text on ios is not supported"
        },
        pasteWait: {
          zh: "处理中，请稍候...",
          en: "Image is being processed, please wait..."
        },
        uploadPer: {
          zh: "文件上传进度",
          en: "File upload progress: "
        },
        uploadSucc: {
          zh: "上传成功",
          en: "Upload succeed"
        },
        uploadFail: {
          zh: "上传失败",
          en: "Upload failed"
        },
        uploading: {
          zh: "上传文件中...",
          en: "Uploading..."
        },
        imgUploadFail: {
          zh: "图片上传失败",
          en: "Image upload failed"
        },
        recvCancelBroadcast: {
          zh: function (e) {
            return e + "取消了视角同步"
          },
          en: function (e) {
            return e + " stop synchronizing camera"
          }
        },
        sbBroadcast: {
          zh: "其他参会人已开启视角同步",
          en: "Other participants have turned on camera synchronization"
        },
        broadcast: {
          zh: "其他用户将与您保持视角同步",
          en: "Other users will keep their perspective in sync with you"
        },
        sendCancelBroadcast: {
          zh: "其他用户将停止与您保持视角同步",
          en: "Other users will stop syncing their perspective with you"
        },
        recvBroadcast: {
          zh: function (e) {
            return "正在与" + e + "保持视角同步"
          },
          en: function (e) {
            return "Synchronizing perspective with " + e
          }
        },
        recvBroadcasting: {
          zh: "其他用户正与您保持视角同步",
          en: "Other users are syncing their perspective with you"
        },
        toFollower: {
          zh: function (e) {
            return "与" + e + "保持视角同步"
          },
          en: function (e) {
            return "Keep perspective with " + e
          }
        },
        toFreeOb: {
          zh: function (e) {
            return "与" + e + "解除视角同步"
          },
          en: function (e) {
            return "Unsync perspective with " + e
          }
        },
        uidCnameMiss: {
          zh: "uid或者房间名无法找到",
          en: "uid or channel is not found"
        },
        logMsg: {
          zh: function (e) {
            return "日志上传成功\n请告诉开发者你的appkey,uid: " + e + ", 以及上传时间: " + (new Date)
              .toLocaleTimeString()
          },
          en: function (e) {
            return "Log successfully uploaded\nPlease contact YunXin Developers with your appkey, uid: " +
              e + ", and upload time: " + (new Date).toLocaleTimeString()
          }
        },
        exportImgErr: {
          zh: function () {
            return "导出图片失败。请尝试使用其他浏览器重试"
          },
          en: function () {
            return "Error while exporting image. Please retry using another browser"
          }
        },
        image: "图片",
        video: "视频",
        audio: "音频",
        Image: "图片",
        Video: "视频",
        Audio: "音频",
        Mouse: "鼠标",
        Select: "选择",
        Pen: "涂鸦",
        PressurePen: {
          zh: "涂鸦、笔锋",
          en: "Pressure Pen"
        },
        Line: "直线",
        Shapes: "图形",
        Link: "连接",
        penAndLine: {
          zh: "涂鸦、直线",
          en: "Pen, Line"
        },
        shapeSelect: {
          zh: "选择图形",
          en: "Select shape"
        },
        Text: "文本",
        Laser: "激光笔",
        "element-eraser": {
          zh: "橡皮擦",
          en: "Eraser"
        },
        Clear: "清空",
        clearConfirm: {
          zh: "确认要清除所有内容？",
          en: "Are you sure you want to clear all contents?"
        },
        Undo: "撤销",
        Redo: "重做",
        Pan: "整体平移",
        imageUp: {
          zh: "图片上传",
          en: "Upload image"
        },
        uploadCenter: {
          zh: "文档、音视频上传",
          en: "Upload document, video or audio"
        },
        exportImage: {
          zh: "导出图片",
          en: "Export image"
        },
        uploadLog: {
          zh: "上传日志",
          en: "Upload log"
        },
        zoomOut: {
          zh: "缩小",
          en: "Zoom out"
        },
        zoomIn: {
          zh: "放大",
          en: "Zoom in"
        },
        visionControl: {
          zh: "视角同步",
          en: "Synchronize your camera"
        },
        visionLock: {
          zh: "视角模式切换",
          en: "Switch camera mode"
        },
        firstPage: {
          zh: "第一页",
          en: "First page"
        },
        nextPage: {
          zh: "下一页",
          en: "Next page"
        },
        prevPage: {
          zh: "上一页",
          en: "Prev page"
        },
        lastPage: {
          zh: "最后一页",
          en: "Last page"
        },
        Preview: "预览",
        More: "更多",
        fitContent: {
          zh: "适配内容",
          en: "Fit content"
        },
        fitDoc: {
          zh: "适配文档",
          en: "Fit Document"
        },
        Transparent: "透明",
        Opaque: "不透明",
        Thin: "细",
        Thick: "粗",
        Diamond: "菱形",
        roundRect: {
          zh: "圆角矩形",
          en: "Round corner rect"
        },
        Parallelogram: "平行四边形",
        Cloud: "云状",
        Rect: "矩形",
        Triangle: "三角形",
        Ellipse: "椭圆形",
        Star: "星形",
        resourceCenter: {
          zh: "资源库",
          en: "Resource Center"
        },
        static: "静态",
        h5: "动态",
        transcoded: "转码",
        uploadUrl: {
          zh: "添加H5页面",
          en: "add html url"
        },
        uploadStatic: {
          zh: "上传静态文档",
          en: "Upload static document"
        },
        uploadDynamic: {
          zh: "上传动态文档",
          en: "Upload dynamic document"
        },
        uploadMedia: {
          zh: "上传多媒体文件",
          en: "Upload video or audio"
        },
        uploadTransMedia: {
          zh: "上传多媒体文件并转码",
          en: "Upload video or audio and transcode"
        },
        Use: "使用",
        Delete: "删除",
        h5UrlAddInfo: {
          zh: "添加",
          en: "add"
        },
        h5UrlCloseInfo: {
          zh: "关闭",
          en: "close"
        },
        h5UrlInfo: {
          zh: "H5页面",
          en: "H5 url"
        },
        h5UrlInputInfo: {
          zh: "H5页面URL",
          en: "html url"
        },
        h5UrlTitleInputInfo: {
          zh: "H5页面标题",
          en: "html url title"
        },
        uploadInfo: {
          zh: "上传文档说明",
          en: "Instructions for uploading files"
        },
        uploadPrecon: {
          zh: "上传课件需要开通云信文档转码服务",
          en: "To upload courseware, you need to activate the Yunxin document transcoding service"
        },
        uploadStaInfo: {
          zh: "上传静态文件: 选择ppt(x), doc(x)或者pdf, 上传后以图片形式在白板中共享",
          en: "Upload static files: choose ppt(x), doc(x) or pdf, upload and share them on the whiteboard as pictures"
        },
        uploadDynInfo: {
          zh: "上传动态文件: 选择ppt(x), 上传后在白板中共享时保留ppt(x)中的动态效果",
          en: "Upload dynamic file: select ppt(x), after uploading, keep the dynamic effect in ppt(x) when sharing in the whiteboard"
        },
        uploadMediaPre: {
          zh: "上传多媒体文件需要开通云信点播服务",
          en: "To upload multimedia files, you need to activate the Yunxin Cloud-based VOD service."
        },
        uploadMediaInfo: {
          zh: function (e) {
            return "上传多媒体文件：选择音视频文件，上传后以原格式在白板中播放(" + e + ")"
          },
          en: function (e) {
            return "Upload multimedia files: select audio and video files, and play them on the whiteboard in the original format after uploading (" +
              e + ")"
          }
        },
        uploadTransInfo: {
          zh: "上传多媒体文件并转码: 选择音视频文件, 上传后转码为通用的视频格式, 保障多端兼容性",
          en: "Upload multimedia files and transcode: select audio and video files, and transcode them into common video formats after uploading to ensure multi-terminal compatibility"
        },
        pageDelConfirm: {
          zh: "确定要删除页面吗?删除后不可恢复",
          en: "Are you sure you want to delete the page? Unrecoverable after deletion"
        },
        fileDelConfirm: {
          zh: "确定要删除该文件吗?",
          en: "Are you sure you want to delete this file?"
        },
        Confirm: "确定",
        Cancel: "取消",
        addPage: {
          zh: "添加页面",
          en: "Add Page"
        },
        docPrev: {
          zh: "文档预览",
          en: "Doc Preview"
        },
        wbPrev: {
          zh: "白板预览",
          en: "Board Preview"
        },
        bringToFront: {
          zh: "置于顶部",
          en: "Bring to front"
        },
        sendToBack: {
          zh: "置于底部",
          en: "Send to back"
        },
        copyAsImg: {
          zh: "复制为图片",
          en: "Copy as image"
        },
        Copy: "拷贝",
        lineWidth: {
          zh: "线段宽度",
          en: "Line width"
        },
        strokeColor: {
          zh: "线段、边框颜色",
          en: "Stroke color"
        },
        lineProp: {
          zh: "粗细、颜色",
          en: "Line width and stroke color"
        },
        fontSize: {
          zh: "字体大小",
          en: "Font size"
        },
        fontFamily: {
          zh: "字体",
          en: "Font family"
        },
        fontColor: {
          zh: "字体颜色",
          en: "Font color"
        },
        fontFill: {
          zh: "字体背景颜色",
          en: "Font background color"
        },
        shapeFilter: {
          zh: "过滤选择元素",
          en: "Filter selected elements"
        },
        Fill: "填充色",
        textAlign: {
          zh: "文本对齐",
          en: "Text align"
        },
        linkType: {
          zh: "连接类型",
          en: "Link type"
        },
        linkArrow: {
          zh: "箭头类型",
          en: "Arrow type"
        },
        addT: {
          zh: "添加文本",
          en: "Add text"
        },
        Group: "组合元素",
        Ungroup: "解除组合",
        resDownload: {
          zh: "下载图片",
          en: "Download image"
        },
        Crop: "剪裁",
        typeChange: {
          zh: "类型转换",
          en: "Change type"
        },
        Duplicate: "复制",
        moreAction: {
          zh: "更多操作",
          en: "More"
        },
        noColor: {
          zh: "颜色未设置",
          en: "No colors available"
        },
        click2FreeOb: {
          zh: "点击解除视角同步",
          en: "Click to cancel camera sync"
        },
        click2Follow: {
          zh: "点击进入视角同步",
          en: "Click to sync perspective"
        },
        deleteDocInst: {
          zh: function (e) {
            return "是否删除文档: " + e + "? 删除后无法恢复"
          },
          en: function (e) {
            return "Are you sure you want to delete document: " + e +
              "? Can't be recovered after deletion"
          }
        },
        Filter: "筛选",
        Upload: "上传",
        Maximize: "最大化"
      }),
      a = t.LANG = A
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.getVecAngle = t.getAngleByDir = t.getPointAftPad = t.getScaleCursor = t
      .getLineFromPointsY = t.getVerticalLineY = t.getXFromCoefAndOffset = t.getLineCoef =
      t.getArrowPointsByAngle = t.getArrowPoints = void 0;
    var r, A = n(7),
      a = (r = A) && r.__esModule ? r : {
        default: r
      };
    t.distSqrt = u, t.dist = l, t.rectCollide = function (e, t) {
      var n = [t.sx, t.sy];
      return !(e.sx > n[0] + t.w || e.sx + e.w < n[0] || e.sy > n[1] + t.h || e.sy + e
        .h < n[1])
    }, t.pointCollideWithPoint = function (e, t, n) {
      return u(e, t) <= n * n
    }, t.pointCollideWithLine = function (e, t, n, r) {
      return l(e, t) + l(e, n) - l(t, n) <= r
    }, t.pointInRect = function (e, t, n) {
      return n[0] > e.sx - t && n[0] < e.sx + e.w + t && n[1] > e.sy - t && n[1] < e
        .sy + e.h + t
    }, t.pointInVertices = c, t.polygonContain = function (e, t) {
      var n = !0,
        r = !1,
        A = void 0;
      try {
        for (var i, o = (0, a.default)(e); !(n = (i = o.next()).done); n = !0) {
          var s = i.value;
          if (!c(t, s)) return !1
        }
      } catch (e) {
        r = !0, A = e
      } finally {
        try {
          !n && o.return && o.return()
        } finally {
          if (r) throw A
        }
      }
      return !0
    }, t.polygonIntersect = function (e, t) {
      var n = [e, t],
        r = void 0,
        A = void 0,
        a = void 0,
        i = void 0,
        o = void 0,
        s = void 0,
        u = void 0,
        l = void 0;
      for (i = 0; i < n.length; i++) {
        var c = n[i];
        for (o = 0; o < c.length; o++) {
          var d = (o + 1) % c.length,
            p = c[o],
            h = c[d],
            f = {
              x: h[1] - p[1],
              y: p[0] - h[0]
            };
          for (r = A = void 0, s = 0; s < e.length; s++) a = f.x * e[s][0] + f.y * e[s][
            1
          ], (void 0 === r || a < r) && (r = a), (void 0 === A || a > A) && (A = a);
          for (u = l = void 0, s = 0; s < t.length; s++) a = f.x * t[s][0] + f.y * t[s][
            1
          ], (void 0 === u || a < u) && (u = a), (void 0 === l || a > l) && (l = a);
          if (A < u || l < r) return !1
        }
      }
      return !0
    }, t.getTransformedBoundary = function (e, t) {
      var n = t.boundary,
        r = t.mat,
        A = t.pad,
        a = void 0 === A ? 0 : A,
        i = (0, o.getTransPoint)([n.sx - a, n.sy - a], r),
        u = (0, o.getTransPoint)([n.sx + n.w + 2 * a, n.sy - a], r),
        l = (0, o.getTransPoint)([n.sx + n.w + 2 * a, n.sy + n.h + 2 * a], r),
        c = (0, o.getTransPoint)([n.sx - a, n.sy + n.h + 2 * a], r),
        d = (0, s.min)(i[0], u[0], l[0], c[0]),
        p = (0, s.min)(i[1], u[1], l[1], c[1]),
        h = (0, s.max)(i[0], u[0], l[0], c[0]),
        f = (0, s.max)(i[1], u[1], l[1], c[1]),
        g = h - d,
        y = f - p;
      n.fixRealWorldHeight && e && (y = n.fixRealWorldHeight / e);
      return {
        sx: d,
        sy: p,
        w: g,
        h: y
      }
    }, t.getTransformedSize = function (e) {
      var t = e.boundary,
        n = e.xFactor,
        r = void 0 === n ? 1 : n,
        A = e.yFactor,
        a = void 0 === A ? 1 : A;
      return {
        w: Math.abs(t.w * r),
        h: Math.abs(t.h * a)
      }
    }, t.getTransformedVertices = function (e) {
      var t = e.boundary,
        n = e.mat,
        r = (0, o.getTransPoint)([t.sx, t.sy], n),
        A = (0, o.getTransPoint)([t.sx + t.w, t.sy], n),
        a = (0, o.getTransPoint)([t.sx + t.w, t.sy + t.h], n),
        i = (0, o.getTransPoint)([t.sx, t.sy + t.h], n);
      return [r, A, a, i]
    }, t.combineBoundary = function (e, t) {
      var n = (0, s.min)(e.sx, t.sx, e.sx + e.w, t.sx + t.w),
        r = (0, s.min)(e.sy, t.sy, e.sy + e.h, t.sy + t.h),
        A = (0, s.max)(e.sx, t.sx, e.sx + e.w, t.sx + t.w),
        a = (0, s.max)(e.sy, t.sy, e.sy + e.h, t.sy + t.h);
      return {
        sx: n,
        sy: r,
        w: A - n,
        h: a - r
      }
    }, t.getPointAftRotate = function (e, t, n) {
      if (!n) return e;
      var r = [e[0] - t[0], e[1] - t[1]],
        A = [Math.cos(n) * r[0] - Math.sin(n) * r[1], Math.sin(n) * r[0] + Math.cos(n) *
          r[1]
        ];
      return [A[0] + t[0], A[1] + t[1]]
    }, t.getBoundaryBoxFromTwoPoints = function (e, t) {
      var n = (0, s.min)(e[0], t[0]),
        r = (0, s.max)(e[0], t[0]),
        A = (0, s.min)(e[1], t[1]),
        a = (0, s.max)(e[1], t[1]);
      return {
        sx: n,
        sy: A,
        w: r - n,
        h: a - A
      }
    };
    var i = n(28),
      o = n(29),
      s = n(133);

    function u(e, t) {
      return (e[0] - t[0]) * (e[0] - t[0]) + (e[1] - t[1]) * (e[1] - t[1])
    }

    function l(e, t) {
      return Math.sqrt(u(e, t))
    }

    function c(e, t) {
      for (var n = !1, r = 0, A = e.length - 1; r < e.length; A = r++) e[r][1] > t[1] !=
        e[A][1] > t[1] && t[0] < (e[A][0] - e[r][0]) * (t[1] - e[r][1]) / (e[A][1] - e[r][
          1
        ]) + e[r][0] && (n = !n);
      return n
    }
    t.getArrowPoints = function (e, t) {
      var n = 5 * e,
        r = 2 * e,
        A = d(t),
        a = t[1][0] - t[0][0] > 0 ? p(t[1], A, n) : 2 * t[1][0] - p(t[1], A, n),
        i = t[1][0] - t[0][0] == 0 ? t[1][1] + (t[1][1] - t[0][1] > 0 ? n : -n) : f(t,
          a),
        o = p(t[1], -1 / A, r),
        s = t[1][1] - t[0][1] == 0 ? t[1][1] - r : h(t[1], A, o),
        u = 2 * t[1][0] - p(t[1], -1 / A, r);
      return [
        [a, i],
        [o, s],
        [u, t[1][1] - t[0][1] == 0 ? t[1][1] + r : h(t[1], A, u)]
      ]
    }, t.getArrowPointsByAngle = function (e, t, n, r) {
      var A = Math.PI / 6 + t + Math.PI,
        a = -Math.PI / 6 + t + Math.PI;
      return [
        [n + Math.cos(t) * e, r + Math.sin(t) * e],
        [n + 5 * Math.cos(A) * e, r + 5 * Math.sin(A) * e],
        [n + 5 * Math.cos(a) * e, r + 5 * Math.sin(a) * e]
      ]
    };
    var d = t.getLineCoef = function (e) {
        return (e[1][1] - e[0][1]) / (e[1][0] - e[0][0]) || 0
      },
      p = t.getXFromCoefAndOffset = function (e, t, n) {
        return Math.sqrt(Math.pow(n, 2) / (Math.pow(t, 2) + 1)) + e[0]
      },
      h = t.getVerticalLineY = function (e, t, n) {
        return (e[0] - n) / t + e[1]
      },
      f = t.getLineFromPointsY = function (e, t) {
        return Math.max(-1e6, (e[1][1] - e[0][1]) / (e[1][0] - e[0][0]) || 0) * (t - e[0][
          0
        ]) + e[0][1]
      };
    t.getScaleCursor = function (e) {
      var t = Math.floor(16 * e / (2 * Math.PI));
      return ["ew-resize", "nwse-resize", "ns-resize", "nesw-resize"][t = Math.floor((
        t + 16 + 1) % 8 / 2)]
    }, t.getPointAftPad = function (e, t, n, r, A, a) {
      return 0 === r ? [e[0] + t * (-Math.cos(n) * A + Math.sin(n) * a), e[1] + t * (-
          Math.sin(n) * A - Math.cos(n) * a)] : 1 === r ? [e[0] + t * (Math.cos(n) * A +
          Math.sin(n) * a), e[1] + t * (Math.sin(n) * A - Math.cos(n) * a)] : 2 === r ?
        [e[0] + t * (Math.cos(n) * A - Math.sin(n) * a), e[1] + t * (Math.sin(n) * A +
          Math.cos(n) * a)] : [e[0] + t * (-Math.cos(n) * A - Math.sin(n) * a), e[1] +
          t * (-Math.sin(n) * A + Math.cos(n) * a)
        ]
    }, t.getAngleByDir = function (e) {
      switch (e) {
        case i.DIRECTION.LEFT:
          return 0;
        case i.DIRECTION.RIGHT:
          return Math.PI;
        case i.DIRECTION.UP:
          return Math.PI / 2;
        case i.DIRECTION.DOWN:
          return -Math.PI / 2
      }
    }, t.getVecAngle = function (e, t) {
      return Math.atan2(t[1] - e[1], t[0] - e[0])
    }
  }, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var r, A = n(75),
      a = (r = A) && r.__esModule ? r : {
        default: r
      };
    t.default = function (e) {
      if (Array.isArray(e)) {
        for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
        return n
      }
      return (0, a.default)(e)
    }
  }, function (e, t) {
    var n = e.exports = "undefined" != typeof window && window.Math == Math ? window :
      "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
  }, function (e, t, n) {
    var r = n(82)("wks"),
      A = n(69),
      a = n(17).Symbol,
      i = "function" == typeof a;
    (e.exports = function (e) {
      return r[e] || (r[e] = i && a[e] || (i ? a : A)("Symbol." + e))
    }).store = r
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.linkSelectOnly = t.padPt = t.extendCameraToSnap = t.convertWinTxtToUnixTxt = t
      .getAuxSensitivity = t.getSortedDrawOpIds = t.getVecAngle = t.updateDocClipPath = t
      .getElementPartOutOfContainer = t.filterNonMediaOpIds = t
      .transformPropertyOverwriteOp = t.drawUserName = t.roundRect = t.arrayDeduce = t
      .idsChanged = t.snapshotSelectable = t.findOpsUnderMouse = t.findOpsUnderRect =
      void 0;
    var r = c(n(20)),
      A = c(n(5)),
      a = c(n(7)),
      i = c(n(36)),
      o = n(15),
      s = n(227),
      u = n(65),
      l = n(46);

    function c(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.findOpsUnderRect = function (e, t, n, r) {
      if (0 === t.length) return [];
      var A = (0, o.getBoundaryBoxFromTwoPoints)(t[0], t[t.length - 1]),
        a = [];
      for (var i in n) {
        var s = n[i];
        if ("link" === s.data.type)(0, u.isUnderRect)({
          data: s.data,
          rect: A,
          selectMode: r
        }) && a.push(i);
        else if (s.data.boundary && p(s)) {
          var l = (0, o.getTransformedVertices)(s.data);
          ("intersect" === r ? (0, o.polygonIntersect)(l, [
            [A.sx, A.sy],
            [A.sx, A.sy + A.h],
            [A.sx + A.w, A.sy + A.h],
            [A.sx + A.w, A.sy]
          ]) : (0, o.polygonContain)(l, [
            [A.sx, A.sy],
            [A.sx, A.sy + A.h],
            [A.sx + A.w, A.sy + A.h],
            [A.sx + A.w, A.sy]
          ])) && a.push(i)
        }
      }
      return a
    }, t.findOpsUnderMouse = function (e, t, n, r, A) {
      if (0 === n.length) return [];
      for (var a = (0, o.getBoundaryBoxFromTwoPoints)(n[0], n[n.length - 1]), s = (0, i
            .default)(n[n.length - 1], 2), c = s[0], d = s[1], h = g(r), f = h.length -
          1; f >= 0; f--) {
        var y = A.opMap.url;
        if (h[f] == y.currentUrlOpid) break;
        var v = r[h[f]],
          m = A.opMap[v.data.type];
        if ("link" === v.data.type) {
          var w = e.opsManager.linkOp;
          if ((0, u.isUnderPoint)({
              data: v.data,
              p: [c, d],
              op: w
            })) return [h[f]]
        } else if (v.data.boundary && p(v)) {
          var B = void 0;
          if (-1 !== l.nonRotateTypes.indexOf(v.data.type)) {
            var I = (0, o.getTransformedBoundary)(t, v.data);
            B = (0, o.rectCollide)(I, a)
          } else {
            var M = (0, o.getTransformedVertices)(v.data);
            B = (0, o.polygonIntersect)(M, [
              [a.sx, a.sy],
              [a.sx, a.sy + a.h],
              [a.sx + a.w, a.sy + a.h],
              [a.sx + a.w, a.sy]
            ])
          }
          if (B) {
            if (!m || !("ifMouseOnOp" in m)) return [h[f]];
            if (m.ifMouseOnOp(v, c, d)) return [h[f]]
          }
        }
      }
      return []
    };
    var d = ["mouse-pointer", "eraser"],
      p = t.snapshotSelectable = function (e) {
        return !(-1 !== d.indexOf(e.data.type) || e.data.locked)
      },
      h = (t.idsChanged = function (e, t) {
        if (e.length !== t.length) return !0;
        var n = !0,
          r = !1,
          A = void 0;
        try {
          for (var i, o = (0, a.default)(e); !(n = (i = o.next()).done); n = !0) {
            var s = i.value;
            if (-1 === t.indexOf(s)) return !0
          }
        } catch (e) {
          r = !0, A = e
        } finally {
          try {
            !n && o.return && o.return()
          } finally {
            if (r) throw A
          }
        }
        return !1
      }, t.arrayDeduce = function (e, t) {
        var n = [],
          r = !0,
          A = !1,
          i = void 0;
        try {
          for (var o, s = (0, a.default)(e); !(r = (o = s.next()).done); r = !0) {
            var u = o.value; - 1 === t.indexOf(u) && n.push(u)
          }
        } catch (e) {
          A = !0, i = e
        } finally {
          try {
            !r && s.return && s.return()
          } finally {
            if (A) throw i
          }
        }
        return n
      }, t.roundRect = function (e, t, n, r, A, a, i) {
        e.beginPath(), e.moveTo(t + a, n), e.lineTo(t + r - a, n), e.quadraticCurveTo(
            t + r, n, t + r, n + a), e.lineTo(t + r, n + A - a), e.quadraticCurveTo(t +
            r, n + A, t + r - a, n + A), e.lineTo(t + a, n + A), e.quadraticCurveTo(t,
            n + A, t, n + A - a), e.lineTo(t, n + a), e.quadraticCurveTo(t, n, t + a,
          n), e.closePath(), "stroke" === i ? e.stroke() : e.fill()
      }),
      f = (t.drawUserName = function (e) {
        var t = e.ctx,
          n = e.account,
          r = e.scale,
          A = e.px,
          a = e.py,
          i = e.bgColor,
          o = e.fontSize,
          s = void 0 === o ? 24 : o,
          u = e.textPadding,
          l = void 0 === u ? 15 : u,
          c = e.rectMarginBottom,
          d = void 0 === c ? 15 : c,
          p = e.radius,
          f = void 0 === p ? 10 : p,
          g = (s + 12) / r;
        l /= r, d /= r, s /= r, f /= r;
        var y = "white" === i || "rgb(255,255,255)" === i || "#ffffff" === i ||
          "#fff" === i ? "black" : "white";
        t.beginPath(), t.font = s + "px Arial";
        var v = t.measureText(n).width;
        t.fillStyle = i, h(t, A - v / 2 - l, a - d - g, v + 2 * l, g, f, "fill"), t
          .fillStyle = y, t.textAlign = "left", t.textBaseline = "middle", t.fillText(n,
            A - v / 2, a - d - g / 2)
      }, t.transformPropertyOverwriteOp = function (e, t) {
        var n = (0, A.default)({}, e.data);
        for (var r in t) "dependOn" !== r && (n[r] = t[r]);
        return "text" === e.data.type && (n.dx = 0, n.dy = 0, n.scaleX = {
          coordinate: 0,
          factor: 1
        }, n.scaleY = {
          coordinate: 0,
          factor: 1
        }, n.xFactor = 1, n.yFactor = 1, n.mat = void 0), (0, A.default)({}, e, {
          data: n
        })
      }, t.filterNonMediaOpIds = function (e, t) {
        return t.filter((function (t) {
          if (e.drawOpsOfPage.hasOwnProperty(t)) {
            var n = e.drawOpsOfPage[t];
            if ("audio" !== n.data.type && "video" !== n.data.type) return !0
          }
          return !1
        }))
      }, t.getElementPartOutOfContainer = function (e, t) {
        var n = e.sx,
          r = e.sy,
          A = n + e.w,
          a = r + e.h,
          i = t.getContainerWorldRect(),
          o = Math.max(0, i.centerX - i.width / 2 - n),
          s = Math.max(0, A - (i.centerX + i.width / 2)),
          u = Math.max(0, i.centerY - i.height / 2 - r),
          l = Math.max(0, a - (i.centerY + i.height / 2));
        return o > 0 || s > 0 || u > 0 || l > 0 ? {
          left: o,
          right: s,
          top: u,
          bottom: l
        } : null
      }),
      g = (t.updateDocClipPath = function (e, t, n) {
        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
        e = (0, o.getTransformedBoundary)(t.scale, {
          boundary: e
        });
        var A = f(e, t);
        A && n ? n.style.clipPath = "inset(" + A.top / r + "px " + A.right / r + "px " +
          A.bottom / r + "px " + A.left / r + "px)" : n && (n.style.clipPath = "none")
      }, t.getVecAngle = function (e, t, n) {
        var r = [e[0] - n[0], e[1] - n[1]],
          A = [t[0] - n[0], t[1] - n[1]],
          a = Math.sqrt(r[0] * r[0] + r[1] * r[1]),
          i = Math.sqrt(A[0] * A[0] + A[1] * A[1]),
          o = r[0] * A[1] - r[1] * A[0],
          s = Math.acos((r[0] * A[0] + r[1] * A[1]) / a / i);
        return o > 0 ? s : 2 * Math.PI - s
      }, t.getSortedDrawOpIds = function (e) {
        var t = (0, r.default)(e);
        return t = t.sort((function (t, n) {
          var r = "audio" === e[t].data.type || "video" === e[t].data.type,
            A = "audio" === e[n].data.type || "video" === e[n].data.type;
          if (r && e[t].data.layer) return e[t].data.layer > 0 ? 1 : -1;
          if (A && e[n].data.layer) return e[n].data.layer > 0 ? -1 : 1;
          var a = s.LayerOrder[e[t].data.type] || 0,
            i = s.LayerOrder[e[n].data.type] || 0;
          return a !== i ? a - i : (e[t].data.layer || e[t].time) - (e[n].data
            .layer || e[n].time)
        }))
      });
    t.getAuxSensitivity = function (e) {
      return e < 1 ? 1 : 1 + Math.log(e) / 1.38
    }, t.convertWinTxtToUnixTxt = function (e) {
      return (e = e.replace(/\r\n/g, "\n")).replace(/\r/g, "\n")
    }, t.extendCameraToSnap = function (e) {
      var t = e.app,
        n = e.boundary,
        r = e.pad,
        A = void 0 === r ? 20 : r,
        a = t.getCameraBound(),
        i = {
          sx: a.centerX - a.width / 2,
          sy: a.centerY - a.height / 2,
          ex: a.centerX + a.width / 2,
          ey: a.centerY + a.height / 2
        },
        o = !1;
      return n.sx < i.sx && (o = !0, i.sx = n.sx - A), n.sy < i.sy && (o = !0, i.sy = n
          .sy - A), n.sx + n.w > i.ex && (o = !0, i.ex = n.sx + n.w + A), n.sy + n.h > i
        .ey && (o = !0, i.ey = n.sy + n.h + A), {
          needAdjust: o,
          camera: {
            centerX: i.sx / 2 + i.ex / 2,
            centerY: i.sy / 2 + i.ey / 2,
            width: i.ex - i.sx,
            height: i.ey - i.sy
          }
        }
    }, t.padPt = function (e, t) {
      return e
    }, t.linkSelectOnly = function (e, t) {
      var n, r;
      return 1 === e.length && "link" === (null === (r = null === (n = t[e[0]]) ||
        void 0 === n ? void 0 : n.data) || void 0 === r ? void 0 : r.type)
    }
  }, function (e, t, n) {
    e.exports = {
      default: n(190),
      __esModule: !0
    }
  }, function (e, t, n) {
    e.exports = {
      default: n(194),
      __esModule: !0
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.DefaultFont = void 0;
    var r = o(n(7)),
      A = o(n(0)),
      a = o(n(1)),
      i = n(28);

    function o(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var s = t.DefaultFont = "Helvetica",
      u = new(function () {
        function e() {
          (0, A.default)(this, e), this.pointsPerBatch = 1, this.linkDef = {
            dash: i.IDashType.Solid,
            linkType: i.ILinkType.Segment,
            text: {
              stroke: "black",
              fontSize: 16,
              fontFamily: s
            },
            stroke: "black",
            lineWidth: 1,
            startArrow: i.IArrowType.None,
            endArrow: i.IArrowType.Arrow
          }, this.shapeDef = {
            lineWidth: 1,
            stroke: "rgb(0, 0, 0)",
            fill: void 0,
            text: {
              fontSize: 16,
              fontFamily: s,
              stroke: "rgb(0, 0, 0)",
              fill: void 0,
              textAlign: "center",
              verticalAlign: "middle"
            },
            dash: i.IDashType.Solid,
            cursorImgUrl: void 0
          }, this.penDef = {
            lineWidth: 5,
            stroke: "rgb(0, 0, 0)",
            cursorImgUrl: void 0
          }, this.textDef = {
            fontSize: 16,
            fontFamily: s,
            stroke: "rgb(0, 0, 0)",
            fill: void 0,
            textAlign: "left"
          }
        }
        return (0, a.default)(e, [{
          key: "init",
          value: function () {
            this.linkDef = {
              dash: i.IDashType.Solid,
              linkType: i.ILinkType.Segment,
              text: {
                stroke: "black",
                fontSize: 16,
                fontFamily: s
              },
              stroke: "black",
              lineWidth: 1,
              startArrow: i.IArrowType.None,
              endArrow: i.IArrowType.Arrow
            }, this.shapeDef = {
              lineWidth: 1,
              stroke: "rgb(0, 0, 0)",
              fill: void 0,
              text: {
                fontSize: 16,
                fontFamily: s,
                stroke: "rgb(0, 0, 0)",
                fill: void 0,
                textAlign: "center",
                verticalAlign: "middle"
              },
              dash: i.IDashType.Solid,
              cursorImgUrl: void 0
            }, this.penDef = {
              lineWidth: 5,
              stroke: "rgb(0, 0, 0)",
              cursorImgUrl: void 0
            }, this.textDef = {
              fontSize: 16,
              fontFamily: s,
              stroke: "rgb(0, 0, 0)",
              fill: void 0,
              textAlign: "left"
            }
          }
        }, {
          key: "updateDefAttr",
          value: function (e, t, n) {
            var A = this,
              a = function (e, t) {
                var n, a, i, o = void 0,
                  u = e.data,
                  l = "shape" === u.type || "link" === u.type,
                  c = ["pen", "pen-arrow", "line", "line-arrow"];
                "shape" === e.data.type ? o = {
                  lineWidth: u.lineWidth,
                  stroke: u.stroke,
                  fill: u.fill,
                  dash: u.dash,
                  text: u.text
                } : "text" === e.data.type ? o = {
                  fontSize: u.fontSize,
                  fontFamily: u.fontFamily,
                  stroke: u.stroke,
                  fill: u.fill,
                  textAlign: u.textAlign
                } : -1 !== c.indexOf(e.data.type) ? o = {
                  lineWidth: u.lineWidth,
                  stroke: u.stroke
                } : "link" === e.data.type && (o = {
                  dash: u.dash,
                  linkType: u.linkType,
                  text: {
                    stroke: (null === (n = u.text) || void 0 === n ?
                      void 0 : n.stroke) || "black",
                    fontSize: (null === (a = u.text) || void 0 === a ?
                      void 0 : a.fontSize) || 16,
                    fontFamily: (null === (i = u.text) || void 0 === i ?
                      void 0 : i.fontFamily) || s
                  },
                  stroke: u.stroke,
                  lineWidth: u.lineWidth,
                  startArrow: u.start.aType,
                  endArrow: u.end.aType
                });
                var d = !0,
                  p = !1,
                  h = void 0;
                try {
                  for (var f, g = (0, r.default)(t); !(d = (f = g.next())
                    .done); d = !0) {
                    var y = f.value; - 1 !== ["fontStroke", "fontFill",
                        "textAlign", "verticalAlign", "fontSize", "fontFamily"
                      ].indexOf(y.k) && l ? -1 !== ["fontStroke", "fontFill"]
                      .indexOf(y.k) ? o.text[y.k.slice(4).toLowerCase()] = y.v :
                      o.text[y.k] = y.v : "link" === e.data.type && "start" ===
                      y.k && y.v.hasOwnProperty("aType") ? o.startArrow = y.v
                      .aType : "link" === e.data.type && "end" === y.k && y.v
                      .hasOwnProperty("aType") ? o.endArrow = y.v.aType : -1 !==
                      ["fontStroke", "fontFill"].indexOf(y.k) ? o[y.k.slice(4)
                        .toLowerCase()] = y.v : o[y.k] = y.v
                  }
                } catch (e) {
                  p = !0, h = e
                } finally {
                  try {
                    !d && g.return && g.return()
                  } finally {
                    if (p) throw h
                  }
                }
                "shape" === e.data.type ? A.shapeDef = o : "text" === e.data
                  .type ? A.textDef = o : -1 !== c.indexOf(e.data.type) ? A
                  .penDef = o : "link" === e.data.type && (A.linkDef = o)
              },
              i = !0,
              o = !1,
              u = void 0;
            try {
              for (var l, c = (0, r.default)(t); !(i = (l = c.next())
                .done); i = !0) {
                a(l.value, n)
              }
            } catch (e) {
              o = !0, u = e
            } finally {
              try {
                !i && c.return && c.return()
              } finally {
                if (o) throw u
              }
            }
            this.notify(e)
          }
        }, {
          key: "notify",
          value: function (e) {
            e.emit("event:appState:change", "styleUpdate", this.getDefStyles())
          }
        }, {
          key: "getDefStyles",
          value: function () {
            return {
              pen: this.penDef,
              link: this.linkDef,
              shape: this.shapeDef,
              text: this.textDef
            }
          }
        }, {
          key: "updateFontFamily",
          value: function (e, t) {
            this.textDef.fontFamily = t, this.linkDef.text.fontFamily = t, this
              .shapeDef.text.fontFamily = t, this.notify(e)
          }
        }]), e
      }());
    t.default = u
  }, function (e, t) {
    e.exports = function (e) {
      return "object" == typeof e ? null !== e : "function" == typeof e
    }
  }, function (e, t, n) {
    e.exports = !n(38)((function () {
      return 7 != Object.defineProperty({}, "a", {
        get: function () {
          return 7
        }
      }).a
    }))
  }, function (e, t, n) {
    e.exports = n(273)
  }, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var r = a(n(2)),
      A = a(n(295));

    function a(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.default = function e(t, n, a) {
      null === t && (t = Function.prototype);
      var i = (0, A.default)(t, n);
      if (void 0 === i) {
        var o = (0, r.default)(t);
        return null === o ? void 0 : e(o, n, a)
      }
      if ("value" in i) return i.value;
      var s = i.get;
      return void 0 !== s ? s.call(a) : void 0
    }
  }, function (e, t, n) {
    var r = n(30),
      A = n(109),
      a = n(77),
      i = Object.defineProperty;
    t.f = n(24) ? Object.defineProperty : function (e, t, n) {
      if (r(e), t = a(t, !0), r(n), A) try {
        return i(e, t, n)
      } catch (e) {}
      if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
      return "value" in n && (e[t] = n.value), e
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.exLinkTypes = ["link", "audio"];
    var r = t.ILinkType = void 0;
    ! function (e) {
      e[e.Line = 0] = "Line", e[e.Curve = 1] = "Curve", e[e.Segment = 2] = "Segment"
    }(r || (t.ILinkType = r = {}));
    var A = t.IDashType = void 0;
    ! function (e) {
      e[e.Solid = 0] = "Solid", e[e.Dashed = 1] = "Dashed"
    }(A || (t.IDashType = A = {}));
    var a = t.IConnPointType = void 0;
    ! function (e) {
      e[e.Split = 0] = "Split", e[e.Anchor = 1] = "Anchor"
    }(a || (t.IConnPointType = a = {}));
    var i = t.IArrowType = void 0;
    ! function (e) {
      e[e.None = 0] = "None", e[e.Arrow = 1] = "Arrow"
    }(i || (t.IArrowType = i = {}));
    var o = t.DIRECTION = void 0;
    ! function (e) {
      e[e.RIGHT = 0] = "RIGHT", e[e.DOWN = 1] = "DOWN", e[e.UP = 2] = "UP", e[e.LEFT =
        3] = "LEFT"
    }(o || (t.DIRECTION = o = {}));
    var s = t.IEndPointType = void 0;
    ! function (e) {
      e[e.COORD = 0] = "COORD", e[e.ATTACH = 1] = "ATTACH", e[e.FLEX = 2] = "FLEX"
    }(s || (t.IEndPointType = s = {}))
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.rotateMat = function () {
      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [
          [1, 0, 0],
          [0, 1, 0],
          [0, 0, 1]
        ],
        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
          angle: 0,
          x: 0,
          y: 0
        },
        n = t.angle,
        a = t.x,
        i = t.y;
      if (0 === n) return e;
      var o = r(e, -a, -i);
      return o = A([
        [Math.cos(n), -Math.sin(n), 0],
        [Math.sin(n), Math.cos(n), 0],
        [0, 0, 1]
      ], o), o = r(o, a, i)
    };
    var r = t.panMat = function () {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [
            [1, 0, 0],
            [0, 1, 0],
            [0, 0, 1]
          ],
          t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
          n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
        return A([
          [1, 0, t],
          [0, 1, n],
          [0, 0, 1]
        ], e)
      },
      A = (t.scaleMat = function () {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [
            [1, 0, 0],
            [0, 1, 0],
            [0, 0, 1]
          ],
          t = arguments[1],
          n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
            coordinate: 0,
            factor: 1
          },
          a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {
            coordinate: 0,
            factor: 1
          },
          i = e;
        return i = r(i, -n.coordinate, -a.coordinate), t && (i = A([
          [Math.cos(t), Math.sin(t), 0],
          [-Math.sin(t), Math.cos(t), 0],
          [0, 0, 1]
        ], i)), i = A([
          [n.factor, 0, 0],
          [0, a.factor, 0],
          [0, 0, 1]
        ], i), t && (i = A([
          [Math.cos(t), -Math.sin(t), 0],
          [Math.sin(t), Math.cos(t), 0],
          [0, 0, 1]
        ], i)), i = r(i, n.coordinate, a.coordinate)
      }, t.matProd = function (e, t) {
        return [
          [e[0][0] * t[0][0] + e[0][1] * t[1][0] + e[0][2] * t[2][0], e[0][0] * t[0][
              1] + e[0][1] * t[1][1] + e[0][2] * t[2][1], e[0][0] * t[0][2] + e[0][
            1] * t[1][2] + e[0][2] * t[2][2]
          ],
          [e[1][0] * t[0][0] + e[1][1] * t[1][0] + e[1][2] * t[2][0], e[1][0] * t[0][
              1] + e[1][1] * t[1][1] + e[1][2] * t[2][1], e[1][0] * t[0][2] + e[1][
            1] * t[1][2] + e[1][2] * t[2][2]
          ],
          [e[2][0] * t[0][0] + e[2][1] * t[1][0] + e[2][2] * t[2][0], e[2][0] * t[0][
              1] + e[2][1] * t[1][1] + e[2][2] * t[2][1], e[2][0] * t[0][2] + e[2][
            1] * t[1][2] + e[2][2] * t[2][2]
          ]
        ]
      });
    t.getTransPoint = function (e) {
      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [
        [1, 0, 0],
        [0, 1, 0],
        [0, 0, 1]
      ];
      return [t[0][0] * e[0] + t[0][1] * e[1] + t[0][2], t[1][0] * e[0] + t[1][1] * e[
        1] + t[1][2]
      ]
    }
  }, function (e, t, n) {
    var r = n(23);
    e.exports = function (e) {
      if (!r(e)) throw TypeError(e + " is not an object!");
      return e
    }
  }, function (module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
        value: !0
      }), exports.removeToastIntercept = exports.interceptShowToast = exports.hideToast =
      exports.showToast = void 0;
    var _typeof2 = __webpack_require__(33),
      _typeof3 = _interopRequireDefault(_typeof2),
      _assign = __webpack_require__(5),
      _assign2 = _interopRequireDefault(_assign),
      _stringify = __webpack_require__(21),
      _stringify2 = _interopRequireDefault(_stringify),
      _classCallCheck2 = __webpack_require__(0),
      _classCallCheck3 = _interopRequireDefault(_classCallCheck2),
      _toastCtrl = __webpack_require__(218),
      _toastCtrl2 = _interopRequireDefault(_toastCtrl);

    function _interopRequireDefault(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var ToastClass = function ToastClass() {
      var _this = this;
      (0, _classCallCheck3.default)(this, ToastClass), this.show = function (e) {
        var t = e.msg,
          n = e.time,
          r = void 0 === n ? 2 : n,
          A = e.type,
          a = void 0 === A ? "info" : A,
          i = e.top,
          o = void 0 === i ? 30 : i,
          s = {
            msgType: e.msgType,
            args: e.args,
            msg: t.constructor === String ? t : (0, _stringify2.default)(t),
            time: r,
            type: a,
            top: o
          };
        if ("function" == typeof _this.interceptShowFn) {
          var u = _this.interceptShowFn((0, _assign2.default)({}, s));
          if (!u) return;
          "object" === (void 0 === u ? "undefined" : (0, _typeof3.default)(u)) && (s =
            u)
        }
        s && _toastCtrl2.default.show(s)
      }, this.hide = function () {
        if ("function" == typeof _this.interceptHideFn && !_this.interceptHideFn())
          return;
        _toastCtrl2.default.hide()
      }, this.interceptShow = function (fn) {
        if ("string" == typeof fn) try {
          fn = eval(fn)
        } catch (e) {
          return console.error(e), void console.error(
            "interceptShowToast如果参数为string，该string需要能够被eval解析: " + fn)
        }
        "function" != typeof fn ? console.error("interceptShowToast的参数必须为函数") : _this
          .interceptShowFn = fn
      }, this.interceptHide = function (e) {
        "function" != typeof e ? console.error("Toast.interceptHide的参数必须为函数") : _this
          .interceptHideFn = e
      }, this.removeIntercept = function () {
        _this.interceptShowFn = void 0, _this.interceptHideFn = void 0
      }
    };
    window.__newb__ = window.__newb__ || {}, window.__newb__.Toast || (window.__newb__
      .Toast = new ToastClass);
    var showToast = exports.showToast = window.__newb__.Toast.show,
      hideToast = exports.hideToast = window.__newb__.Toast.hide,
      interceptShowToast = exports.interceptShowToast = window.__newb__.Toast
      .interceptShow,
      removeToastIntercept = exports.removeToastIntercept = window.__newb__.Toast
      .removeIntercept
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.default = {
      SYNCHRONIZING: "SYNCHRONIZING",
      ON_CONNECTED: "ON_CONNECTED",
      ON_WILL_RECONNECT: "ON_WILL_RECONNECT",
      ON_DISCONNECTED: "ON_DISCONNECTED",
      NETWORK_INSTABLE: "NETWORK_INSTABLE",
      SYNC_FAIL: "SYNC_FAIL",
      DELAY_DISPATCH_WHILE_NETWORK_INSTABLE: "DELAY_DISPATCH_WHILE_NETWORK_INSTABLE",
      START_BROADCAST: "START_BROADCAST",
      STOP_BROADCAST: "STOP_BROADCAST",
      SWITCH_TO_FOLLOWER: "SWITCH_TO_FOLLOWER",
      SWITCH_TO_FREE_OBSERVER: "SWITCH_TO_FREE_OBSERVER",
      NOT_ALLOWED_REPLACE_ACTIVE_BROADCASTER: "NOT_ALLOWED_REPLACE_ACTIVE_BROADCASTER",
      NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER: "NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER",
      RECEIVE_STOP_BROADCAST: "RECEIVE_STOP_BROADCAST",
      RECEIVE_START_BROADCAST: "RECEIVE_START_BROADCAST",
      CURRENT_USER_IS_BROADCASTER: "CURRENT_USER_IS_BROADCASTER",
      CURRENT_USER_IS_FOLLOWER: "CURRENT_USER_IS_FOLLOWER",
      CURRENT_USER_IS_FREE_OBSERVER: "CURRENT_USER_IS_FREE_OBSERVER",
      FILE_IS_EMPTY: "FILE_IS_EMPTY",
      FILE_SIZE_EXCEED_LIMIT: "FILE_SIZE_EXCEED_LIMIT",
      FILE_ACCEPTED_TYPE_LIMIT: "FILE_ACCEPTED_TYPE_LIMIT",
      FILE_UPLOAD_FAIL: "FILE_UPLOAD_FAIL",
      FILE_IS_UPLOADING: "FILE_IS_UPLOADING",
      FILE_TRANSCODE_SUCCEED: "FILE_TRANSCODE_SUCCEED",
      FILE_TRANSCODE_FAIL: "FILE_TRANSCODE_FAIL",
      VIDEO_UPLOAD_FAIL: "VIDEO_UPLOAD_FAIL",
      AUDIO_UPLOAD_FAIL: "AUDIO_UPLOAD_FAIL",
      VIDEO_TYPE_NOT_ALLOWED: "VIDEO_TYPE_NOT_ALLOWED",
      AUDIO_TYPE_NOT_ALLOWED: "AUDIO_TYPE_NOT_ALLOWED",
      PIC_UPLOAD_FAIL: "PIC_UPLOAD_FAIL",
      LOG_FILE_UPLOAD_THROTTLE: "LOG_FILE_UPLOAD_THROTTLE",
      LOG_FILE_IS_UPLOADING: "LOG_FILE_IS_UPLOADING",
      LOG_FILE_UPLOAD_SUCCEED: "LOG_FILE_UPLOAD_SUCCEED",
      LOG_FILE_UPLOAD_FAIL: "LOG_FILE_UPLOAD_FAIL",
      ONE_MEDIA_LIMIT: "ONE_MEDIA_LIMIT",
      IOS_NOT_SUPPORT_TEXT: "IOS_NOT_SUPPORT_TEXT",
      PASTE_IMG_UPLOAD_ERROR: "PASTE_IMG_UPLOAD_ERROR",
      PASTE_IMG_UPLOAD_WAIT: "PASTE_IMG_UPLOAD_WAIT",
      TXT_EXCEED_MAX: "TXT_EXCEED_MAX",
      EXPORT_IMG_ERROR: "EXPORT_IMG_ERROR"
    }
  }, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var r = i(n(169)),
      A = i(n(131)),
      a = "function" == typeof A.default && "symbol" == typeof r.default ? function (e) {
        return typeof e
      } : function (e) {
        return e && "function" == typeof A.default && e.constructor === A.default && e !==
          A.default.prototype ? "symbol" : typeof e
      };

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.default = "function" == typeof A.default && "symbol" === a(r.default) ? function (
    e) {
      return void 0 === e ? "undefined" : a(e)
    } : function (e) {
      return e && "function" == typeof A.default && e.constructor === A.default && e !==
        A.default.prototype ? "symbol" : void 0 === e ? "undefined" : a(e)
    }
  }, function (e, t, n) {
    var r = n(54);
    e.exports = function (e, t, n) {
      if (r(e), void 0 === t) return e;
      switch (n) {
        case 1:
          return function (n) {
            return e.call(t, n)
          };
        case 2:
          return function (n, r) {
            return e.call(t, n, r)
          };
        case 3:
          return function (n, r, A) {
            return e.call(t, n, r, A)
          }
      }
      return function () {
        return e.apply(t, arguments)
      }
    }
  }, , function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var r = a(n(275)),
      A = a(n(7));

    function a(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.default = function (e, t) {
      if (Array.isArray(e)) return e;
      if ((0, r.default)(Object(e))) return function (e, t) {
        var n = [],
          r = !0,
          a = !1,
          i = void 0;
        try {
          for (var o, s = (0, A.default)(e); !(r = (o = s.next()).done) && (n.push(o
              .value), !t || n.length !== t); r = !0);
        } catch (e) {
          a = !0, i = e
        } finally {
          try {
            !r && s.return && s.return()
          } finally {
            if (a) throw i
          }
        }
        return n
      }(e, t);
      throw new TypeError("Invalid attempt to destructure non-iterable instance")
    }
  }, function (e, t, n) {
    var r = n(27),
      A = n(55);
    e.exports = n(24) ? function (e, t, n) {
      return r.f(e, t, A(1, n))
    } : function (e, t, n) {
      return e[t] = n, e
    }
  }, function (e, t) {
    e.exports = function (e) {
      try {
        return !!e()
      } catch (e) {
        return !0
      }
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.getShapeDataFromExist = t.mergeIntervals = t.getDistDivideByDir = t
      .isConnAllHV = t.getConnH = t.getDirAftRotate = t.getLinkNewTextPer = t
      .bezierMinMax = t.isCurveSegIntersect = t.getLinkBoundary = t.getCurveLinkBoundary =
      t.getNewShape = t.deepCopySnapBeforeMove = t.getPosAftMove = t.findEndPoint = t
      .findAttachPer = t.projOnSeg = t.pDist = t.getDirInShape = t.getPosInShape = t
      .getInitDir = t.selectShapeForLink = t.moveNonSegConnPoint = t.getControlPoints = t
      .getEndPointInfo = t.isSegInRect = t.isPInsideRect = t.getExtP = t.isPExtentFrom = t
      .pointAtExtendDir = t.getLinkEndPos = void 0;
    var r = v(n(16)),
      A = v(n(33)),
      a = v(n(36)),
      i = v(n(7)),
      o = v(n(5)),
      s = v(n(42)),
      u = n(15),
      l = n(29),
      c = n(136),
      d = v(n(22)),
      p = n(28),
      h = v(n(139)),
      f = n(66),
      g = n(19),
      y = n(72);

    function v(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var m = new s.default,
      w = (t.getLinkEndPos = function (e, t, n, r) {
        if (t.type === p.IEndPointType.COORD) return {
          x: t.x,
          y: t.y,
          dir: t.dir
        };
        var A = n.localOps[t.id] || n.drawOpsOfPage[t.id];
        return !A && r && (A = null == r ? void 0 : r.drawOpQueue[t.id]), A ? (0, o
          .default)((0, o.default)({}, b(e, A.data, t.per)), {
          dir: t.dir
        }) : (m.has(t.id) || (e.logger.error("link attached element id: " + t.id +
          " not found"), m.add(t.id), e.dataReportUtil("v3_run_error", {
          error: {
            code: y.DataReportRunError.Link_Id_Miss,
            message: "link attached element id: " + t.id + " not found"
          }
        })), null)
      }, t.pointAtExtendDir = function (e, t, n, r) {
        var A = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
        switch (n) {
          case p.DIRECTION.UP:
            return t.y <= e.y && (!A || Math.abs(e.x - t.x) < f.POINT_EXTEND_THRES / r);
          case p.DIRECTION.DOWN:
            return t.y >= e.y && (!A || Math.abs(e.x - t.x) < f.POINT_EXTEND_THRES / r);
          case p.DIRECTION.RIGHT:
            return t.x >= e.x && (!A || Math.abs(e.y - t.y) < f.POINT_EXTEND_THRES / r);
          case p.DIRECTION.LEFT:
            return t.x <= e.x && (!A || Math.abs(e.y - t.y) < f.POINT_EXTEND_THRES / r)
        }
        return !0
      }, t.isPExtentFrom = function (e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
        return e.dir === p.DIRECTION.RIGHT ? t.x >= e.x - n : e.dir === p.DIRECTION
          .LEFT ? t.x <= e.x + n : e.dir === p.DIRECTION.UP ? t.y <= e.y + n : e.dir ===
          p.DIRECTION.DOWN && t.y >= e.y - n
      }, t.getExtP = function (e, t, n) {
        if (e.dir === p.DIRECTION.RIGHT) return {
          x: Math.max(e.x + t, n.sx + n.w),
          y: e.y,
          dir: e.dir
        };
        if (e.dir === p.DIRECTION.LEFT) return {
          x: Math.min(e.x - t, n.sx),
          y: e.y,
          dir: e.dir
        };
        if (e.dir === p.DIRECTION.UP) return {
          x: e.x,
          y: Math.min(e.y - t, n.sy),
          dir: e.dir
        };
        if (e.dir === p.DIRECTION.DOWN) return {
          x: e.x,
          y: Math.max(e.y + t, n.sy + n.h),
          dir: e.dir
        };
        throw new Error("未知的方向: " + e.dir)
      }, t.isPInsideRect = function (e, t) {
        return !B(e, t)
      }, t.isSegInRect = function (e, t, n) {
        var r = B(e, n),
          A = B(t, n);
        return !r || !A || !(r & A) && (I(e, t, [n.sx, n.sy], [n.sx + n.w, n.sy]) || I(
          e, t, [n.sx + n.w, n.sy], [n.sx + n.w, n.sy + n.h]) || I(e, t, [n.sx, n
          .sy + n.h
        ], [n.sx + n.w, n.sy + n.h]) || I(e, t, [n.sx, n.sy], [n.sx, n.sy + n.h]))
      }),
      B = function (e, t) {
        var n = 0;
        return e[0] < t.sx ? n |= 1 : e[0] > t.sx + t.w && (n |= 2), e[1] > t.sy + t.h ?
          n |= 4 : e[1] < t.sy && (n |= 8), n
      },
      I = function (e, t, n, r) {
        var A = C(e, t, n),
          a = C(e, t, r),
          i = C(n, r, e),
          o = C(n, r, t);
        return A !== a && i !== o || (!(0 !== A || !M(e, n, t)) || (!(0 !== a || !M(e, n,
          r)) || (!(0 !== i || !M(n, e, r)) || !(0 !== o || !M(n, e, r)))))
      },
      M = function (e, t, n) {
        return t[0] <= Math.max(e[0], n[0]) && t[0] >= Math.min(e[0], n[0]) && t[1] <=
          Math.max(e[1], n[1]) && t[1] >= Math.min(e[1], n[1])
      },
      C = function (e, t, n) {
        var r = (t[1] - e[1]) * (n[0] - t[0]) - (t[0] - e[0]) * (n[1] - t[1]);
        return 0 === r ? 0 : r > 0 ? 1 : 2
      },
      b = t.getEndPointInfo = function (e, t, n) {
        n -= Math.floor(n);
        var r = T(e, t.shape, n, (0, u.getTransformedSize)(t)),
          A = t.boundary,
          a = [A.sx + A.w * r[0], A.sy + A.h * r[1]],
          i = (0, l.getTransPoint)(a, t.mat);
        return {
          x: i[0],
          y: i[1]
        }
      },
      x = (t.getControlPoints = function (e, t, n, r, A, a, i) {
        var o = Math.sqrt(Math.pow(n - e, 2) + Math.pow(r - t, 2)),
          s = i * o / (o + Math.sqrt(Math.pow(A - n, 2) + Math.pow(a - r, 2))),
          u = i - s,
          l = n + s * (e - A),
          c = r + s * (t - a),
          d = n - u * (e - A),
          p = r - u * (t - a);
        return isNaN(l) || isNaN(c) || isNaN(d) || isNaN(p) ? [
          [e, t],
          [A, a]
        ] : [
          [l, c],
          [d, p]
        ]
      }, t.moveNonSegConnPoint = function (e) {
        var t = e.startPos,
          n = e.endPos,
          r = e.connPs,
          A = e.index,
          a = e.x,
          i = e.y,
          s = ((r = r.map((function (e) {
            return (0, o.default)({}, e)
          })))[A], r.slice());
        if (r[A].type === p.IConnPointType.Split) {
          s.splice(A, 1);
          var u = r[A - 1] || t,
            l = r[A + 1] || n;
          s.splice(A, 0, {
            type: p.IConnPointType.Split,
            x: a / 2 + u.x / 2,
            y: i / 2 + u.y / 2
          }, {
            type: p.IConnPointType.Anchor,
            x: a,
            y: i
          }, {
            type: p.IConnPointType.Split,
            x: a / 2 + l.x / 2,
            y: i / 2 + l.y / 2
          })
        } else {
          var c = r[A - 2] || t,
            d = r[A + 2] || n;
          s[A - 1] = (0, o.default)((0, o.default)({}, s[A - 1]), {
            x: a / 2 + c.x / 2,
            y: i / 2 + c.y / 2
          }), s[A] = (0, o.default)((0, o.default)({}, s[A]), {
            x: a,
            y: i
          }), s[A + 1] = (0, o.default)((0, o.default)({}, s[A + 1]), {
            x: a / 2 + d.x / 2,
            y: i / 2 + d.y / 2
          })
        }
        return {
          connPs: s,
          start: t,
          end: n
        }
      }, t.selectShapeForLink = function (e) {
        var t = e.linkData,
          n = e.linkId,
          r = e.app,
          A = e.op,
          a = e.where,
          i = "start" === a ? t.start : t.end;
        if (i.type === p.IEndPointType.COORD) {
          var o = r.camera.convertWorldPointInContainer(i.x, i.y);
          r.shapeSelector.showPopup({
            x: o[0],
            y: o[1],
            onSelect: function (e) {
              var i = "start" === a ? t.start : t.end,
                o = x(i.dir),
                s = _(r, {
                  shapeType: e,
                  link: t,
                  where: a,
                  drawOpQueue: A.drawOpsOfPage,
                  scale: r.scale,
                  per: o
                }),
                u = A.dispatch(s);
              A.dispatch(A.opsManager.modifyOp.getSnapshot([n], [{
                k: a,
                v: {
                  type: p.IEndPointType.ATTACH,
                  id: u,
                  per: o,
                  dir: i.dir,
                  aType: i.aType,
                  reset: !0
                }
              }], !1));
              var l = (0, g.extendCameraToSnap)({
                  app: r,
                  boundary: s.boundary
                }),
                c = l.needAdjust,
                d = l.camera;
              c && r.setCameraBound(d, !0), "text" === e && A.opsManager.textOp
                .enterEdit({
                  snap: {
                    opId: u,
                    data: s
                  }
                })
            }
          })
        }
      }, function (e) {
        switch (e) {
          case p.DIRECTION.LEFT:
            return 7 / 8;
          case p.DIRECTION.RIGHT:
            return 3 / 8;
          case p.DIRECTION.UP:
            return 1 / 8;
          default:
            return 5 / 8
        }
      }),
      T = (t.getInitDir = function (e, t) {
        var n = t.x - e.x,
          r = t.y - e.y;
        if (0 === r) return n >= 0 ? p.DIRECTION.LEFT : p.DIRECTION.RIGHT;
        var A = n / r;
        return Math.abs(A) > 1 ? n >= 0 ? p.DIRECTION.LEFT : p.DIRECTION.RIGHT : r >=
          0 ? p.DIRECTION.UP : p.DIRECTION.DOWN
      }, t.getPosInShape = function (e, t, n, r) {
        var A = e.ShapeDesc[t],
          a = A ? A.path : e.ShapeDesc.rect.path;
        a = "function" == typeof a ? a(r.w, r.h) : a, n -= Math.floor(n);
        var o = !0,
          s = !1,
          u = void 0;
        try {
          for (var l, c = (0, i.default)(a); !(o = (l = c.next()).done); o = !0) {
            var d = l.value,
              p = n <= d.per[1] && n >= d.per[0];
            if (d.per[0] < 0 && (p = p || n >= d.per[0] + 1), p) {
              var h = void 0;
              if (h = n <= d.per[1] ? (n - d.per[0]) / (d.per[1] - d.per[0]) : (n - 1 -
                  d.per[0]) / (d.per[1] - d.per[0]), "l" === d.t) {
                var f = d.pos;
                return [f[0][0] * (1 - h) + f[1][0] * h, f[0][1] * (1 - h) + f[1][1] *
                  h]
              }
              if ("b" === d.t) {
                var g = d.pos;
                if (4 === g.length) return [g[0][0] * (1 - h) * (1 - h) * (1 - h) + 3 *
                  g[1][0] * (1 - h) * (1 - h) * h + 3 * g[2][0] * (1 - h) * h * h +
                  g[3][0] * h * h * h, g[0][1] * (1 - h) * (1 - h) * (1 - h) + 3 *
                  g[1][1] * (1 - h) * (1 - h) * h + 3 * g[2][1] * (1 - h) * h * h +
                  g[3][1] * h * h * h
                ];
                if (3 === g.length) return [g[0][0] * (1 - h) * (1 - h) + 2 * g[1][0] *
                  (1 - h) * h + g[2][0] * h * h, g[0][1] * (1 - h) * (1 - h) + 2 *
                  g[1][1] * (1 - h) * h + g[2][1] * h * h
                ]
              }
            }
          }
        } catch (e) {
          s = !0, u = e
        } finally {
          try {
            !o && c.return && c.return()
          } finally {
            if (s) throw u
          }
        }
        return [0, 0]
      }),
      k = t.getDirInShape = function (e, t, n) {
        var r = e.ShapeDesc[t],
          A = r ? r.dir : e.ShapeDesc.rect.dir;
        n -= Math.floor(n);
        var a = !0,
          o = !1,
          s = void 0;
        try {
          for (var u, l = (0, i.default)(A); !(a = (u = l.next()).done); a = !0) {
            var c = u.value,
              d = n <= c.per[1] && n >= c.per[0];
            if (c.per[0] < 0 && (d = d || n >= c.per[0] + 1), d) return c.angle
          }
        } catch (e) {
          o = !0, s = e
        } finally {
          try {
            !a && l.return && l.return()
          } finally {
            if (o) throw s
          }
        }
        return p.DIRECTION.RIGHT
      },
      E = t.pDist = function (e, t, n) {
        var r, A, i = (0, a.default)(e, 2),
          o = i[0],
          s = i[1],
          u = (0, a.default)(t, 2),
          l = u[0],
          c = u[1],
          d = (0, a.default)(n, 2),
          p = d[0],
          h = d[1],
          f = p - l,
          g = h - c,
          y = f * f + g * g,
          v = -1;
        0 != y && (v = ((o - l) * f + (s - c) * g) / y), v < 0 ? (r = l, A = c) : v > 1 ?
          (r = p, A = h) : (r = l + v * f, A = c + v * g);
        var m = o - r,
          w = s - A;
        return Math.sqrt(m * m + w * w)
      },
      N = t.projOnSeg = function (e, t, n, r) {
        var A = [n[0] - t[0], n[1] - t[1]],
          a = [e[0] - t[0], e[1] - t[1]],
          i = (A[0] * a[0] + A[1] * a[1]) / (A[0] * A[0] + A[1] * A[1]);
        return r ? Math.min(Math.max(i, 0), 1) : i
      },
      O = t.findAttachPer = function (e, t) {
        var n = t.scale,
          r = t.data,
          A = t.mx,
          a = t.my,
          o = e.ShapeDesc[r.shape] || e.ShapeDesc.rect,
          s = (0, u.getTransformedSize)(r),
          c = "function" == typeof o.path ? o.path(s.w, s.h) : o.path,
          d = r.boundary,
          p = f.ATTCH_THRES / n,
          h = -1,
          g = !0,
          y = !1,
          v = void 0;
        try {
          for (var m, w = (0, i.default)(c); !(g = (m = w.next()).done); g = !0) {
            var B = m.value,
              I = void 0,
              M = void 0,
              C = void 0;
            if ("l" === B.t) {
              if (M = (0, l.getTransPoint)([d.sx + d.w * B.pos[0][0], d.sy + d.h * B.pos[
                  0][1]], r.mat), C = (0, l.getTransPoint)([d.sx + d.w * B.pos[1][0], d
                  .sy + d.h * B.pos[1][1]
                ], r.mat), (I = E([A, a], M, C)) < p) {
                p = I;
                var b = N([A, a], M, C, !0);
                (h = B.per[0] + b * (B.per[1] - B.per[0])) < 1 && (h += 1)
              }
            } else {
              var x = B.pos[B.pos.length - 1];
              if (M = (0, l.getTransPoint)([d.sx + d.w * B.pos[0][0], d.sy + d.h * B.pos[
                  0][1]], r.mat), C = (0, l.getTransPoint)([d.sx + d.w * x[0], d.sy + d
                  .h * x[1]
                ], r.mat), (I = E([A, a], M, C)) < 10 * f.ATTCH_THRES / n)
                for (var T = B.pos[0], k = 1; k <= 10; k++) {
                  var O = k / 10,
                    P = [B.pos[0][0] * (1 - O) * (1 - O) * (1 - O) + 3 * B.pos[1][0] * (
                        1 - O) * (1 - O) * O + 3 * B.pos[2][0] * (1 - O) * O * O + x[0] *
                      O * O * O, B.pos[0][1] * (1 - O) * (1 - O) * (1 - O) + 3 * B.pos[1][
                        1
                      ] * (1 - O) * (1 - O) * O + 3 * B.pos[2][1] * (1 - O) * O * O + x[
                      1] * O * O * O
                    ];
                  if (M = (0, l.getTransPoint)([d.sx + d.w * T[0], d.sy + d.h * T[1]], r
                      .mat), C = (0, l.getTransPoint)([d.sx + d.w * P[0], d.sy + d.h * P[
                      1]], r.mat), I = E([A, a], M, C), T = P, I < p) {
                    p = I;
                    var _ = N([A, a], M, C, !0);
                    (h = B.per[0] + (B.per[1] - B.per[0]) * ((k - 1) / 10 + _ / 10)) < 0
                      && (h += 1)
                  }
                }
            }
          }
        } catch (e) {
          y = !0, v = e
        } finally {
          try {
            !g && w.return && w.return()
          } finally {
            if (y) throw v
          }
        }
        return h > 0 ? h : void 0
      },
      P = (t.findEndPoint = function (e, t) {
        var n = t.scale,
          r = t.drawOps,
          A = t.mx,
          a = t.my;
        for (var i in r) {
          var o = r[i],
            s = o.data;
          if (-1 === p.exLinkTypes.indexOf(o.data.type)) {
            var u = O(e, {
              scale: n,
              data: o.data,
              mx: A,
              my: a
            });
            if (void 0 !== u) {
              u = P(u);
              var l = k(e, o.data.shape, u);
              return {
                opId: i,
                per: u,
                dir: S(l, s.rAngle, s.xFactor, s.yFactor)
              }
            }
          }
        }
      }, function (e) {
        var t = (8 * e - 1) / 2;
        return Math.abs(t - Math.round(t)) < .025 ? (2 * Math.round(t) + 1) / 8 : e
      }),
      _ = (t.getPosAftMove = function (e, t) {
        if ("move" === t.type) return [e[0] + t.ep[0] - t.sp[0], e[1] + t.ep[1] - t.sp[
          1]];
        if ("scale" === t.type) {
          var n = t.scaleInfo,
            r = (0, l.scaleMat)(void 0, 0, n.scaleX, n.scaleY);
          return (0, l.getTransPoint)(e, r)
        }
        var A = t.rotate,
          a = (0, l.rotateMat)(void 0, A);
        return (0, l.getTransPoint)(e, a)
      }, t.deepCopySnapBeforeMove = function (e, t) {
        var n = {},
          r = !0,
          A = !1,
          a = void 0;
        try {
          for (var o, s = (0, i.default)(e); !(r = (o = s.next()).done); r = !0) {
            var u = o.value;
            n[u] = (0, h.default)(t[u])
          }
        } catch (e) {
          A = !0, a = e
        } finally {
          try {
            !r && s.return && s.return()
          } finally {
            if (A) throw a
          }
        }
        var l = [];
        for (var c in t)
          if ("link" === t[c].data.type) {
            var d = t[c].data.start.id,
              p = t[c].data.end.id; - 1 === e.indexOf(c) && -1 === e.indexOf(d) && -
              1 === e.indexOf(p) || l.push(c)
          } var f = !0,
          g = !1,
          y = void 0;
        try {
          for (var v, m = (0, i.default)(l); !(f = (v = m.next()).done); f = !0) {
            var w = v.value,
              B = t[w].data,
              I = B.start.id,
              M = B.end.id;
            I && !t[I] || M && !t[M] ? delete n[w] : (n.hasOwnProperty(w) || (n[w] = (0,
              h.default)(t[w])), I && !n.hasOwnProperty(I) && (n[I] = (0, h.default)
              (t[I])), M && !n.hasOwnProperty(M) && (n[M] = (0, h.default)(t[M])))
          }
        } catch (e) {
          g = !0, y = e
        } finally {
          try {
            !f && m.return && m.return()
          } finally {
            if (g) throw y
          }
        }
        return n
      }, t.getNewShape = function (e, t) {
        var n = "start" === t.where ? t.link.start : t.link.end,
          r = "start" === t.where ? t.link.end : t.link.start,
          a = r.id ? t.drawOpQueue[r.id] : void 0,
          i = a && "text" === a.data.type ? a.data : a && "object" === (0, A.default)(a
            .data.text) && null !== (null == a ? void 0 : a.data.text) ? a.data.text :
          void 0,
          o = void 0,
          s = void 0;
        if (a && "text" !== t.shapeType) {
          var l = (0, u.getTransformedSize)(a.data);
          o = l.w, s = l.h
        } else if ("text" === t.shapeType) {
          var p = e.opsManager.textOp.getTextSize({
            text: c.DefaultText,
            fontSize: i ? i.fontSize : d.default.textDef.fontSize,
            fontFamily: i ? i.fontFamily : d.default.textDef.fontFamily
          });
          o = p.w, s = p.h
        } else o = 100, s = 100;
        var h = T(e, t.shapeType, t.per, {
            w: o,
            h: s
          }),
          f = n.x - o * h[0],
          g = n.y - s * h[1];
        return U({
          sx: f,
          sy: g,
          w: o,
          h: s,
          shapeType: t.shapeType,
          another: null == a ? void 0 : a.data
        })
      }),
      D = (t.getCurveLinkBoundary = function (e) {
        var t = e.points,
          n = e.textBoundaries,
          A = [].concat((0, r.default)(e.startArrow || []), (0, r.default)(e.endArrow ||
            [])),
          a = Math.min(t[0][0], t[1][0]),
          o = Math.min(t[0][1], t[1][1]),
          s = Math.max(t[0][0], t[1][0]),
          u = Math.max(t[0][1], t[1][1]),
          l = !0,
          c = !1,
          d = void 0;
        try {
          for (var p, h = (0, i.default)(A); !(l = (p = h.next()).done); l = !0) {
            var f = p.value;
            a = Math.min(a, f[0]), s = Math.max(s, f[0]), o = Math.min(o, f[1]), u =
              Math.max(u, f[1])
          }
        } catch (e) {
          c = !0, d = e
        } finally {
          try {
            !l && h.return && h.return()
          } finally {
            if (c) throw d
          }
        }
        if ((t.length - 1) % 3 == 0)
          for (var g = 0; g < t.length - 3; g += 3) {
            var y = Q(t[g], t[g + 1], t[g + 2], t[g + 3]);
            a = Math.min(a, y.min.x), o = Math.min(o, y.min.y), s = Math.max(s, y.max
              .x), u = Math.max(u, y.max.y)
          }
        var v = !0,
          m = !1,
          w = void 0;
        try {
          for (var B, I = (0, i.default)(n); !(v = (B = I.next()).done); v = !0) {
            var M = B.value;
            a = Math.min(a, M.sx), s = Math.max(s, M.sx + M.w), o = Math.min(o, M.sy),
              u = Math.max(u, M.sy + M.h)
          }
        } catch (e) {
          m = !0, w = e
        } finally {
          try {
            !v && I.return && I.return()
          } finally {
            if (m) throw w
          }
        }
        return {
          sx: a,
          sy: o,
          w: Math.max(s - a, 1),
          h: Math.max(u - o, 1)
        }
      }, t.getLinkBoundary = function (e) {
        var t = e.start,
          n = e.end,
          A = e.connPs,
          a = e.textBoundaries,
          o = [].concat((0, r.default)(e.startArrow || []), (0, r.default)(e.endArrow ||
            [])),
          s = t.x,
          u = t.y,
          l = t.x,
          c = t.y,
          d = !0,
          p = !1,
          h = void 0;
        try {
          for (var f, g = (0, i.default)(A); !(d = (f = g.next()).done); d = !0) {
            var y = f.value;
            s = Math.min(s, y.x), l = Math.max(l, y.x), u = Math.min(u, y.y), c = Math
              .max(c, y.y)
          }
        } catch (e) {
          p = !0, h = e
        } finally {
          try {
            !d && g.return && g.return()
          } finally {
            if (p) throw h
          }
        }
        var v = !0,
          m = !1,
          w = void 0;
        try {
          for (var B, I = (0, i.default)(o); !(v = (B = I.next()).done); v = !0) {
            var M = B.value;
            s = Math.min(s, M[0]), l = Math.max(l, M[0]), u = Math.min(u, M[1]), c =
              Math.max(c, M[1])
          }
        } catch (e) {
          m = !0, w = e
        } finally {
          try {
            !v && I.return && I.return()
          } finally {
            if (m) throw w
          }
        }
        var C = !0,
          b = !1,
          x = void 0;
        try {
          for (var T, k = (0, i.default)(a); !(C = (T = k.next()).done); C = !0) {
            var E = T.value;
            s = Math.min(s, E.sx), l = Math.max(l, E.sx + E.w), u = Math.min(u, E.sy),
              c = Math.max(c, E.sy + E.h)
          }
        } catch (e) {
          b = !0, x = e
        } finally {
          try {
            !C && k.return && k.return()
          } finally {
            if (b) throw x
          }
        }
        return s = Math.min(s, n.x), l = Math.max(l, n.x), u = Math.min(u, n.y), c =
          Math.max(c, n.y), {
            sx: s,
            sy: u,
            w: Math.max(l - s, 1),
            h: Math.max(c - u, 1)
          }
      }, t.isCurveSegIntersect = function (e) {
        var t = e.curve,
          n = e.seg,
          A = D.apply(void 0, (0, r.default)(e.curve));
        if (w(n[0], n[1], {
            sx: A.min.x,
            sy: A.min.y,
            w: A.max.x - A.min.x,
            h: A.max.y - A.min.y
          })) {
          for (var a = t[0], i = 1; i <= 20; i++) {
            var o = i / 20,
              s = [t[0][0] * (1 - o) * (1 - o) * (1 - o) + 3 * t[1][0] * o * (1 - o) * (
                  1 - o) + 3 * t[2][0] * o * o * (1 - o) + t[3][0] * o * o * o, t[0][
                1] * (1 - o) * (1 - o) * (1 - o) + 3 * t[1][1] * o * (1 - o) * (1 - o) +
                3 * t[2][1] * o * o * (1 - o) + t[3][1] * o * o * o
              ];
            if (I(a, s, n[0], n[1])) return !0;
            a = s
          }
          return !1
        }
        return !1
      }, function (e, t, n, r) {
        return {
          min: {
            x: Math.min(e[0], t[0], n[0], r[0]),
            y: Math.min(e[1], t[1], n[1], r[1])
          },
          max: {
            x: Math.max(e[0], t[0], n[0], r[0]),
            y: Math.max(e[1], t[1], n[1], r[1])
          }
        }
      }),
      Q = t.bezierMinMax = function (e, t, n, r) {
        for (var A = [], a = [], i = [], o = void 0, s = void 0, u = void 0, l = void 0,
            c = void 0, d = void 0, p = void 0, h = void 0, f = 0; f < 2; ++f)
          if (0 == f ? (s = 6 * e[0] - 12 * t[0] + 6 * n[0], o = -3 * e[0] + 9 * t[0] -
              9 * n[0] + 3 * r[0], u = 3 * t[0] - 3 * e[0]) : (s = 6 * e[1] - 12 * t[1] +
              6 * n[1], o = -3 * e[1] + 9 * t[1] - 9 * n[1] + 3 * r[1], u = 3 * t[1] - 3 *
              e[1]), Math.abs(o) < 1e-12) {
            if (Math.abs(s) < 1e-12) continue;
            0 < (l = -u / s) && l < 1 && A.push(l)
          } else(p = s * s - 4 * u * o) < 0 ? Math.abs(p) < 1e-12 && 0 < (l = -s / (2 *
            o)) && l < 1 && A.push(l) : (0 < (c = (-s + (h = Math.sqrt(p))) / (2 *
            o)) && c < 1 && A.push(c), 0 < (d = (-s - h) / (2 * o)) && d < 1 && A.push(
              d));
        for (var g, y = A.length; y--;) g = 1 - (l = A[y]), a[y] = g * g * g * e[0] + 3 *
          g * g * l * t[0] + 3 * g * l * l * n[0] + l * l * l * r[0], i[y] = g * g * g *
          e[1] + 3 * g * g * l * t[1] + 3 * g * l * l * n[1] + l * l * l * r[1];
        return a.push(e[0], r[0]), i.push(e[1], r[1]), {
          min: {
            x: Math.min.apply(0, a),
            y: Math.min.apply(0, i)
          },
          max: {
            x: Math.max.apply(0, a),
            y: Math.max.apply(0, i)
          }
        }
      },
      S = (t.getLinkNewTextPer = function (e) {
        for (var t = 0, n = 0, r = 1, A = 0, a = e.map((function (e) {
            return e.per
          })).sort(), i = 0; i <= a.length; i++) {
          var o = i < a.length ? a[i] : 1;
          t <= o - A && (t = o - A, n = A, r = o), A = o
        }
        return n / 2 + r / 2
      }, t.getDirAftRotate = function (e, t, n, r) {
        r = void 0 === r ? 1 : r, (n = void 0 === n ? 1 : n) < 0 && (e === p.DIRECTION
          .LEFT || e === p.DIRECTION.RIGHT) && (e = 3 - e), r < 0 && (e === p
          .DIRECTION.UP || e === p.DIRECTION.DOWN) && (e = 3 - e);
        var A = 0;
        switch (t = t || 0, e) {
          case p.DIRECTION.UP:
            A = Math.PI / 2 * 3;
            break;
          case p.DIRECTION.DOWN:
            A = Math.PI / 2;
            break;
          case p.DIRECTION.LEFT:
            A = Math.PI
        }
        return A += t, A /= Math.PI / 2, (A %= 4) >= .5 && A < 1.5 ? p.DIRECTION.DOWN :
          A >= 1.5 && A < 2.5 ? p.DIRECTION.LEFT : A >= 2.5 && A < 3.5 ? p.DIRECTION
          .UP : p.DIRECTION.RIGHT
      }),
      U = (t.getConnH = function (e, t) {
        return ((e === p.DIRECTION.LEFT || e === p.DIRECTION.RIGHT ? 0 : 1) + t) % 2 ==
          0
      }, t.isConnAllHV = function (e, t) {
        if (e.length <= 1) return !1;
        for (var n = 5 / t, r = void 0, A = 0; A < e.length - 1; A++) {
          var a = e[A],
            i = e[A + 1],
            o = Math.abs(a.y - i.y) < n,
            s = Math.abs(a.x - i.x) < n;
          if (o && s) return !1;
          if (!o && !s) return !1;
          if (void 0 === r) r = o ? "h" : "v";
          else {
            if ("h" === r && o) return !1;
            if ("v" === r && s) return !1;
            r = o ? "h" : "v"
          }
        }
        return !0
      }, t.getDistDivideByDir = function (e, t, n) {
        var r = void 0,
          A = void 0;
        return n === p.DIRECTION.LEFT || n === p.DIRECTION.RIGHT ? (r = n === p
          .DIRECTION.LEFT ? t[0] - e[0] : e[0] - t[0], A = e[1] - t[1]) : (r = n === p
          .DIRECTION.UP ? t[1] - e[1] : e[1] - t[1], A = e[0] - t[0]), {
          v1: r,
          v2: A
        }
      }, t.mergeIntervals = function (e) {
        e = e.sort((function (e, t) {
          return e[0] - t[0]
        }));
        for (var t = 0, n = 1; n < e.length; n++) e[t][1] >= e[n][0] ? e[t][1] = Math
          .max(e[t][1], e[n][1]) : e[++t] = e[n];
        return e.slice(0, t + 1)
      }, t.getShapeDataFromExist = function (e) {
        var t = e.sx,
          n = e.sy,
          r = e.w,
          a = e.h,
          i = e.another,
          s = e.shapeType;
        return "text" !== s ? (0, o.default)((0, o.default)({
          type: "shape",
          shape: s,
          boundary: {
            sx: t,
            sy: n,
            w: r,
            h: a
          },
          inProgress: !1
        }, "shape" === (null == i ? void 0 : i.type) ? {
          stroke: i.stroke,
          fill: i.fill,
          lineWidth: i.lineWidth,
          dash: i.dash
        } : {
          stroke: d.default.shapeDef.stroke,
          fill: d.default.shapeDef.fill,
          lineWidth: d.default.shapeDef.lineWidth,
          dash: d.default.shapeDef.dash
        }), {
          text: "object" === (0, A.default)(null == i ? void 0 : i.text) && null !==
            (null == i ? void 0 : i.text) ? (0, o.default)((0, o.default)({}, i
              .text), {
              value: ""
            }) : "text" === (null == i ? void 0 : i.type) ? {
              value: "",
              stroke: i.stroke,
              fill: i.fill,
              textAlign: i.textAlign,
              verticalAlign: d.default.shapeDef.text.verticalAlign,
              fontSize: i.fontSize,
              fontFamily: i.fontFamily
            } : {
              value: "",
              stroke: d.default.shapeDef.text.stroke,
              fill: d.default.shapeDef.text.fill,
              textAlign: d.default.shapeDef.text.textAlign,
              verticalAlign: d.default.shapeDef.text.verticalAlign,
              fontSize: d.default.shapeDef.text.fontSize,
              fontFamily: d.default.shapeDef.text.fontFamily
            }
        }) : (0, o.default)({
          type: "text",
          boundary: {
            sx: t,
            sy: n,
            w: r,
            h: a
          },
          inProgress: !1
        }, "text" === (null == i ? void 0 : i.type) ? {
          fontSize: i.fontSize,
          fontFamily: i.fontFamily,
          stroke: i.stroke,
          fill: i.fill,
          textAlign: i.textAlign
        } : "object" === (0, A.default)(null == i ? void 0 : i.text) && null !== (
          null == i ? void 0 : i.text) ? {
          stroke: i.text.stroke,
          fill: i.text.fill,
          textAlign: i.text.textAlign,
          verticalAlign: i.text.verticalAlign,
          fontSize: i.text.fontSize,
          fontFamily: i.text.fontFamily
        } : {
          fontSize: d.default.textDef.fontSize,
          fontFamily: d.default.textDef.fontFamily,
          stroke: d.default.textDef.stroke,
          fill: d.default.textDef.fill,
          textAlign: d.default.textDef.textAlign
        })
      })
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.Item = void 0;
    var r = y(n(20)),
      A = y(n(5)),
      a = y(n(16)),
      i = y(n(2)),
      o = y(n(0)),
      s = y(n(1)),
      u = y(n(3)),
      l = y(n(26)),
      c = y(n(4)),
      d = y(n(42)),
      p = y(n(6)),
      h = n(253),
      f = n(389),
      g = y(n(392));

    function y(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(393);
    var v = new d.default;
    window.addEventListener("pointerdown", (function () {
      v.forEach((function (e) {
        e()
      }))
    }), {
      capture: !0
    });
    t.Item = function (e) {
      function t() {
        (0, o.default)(this, t);
        var e = (0, u.default)(this, (t.__proto__ || (0, i.default)(t)).apply(this,
          arguments));
        return e.state = {
          isHover: !1
        }, e.throttleId = null, e.cancelHoverHandler = function () {
          e.isHover = !1
        }, e
      }
      return (0, c.default)(t, e), (0, s.default)(t, [{
        key: "propsFilter",
        value: function () {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
            0] : [],
            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] :
            {};
          e = ["className", "style", "toolName", "value", "text", "icon",
            "hint", "disabled", "children"
          ].concat((0, a.default)(e)), n = (0, A.default)({
            toolName: "NoNameTool",
            value: "NoValue",
            icon: g.default
          }, n), (0, l.default)(t.prototype.__proto__ || (0, i.default)(t
            .prototype), "propsFilter", this).call(this, e, (0, A.default)({
            disabled: !1
          }, n))
        }
      }, {
        key: "componentDidMount",
        value: function () {
          v.add(this.cancelHoverHandler)
        }
      }, {
        key: "componentWillUnmount",
        value: function () {
          v.delete(this.cancelHoverHandler)
        }
      }, {
        key: "isHover",
        set: function (e) {
          this.setState({
            isHover: e
          })
        },
        get: function () {
          var e;
          return null !== (e = this.state.isHover) && void 0 !== e && e
        }
      }, {
        key: "hoverProps",
        get: function () {
          var e = this;
          return this.pickedProps.hint ? {
            onPointerEnter: function (t) {
              var n, r;
              clearTimeout(e.throttleId), null === (r = (n = e.nativeProps)
                  .onPointerEnter) || void 0 === r || r.call(n, t), e
                .throttleId = setTimeout((function () {
                  e.isHover = !0
                }), 100)
            },
            onPointerLeave: function (t) {
              var n, r;
              null === (r = (n = e.nativeProps).onPointerLeave) ||
                void 0 === r || r.call(n, t), clearTimeout(e.throttleId), e
                .throttleId = setTimeout((function () {
                  e.isHover = !1
                }), 100)
            }
          } : {}
        }
      }, {
        key: "defaultClassNames",
        get: function () {
          var e = this.pickedProps.disabled;
          return ["item"].concat((0, a.default)(e ? ["item-disabled"] : []))
        }
      }, {
        key: "className",
        get: function () {
          var e = this.pickedProps.className;
          return [].concat((0, a.default)(this.defaultClassNames), [e]).join(
            " ")
        }
      }, {
        key: "defaultStyle",
        get: function () {
          return {
            position: "relative"
          }
        }
      }, {
        key: "style",
        get: function () {
          var e = this.pickedProps.style;
          return (0, A.default)((0, A.default)({}, e), this.defaultStyle)
        }
      }, {
        key: "isTextFirst",
        get: function () {
          var e = (0, r.default)(this.props);
          return e.indexOf("text") < e.indexOf("icon")
        }
      }, {
        key: "Hint",
        get: function () {
          var e = this.pickedProps.hint;
          return e ? p.default.createElement(f.Hint, {
            isShow: this.isHover,
            hint: e
          }) : null
        }
      }, {
        key: "itemChildren",
        get: function () {
          var e = this.props.children,
            t = null != e ? e : [];
          t = t instanceof Array ? [].concat((0, a.default)(t)) : [t];
          var n = this.pickedProps,
            r = n.text,
            A = n.icon,
            i = r ? p.default.createElement("span", {
              className: "text",
              style: {
                pointerEvents: "none"
              }
            }, r) : null,
            o = A ? "string" == typeof A ? p.default.createElement("i", {
              className: "icon",
              style: {
                maskImage: "url(" + A + ")",
                webkitMaskImage: "url(" + A + ")",
                width: "1em",
                height: "1em",
                pointerEvents: "none"
              }
            }) : A : null;
          return t.length ? [].concat((0, a.default)(t), [this.Hint]) : this
            .isTextFirst ? [this.Hint, i, o] : [this.Hint, o, i]
        }
      }]), t
    }(h.FloatComponent)
  }, function (e, t, n) {
    var r = n(78),
      A = n(79);
    e.exports = function (e) {
      return r(A(e))
    }
  }, function (e, t, n) {
    e.exports = {
      default: n(195),
      __esModule: !0
    }
  }, function (e, t) {
    var n = {}.hasOwnProperty;
    e.exports = function (e, t) {
      return n.call(e, t)
    }
  }, function (e, t, n) {
    var r = n(79);
    e.exports = function (e) {
      return Object(r(e))
    }
  }, function (e, t, n) {
    "use strict";
    var r = n(171)(!0);
    n(85)(String, "String", (function (e) {
      this._t = String(e), this._i = 0
    }), (function () {
      var e, t = this._t,
        n = this._i;
      return n >= t.length ? {
        value: void 0,
        done: !0
      } : (e = r(t, n), this._i += e.length, {
        value: e,
        done: !1
      })
    }))
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.snapshotOutOfNormalFlowTypes = ["background", "pan", "zoom", "mouse-pointer",
      "select", "select-hover", "laser", "camera-bound"
    ], t.globalSnapshotTypes = ["camera-bound"], t.cameraSnapshotTypes = ["pan", "zoom",
      "camera-bound", "reset-camera", "fit-to-content", "fit-to-doc", "resize-camera"
    ], t.nonRotateTypes = ["audio", "video", "pagePlugin", "star", "triangle", "link"]
  }, function (e, t, n) {
    "use strict";
    class r {
      constructor(e) {
        Array.isArray(e) || (e = []), this._args = e, this.taps = [], this
          .interceptors = [], this.call = this._call, this.promise = this._promise, this
          .callAsync = this._callAsync, this._x = void 0
      }
      compile(e) {
        throw new Error("Abstract: should be overriden")
      }
      _createCall(e) {
        return this.compile({
          taps: this.taps,
          interceptors: this.interceptors,
          args: this._args,
          type: e
        })
      }
      tap(e, t) {
        if ("string" == typeof e && (e = {
            name: e
          }), "object" != typeof e || null === e) throw new Error(
          "Invalid arguments to tap(options: Object, fn: function)");
        if ("string" != typeof (e = Object.assign({
            type: "sync",
            fn: t
          }, e)).name || "" === e.name) throw new Error("Missing name for tap");
        e = this._runRegisterInterceptors(e), this._insert(e)
      }
      tapAsync(e, t) {
        if ("string" == typeof e && (e = {
            name: e
          }), "object" != typeof e || null === e) throw new Error(
          "Invalid arguments to tapAsync(options: Object, fn: function)");
        if ("string" != typeof (e = Object.assign({
            type: "async",
            fn: t
          }, e)).name || "" === e.name) throw new Error("Missing name for tapAsync");
        e = this._runRegisterInterceptors(e), this._insert(e)
      }
      tapPromise(e, t) {
        if ("string" == typeof e && (e = {
            name: e
          }), "object" != typeof e || null === e) throw new Error(
          "Invalid arguments to tapPromise(options: Object, fn: function)");
        if ("string" != typeof (e = Object.assign({
            type: "promise",
            fn: t
          }, e)).name || "" === e.name) throw new Error("Missing name for tapPromise");
        e = this._runRegisterInterceptors(e), this._insert(e)
      }
      _runRegisterInterceptors(e) {
        for (const t of this.interceptors)
          if (t.register) {
            const n = t.register(e);
            void 0 !== n && (e = n)
          } return e
      }
      withOptions(e) {
        const t = t => Object.assign({}, e, "string" == typeof t ? {
          name: t
        } : t);
        e = Object.assign({}, e, this._withOptions);
        const n = this._withOptionsBase || this,
          r = Object.create(n);
        return r.tapAsync = (e, r) => n.tapAsync(t(e), r), r.tap = (e, r) => n.tap(t(e),
            r), r.tapPromise = (e, r) => n.tapPromise(t(e), r), r._withOptions = e, r
          ._withOptionsBase = n, r
      }
      isUsed() {
        return this.taps.length > 0 || this.interceptors.length > 0
      }
      intercept(e) {
        if (this._resetCompilation(), this.interceptors.push(Object.assign({}, e)), e
          .register)
          for (let t = 0; t < this.taps.length; t++) this.taps[t] = e.register(this
            .taps[t])
      }
      _resetCompilation() {
        this.call = this._call, this.callAsync = this._callAsync, this.promise = this
          ._promise
      }
      _insert(e) {
        let t;
        this._resetCompilation(), "string" == typeof e.before ? t = new Set([e
          .before]) : Array.isArray(e.before) && (t = new Set(e.before));
        let n = 0;
        "number" == typeof e.stage && (n = e.stage);
        let r = this.taps.length;
        for (; r > 0;) {
          r--;
          const e = this.taps[r];
          this.taps[r + 1] = e;
          const A = e.stage || 0;
          if (t) {
            if (t.has(e.name)) {
              t.delete(e.name);
              continue
            }
            if (t.size > 0) continue
          }
          if (!(A > n)) {
            r++;
            break
          }
        }
        this.taps[r] = e
      }
    }

    function A(e, t) {
      return function (...n) {
        return this[e] = this._createCall(t), this[e](...n)
      }
    }
    Object.defineProperties(r.prototype, {
      _call: {
        value: A("call", "sync"),
        configurable: !0,
        writable: !0
      },
      _promise: {
        value: A("promise", "promise"),
        configurable: !0,
        writable: !0
      },
      _callAsync: {
        value: A("callAsync", "async"),
        configurable: !0,
        writable: !0
      }
    }), e.exports = r
  }, function (e, t) {
    ! function (n) {
      "object" == typeof t && void 0 !== e ? e.exports = n() : "function" ==
        typeof define && define.amd ? define([], n) : ("undefined" != typeof window ?
          window : "undefined" != typeof global ? global : "undefined" != typeof self ?
          self : this).EventEmitter3 = n()
    }((function () {
      return function e(t, n, r) {
        function A(i, o) {
          if (!n[i]) {
            if (!t[i]) {
              var s = "function" == typeof require && require;
              if (!o && s) return s(i, !0);
              if (a) return a(i, !0);
              var u = new Error("Cannot find module '" + i + "'");
              throw u.code = "MODULE_NOT_FOUND", u
            }
            var l = n[i] = {
              exports: {}
            };
            t[i][0].call(l.exports, (function (e) {
              return A(t[i][1][e] || e)
            }), l, l.exports, e, t, n, r)
          }
          return n[i].exports
        }
        for (var a = "function" == typeof require && require, i = 0; i < r
          .length; i++) A(r[i]);
        return A
      }({
        1: [function (e, t, n) {
          "use strict";
          var r = Object.prototype.hasOwnProperty,
            A = "~";

          function a() {}

          function i(e, t, n) {
            this.fn = e, this.context = t, this.once = n || !1
          }

          function o(e, t, n, r, a) {
            if ("function" != typeof n) throw new TypeError(
              "The listener must be a function");
            var o = new i(n, r || e, a),
              s = A ? A + t : t;
            return e._events[s] ? e._events[s].fn ? e._events[s] = [e._events[
              s], o] : e._events[s].push(o) : (e._events[s] = o, e
              ._eventsCount++), e
          }

          function s(e, t) {
            0 == --e._eventsCount ? e._events = new a : delete e._events[t]
          }

          function u() {
            this._events = new a, this._eventsCount = 0
          }
          Object.create && (a.prototype = Object.create(null), (new a)
              .__proto__ || (A = !1)), u.prototype.eventNames = function () {
              var e, t, n = [];
              if (0 === this._eventsCount) return n;
              for (t in e = this._events) r.call(e, t) && n.push(A ? t.slice(
                1) : t);
              return Object.getOwnPropertySymbols ? n.concat(Object
                .getOwnPropertySymbols(e)) : n
            }, u.prototype.listeners = function (e) {
              var t = A ? A + e : e,
                n = this._events[t];
              if (!n) return [];
              if (n.fn) return [n.fn];
              for (var r = 0, a = n.length, i = new Array(a); r < a; r++) i[
                r] = n[r].fn;
              return i
            }, u.prototype.listenerCount = function (e) {
              var t = A ? A + e : e,
                n = this._events[t];
              return n ? n.fn ? 1 : n.length : 0
            }, u.prototype.emit = function (e, t, n, r, a, i) {
              var o = A ? A + e : e;
              if (!this._events[o]) return !1;
              var s, u = this._events[o],
                l = arguments.length;
              if (u.fn) {
                switch (u.once && this.removeListener(e, u.fn, void 0, !0),
                l) {
                  case 1:
                    return u.fn.call(u.context), !0;
                  case 2:
                    return u.fn.call(u.context, t), !0;
                  case 3:
                    return u.fn.call(u.context, t, n), !0;
                  case 4:
                    return u.fn.call(u.context, t, n, r), !0;
                  case 5:
                    return u.fn.call(u.context, t, n, r, a), !0;
                  case 6:
                    return u.fn.call(u.context, t, n, r, a, i), !0
                }
                for (p = 1, s = new Array(l - 1); p < l; p++) s[p - 1] =
                  arguments[p];
                u.fn.apply(u.context, s)
              } else
                for (var c, d = u.length, p = 0; p < d; p++) switch (u[p]
                  .once && this.removeListener(e, u[p].fn, void 0, !0), l) {
                  case 1:
                    u[p].fn.call(u[p].context);
                    break;
                  case 2:
                    u[p].fn.call(u[p].context, t);
                    break;
                  case 3:
                    u[p].fn.call(u[p].context, t, n);
                    break;
                  case 4:
                    u[p].fn.call(u[p].context, t, n, r);
                    break;
                  default:
                    if (!s)
                      for (c = 1, s = new Array(l - 1); c < l; c++) s[c -
                        1] = arguments[c];
                    u[p].fn.apply(u[p].context, s)
                }
              return !0
            }, u.prototype.on = function (e, t, n) {
              return o(this, e, t, n, !1)
            }, u.prototype.once = function (e, t, n) {
              return o(this, e, t, n, !0)
            }, u.prototype.removeListener = function (e, t, n, r) {
              var a = A ? A + e : e;
              if (!this._events[a]) return this;
              if (!t) return s(this, a), this;
              var i = this._events[a];
              if (i.fn) i.fn !== t || r && !i.once || n && i.context !== n ||
                s(this, a);
              else {
                for (var o = 0, u = [], l = i.length; o < l; o++)(i[o].fn !==
                    t || r && !i[o].once || n && i[o].context !== n) && u
                  .push(i[o]);
                u.length ? this._events[a] = 1 === u.length ? u[0] : u : s(
                  this, a)
              }
              return this
            }, u.prototype.removeAllListeners = function (e) {
              var t;
              return e ? (t = A ? A + e : e, this._events[t] && s(this, t)) :
                (this._events = new a, this._eventsCount = 0), this
            }, u.prototype.off = u.prototype.removeListener, u.prototype
            .addListener = u.prototype.on, u.prefixed = A, u.EventEmitter = u,
            void 0 !== t && (t.exports = u)
        }, {}]
      }, {}, [1])(1)
    }))
  }, function (e, t, n) {
    var r = n(110),
      A = n(83);
    e.exports = Object.keys || function (e) {
      return r(e, A)
    }
  }, function (e, t) {
    e.exports = {}
  }, function (e, t, n) {
    n(174);
    for (var r = n(17), A = n(37), a = n(50), i = n(18)("toStringTag"), o =
        "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList"
        .split(","), s = 0; s < o.length; s++) {
      var u = o[s],
        l = r[u],
        c = l && l.prototype;
      c && !c[i] && A(c, i, u), a[u] = a.Array
    }
  }, function (e, t, n) {
    "use strict";
    e.exports = class {
      constructor(e) {
        this.config = e, this.options = void 0, this._args = void 0
      }
      create(e) {
        let t;
        switch (this.init(e), this.options.type) {
          case "sync":
            t = new Function(this.args(), '"use strict";\n' + this.header() + this
              .content({
                onError: e => `throw ${e};\n`,
                onResult: e => `return ${e};\n`,
                resultReturns: !0,
                onDone: () => "",
                rethrowIfPossible: !0
              }));
            break;
          case "async":
            t = new Function(this.args({
              after: "_callback"
            }), '"use strict";\n' + this.header() + this.content({
              onError: e => `_callback(${e});\n`,
              onResult: e => `_callback(null, ${e});\n`,
              onDone: () => "_callback();\n"
            }));
            break;
          case "promise":
            let e = !1;
            const n = this.content({
              onError: t => (e = !0, `_error(${t});\n`),
              onResult: e => `_resolve(${e});\n`,
              onDone: () => "_resolve();\n"
            });
            let r = "";
            r += '"use strict";\n', r +=
              "return new Promise((_resolve, _reject) => {\n", e && (r +=
                "var _sync = true;\n", r += "function _error(_err) {\n", r +=
                "if(_sync)\n", r +=
                "_resolve(Promise.resolve().then(() => { throw _err; }));\n", r +=
                "else\n", r += "_reject(_err);\n", r += "};\n"), r += this.header(),
              r += n, e && (r += "_sync = false;\n"), r += "});\n", t = new Function(
                this.args(), r)
        }
        return this.deinit(), t
      }
      setup(e, t) {
        e._x = t.taps.map(e => e.fn)
      }
      init(e) {
        this.options = e, this._args = e.args.slice()
      }
      deinit() {
        this.options = void 0, this._args = void 0
      }
      header() {
        let e = "";
        this.needContext() ? e += "var _context = {};\n" : e += "var _context;\n",
          e += "var _x = this._x;\n", this.options.interceptors.length > 0 && (e +=
            "var _taps = this.taps;\n", e +=
            "var _interceptors = this.interceptors;\n");
        for (let t = 0; t < this.options.interceptors.length; t++) {
          const n = this.options.interceptors[t];
          n.call && (e +=
            `${this.getInterceptor(t)}.call(${this.args({before:n.context?"_context":void 0})});\n`
            )
        }
        return e
      }
      needContext() {
        for (const e of this.options.taps)
          if (e.context) return !0;
        return !1
      }
      callTap(e, {
        onError: t,
        onResult: n,
        onDone: r,
        rethrowIfPossible: A
      }) {
        let a = "",
          i = !1;
        for (let t = 0; t < this.options.interceptors.length; t++) {
          const n = this.options.interceptors[t];
          n.tap && (i || (a += `var _tap${e} = ${this.getTap(e)};\n`, i = !0), a +=
            `${this.getInterceptor(t)}.tap(${n.context?"_context, ":""}_tap${e});\n`
            )
        }
        a += `var _fn${e} = ${this.getTapFn(e)};\n`;
        const o = this.options.taps[e];
        switch (o.type) {
          case "sync":
            A || (a += `var _hasError${e} = false;\n`, a += "try {\n"), a += n ?
              `var _result${e} = _fn${e}(${this.args({before:o.context?"_context":void 0})});\n` :
              `_fn${e}(${this.args({before:o.context?"_context":void 0})});\n`, A || (
                a += "} catch(_err) {\n", a += `_hasError${e} = true;\n`, a += t(
                  "_err"), a += "}\n", a += `if(!_hasError${e}) {\n`), n && (a += n(
                "_result" + e)), r && (a += r()), A || (a += "}\n");
            break;
          case "async":
            let i = "";
            i += n ? `(_err${e}, _result${e}) => {\n` : `_err${e} => {\n`, i +=
              `if(_err${e}) {\n`, i += t("_err" + e), i += "} else {\n", n && (i += n(
                "_result" + e)), r && (i += r()), i += "}\n", i += "}", a +=
              `_fn${e}(${this.args({before:o.context?"_context":void 0,after:i})});\n`;
            break;
          case "promise":
            a += `var _hasResult${e} = false;\n`, a +=
              `var _promise${e} = _fn${e}(${this.args({before:o.context?"_context":void 0})});\n`,
              a += `if (!_promise${e} || !_promise${e}.then)\n`, a +=
              `  throw new Error('Tap function (tapPromise) did not return promise (returned ' + _promise${e} + ')');\n`,
              a += `_promise${e}.then(_result${e} => {\n`, a +=
              `_hasResult${e} = true;\n`, n && (a += n("_result" + e)), r && (a +=
              r()), a += `}, _err${e} => {\n`, a +=
              `if(_hasResult${e}) throw _err${e};\n`, a += t("_err" + e), a += "});\n"
        }
        return a
      }
      callTapsSeries({
        onError: e,
        onResult: t,
        resultReturns: n,
        onDone: r,
        doneReturns: A,
        rethrowIfPossible: a
      }) {
        if (0 === this.options.taps.length) return r();
        const i = this.options.taps.findIndex(e => "sync" !== e.type),
          o = n || A || !1;
        let s = "",
          u = r;
        for (let n = this.options.taps.length - 1; n >= 0; n--) {
          const A = n;
          u !== r && "sync" !== this.options.taps[A].type && (s +=
            `function _next${A}() {\n`, s += u(), s += "}\n", u = () =>
            `${o?"return ":""}_next${A}();\n`);
          const l = u,
            c = e => e ? "" : r(),
            d = this.callTap(A, {
              onError: t => e(A, t, l, c),
              onResult: t && (e => t(A, e, l, c)),
              onDone: !t && l,
              rethrowIfPossible: a && (i < 0 || A < i)
            });
          u = () => d
        }
        return s += u(), s
      }
      callTapsLooping({
        onError: e,
        onDone: t,
        rethrowIfPossible: n
      }) {
        if (0 === this.options.taps.length) return t();
        const r = this.options.taps.every(e => "sync" === e.type);
        let A = "";
        r || (A += "var _looper = () => {\n", A += "var _loopAsync = false;\n"), A +=
          "var _loop;\n", A += "do {\n", A += "_loop = false;\n";
        for (let e = 0; e < this.options.interceptors.length; e++) {
          const t = this.options.interceptors[e];
          t.loop && (A +=
            `${this.getInterceptor(e)}.loop(${this.args({before:t.context?"_context":void 0})});\n`
            )
        }
        return A += this.callTapsSeries({
          onError: e,
          onResult: (e, t, n, A) => {
            let a = "";
            return a += `if(${t} !== undefined) {\n`, a += "_loop = true;\n",
              r || (a += "if(_loopAsync) _looper();\n"), a += A(!0), a +=
              "} else {\n", a += n(), a += "}\n", a
          },
          onDone: t && (() => {
            let e = "";
            return e += "if(!_loop) {\n", e += t(), e += "}\n", e
          }),
          rethrowIfPossible: n && r
        }), A += "} while(_loop);\n", r || (A += "_loopAsync = true;\n", A +=
          "};\n", A += "_looper();\n"), A
      }
      callTapsParallel({
        onError: e,
        onResult: t,
        onDone: n,
        rethrowIfPossible: r,
        onTap: A = ((e, t) => t())
      }) {
        if (this.options.taps.length <= 1) return this.callTapsSeries({
          onError: e,
          onResult: t,
          onDone: n,
          rethrowIfPossible: r
        });
        let a = "";
        a += "do {\n", a += `var _counter = ${this.options.taps.length};\n`, n && (
          a += "var _done = () => {\n", a += n(), a += "};\n");
        for (let i = 0; i < this.options.taps.length; i++) {
          const o = () => n ? "if(--_counter === 0) _done();\n" : "--_counter;",
            s = e => e || !n ? "_counter = 0;\n" : "_counter = 0;\n_done();\n";
          a += "if(_counter <= 0) break;\n", a += A(i, () => this.callTap(i, {
            onError: t => {
              let n = "";
              return n += "if(_counter > 0) {\n", n += e(i, t, o, s), n +=
                "}\n", n
            },
            onResult: t && (e => {
              let n = "";
              return n += "if(_counter > 0) {\n", n += t(i, e, o, s), n +=
                "}\n", n
            }),
            onDone: !t && (() => o()),
            rethrowIfPossible: r
          }), o, s)
        }
        return a += "} while(false);\n", a
      }
      args({
        before: e,
        after: t
      } = {}) {
        let n = this._args;
        return e && (n = [e].concat(n)), t && (n = n.concat(t)), 0 === n.length ? "" :
          n.join(", ")
      }
      getTapFn(e) {
        return `_x[${e}]`
      }
      getTap(e) {
        return `_taps[${e}]`
      }
      getInterceptor(e) {
        return `_interceptors[${e}]`
      }
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.isIosDevice = function () {
        return /iPad|iPhone|iPod/.test(navigator.platform) || "MacIntel" === navigator
          .platform && navigator.maxTouchPoints > 1
      }, t.isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent), t
      .deviceOS = function () {
        var e = navigator.userAgent,
          t = !1,
          n = !1,
          r = !1;
        return /(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e) ? n = !0 :
          /Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/
          .test(e) ? t = !0 : r = !0, {
            isMobile: t,
            isTablet: n,
            isDesktop: r
          }
      }
  }, function (e, t) {
    e.exports = function (e) {
      if ("function" != typeof e) throw TypeError(e + " is not a function!");
      return e
    }
  }, function (e, t) {
    e.exports = function (e, t) {
      return {
        enumerable: !(1 & e),
        configurable: !(2 & e),
        writable: !(4 & e),
        value: t
      }
    }
  }, function (e, t) {
    var n = {}.toString;
    e.exports = function (e) {
      return n.call(e).slice(8, -1)
    }
  }, function (e, t) {
    e.exports = !0
  }, function (e, t, n) {
    var r = n(27).f,
      A = n(43),
      a = n(18)("toStringTag");
    e.exports = function (e, t, n) {
      e && !A(e = n ? e : e.prototype, a) && r(e, a, {
        configurable: !0,
        value: t
      })
    }
  }, function (e, t, n) {
    var r = n(34),
      A = n(117),
      a = n(118),
      i = n(30),
      o = n(68),
      s = n(90),
      u = {},
      l = {};
    (t = e.exports = function (e, t, n, c, d) {
      var p, h, f, g, y = d ? function () {
          return e
        } : s(e),
        v = r(n, c, t ? 2 : 1),
        m = 0;
      if ("function" != typeof y) throw TypeError(e + " is not iterable!");
      if (a(y)) {
        for (p = o(e.length); p > m; m++)
          if ((g = t ? v(i(h = e[m])[0], h[1]) : v(e[m])) === u || g === l) return g
      } else
        for (f = y.call(e); !(h = f.next()).done;)
          if ((g = A(f, v, h.value, t)) === u || g === l) return g
    }).BREAK = u, t.RETURN = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.SELECT_PAD = void 0;
    var r = w(n(36)),
      A = w(n(5)),
      a = w(n(75)),
      i = w(n(2)),
      o = w(n(0)),
      s = w(n(1)),
      u = w(n(3)),
      l = w(n(4)),
      c = n(46),
      d = n(15),
      p = w(n(229)),
      h = w(n(22)),
      f = n(19),
      g = n(230),
      y = n(29),
      v = n(28),
      m = n(66);

    function w(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var B = t.SELECT_PAD = 0,
      I = "rgba(53, 128, 250)",
      M = function (e) {
        function t() {
          (0, o.default)(this, t);
          var e = (0, u.default)(this, (t.__proto__ || (0, i.default)(t)).apply(this,
            arguments));
          return e.type = "select", e.activate = !1, e.selectedOpIds = [], e.description =
            "选择工具", e
        }
        return (0, l.default)(t, e), (0, s.default)(t, [{
          key: "getSelectedIds",
          value: function () {
            return this.selectedOpIds.slice()
          }
        }, {
          key: "eventsToListen",
          value: function () {
            return {
              activate: {
                value: !0,
                information: {
                  args: "",
                  message: "设置工具栏状态为：" + this.type
                }
              },
              "select:filterType": {
                value: this.filterEles.bind(this),
                information: {
                  args: "types: Array<string>",
                  message: ""
                }
              }
            }
          }
        }, {
          key: "filterEles",
          value: function (e) {
            var t = this;
            console.log("filterEles() types: ", e);
            var n = this.selectedOpIds.filter((function (n) {
              var r = t.drawOpsOfPage[n];
              if (r && -1 !== e.indexOf(r.data.type)) return !0
            }));
            console.log("filterEles() this.selectedOpIds: ", this.selectedOpIds),
              this.dispatch(this.getSnapshot(n))
          }
        }, {
          key: "registerHooks",
          value: function () {
            this.opsManager.hooks.opChange.tap("OpChange", this.handleOpChange
                .bind(this)), this.opsManager.hooks.pageChange.tap("pageChange",
                this.handlePageChange.bind(this)), this.opsManager.hooks.keydown
              .tap("KeydownPlugin", this.handleKeyDown.bind(this))
          }
        }, {
          key: "handleKeyDown",
          value: function (e) {
            if ("a" === e.key.toLocaleLowerCase() && this.app.container
              .isCtrlPressed()) {
              e.preventDefault();
              var t = [];
              for (var n in this.drawOpsOfPage) this.drawOpsOfPage[n].data
                .hidden || this.drawOpsOfPage[n].data.deleted || t.push(n);
              t.length > 0 && (this.dispatch(this.getSnapshot(t)), this.opsManager
                .setCurrOp("select"))
            }
          }
        }, {
          key: "handlePageChange",
          value: function (e) {
            e.uid === this.app.account && this.selectedOpIds.length > 0 && this
              .dispatch(this.getSnapshot([]))
          }
        }, {
          key: "handleOpChange",
          value: function (e) {
            var t;
            "select" !== e && "select" === (null === (t = this.opsManager
              .currOp) || void 0 === t ? void 0 : t.type) && this.dispatch(this
              .getSnapshot([]))
          }
        }, {
          key: "postMouseUp",
          value: function (e) {
            this.dispatch(this.getSnapshot(e))
          }
        }, {
          key: "postClick",
          value: function (e) {
            if (0 === e.length && Date.now() - this.opsManager.opMap.text.blurAt <
              100) return;
            (0, f.idsChanged)(e, this.selectedOpIds) && this.dispatch(this
              .getSnapshot(e))
          }
        }, {
          key: "getSnapshot",
          value: function (e) {
            var t = this.opsManager.opMap.url;
            return e = e.filter((function (e) {
              return e !== t.currentUrlOpid
            })), {
              type: "select",
              sp: this.sp,
              ep: this.ep,
              inProgress: !1,
              selectedOpIds: e.slice(),
              reuseOpType: "select",
              skipUndo: !0,
              color: h.default.penDef.stroke,
              nickname: this.app.nickname
            }
          }
        }, {
          key: "preview",
          value: function (e, t, n) {
            e.page.toString() === n.page.pageIndex && this.draw(e, t)
          }
        }, {
          key: "draw",
          value: function (e, t) {
            var n, r, i = this,
              o = e.data,
              s = o.selectedOpIds.filter((function (e) {
                return i.drawOpsOfPage[e]
              })),
              u = this.opsManager.opMap.text;
            if (e.uid === this.app.account && -1 === e.opId.indexOf(
                "select-hover") && (this.selectInfo = void 0), e.uid === this.app
              .account && 1 === s.length) {
              var l = this.drawOpsOfPage[s[0]];
              if (u.isTextBeingEdit(s[0]) || !0 === (null === (r = null === (n =
                    null == l ? void 0 : l.data) || void 0 === n ? void 0 : n
                  .crop) || void 0 === r ? void 0 : r.inProgress)) {
                var d = this.opsManager.drawOpsOfPage[s[0]],
                  p = d.data.boundary,
                  h = (0, y.getTransPoint)([p.sx, p.sy], d.data.mat),
                  f = (0, y.getTransPoint)([p.sx + p.w, p.sy], d.data.mat),
                  g = (0, y.getTransPoint)([p.sx + p.w, p.sy + p.h], d.data.mat),
                  v = (0, y.getTransPoint)([p.sx, p.sy + p.h], d.data.mat),
                  w = m.HINT_BORDER_PAD / this.app.scale / Math.abs(d.data
                    .xFactor || 1),
                  I = m.HINT_BORDER_PAD / this.app.scale / Math.abs(d.data
                    .yFactor || 1),
                  M = (0, y.getTransPoint)([p.sx + p.w / 2, p.sy - I], d.data
                  .mat),
                  C = (0, y.getTransPoint)([p.sx + p.w + w, p.sy + p.h / 2], d
                    .data.mat),
                  b = (0, y.getTransPoint)([p.sx + p.w / 2, p.sy + p.h + I], d
                    .data.mat),
                  x = (0, y.getTransPoint)([p.sx - w, p.sy + p.h / 2], d.data
                  .mat),
                  T = (0, y.getTransPoint)([p.sx + p.w / 2, p.sy], d.data.mat),
                  k = (0, y.getTransPoint)([p.sx + p.w, p.sy + p.h / 2], d.data
                    .mat),
                  E = (0, y.getTransPoint)([p.sx + p.w / 2, p.sy + p.h], d.data
                    .mat),
                  N = (0, y.getTransPoint)([p.sx, p.sy + p.h / 2], d.data.mat),
                  O = void 0;
                return o.inProgress || (O = this.drawRotateIcon(o, t)), void(this
                  .selectInfo = {
                    pad: B,
                    boundary: {
                      isCombined: !1,
                      p1: h,
                      p2: f,
                      p3: g,
                      p4: v
                    },
                    rotateIcon: O,
                    hintPos: {
                      id: d.opId,
                      p1: M,
                      p2: C,
                      p3: b,
                      p4: x,
                      sp1: T,
                      sp2: k,
                      sp3: E,
                      sp4: N,
                      hidden: !0
                    }
                  })
              }
              var P = this.opsManager.currPage.idToGroup.get(s[0]);
              if (P) {
                var _ = this.opsManager.currPage.groups.get(P);
                if (_ && _.size > 1 && !o.inProgress) {
                  var D = this.getCombineBox((0, a.default)(_)),
                    Q = 4 / this.app.scale;
                  D && (D = {
                    sx: D.sx - Q,
                    sy: D.sy - Q,
                    w: D.w + 2 * Q,
                    h: D.h + 2 * Q
                  }, this.drawCombineBox(D, t, !1))
                }
              }
            }
            if (e.uid === this.app.account || 1 !== s.length || !u
              .isTextBeingEdit(s[0])) {
              o.inProgress && e.uid === this.app.account && o.sp && o.ep && o.sp[
                0] !== o.ep[0] && o.sp[1] !== o.ep[1] && this.drawMask(o, t);
              var S = void 0,
                U = void 0;
              o.inProgress || (S = this.getCombineBox(o.selectedOpIds), s.length >
                1 && !o.inProgress && S && this.drawCombineBox(S, t, e.uid ===
                  this.app.account)), (o.inProgress || 1 === s.length) && (U =
                this.drawIndiBox(o, t, e.uid === this.app.account));
              var F = void 0;
              1 === s.length && e.uid === this.app.account && (F = this
                .drawLinkDot(o, t));
              var L = void 0;
              if (!o.inProgress && 1 === s.length && e.uid === this.app.account) {
                var j = this.drawOpsOfPage[s[0]]; - 1 === c.nonRotateTypes
                  .indexOf(j.data.type) && (L = this.drawRotateIcon(o, t))
              }
              o.inProgress || e.uid !== this.app.account || -1 !== e.opId.indexOf(
                "select-hover") || (1 === s.length && Array.isArray(U) && U
                .length > 0 ? this.selectInfo = {
                  pad: B,
                  boundary: {
                    isCombined: !1,
                    p1: U[0][0],
                    p2: U[0][1],
                    p3: U[0][2],
                    p4: U[0][3]
                  },
                  rotateIcon: L,
                  hintPos: F
                } : s.length > 1 && S && (this.selectInfo = {
                  pad: B,
                  boundary: (0, A.default)({
                    isCombined: !0
                  }, S),
                  rotateIcon: void 0,
                  hintPos: void 0
                })), this.drawUserName(e, t, S)
            }
          }
        }, {
          key: "getCombineBox",
          value: function (e) {
            var t = this;
            if (0 !== (e = e.filter((function (e) {
                return t.drawOpsOfPage[e]
              }))).length) {
              var n = e.map((function (e) {
                var n = t.drawOpsOfPage[e];
                return (0, d.getTransformedBoundary)(t.app.camera.scale, n
                  .data)
              })).filter((function (e) {
                return !(isNaN(e.w) || isNaN(e.h) || isNaN(e.sx) || isNaN(e
                  .sy))
              }));
              return 0 === n.length ? {
                sx: 0,
                sy: 0,
                w: 0,
                h: 0
              } : 1 === n.length ? n[0] : n.reduce((function (e, t) {
                return (0, d.combineBoundary)(e, t)
              }))
            }
          }
        }, {
          key: "drawUserName",
          value: function (e, t, n) {
            if (!e.data.inProgress && e.uid !== this.app.account && n) {
              var r = n.sx + n.w / 2,
                A = n.sy;
              if (!this.app.appConfig.showSelectNickname) return;
              (0, f.drawUserName)({
                ctx: t,
                account: e.data.nickname ? e.data.nickname : e.uid,
                scale: this.app.scale,
                px: r,
                py: A,
                bgColor: e.data.color ? e.data.color : "rgb(0,0,0)",
                fontSize: 16,
                textPadding: 8,
                radius: 6
              })
            }
          }
        }, {
          key: "drawMask",
          value: function (e, t) {
            var n = void 0,
              r = void 0;
            if (Array.isArray(e.points) && e.points.length >= 2 ? (n = e.points[
                0], r = e.points[e.points.length - 1]) : e.sp && e.ep && (e.sp[
                0] === e.ep[0] && e.sp[1] === e.ep[1] || (n = e.sp, r = e.ep)),
              n && r) {
              var A = (0, d.getBoundaryBoxFromTwoPoints)(n, r),
                a = A.sx,
                i = A.sy,
                o = A.w,
                s = A.h;
              t.beginPath(), t.fillStyle = "rgba(132, 176, 245, .4)", t.fillRect(
                a, i, o, s), t.strokeStyle = I, t.strokeRect(a, i, o, s)
            }
          }
        }, {
          key: "drawCombineBox",
          value: function (e, t) {
            var n = !(arguments.length > 2 && void 0 !== arguments[2]) ||
              arguments[2];
            t.lineWidth = 1 / this.app.scale;
            var r = 5 / this.app.scale,
              A = B;
            return t.beginPath(), t.strokeStyle = I, t.strokeRect(e.sx - A, e.sy -
              A, e.w + 2 * A, e.h + 2 * A), n && this.drawCornerDot({
              ctx: t,
              dotSize: r,
              p1: [e.sx - A, e.sy - A],
              p2: [e.sx + e.w + A, e.sy - A],
              p3: [e.sx + e.w + A, e.sy + e.h + A],
              p4: [e.sx - A, e.sy + e.h + A]
            }), [e]
          }
        }, {
          key: "drawRotateIcon",
          value: function (e, t) {
            var n = e.selectedOpIds,
              A = this.opsManager.drawOpsOfPage[n[0]];
            t.save(), t.beginPath();
            var a = (0, g.getTransIconPos)(A, B, this.app.scale),
              i = (0, r.default)(a, 2),
              o = i[0],
              s = i[1],
              u = g.ROTATE_TEST_RADIUS / this.app.scale;
            return t.arc(o, s, u, .5 * -Math.PI, Math.PI), t.lineWidth = 1 / this
              .app.scale, t.strokeStyle = "rgba(0,0,0,.8)", t.stroke(), t
              .beginPath(), t.moveTo(o - 1.3 * u, s), t.lineTo(o - .7 * u, s), t
              .lineTo(o - u, s - .3 * u), t.closePath(), t.fillStyle =
              "rgba(0,0,0,.8)", t.fill(), t.restore(), {
                x: o,
                y: s,
                angle: A.data.rAngle || 0
              }
          }
        }, {
          key: "drawLinkDot",
          value: function (e, t) {
            var n = this,
              r = e.selectedOpIds.filter((function (e) {
                return n.drawOpsOfPage[e]
              })),
              A = this.opsManager.drawOpsOfPage[r[0]];
            if (-1 === v.exLinkTypes.indexOf(A.data.type)) {
              var a = m.HINT_BORDER_PAD / this.app.scale / Math.abs(A.data
                  .xFactor || 1),
                i = m.HINT_BORDER_PAD / this.app.scale / Math.abs(A.data
                  .yFactor || 1),
                o = m.HINT_RADIUS / this.app.scale,
                s = A.data.boundary,
                u = (0, y.getTransPoint)([s.sx + s.w / 2, s.sy - i], A.data.mat),
                l = (0, y.getTransPoint)([s.sx + s.w + a, s.sy + s.h / 2], A.data
                  .mat),
                c = (0, y.getTransPoint)([s.sx + s.w / 2, s.sy + s.h + i], A.data
                  .mat),
                d = (0, y.getTransPoint)([s.sx - a, s.sy + s.h / 2], A.data.mat),
                p = (0, y.getTransPoint)([s.sx + s.w / 2, s.sy], A.data.mat),
                h = (0, y.getTransPoint)([s.sx + s.w, s.sy + s.h / 2], A.data
                .mat),
                f = (0, y.getTransPoint)([s.sx + s.w / 2, s.sy + s.h], A.data
                .mat),
                g = (0, y.getTransPoint)([s.sx, s.sy + s.h / 2], A.data.mat);
              return t.fillStyle = "rgba(53, 128, 250, .6)", t.beginPath(), t
                .moveTo(u[0] + o, u[1]), t.arc(u[0], u[1], o, 0, 2 * Math.PI), t
                .moveTo(l[0] + o, l[1]), t.arc(l[0], l[1], o, 0, 2 * Math.PI), t
                .moveTo(c[0] + o, c[1]), t.arc(c[0], c[1], o, 0, 2 * Math.PI), t
                .moveTo(d[0] + o, d[1]), t.arc(d[0], d[1], o, 0, 2 * Math.PI), t
                .fill(), {
                  p1: u,
                  p2: l,
                  p3: c,
                  p4: d,
                  id: r[0],
                  sp1: p,
                  sp2: h,
                  sp3: f,
                  sp4: g
                }
            }
          }
        }, {
          key: "drawIndiBox",
          value: function (e, n, r) {
            for (var A = this, a = e.selectedOpIds.filter((function (e) {
                return A.drawOpsOfPage[e]
              })), i = 5 / this.app.scale, o = B, s = [], u = 0; u < a
              .length; u++) {
              var l = this.opsManager.drawOpsOfPage[a[u]];
              if ("link" !== l.data.type) {
                var c = l.data.boundary,
                  p = l.data.rAngle || 0,
                  h = ("number" == typeof l.data.xFactor && l.data.xFactor) < 0 ?
                  -1 : 1,
                  f = ("number" == typeof l.data.yFactor && l.data.yFactor) < 0 ?
                  -1 : 1,
                  g = void 0,
                  v = void 0,
                  m = void 0,
                  w = void 0;
                if (l.data.boundary.fixRealWorldHeight) {
                  var M = (0, d.getTransformedBoundary)(this.app.scale, l.data);
                  g = [M.sx, M.sy], v = [M.sx + M.w, M.sy], m = [M.sx + M.w, M
                    .sy + M.h
                  ], w = [M.sx, M.sy + M.h]
                } else g = (0, y.getTransPoint)([c.sx, c.sy], l.data.mat), v = (0,
                  y.getTransPoint)([c.sx + c.w, c.sy], l.data.mat), m = (0, y
                  .getTransPoint)([c.sx + c.w, c.sy + c.h], l.data.mat), w = (0,
                  y.getTransPoint)([c.sx, c.sy + c.h], l.data.mat);
                if (s.push([g, v, m, w]), g = (0, d.getPointAftPad)(g, o, p, 0, h,
                    f), v = (0, d.getPointAftPad)(v, o, p, 1, h, f), m = (0, d
                    .getPointAftPad)(m, o, p, 2, h, f), w = (0, d.getPointAftPad)(
                    w, o, p, 3, h, f), n.beginPath(), n.moveTo(g[0], g[1]), n
                  .lineTo(v[0], v[1]), n.lineTo(m[0], m[1]), n.lineTo(w[0], w[1]),
                  n.closePath(), n.lineWidth = 1 / this.app.scale, n.strokeStyle =
                  I, n.stroke(), !e.inProgress && this.opsManager
                  .currOp instanceof t && r && this.drawCornerDot({
                    ctx: n,
                    dotSize: i,
                    p1: g,
                    p2: v,
                    p3: m,
                    p4: w
                  }), 1 === a.length && "shape" === l.data.type)
                  if (!this.opsManager.opMap.shape.isTxtContained(l)) {
                    n.beginPath();
                    var C = void 0,
                      b = void 0,
                      x = void 0,
                      T = void 0,
                      k = void 0,
                      E = i / Math.abs(l.data.yFactor || 1),
                      N = i / Math.abs(l.data.xFactor || 1);
                    l.data.yFactor < 0 ? (C = g, b = v, x = (0, y.getTransPoint)([
                        c.sx + c.w / 2 - N, c.sy + .5 * E
                      ], l.data.mat), T = (0, y.getTransPoint)([c.sx + c.w / 2,
                        c.sy - .8 * E
                      ], l.data.mat), k = (0, y.getTransPoint)([c.sx + c.w / 2 +
                        N, c.sy + .5 * E
                      ], l.data.mat)) : (C = m, b = w, x = (0, y.getTransPoint)([c
                        .sx + c.w / 2 - N, c.sy - .5 * E + c.h
                      ], l.data.mat), T = (0, y.getTransPoint)([c.sx + c.w / 2,
                        c.sy + .9 * E + c.h
                      ], l.data.mat), k = (0, y.getTransPoint)([c.sx + c.w / 2 +
                        N, c.sy - .5 * E + c.h
                      ], l.data.mat)), n.arc(C[0] / 2 + b[0] / 2, C[1] / 2 + b[
                        1] / 2, 3 * i, 0, 2 * Math.PI), n.fillStyle = "white", n
                      .fill(), n.beginPath(), n.moveTo(x[0], x[1]), n.lineTo(T[0],
                        T[1]), n.lineTo(k[0], k[1]), n.strokeStyle = "black", n
                      .lineWidth = 2, n.stroke()
                  }
              } else {
                this.opsManager.linkOp.drawSelectedLink(n, l);
                var O = l.data.boundary;
                O && s.push([
                  [O.sx, O.sy],
                  [O.sx + O.w, O.sy],
                  [O.sx + O.w, O.sy + O.h],
                  [O.sx, O.sy + O.h]
                ])
              }
            }
            return s
          }
        }, {
          key: "drawCornerDot",
          value: function (e) {
            var t = e.ctx,
              n = e.p1,
              r = e.p2,
              A = e.p3,
              a = e.p4,
              i = e.dotSize;
            t.fillStyle = "rgb(255, 255, 255)", t.strokeStyle =
              "rgb(100, 100, 100)", t.beginPath(), t.moveTo(n[0] + i, n[1]), t
              .arc(n[0], n[1], i, 0, 2 * Math.PI), t.moveTo(r[0] + i, r[1]), t
              .arc(r[0], r[1], i, 0, 2 * Math.PI), t.moveTo(A[0] + i, A[1]), t
              .arc(A[0], A[1], i, 0, 2 * Math.PI), t.moveTo(a[0] + i, a[1]), t
              .arc(a[0], a[1], i, 0, 2 * Math.PI), t.fill(), t.stroke(), t
              .closePath()
          }
        }, {
          key: "setSelectedOpIds",
          value: function (e) {
            var t = this.opsManager.opMap.url;
            e = e.filter((function (e) {
              return e !== t.currentUrlOpid
            })), this.selectedOpIds.join(",") !== e.join(",") && (this.emit(
                "event:appState:change", "selectChange", this.selectedOpIds
                .slice(), e.slice(), (0, f.filterNonMediaOpIds)(this, e)), this
              .opsManager.hooks.selectChange.call(this.selectedOpIds.slice(), e
                .slice()), this.selectedOpIds = e, this.dispatch(this
                .getSnapshot(e.slice())))
          }
        }]), t
      }(p.default);
    t.default = M
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.ClickItem = void 0;
    var r = d(n(5)),
      A = d(n(2)),
      a = d(n(0)),
      i = d(n(1)),
      o = d(n(3)),
      s = d(n(26)),
      u = d(n(4)),
      l = d(n(6)),
      c = n(40);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(395);
    t.ClickItem = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.clickHandler = function (t) {
          var n = e.pickedProps,
            r = n.onClick,
            A = n.toolName,
            a = n.value;
          null == r || r({
            type: t.type,
            target: t.target,
            toolName: A,
            value: a
          }), e.isHover = !1
        }, e
      }
      return (0, u.default)(t, e), (0, i.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, s.default)(t.prototype.__proto__ || (0, A.default)(t.prototype),
            "propsFilter", this).call(this, ["onClick"])
        }
      }, {
        key: "defaultClassNames",
        get: function () {
          return (0, s.default)(t.prototype.__proto__ || (0, A.default)(t
            .prototype), "defaultClassNames", this).concat("click-item")
        }
      }, {
        key: "children",
        get: function () {
          var e = this.pickedProps,
            t = e.value,
            n = e.disabled;
          return l.default.createElement("button", (0, r.default)({
            className: this.className,
            style: this.style,
            value: t,
            disabled: n
          }, this.nativeProps, this.hoverProps, {
            onClick: this.clickHandler
          }), this.itemChildren)
        }
      }]), t
    }(c.Item)
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.SubsPanel = void 0;
    var r = c(n(5)),
      A = c(n(2)),
      a = c(n(0)),
      i = c(n(1)),
      o = c(n(3)),
      s = c(n(4)),
      u = c(n(106)),
      l = c(n(6));

    function c(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var d = function (e, t) {
      var n = {};
      for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 &&
        (n[r] = e[r]);
      if (null != e && "function" == typeof u.default) {
        var A = 0;
        for (r = (0, u.default)(e); A < r.length; A++) t.indexOf(r[A]) < 0 && Object
          .prototype.propertyIsEnumerable.call(e, r[A]) && (n[r[A]] = e[r[A]])
      }
      return n
    };
    t.SubsPanel = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.left = 0, e.top = 0, e.ref = l.default.createRef(), e
          ._componentDidUpdate = function () {
            var t = e.props,
              n = t.isShow,
              A = t.offset,
              a = t.tbAlign;
            if (n) {
              var i = e.ref.current;
              if (i) {
                var o = i.parentElement;
                if (o) {
                  var s = (0, r.default)({
                      x: 0,
                      y: 0
                    }, A),
                    u = s.x,
                    l = s.y,
                    c = o.getBoundingClientRect(),
                    d = i.getBoundingClientRect(),
                    p = window.innerWidth,
                    h = window.innerHeight,
                    f = c.bottom,
                    g = c.left + .5 * (c.width - d.width),
                    y = !1;
                  if ("down" === a && f + d.height + l <= h ? f += l : "down" === a && c
                    .top - l - d.height > 0 || c.top - l - d.height > 0 ? f = c.top -
                    l - d.height : f + d.height + l <= h ? f += l : (y = !0, f = h < d
                      .height ? 0 : d.height > h - c.top + l ? h - d.height : c.top - l
                      ), y)
                    if (c.right + u + d.width < p) g = c.right + u;
                    else if (c.left - u - d.width > 0) g = c.left - u - d.width;
                  else {
                    g = c.left + .5 * c.width < .5 * p ? p - d.width : 0
                  } else p < d.width || g < 0 ? g = 0 : g + d.width > p && (g = p - d
                    .width);
                  e.ref.current.style.top = f + "px", e.ref.current.style.left = g +
                    "px"
                }
              }
            }
          }, e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "componentDidUpdate",
        value: function (e) {
          clearTimeout(this.timer), e.isShow ? this.timer = setTimeout(this
            ._componentDidUpdate, 0) : this._componentDidUpdate()
        }
      }, {
        key: "render",
        value: function () {
          var e = this.props,
            t = e.isShow,
            n = e.style,
            A = e.children,
            a = (e.offset, d(e, ["isShow", "style", "children", "offset"]));
          return t ? l.default.createElement("div", (0, r.default)({}, a, {
            style: (0, r.default)((0, r.default)({}, n), {
              position: "fixed"
            }),
            ref: this.ref
          }), A) : null
        }
      }]), t
    }(l.default.Component)
  }, function (e, t) {
    t.f = {}.propertyIsEnumerable
  }, function (e, t, n) {
    "use strict";
    e.exports = function (e, t) {
      return "string" != typeof e ? e : (/^['"].*['"]$/.test(e) && (e = e.slice(1, -1)),
        /["'() \t\n]/.test(e) || t ? '"' + e.replace(/"/g, '\\"').replace(/\n/g,
          "\\n") + '"' : e)
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.getLinkTextPos = t.getArrowPts = t.graphFromAnchors = t.tidyGraph = t
      .getNearestLinkInfo = t.getLinkPosByPer = t.graphAftEndM = t.graphAftConnM = t
      .graphAftConnD = t.graphAftTypeM = t.drawLink = t.patchLink = t.isUnderPoint = t
      .isUnderRect = t.graphInit = t.getEndAngle = void 0;
    var r = l(n(7)),
      A = n(28),
      a = l(n(228)),
      i = l(n(140)),
      o = l(n(135)),
      s = n(39),
      u = n(15);

    function l(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var c = function (e, t, n) {
        switch (e) {
          case A.ILinkType.Line:
            return a.default[t](n);
          case A.ILinkType.Curve:
            return i.default[t](n);
          case A.ILinkType.Segment:
            return o.default[t](n)
        }
      },
      d = t.getEndAngle = function (e) {
        return c(e.data.linkType, "getEndAngle", e)
      },
      p = (t.graphInit = function (e) {
        return c(e.linkType, "graphInit", e)
      }, t.isUnderRect = function (e) {
        return c(e.data.linkType, "isUnderRect", e)
      }, t.isUnderPoint = function (e) {
        return c(e.data.linkType, "isUnderPoint", e)
      }, t.patchLink = function (e) {
        return c(e.data.linkType, "patchLink", e)
      }, t.drawLink = function (e) {
        return c(e.data.linkType, "drawLink", e)
      }, t.graphAftTypeM = function (e) {
        var t = e.data,
          n = e.type,
          r = e.op;
        if (t.linkType !== n) {
          if (0 === t.connPs.filter((function (e) {
              return e.type === A.IConnPointType.Anchor
            })).length) {
            var a = (0, s.getLinkEndPos)(r.app, t.start, r),
              i = (0, s.getLinkEndPos)(r.app, t.end, r);
            return c(n, "graphInit", {
              start: a,
              end: i,
              op: r,
              linkType: n
            })
          }
          return c(e.data.linkType, "graphAftTypeM", e)
        }
      }, t.graphAftConnD = function (e) {
        return c(e.data.linkType, "graphAftConnD", e)
      }, t.graphAftConnM = function (e) {
        return c(e.linkType, "graphAftConnM", e)
      }, t.graphAftEndM = function (e) {
        return c(e.linkType, "graphAftEndM", e)
      }, t.getLinkPosByPer = function (e) {
        return c(e.data.linkType, "getLinkPosByPer", e)
      });
    t.getNearestLinkInfo = function (e) {
      return c(e.data.linkType, "getNearestLinkInfo", e)
    }, t.tidyGraph = function (e) {
      return c(e.linkType, "tidyGraph", e)
    }, t.graphFromAnchors = function (e) {
      return c(e.linkType, "graphFromAnchors", e)
    }, t.getArrowPts = function (e) {
      var t = e.data,
        n = e.op,
        r = e.startPos,
        A = e.endPos,
        a = d({
          data: t,
          op: n
        }),
        i = Number(t.lineWidth);
      return i = isNaN(i) ? 1 : i, i = Math.max(i, 3), {
        start: (0, u.getArrowPointsByAngle)(i, a[0], r.x, r.y),
        end: (0, u.getArrowPointsByAngle)(i, a[1], A.x, A.y)
      }
    }, t.getLinkTextPos = function (e) {
      var t = e.data,
        n = e.op,
        A = e.page,
        a = e.data.text || [],
        i = [],
        o = !0,
        s = !1,
        u = void 0;
      try {
        for (var l, c = (0, r.default)(a.arr); !(o = (l = c.next()).done); o = !0) {
          var d = l.value,
            h = p({
              per: d.per,
              data: t,
              op: n,
              page: A
            });
          i.push({
            sx: h[0] - d.w / 2,
            sy: h[1] - d.h / 2,
            w: d.w,
            h: d.h
          })
        }
      } catch (e) {
        s = !0, u = e
      } finally {
        try {
          !o && c.return && c.return()
        } finally {
          if (s) throw u
        }
      }
      return i
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.MAX_LINK_TXT_LEN = t.MAX_TXT_LEN = t.MAX_SHAPE_TXT_LEN = t.SUGGEST_SHAPE_GAP =
      t.SUGGEST_SHAPE_DIST = t.ATTCH_THRES = t.POINT_EXTEND_THRES = t
      .SEG_UNDER_POINT_THRES = t.SEG_MERGE_THRES = t.CONN_DISP_THRES = t
      .TEXT_REMOVE_THRES = t.CONN_TEST_RADIUS = t.END_POINT_TEST_RADIUS = t
      .HINT_TEST_RADIUS = t.HINT_RADIUS = t.HINT_BORDER_PAD = void 0;
    var r = (0, n(53).deviceOS)(),
      A = r.isMobile || r.isTablet;
    t.HINT_BORDER_PAD = 20, t.HINT_RADIUS = 3, t.HINT_TEST_RADIUS = A ? 12 : 5, t
      .END_POINT_TEST_RADIUS = A ? 35 : 15, t.CONN_TEST_RADIUS = A ? 35 : 15, t
      .TEXT_REMOVE_THRES = 50, t.CONN_DISP_THRES = 10, t.SEG_MERGE_THRES = 1, t
      .SEG_UNDER_POINT_THRES = 5, t.POINT_EXTEND_THRES = 3, t.ATTCH_THRES = A ? 30 : 20, t
      .SUGGEST_SHAPE_DIST = 240, t.SUGGEST_SHAPE_GAP = 10, t.MAX_SHAPE_TXT_LEN = 1200, t
      .MAX_TXT_LEN = 1200, t.MAX_LINK_TXT_LEN = 80
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.convertToCameraBoundSnapshot = void 0;
    var r = p(n(2)),
      A = p(n(0)),
      a = p(n(1)),
      i = p(n(3)),
      o = p(n(26)),
      s = p(n(4)),
      u = p(n(21)),
      l = n(236),
      c = p(n(9)),
      d = n(19);

    function p(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.convertToCameraBoundSnapshot = function (e, t) {
      var n = e.getNextCameraBound(t);
      return (n.width > 1e5 || n.height > 1e5) && (n.width > n.height ? (n.height =
          1e5 * n.height / n.width, n.width = 1e5) : (n.width = 1e5 * n.width / n
          .height, n.height = 1e5)), !n.width || !n.height || n.width < 0 || n.height <
        0 ? (e.app.logger.warn("[wb] boundary计算结果不可用，这次camera bound转换返回原值", (0, u
          .default)(n)), e.app.logger.warn("[wb] container宽高为", e.app.container.width,
          e.app.container.height), e.app.logger.warn("[wb] 快照类型", t.type), {
          type: "camera-bound",
          boundary: {
            centerX: e.centerX,
            centerY: e.centerY,
            width: e.width,
            height: e.height
          },
          skipUndo: !0,
          animate: !1,
          reuseOpType: "camera-bound"
        }) : {
          type: "camera-bound",
          boundary: n,
          skipUndo: !0,
          animate: t.animate,
          reuseOpType: "camera-bound"
        }
    };
    var h = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "camera-bound", e.description = "视角位置", e
      }
      return (0, s.default)(t, e), (0, a.default)(t, [{
        key: "registerHooks",
        value: function () {
          (0, o.default)(t.prototype.__proto__ || (0, r.default)(t.prototype),
            "registerHooks", this).call(this), this.opsManager.hooks.opAdd.tap(
            "OpAdd", this.onOpAdded.bind(this))
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            "camera-bound:send": {
              value: this.sendCameraBound.bind(this),
              information: {
                args: "boundary: {centerX: number, centerY: number, width: number, width: number}, animate: boolean",
                message: "发送当前用户的camera-bound，常用于主播同步自己的camera-bound"
              }
            }
          }
        }
      }, {
        key: "onOpAdded",
        value: function (e) {
          var t = e.data;
          if (("video" === t.type || "audio" === t.type || "url" === t.type) &&
            !1 === t.skipUndo && t.boundary && "follower" !== this.app.vision
            .mode) {
            var n = "video" === t.type ? this.app.appConfig.videoFitStrategy :
              this.app.appConfig.audioFitStrategy;
            if (n && n.type === l.MediaFitStrategy.Contain || e.uid === this.app
              .account && !this.app.isRecordPlayer) {
              var r = (0, d.extendCameraToSnap)({
                app: this.app,
                boundary: t.boundary,
                pad: 0
              });
              r.needAdjust && this.sendCameraBound(r.camera, !0)
            } else if (n && n.type === l.MediaFitStrategy.FitPercentange) {
              var A = t.boundary.w,
                a = t.boundary.h;
              A / a > this.app.container.width / this.app.container.height ? a =
                A / this.app.container.width * this.app.container.height : A =
                a / this.app.container.height * this.app.container.width, this
                .sendCameraBound({
                  centerX: t.boundary.sx + t.boundary.w / 2,
                  centerY: t.boundary.sy + t.boundary.h / 2,
                  width: A / n.value,
                  height: a / n.value
                }, !0)
            }
          }
        }
      }, {
        key: "sendCameraBound",
        value: function (e, t) {
          console.warn("sendCameraBound boundary: ", e, t), this.dispatch({
            type: "camera-bound",
            boundary: e,
            skipUndo: !0,
            animate: t,
            reuseOpType: "camera-bound"
          })
        }
      }]), t
    }(c.default);
    t.default = h
  }, function (e, t, n) {
    var r = n(80),
      A = Math.min;
    e.exports = function (e) {
      return e > 0 ? A(r(e), 9007199254740991) : 0
    }
  }, function (e, t) {
    var n = 0,
      r = Math.random();
    e.exports = function (e) {
      return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++n + r).toString(36))
    }
  }, function (e, t, n) {
    var r = n(30),
      A = n(173),
      a = n(83),
      i = n(81)("IE_PROTO"),
      o = function () {},
      s = function () {
        var e, t = n(76)("iframe"),
          r = a.length;
        for (t.style.display = "none", n(112).appendChild(t), t.src = "javascript:", (e =
            t.contentWindow.document).open(), e.write(
            "<script>document.F=Object<\/script>"), e.close(), s = e.F; r--;) delete s
          .prototype[a[r]];
        return s()
      };
    e.exports = Object.create || function (e, t) {
      var n;
      return null !== e ? (o.prototype = r(e), n = new o, o.prototype = null, n[i] =
        e) : n = s(), void 0 === t ? n : A(n, t)
    }
  }, function (e, t) {}, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.DataReportConnError = t.DataReportRunError = void 0;
    var r = i(n(94)),
      A = i(n(5)),
      a = i(n(21));

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.DataReportRunError = {
      Board_Lost: 3,
      Page_Lost: 4,
      Link_Id_Miss: 5,
      Pen_Intens_Len_Inconsistent: 6
    }, t.DataReportConnError = {
      Get_Channel_Error: 1,
      IM_Join_Channel_Error: 2,
      IM_Create_Channel_Error: 3,
      Socket_Conn_Closed: 4,
      HeartBeat_Timeout: 5,
      Socket_Closed: 6,
      Sync_Timeout: 7,
      Resend_Count_Exceed_Max: 8
    };
    t.default = function (e, t, n, i) {
      fetch(e, {
        method: "post",
        headers: {
          "content-type": "application/json"
        },
        body: (0, a.default)({
          common: {
            device_id: "",
            session_id: n,
            sdk_type: "whiteboard",
            ver: "2.0"
          },
          event: (0, r.default)({}, t, (0, A.default)((0, A.default)({}, i), {
            sdkVersion: "3.9.15",
            userAgent: navigator.userAgent
          }))
        })
      })
    }
  }, function (e, t, n) {
    var r = n(56),
      A = n(18)("toStringTag"),
      a = "Arguments" == r(function () {
        return arguments
      }());
    e.exports = function (e) {
      var t, n, i;
      return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (n =
          function (e, t) {
            try {
              return e[t]
            } catch (e) {}
          }(t = Object(e), A)) ? n : a ? r(t) : "Object" == (i = r(t)) && "function" ==
        typeof t.callee ? "Arguments" : i
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = g(n(7)),
      A = g(n(2)),
      a = g(n(0)),
      i = g(n(1)),
      o = g(n(3)),
      s = g(n(4)),
      u = n(133),
      l = g(n(9)),
      c = n(134),
      d = g(c),
      p = g(n(22)),
      h = n(28),
      f = n(223);

    function g(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var y = function (e) {
      function t(e) {
        var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        (0, a.default)(this, t);
        var r = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).call(this, e));
        return r.type = "", r.shouldSaniteEp = !1, r.points = [], r.sampleSeq = 0, r
          .inProgressId = "", r.penIntens = new f.PenIntens(e, n), r
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.pageChange.tap("PageChange", this
            .handlePageChange.bind(this))
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            activate: {
              value: !0,
              information: {
                args: "",
                message: "设置工具栏状态为：" + this.type
              }
            }
          }
        }
      }, {
        key: "handlePageChange",
        value: function () {
          this.beginBatch(), this.sampleSeq = 0, this.points = [], this
            .penIntens.changeIntens(this.points)
        }
      }, {
        key: "handleMouseMove",
        value: function (e, t, r) {
          var A;
          if (this.isMouseDown || this.app.container.isTargetOnContainer(e
              .target)) {
            var a = null === (A = this.opsManager.currOp) || void 0 === A ?
              void 0 : A.type;
            p.default[a + "Def"].cursorImgUrl ? document.body.style.cursor =
              "url(" + p.default[a + "Def"].cursorImgUrl + ") 0 17, auto" :
              document.body.style.cursor = "url(" + n(225) + ") 0 17, auto"
          } else document.body.style.cursor = "auto";
          if (this.isMouseDown) {
            t = Number(t.toFixed(1)), r = Number(r.toFixed(1)), this.points
              .push([t, r]), this.penIntens.changeIntens(this.points);
            try {
              this.inProgressId ? this.dispatch(this.getSnapshot(!0), !1, this
                .inProgressId) : this.inProgressId = this.dispatch(this
                .getSnapshot(!0))
            } catch (e) {
              this.logger.warn("[wb] MouseMoveDrawOp MouseMove Error: " + e)
            }
            this.sampleSeq += 1
          }
        }
      }, {
        key: "handleMouseDown",
        value: function (e, t, n, r, A) {
          this.beginBatch(), t = Number(t.toFixed(1)), n = Number(n.toFixed(1)),
            this.points = [
              [t, n]
            ], this.penIntens.changeIntens(this.points), this.sampleSeq = 0,
            this.inProgressId = ""
        }
      }, {
        key: "handleMouseUp",
        value: function (e, t, n, r, A) {
          var a = arguments.length > 5 && void 0 !== arguments[5] && arguments[
            5];
          if (a || this.isMouseDown && this.isMouseMoved) {
            t = Number(t.toFixed(1)), n = Number(n.toFixed(1)), this.points
              .push([t, n]), this.penIntens.changeIntens(this.points);
            try {
              this.inProgressId ? this.dispatch(this.getSnapshot(!1), !1, this
                  .inProgressId) : this.dispatch(this.getSnapshot(!1)), this
                .inProgressId = ""
            } catch (e) {
              this.logger.warn("[wb] MouseMoveDrawOp MouseUp Error: " + e)
            }
            this.points = [], this.penIntens.changeIntens(this.points)
          } else a || !this.isMouseDown || this.isMouseMoved || this
            .dispatchClickSnap(e, t, n)
        }
      }, {
        key: "handleClick",
        value: function (e, t, n, r, A) {
          !this.dispatchClickSnap(e, t, n) && this.opsManager.selectOp
            .selectedOpIds.length > 0 && this.dispatch(this.opsManager.selectOp
              .getSnapshot([]))
        }
      }, {
        key: "handlePointerDown",
        value: function (e) {
          this.penIntens.down(e)
        }
      }, {
        key: "handlePointerMove",
        value: function (e) {
          this.penIntens.move(e)
        }
      }, {
        key: "handlePointerUp",
        value: function (e) {
          this.penIntens.up(e)
        }
      }, {
        key: "dispatchClickSnap",
        value: function (e, t, n) {
          return !1
        }
      }, {
        key: "getTwoPointShapeCommonProperty",
        value: function (e) {
          return {
            type: this.type,
            boundary: this.getBoundaryRectOfLine(),
            sp: this.sp,
            ep: this.ep,
            lineWidth: p.default.penDef.lineWidth,
            stroke: p.default.penDef.stroke,
            inProgress: e.inProgress
          }
        }
      }, {
        key: "getFreeDrawCommonProperty",
        value: function (e) {
          return {
            type: this.type,
            boundary: this.getBoundaryRectOfFreeDraw(),
            lineWidth: p.default.penDef.lineWidth,
            stroke: p.default.penDef.stroke,
            inProgress: e.inProgress
          }
        }
      }, {
        key: "getBoundaryRectOfFreeDraw",
        value: function () {
          var e = this.points.filter((function (e) {
            return e
          }));
          if (0 === e.length) throw this.logger.warn("[wb] 涂鸦没有记录任何数据"),
            new Error("涂鸦没有记录任何数据");
          var t = e[0][0],
            n = e[0][1],
            A = t,
            a = n,
            i = !0,
            o = !1,
            s = void 0;
          try {
            for (var l, c = (0, r.default)(e); !(i = (l = c.next()).done); i = !
              0) {
              var d = l.value;
              t = (0, u.min)(d[0], t), n = (0, u.min)(d[1], n), A = (0, u.max)(
                d[0], A), a = (0, u.max)(d[1], a)
            }
          } catch (e) {
            o = !0, s = e
          } finally {
            try {
              !i && c.return && c.return()
            } finally {
              if (o) throw s
            }
          }
          return {
            sx: t,
            sy: n,
            w: Number((A - t).toFixed(2)),
            h: Number((a - n).toFixed(2))
          }
        }
      }, {
        key: "getBoundaryRectOfLine",
        value: function () {
          var e = (0, u.min)(this.sp[0], this.ep[0]),
            t = (0, u.min)(this.sp[1], this.ep[1]),
            n = (0, u.max)(this.sp[0], this.ep[0]),
            r = (0, u.max)(this.sp[1], this.ep[1]);
          return {
            sx: e,
            sy: t,
            w: Number((n - e).toFixed(2)),
            h: Number((r - t).toFixed(2))
          }
        }
      }, {
        key: "strokeOrFill",
        value: function (e, t) {
          if (e.save(), t.dash === h.IDashType.Dashed) {
            var n = 2 / this.app.scale;
            e.lineCap = "butt", e.lineWidth = 1 / this.app.scale, e.setLineDash(
              [n, 2 * n])
          } else e.lineWidth = t.lineWidth;
          if ("number" == typeof t.opacity && (e.globalAlpha = Number(t
              .opacity)), t.isShape && t.dash !== h.IDashType.Dashed) {
            var r = Number(e.lineWidth);
            e.lineWidth = 0, e.clip(), e.lineWidth = 2 * r
          }
          t.fill && (e.fillStyle = t.fill, e.fill()), t.stroke && (t.fill && -
            1 !== t.stroke.indexOf("rgba") && (e.strokeStyle = this.app
              .appConfig.canvasBgColor, e.stroke()), e.strokeStyle = t.stroke,
            e.stroke()), e.restore()
        }
      }, {
        key: "sanityEp",
        value: function (e) {
          return e[0] - this.sp[0] >= 0 && e[0] - this.sp[0] < 1 && (e[0] = this
            .sp[0] + 1), e[1] - this.sp[1] >= 0 && e[1] - this.sp[1] < 1 && (
            e[1] = this.sp[1] + 1), e
        }
      }, {
        key: "intepSnap",
        value: function (e) {
          return "pen" === this.type ? d.default.getSmootherSnapshot({
            app: this.app,
            snapshot: e,
            now: Date.now() + this.app.ntpTimeDiff,
            interpolateFn: c.pointsIntepFn
          }) : e
        }
      }, {
        key: "sp",
        get: function () {
          return this.points[0]
        }
      }, {
        key: "ep",
        get: function () {
          var e = this.points[this.points.length - 1];
          return this.shouldSaniteEp && (e = this.sanityEp(e)), e
        }
      }, {
        key: "enableIntens",
        get: function () {
          return this.penIntens.enable
        },
        set: function (e) {
          this.penIntens.enable = e
        }
      }]), t
    }(l.default);
    t.default = y
  }, function (e, t, n) {
    e.exports = {
      default: n(204),
      __esModule: !0
    }
  }, function (e, t, n) {
    var r = n(23),
      A = n(17).document,
      a = r(A) && r(A.createElement);
    e.exports = function (e) {
      return a ? A.createElement(e) : {}
    }
  }, function (e, t, n) {
    var r = n(23);
    e.exports = function (e, t) {
      if (!r(e)) return e;
      var n, A;
      if (t && "function" == typeof (n = e.toString) && !r(A = n.call(e))) return A;
      if ("function" == typeof (n = e.valueOf) && !r(A = n.call(e))) return A;
      if (!t && "function" == typeof (n = e.toString) && !r(A = n.call(e))) return A;
      throw TypeError("Can't convert object to primitive value")
    }
  }, function (e, t, n) {
    var r = n(56);
    e.exports = Object("z").propertyIsEnumerable(0) ? Object : function (e) {
      return "String" == r(e) ? e.split("") : Object(e)
    }
  }, function (e, t) {
    e.exports = function (e) {
      if (null == e) throw TypeError("Can't call method on  " + e);
      return e
    }
  }, function (e, t) {
    var n = Math.ceil,
      r = Math.floor;
    e.exports = function (e) {
      return isNaN(e = +e) ? 0 : (e > 0 ? r : n)(e)
    }
  }, function (e, t, n) {
    var r = n(82)("keys"),
      A = n(69);
    e.exports = function (e) {
      return r[e] || (r[e] = A(e))
    }
  }, function (e, t, n) {
    var r = n(8),
      A = n(17),
      a = A["__core-js_shared__"] || (A["__core-js_shared__"] = {});
    (e.exports = function (e, t) {
      return a[e] || (a[e] = void 0 !== t ? t : {})
    })("versions", []).push({
      version: r.version,
      mode: n(57) ? "pure" : "global",
      copyright: "© 2020 Denis Pushkarev (zloirock.ru)"
    })
  }, function (e, t) {
    e.exports =
      "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf"
      .split(",")
  }, function (e, t) {
    t.f = Object.getOwnPropertySymbols
  }, function (e, t, n) {
    "use strict";
    var r = n(57),
      A = n(10),
      a = n(111),
      i = n(37),
      o = n(50),
      s = n(172),
      u = n(58),
      l = n(113),
      c = n(18)("iterator"),
      d = !([].keys && "next" in [].keys()),
      p = function () {
        return this
      };
    e.exports = function (e, t, n, h, f, g, y) {
      s(n, t, h);
      var v, m, w, B = function (e) {
          if (!d && e in b) return b[e];
          switch (e) {
            case "keys":
            case "values":
              return function () {
                return new n(this, e)
              }
          }
          return function () {
            return new n(this, e)
          }
        },
        I = t + " Iterator",
        M = "values" == f,
        C = !1,
        b = e.prototype,
        x = b[c] || b["@@iterator"] || f && b[f],
        T = x || B(f),
        k = f ? M ? B("entries") : T : void 0,
        E = "Array" == t && b.entries || x;
      if (E && (w = l(E.call(new e))) !== Object.prototype && w.next && (u(w, I, !0),
          r || "function" == typeof w[c] || i(w, c, p)), M && x && "values" !== x
        .name && (C = !0, T = function () {
          return x.call(this)
        }), r && !y || !d && !C && b[c] || i(b, c, T), o[t] = T, o[I] = p, f)
        if (v = {
            values: M ? T : B("values"),
            keys: g ? T : B("keys"),
            entries: k
          }, y)
          for (m in v) m in b || a(b, m, v[m]);
        else A(A.P + A.F * (d || C), t, v);
      return v
    }
  }, function (e, t, n) {
    t.f = n(18)
  }, function (e, t, n) {
    var r = n(69)("meta"),
      A = n(23),
      a = n(43),
      i = n(27).f,
      o = 0,
      s = Object.isExtensible || function () {
        return !0
      },
      u = !n(38)((function () {
        return s(Object.preventExtensions({}))
      })),
      l = function (e) {
        i(e, r, {
          value: {
            i: "O" + ++o,
            w: {}
          }
        })
      },
      c = e.exports = {
        KEY: r,
        NEED: !1,
        fastKey: function (e, t) {
          if (!A(e)) return "symbol" == typeof e ? e : ("string" == typeof e ? "S" :
            "P") + e;
          if (!a(e, r)) {
            if (!s(e)) return "F";
            if (!t) return "E";
            l(e)
          }
          return e[r].i
        },
        getWeak: function (e, t) {
          if (!a(e, r)) {
            if (!s(e)) return !0;
            if (!t) return !1;
            l(e)
          }
          return e[r].w
        },
        onFreeze: function (e) {
          return u && c.NEED && s(e) && !a(e, r) && l(e), e
        }
      }
  }, function (e, t, n) {
    var r = n(17),
      A = n(8),
      a = n(57),
      i = n(86),
      o = n(27).f;
    e.exports = function (e) {
      var t = A.Symbol || (A.Symbol = a ? {} : r.Symbol || {});
      "_" == e.charAt(0) || e in t || o(t, e, {
        value: i.f(e)
      })
    }
  }, function (e, t) {
    e.exports = function (e, t, n, r) {
      if (!(e instanceof t) || void 0 !== r && r in e) throw TypeError(n +
        ": incorrect invocation!");
      return e
    }
  }, function (e, t, n) {
    var r = n(73),
      A = n(18)("iterator"),
      a = n(50);
    e.exports = n(8).getIteratorMethod = function (e) {
      if (null != e) return e[A] || e["@@iterator"] || a[r(e)]
    }
  }, function (e, t, n) {
    "use strict";
    var r = n(54);

    function A(e) {
      var t, n;
      this.promise = new e((function (e, r) {
        if (void 0 !== t || void 0 !== n) throw TypeError(
        "Bad Promise constructor");
        t = e, n = r
      })), this.resolve = r(t), this.reject = r(n)
    }
    e.exports.f = function (e) {
      return new A(e)
    }
  }, function (e, t, n) {
    var r = n(37);
    e.exports = function (e, t, n) {
      for (var A in t) n && e[A] ? e[A] = t[A] : r(e, A, t[A]);
      return e
    }
  }, function (e, t, n) {
    var r = n(23);
    e.exports = function (e, t) {
      if (!r(e) || e._t !== t) throw TypeError("Incompatible receiver, " + t +
        " required!");
      return e
    }
  }, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var r, A = n(125),
      a = (r = A) && r.__esModule ? r : {
        default: r
      };
    t.default = function (e, t, n) {
      return t in e ? (0, a.default)(e, t, {
        value: n,
        enumerable: !0,
        configurable: !0,
        writable: !0
      }) : e[t] = n, e
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.transformOp = function (e, t, n) {
      var r = e.opsManager.opMap[n.data.type];
      if (!r) return t;
      try {
        return r && "transformOp" in r ? r.transformOp(t, n.data) : t
      } catch (n) {
        return e.logger.warn("transform op error"), e.logger.warn(t), e.logger.warn(n),
          t
      }
    }, t.patchOp = function (e, t) {
      var n = e.opsManager.opMap[t.data.type];
      try {
        n && "patchOp" in n && !t.data.hidden && n.patchOp(t)
      } catch (n) {
        e.logger.warn("patch op error"), e.logger.warn(t), e.logger.warn(n)
      }
    }, t.opNeedRefresh = function (e, t) {
      return (!(-1 !== ["select", "laser", "text"].indexOf(t.data.type) || -1 !== e
          .opsManager.drawOpTypes.indexOf(t.data.type)) || !t.data.inProgress) &&
        "mouse-pointer" !== t.data.type
    }, t.getSelectedOpIds = function (e) {
      var t = [],
        n = e.lastSelectOfUser[e.app.account];
      return n && (t = n.data.selectedOpIds.slice()), t = t.filter((function (t) {
        return e.drawOpQueue.hasOwnProperty(t) && !e.drawOpQueue[t].data.locked
      }))
    }, t.clearCtx = function (e) {
      e.clearRect(0, 0, e.canvas.width, e.canvas.height)
    }, t.fillCtx = function (e) {
      e.fillRect(0, 0, e.canvas.width, e.canvas.height)
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.PlatformArray = ["android", "ios", "pc", "mac", "pad", "web"], t
      .TouchPlatformArray = ["android", "ios", "pad"], t.overwritableTypes = ["select",
        "select-hover", "camera-bound", "mouse-pointer", "laser"
      ];
    var r = t.PluginType = void 0;
    ! function (e) {
      e[e.OneMotion = 0] = "OneMotion"
    }(r || (t.PluginType = r = {}))
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.setTextRange = t.inputHandler = t.beforeInputHandler = t.htmlToText = t
      .preventOverLen = void 0;
    var r = u(n(7));
    t.setEditorTxt = h, t.getEditorPos = function (e, t) {
      var n = t.xFactor,
        r = void 0 === n ? 1 : n,
        A = t.yFactor,
        i = void 0 === A ? 1 : A,
        o = t.boundary,
        s = t.mat,
        u = t.rAngle,
        l = t.shape,
        c = [
          [0, 0],
          [1, 1]
        ];
      l && e.ShapeDesc[l] && (c = e.ShapeDesc[l].textB);
      var d = (0, a.getTransPoint)([o.sx + o.w * c[0][0] + 0, o.sy + o.h * c[0][1] + 0],
          s),
        p = (0, a.getTransPoint)([o.sx + o.w * c[1][0] - 0, o.sy + o.h * c[0][1] + 0],
          s),
        h = (0, a.getTransPoint)([o.sx + o.w * c[1][0] - 0, o.sy + o.h * c[1][1] - 0],
          s),
        f = (0, a.getTransPoint)([o.sx + o.w * c[0][0] + 0, o.sy + o.h * c[1][1] - 0],
          s),
        g = (o.w * (c[1][0] - c[0][0]) - 0) * Math.abs(r || 1),
        y = (o.h * (c[1][1] - c[0][1]) - 0) * Math.abs(i || 1),
        v = d[0],
        m = d[1];
      r < 0 && i < 0 ? (v = h[0], m = h[1]) : r < 0 ? (v = p[0], m = p[1]) : i < 0 && (
        v = f[0], m = f[1]);
      return {
        sx: v,
        sy: m,
        w: g,
        h: y,
        angle: u || 0
      }
    };
    var A = n(31),
      a = n(29),
      i = n(19),
      o = u(n(32)),
      s = n(14);

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.preventOverLen = function (e, t) {
      var n = t;
      if ("paste" === e.type) {
        var r = (e.clipboardData || window.clipboardData).getData("Text") || "";
        r = (0, i.convertWinTxtToUnixTxt)(r);
        var a = l(e.target);
        e.preventDefault(), e.stopPropagation(), r.length + a.length > n ? (0, A
          .showToast)({
          msg: (0, s.getMsg)("txtExceed"),
          time: 1,
          type: "warn",
          msgTypes: o.default.TXT_EXCEED_MAX
        }) : (document.execCommand("insertText", !1, r), (0, A.hideToast)())
      } else {
        if (e.ctrlKey || e.metaKey) return (0, A.hideToast)();
        if ("Tab" === e.key) return e.preventDefault(), e.returnValue = !1, !1;
        if (-1 !== ["F1", "F2", "F3", "F4", "F5", "F6", "F7", "F8", "F9", "F10", "F11",
            "F12", "ArrowLeft", "ArrowRight", "ArrowUp", "ArrowDown", "Backspace",
            "Delete", "Tab", "Escape", "ContextMenu", "Control", "Shift", "Alt", "Meta",
            "Home", "End", "PageUp", "PageDown", "Clear", "Help", "NumLock", "Insert"
          ].indexOf(e.key)) return (0, A.hideToast)();
        var u = l(e.target),
          c = window.getSelection ? window.getSelection().toString().length : 0;
        u.length >= n + c ? ((0, A.showToast)({
          msg: (0, s.getMsg)("txtExceed"),
          time: 1,
          type: "warn",
          msgTypes: o.default.TXT_EXCEED_MAX
        }), e.preventDefault()) : (0, A.hideToast)()
      }
    };
    var l = t.htmlToText = function e(t) {
        var n = "",
          A = t.childNodes;
        if (0 === A.length) return t.tagName && "br" === t.tagName.toLowerCase() ? "\n" :
          t.textContent;
        var a = !0,
          i = !1,
          o = void 0;
        try {
          for (var s, u = (0, r.default)(A); !(a = (s = u.next()).done); a = !0) {
            var l = s.value;
            l.tagName && "div" === l.tagName.toLowerCase() && !n.endsWith("\n") && (n +=
              "\n"), n += e(l, !1)
          }
        } catch (e) {
          i = !0, o = e
        } finally {
          try {
            !a && u.return && u.return()
          } finally {
            if (i) throw o
          }
        }
        return n
      },
      c = {};
    t.beforeInputHandler = function (e) {
      var t = e.target.dataset.editorId;
      c[t] = e.target.innerHTML
    }, t.inputHandler = function (e, t, n) {
      var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
        a = l(e.target);
      r && (a = "\n" === a ? "" : a);
      var i = e.target.dataset.editorId,
        u = n;
      a.length > u ? ((0, A.showToast)({
        msg: (0, s.getMsg)("txtExceed"),
        time: 1,
        type: "warn",
        msgTypes: o.default.TXT_EXCEED_MAX
      }), h(e.target, c[i], !1), delete c[i], t(l(e.target, !0))) : (t(a, !0),
        delete c[i])
    };

    function d(e, t, n, r) {
      if (r.done) return r;
      var A = null;
      if (0 == e.childNodes.length) r.pos += e.textContent.length;
      else
        for (var a = 0; a < e.childNodes.length && !r.done; a++) {
          if ((A = e.childNodes[a]) === t) return r.pos += n, r.done = !0, r;
          d(A, t, n, r)
        }
      return r
    }

    function p(e, t, n) {
      if (n.done) return t;
      if (0 == e.childNodes.length) e.textContent.length >= n.pos ? (t.setStart(e, n.pos),
        n.done = !0) : n.pos = n.pos - e.textContent.length;
      else
        for (var r = 0; r < e.childNodes.length && !n.done; r++) p(e.childNodes[r], t, n);
      return n.done ? t : null
    }
    t.setTextRange = function (e, t) {
      var n = void 0,
        r = void 0;
      window.getSelection && document.createRange && ((r = document.createRange())
        .selectNodeContents(e), "start" === t ? r.collapse(!0) : ("end" === t || 0 ===
          r.toString().length) && r.collapse(!1), (n = window.getSelection())
        .removeAllRanges(), n.addRange(r))
    };

    function h(e, t) {
      var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
      if (l(e) !== t) {
        var r = window.getSelection(),
          A = void 0;
        if (r) {
          var a = r.focusNode,
            i = r.focusOffset;
          A = d(e, a, i, {
            pos: 0,
            done: !1
          })
        }
        if (n ? e.innerText = t : e.innerHTML = t, r && A) {
          r.removeAllRanges();
          var o = p(e, document.createRange(), {
            pos: A.pos,
            done: !1
          });
          o || (o = document.createRange()).selectNodeContents(e), o.collapse(!1), r
            .addRange(o)
        }
      }
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.shouldDispatch = function (e) {
      var t = e.vision.mode;
      return !("broadcaster" !== t && "freeObserver" !== t && !e.isRecordPlayer)
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.RadioItem = void 0;
    var r = p(n(5)),
      A = p(n(16)),
      a = p(n(2)),
      i = p(n(0)),
      o = p(n(1)),
      s = p(n(3)),
      u = p(n(26)),
      l = p(n(4)),
      c = p(n(6)),
      d = n(40);

    function p(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(405);
    t.RadioItem = function (e) {
      function t() {
        (0, i.default)(this, t);
        var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
          arguments));
        return e.changeHandler = function (t) {
          var n = e.pickedProps,
            r = n.onChange,
            A = n.toolName,
            a = n.value;
          null == r || r({
            type: t.type,
            target: t.target,
            toolName: A,
            value: a,
            checked: t.target.checked
          }), e.forceUpdate()
        }, e
      }
      return (0, l.default)(t, e), (0, o.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, u.default)(t.prototype.__proto__ || (0, a.default)(t.prototype),
            "propsFilter", this).call(this, ["onChange", "checked"])
        }
      }, {
        key: "defaultClassNames",
        get: function () {
          var e, n = this.pickedProps.checked;
          return (e = (0, u.default)(t.prototype.__proto__ || (0, a.default)(t
            .prototype), "defaultClassNames", this)).concat.apply(e, (0, A
            .default)(n ? ["radio-item", "radio-item-checked"] : [
            "radio-item"
          ]))
        }
      }, {
        key: "defaultStyle",
        get: function () {
          return (0, r.default)((0, r.default)({}, (0, u.default)(t.prototype
            .__proto__ || (0, a.default)(t.prototype), "defaultStyle",
            this)), {
            pointerEvents: "none"
          })
        }
      }, {
        key: "inputStyle",
        get: function () {
          return {
            position: "absolute",
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            width: "100%",
            height: "100%",
            appearance: "none",
            pointerEvents: "all"
          }
        }
      }, {
        key: "children",
        get: function () {
          var e = this.pickedProps,
            t = e.value,
            n = e.checked,
            A = e.disabled;
          return c.default.createElement("label", (0, r.default)({
            className: this.className,
            style: this.style
          }, this.hoverProps), c.default.createElement("input", (0, r
            .default)({
            type: "radio",
            value: t,
            style: this.inputStyle
          }, void 0 !== n ? {
            checked: n
          } : {}, {
            disabled: A
          }, this.nativeProps, {
            onChange: this.changeHandler
          })), this.itemChildren)
        }
      }]), t
    }(d.Item)
  }, function (e, t, n) {
    var r = n(63),
      A = n(55),
      a = n(41),
      i = n(77),
      o = n(43),
      s = n(109),
      u = Object.getOwnPropertyDescriptor;
    t.f = n(24) ? u : function (e, t) {
      if (e = a(e), t = i(t, !0), s) try {
        return u(e, t)
      } catch (e) {}
      if (o(e, t)) return A(!r.f.call(e, t), e[t])
    }
  }, function (e, t, n) {
    var r = n(10),
      A = n(8),
      a = n(38);
    e.exports = function (e, t) {
      var n = (A.Object || {})[e] || Object[e],
        i = {};
      i[e] = t(n), r(r.S + r.F * a((function () {
        n(1)
      })), "Object", i)
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = void 0,
      A = void 0;
    void 0 !== document.hidden ? (r = "hidden", A = "visibilitychange") : void 0 !==
      document.msHidden ? (r = "msHidden", A = "msvisibilitychange") : void 0 !== document
      .webkitHidden && (r = "webkitHidden", A = "webkitvisibilitychange");
    t.registerVisibleChangeHandler = function (e, t) {
      function n() {
        document[r] ? t() : e()
      }
      return document.addEventListener(A, n, !1),
        function () {
          document.removeEventListener(A, n)
        }
    }
  }, function (e, t, n) {
    e.exports = {
      default: n(243),
      __esModule: !0
    }
  }, , function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.DPI = void 0;
    var r = d(n(5)),
      A = d(n(108)),
      a = d(n(36)),
      i = d(n(16)),
      o = d(n(7)),
      s = d(n(0)),
      u = d(n(1)),
      l = n(153),
      c = n(278);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var p = t.DPI = window.devicePixelRatio || 1,
      h = 0,
      f = void 0,
      g = function () {
        function e(n) {
          var u = this;
          (0, s.default)(this, e), this.elInitW = 1920, this.elInitH = 1080, this
            .mounted = !1, this.interactionEnabled = !0, this.streamFixedWidth = 0, this
            .isLandscape = !1, this.elesToResize = [], this.top = 0, this.left = 0, this
            .isTouching = !1, this.focus = !1, this.keyPressed = {}, this.maybeClick = !1,
            this.mouseEventCache = [], this.isMouseDown = !1, this.isMouseMoved = !1, this
            .sx = 0, this.sy = 0, this.scx = 0, this.scy = 0, this.lastMx = 0, this
            .lastMy = 0, this.lastClientX = 0, this.lastClientY = 0, this.mouseSpeed = 0,
            this.lastMouseT = 0, this.lastTPos = [], this.lastSingleTPos = [], this
            .histScaleP = .5, this.currTC = 0, this.inPan = !1, this.lastClickAt = {
              x: 0,
              y: 0,
              t: 0
            }, this.onDPIChange = function () {
              t.DPI = p = window.devicePixelRatio, u.app.room.refresh()
            }, this._delayedResize = function () {
              f || (clearTimeout(f), f = setTimeout((function () {
                u._resize(!0), f = null
              }), 30))
            }, this._resize = function (e) {
              var t;
              if (u.el) {
                var n = u.el.getBoundingClientRect();
                u.containerRect = n, u.app.ifDeviceSupportOrientation && (u.isLandscape =
                  n.width > n.height);
                var r = !0,
                  A = !1,
                  a = void 0;
                try {
                  for (var i, s = (0, o.default)(u.elesToResize); !(r = (i = s.next())
                      .done); r = !0) {
                    var l = i.value;
                    if (l.style.width = (0, c.evenify)(n.width) + "px", l.style.height = (
                        0, c.evenify)(n.height) + "px", u.streamFixedWidth > 0 && l === u
                      .streamCanvas) {
                      var d = (0, c.evenify)(u.streamFixedWidth),
                        h = (0, c.evenify)(d * n.height / n.width);
                      l.width === d && l.height === h || (l.width = (0, c.evenify)(u
                        .streamFixedWidth), l.height = (0, c.evenify)(l.width * n
                        .height / n.width))
                    } else if (l instanceof HTMLCanvasElement)
                      if (l !== u.streamCanvas || u.keepStreamDPI) {
                        var f = (0, c.evenify)(n.width * p),
                          g = (0, c.evenify)(n.height * p);
                        l.width === f && l.height === g || (l.width = (0, c.evenify)(n
                          .width * p), l.height = (0, c.evenify)(n.height * p))
                      } else {
                        var y = (0, c.evenify)(n.width),
                          v = (0, c.evenify)(n.height);
                        l.width === y && l.height === v || (l.width = (0, c.evenify)(n
                          .width), l.height = (0, c.evenify)(n.height))
                      }
                  }
                } catch (e) {
                  A = !0, a = e
                } finally {
                  try {
                    !r && s.return && s.return()
                  } finally {
                    if (A) throw a
                  }
                }
                u.top = n.top, u.left = n.left, u.setElePosition(u.h5El, "fixed"), u
                  .setElePosition(u.domEl, "fixed"), u.ctx.lineCap = "round", u.ctx
                  .lineJoin = "round", u.frontCtx.lineCap = "round", u.frontCtx.lineJoin =
                  "round", u.localCtx.lineCap = "round", u.localCtx.lineJoin = "round", u
                  .laserCtx.lineCap = "round", u.laserCtx.lineJoin = "round", u
                  .streamCtx && (u.streamCtx.lineCap = "round", u.streamCtx.lineJoin =
                    "round"), e && (null === (t = u.opsManager) || void 0 === t || t
                    .resize(e, n.width, n.height)), u.streamCanvas && u.dispatcher.emit(
                    "event:appState:change", "streamSize", {
                      width: u.streamCanvas.width,
                      height: u.streamCanvas.height
                    }), u.dispatcher.emit("container:resize"), u.app.room.refresh()
              }
            }, this.unbindEvents = function () {
              var e;
              window.ResizeObserver && (null === (e = u._ro) || void 0 === e || e
                  .disconnect()), window.removeEventListener("resize", u._delayedResize),
                window.removeEventListener("orientationchange", u._delayedResize), window
                .removeEventListener("mousewheel", u._mousewheel, {
                  capture: !1
                }), window.removeEventListener("wheel", u._mousewheel, {
                  capture: !1
                }), document.removeEventListener("gesturestart", u._zoom), document
                .removeEventListener("gesturechange", u._zoom), document
                .removeEventListener("gestureend", u._zoom), (0, l.off)(u.el, "mousedown",
                  u.mousedown), (0, l.off)(u.el, "mouseleave", u._mouseleave), (0, l.off)(
                  u.el, "focus", u.elFocus), (0, l.off)(u.el, "blur", u.elBlur), (0, l
                  .off)(window.document, "mousemove", u.mousemove), (0, l.off)(window
                  .document, "mouseup", u.mouseup, !0), (0, l.off)(u.el, "touchstart", u
                  ._touchdown), (0, l.off)(u.el, "touchmove", u._touchmove), (0, l.off)(u
                  .el, "touchend", u._touchup), (0, l.off)(window.document, "keyup", u
                  ._keyup), (0, l.off)(window.document, "keydown", u._keydown), (0, l.off)
                (u.el, "contextmenu", u._contextmenu), (0, l.off)(u.el, "pointerdown", u
                  .pointerdown), (0, l.off)(u.el, "pointermove", u.pointermove), (0, l
                  .off)(u.el, "pointerup", u.pointerup), window.removeEventListener(
                  "copy", u._copy), window.removeEventListener("paste", u._paste)
            }, this.getEventTarget = function (e) {
              return e.touches && e.touches.length > 0 ? e.touches[0].target : e.target
            }, this.getEventClientPos = function (e) {
              var t = void 0,
                n = void 0;
              return e.touches && e.touches.length > 0 ? (t = e.touches[0].clientX, n = e
                  .touches[0].clientY) : (t = e.clientX, n = e.clientY), t -= u.left, n -=
                u.top, [].concat((0, i.default)(u.app.camera.convertToPointInWorld(t, n)),
                  [t, n])
            }, this.getTouchEventClientPos = function (e) {
              for (var t = [], n = 0; n < e.touches.length; n++) t.push(e.touches[n]
                .clientX), t.push(e.touches[n].clientY);
              return t
            }, this._copy = function (e) {
              u.focus && u.app.opsManager.dupOp.copy(e)
            }, this._paste = function (e) {
              u.focus && u.app.opsManager.dupOp.paste({
                event: e,
                fromWb: !1,
                mx: u.lastMx,
                my: u.lastMy
              })
            }, this._contextmenu = function (e) {
              e.preventDefault()
            }, this._touchdown = function (e) {
              clearTimeout(u.untouchT), u.isTouching = !0, u.mouseEmitTimer =
                clearTimeout(u.mouseEmitTimer), u.mouseEventCache = [];
              var t = e.touches.length;
              u.inPan = !1, u.currTC = t, u.lastAction = void 0, u.histScaleP = .5, 1 ===
                t ? u.mousedown(e, !1, !0) : (u.mouseup(e), 2 === t && (u.lastTPos = u
                  .getTouchEventClientPos(e)))
            }, this.elFocus = function () {
              u.focus = !0, u.keyPressed = {}
            }, this.elBlur = function () {
              u.focus = !1, u.keyPressed = {}
            }, this._touchmove = function (e) {
              var t, n, r, A, a;
              e.preventDefault();
              var i = e.touches.length;
              if (1 === i && u.inPan) {
                var o = u.getTouchEventClientPos(e);
                u.lastSingleTPos.length > 0 && (null === (t = u.opsManager) || void 0 ===
                    t || t.pan(e, o[0] - u.lastSingleTPos[0], o[1] - u.lastSingleTPos[1])
                    ), u.lastSingleTPos = o
              } else if (1 === i) u.mousemove(e);
              else if (2 === i) {
                var s = u.getTouchEventClientPos(e),
                  l = (0, c.deltaXY)(u.lastTPos, s),
                  d = (0, c.pinchScale)(u.lastTPos, s),
                  p = (0, c.fingerDiff)(u.lastTPos, s);
                u.lastTPos = s;
                var h = Math.abs(l[0]) / 2 + Math.abs(l[1]) / 2,
                  f = Math.abs(1 - d),
                  g = (0, c.scaleProb)(p, h, f);
                g + u.histScaleP < .75 && h > .5 ? (null === (n = u.opsManager) ||
                    void 0 === n || n.pan(e, l[0], l[1]), u.lastAction = "pan") : g + u
                  .histScaleP >= 1.25 && f > .007 ? (d = Math.max(Math.min(d, 1.2), .8),
                    null === (r = u.opsManager) || void 0 === r || r.scale(e, d, s[0] /
                      2 + s[2] / 2, s[1] / 2 + s[3] / 2), u.lastAction = "scale") :
                  "pan" === u.lastAction ? null === (A = u.opsManager) || void 0 === A ||
                  A.pan(e, l[0], l[1]) : "move" === u.lastAction && (null === (a = u
                    .opsManager) || void 0 === a || a.scale(e, d, s[0] / 2 + s[2] / 2,
                    s[1] / 2 + s[3] / 2)), u.histScaleP = .8 * u.histScaleP + .2 * g
              }
            }, this._touchup = function (e) {
              u.untouchT = setTimeout((function () {
                u.isTouching = !1
              }), 500);
              var t = e.touches.length;
              u.lastSingleTPos = [], 0 === t ? (u.mouseup(e, !1, !0), u.inPan = !1) :
                1 === t && u.currTC > 1 ? u.inPan = !0 : u.inPan = !1, u.currTC = t
            }, this.mousedown = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
              if ((!u.isTouching || n) && (u.interactionEnabled || t) && !u.isMouseDown) {
                u.isMouseMoved = !1, u.app.emit("event:mousedown", n, u.getEventTarget(
                e));
                var r = u.getEventClientPos(e),
                  A = (0, a.default)(r, 4),
                  i = A[0],
                  o = A[1],
                  s = A[2],
                  l = A[3];
                u.lastMx = i, u.lastMy = o, u.lastClientX = s, u.lastClientY = l, u
                  .isMouseDown = !0, u.maybeClick = !0, u.sx = i, u.sy = o, u.scx = s, u
                  .scy = l, u.mouseEventCache.push({
                    type: "mousedown",
                    args: [e, u.sx, u.sy, s, l]
                  }), u.mouseEmitTimer = setTimeout((function () {
                    u.maybeClick = !1, u._emitMouseEvents()
                  }), 150)
              }
            }, this.mousemove = function (e) {
              var t, n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
              if (u.interactionEnabled || n) {
                var r = u.getEventClientPos(e),
                  A = (0, a.default)(r, 4),
                  i = A[0],
                  o = A[1],
                  s = A[2],
                  l = A[3];
                if (u.lastMx = i, u.lastMy = o, u.lastClientX > 0) {
                  var c = Date.now(),
                    d = c - u.lastMouseT,
                    p = u.lastClientX - s,
                    h = u.lastClientY - l,
                    f = Math.abs(Math.round(p / d * 100)),
                    g = Math.abs(Math.round(h / d * 100));
                  u.lastMouseT = c, u.mouseSpeed = f + g
                }
                u.lastClientX = s, u.lastClientY = l, u.isMouseMoved = !0, u
                  .maybeClick = !1, u.mouseEmitTimer && (u.mouseEmitTimer = clearTimeout(u
                    .mouseEmitTimer), u._emitMouseEvents()), null === (t = u
                  .opsManager) || void 0 === t || t.mousemove(e, i, o, s, l)
              }
            }, this.mouseup = function (e) {
              var t, n, r, A = arguments.length > 1 && void 0 !== arguments[1] &&
                arguments[1],
                a = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
              if ((!u.isTouching || a) && (u.interactionEnabled || A) && u.isMouseDown) {
                u.app.emit("event:mouseup");
                var i = [u.lastMx, u.lastMy, u.lastClientX, u.lastClientY],
                  o = i[0],
                  s = i[1],
                  l = i[2],
                  c = i[3];
                if (u.maybeClick) {
                  u.mouseEmitTimer = clearTimeout(u.mouseEmitTimer), u
                    .mouseEventCache = [], u.maybeClick = !1, null === (n = u
                    .opsManager) || void 0 === n || n.click(e, o, s, l, c);
                  var d = Date.now(),
                    p = !1;
                  (a && Math.abs(l - u.lastClickAt.x) < 50 && Math.abs(c - u.lastClickAt
                      .y) < 50 && d - u.lastClickAt.t < 250 || !a && Math.abs(l - u
                      .lastClickAt.x) < 2 && Math.abs(c - u.lastClickAt.y) < 2 && d - u
                    .lastClickAt.t < 250) && (p = !0), p ? (null === (r = u.opsManager) ||
                    void 0 === r || r.dblClick(e, o, s, l, c), u.app.emit(
                      "event:dblClick"), u.lastClickAt.t = 0) : (u.lastClickAt.x = l, u
                    .lastClickAt.y = c, u.lastClickAt.t = d)
                } else u.mouseEmitTimer && (u.mouseEmitTimer = clearTimeout(u
                    .mouseEmitTimer), u._emitMouseEvents()), u.mouseEventCache = [],
                  null === (t = u.opsManager) || void 0 === t || t.mouseup(e, o, s, l, c);
                u.isMouseDown = !1
              }
            }, this._mouseleave = function (e) {
              var t, n = u.getEventClientPos(e),
                r = (0, a.default)(n, 4),
                A = r[0],
                i = r[1],
                o = r[2],
                s = r[3];
              null === (t = u.opsManager) || void 0 === t || t.mouseleave(e, A, i, o, s)
            }, this._zoom = function (e) {
              var t;
              if (u.isTargetOnContainer(e.target)) {
                var n = u.getEventClientPos(e),
                  r = (0, a.default)(n, 4),
                  A = r[0],
                  i = r[1],
                  o = r[2],
                  s = r[3];
                return null === (t = u.opsManager) || void 0 === t || t.mousewheel(e, A,
                  i, o, s), e.preventDefault()
              }
            }, this._mousewheel = function (e) {
              var t, n;
              if (u.isTargetOnContainer(e.target)) {
                var r = navigator.platform.toUpperCase().indexOf("MAC") >= 0,
                  i = navigator.userAgent.toUpperCase().indexOf("FIREFOX") >= 0;
                if (r && !i && (0, A.default)(e.deltaX) && (0, A.default)(e.deltaY)) {
                  if ((h += 1) > 2) {
                    var o = Math.max(Math.abs(e.deltaX), Math.abs(e.deltaY)) / 50,
                      s = 1.5 * e.deltaX,
                      l = 1.5 * e.deltaY;
                    o > 1 && (s /= o, l /= o), null === (t = u.opsManager) || void 0 ===
                      t || t.pan(e, -s, -l)
                  }
                } else {
                  var c = u.getEventClientPos(e),
                    d = (0, a.default)(c, 4),
                    p = d[0],
                    f = d[1],
                    g = d[2],
                    y = d[3];
                  null === (n = u.opsManager) || void 0 === n || n.mousewheel(e, p, f, g,
                    y), h = 0
                }
                e.preventDefault()
              }
            }, this.pointerdown = function (e) {
              var t;
              null === (t = u.opsManager) || void 0 === t || t.pointerdown(e)
            }, this.pointermove = function (e) {
              var t;
              null === (t = u.opsManager) || void 0 === t || t.pointermove(e)
            }, this.pointerup = function (e) {
              var t;
              null === (t = u.opsManager) || void 0 === t || t.pointerup(e)
            }, this._keyup = function (e) {
              var t;
              if (e && e.key && u.focus) {
                var n = e.key.toLocaleLowerCase();
                null === (t = u.opsManager) || void 0 === t || t.keyup(e), u.keyPressed[
                  n] = !1
              }
            }, this._keydown = function (e) {
              var t;
              if (e && e.key && u.focus) {
                var n = e.key.toLocaleLowerCase();
                u.keyPressed[n] = !0, null === (t = u.opsManager) || void 0 === t || t
                  .keydown(e)
              }
            }, this.isCtrlPressed = function () {
              return u.isKeyDown("control") || u.isKeyDown("meta")
            }, this.app = n, this.dispatcher = n.dispatcher, this.el = document
            .createElement("div"), (0, r.default)(this.el.style, {
              userSelect: "none",
              webkitUserSelect: "none",
              position: "relative",
              width: "100%",
              height: "100%",
              outline: "none"
            }), this.el.id = "yunxin-whiteboard", this.el.tabIndex = 0, this
            .setBackgroundColor();
          var d = this.setupCanvasElement("bg-canvas");
          if (this.bgCanvas = d.canvas, this.bgCtx = d.ctx, this.h5El = this
            .setupDivElement("h5-el", !1), this.bottomEl = this.setupDivElement(
              "bottom-el"), d = this.setupCanvasElement("anchor-canvas"), this.canvas = d
            .canvas, this.canvas.style["-webkit-font-smoothing"] = "antialiased", this
            .ctx = d.ctx, d = this.setupCanvasElement("inc-canvas"), this.frontCanvas = d
            .canvas, this.frontCtx = d.ctx, d = this.setupCanvasElement("local-canvas"),
            this.localCanvas = d.canvas, this.localCtx = d.ctx, this.domEl = this
            .setupDivElement("dom-el"), this.topEl = this.setupDivElement("top-el"), d =
            this.setupCanvasElement("laser-canvas"), this.laserCanvas = d.canvas, this
            .laserCtx = d.ctx, "function" == typeof matchMedia) {
            var g = matchMedia("(resolution: " + window.devicePixelRatio + "dppx)");
            "function" == typeof g.addEventListener ? g.addEventListener("change", this
              .onDPIChange, {
                once: !0
              }) : "function" == typeof g.addListener && g.addListener(this.onDPIChange)
          }
        }
        return (0, u.default)(e, [{
          key: "disableInteraction",
          value: function () {
            this.interactionEnabled = !1
          }
        }, {
          key: "enableInteraction",
          value: function () {
            this.interactionEnabled = !0
          }
        }, {
          key: "setBackgroundColor",
          value: function () {
            this.el.style.backgroundColor = this.app.appConfig.canvasBgColor
          }
        }, {
          key: "getStream",
          value: function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
              0] : {},
              t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[
                1],
              n = this.el.getBoundingClientRect(),
              r = e.frameRate;
            this.streamFixedWidth = e.width ? e.width : 0;
            var A = !e.hasOwnProperty("keepDPI") || e.keepDPI;
            this.keepStreamDPI = A;
            var a = e.width ? e.width : A ? n.width * p : n.width,
              i = a * n.height / n.width;
            if (a = (0, c.evenify)(a), i = (0, c.evenify)(i), !this
              .streamCanvas) {
              var o = this.setupCanvasElement("stream-canvas");
              this.streamCanvas = o.canvas, this.streamCanvas.style.visibility =
                "hidden", this.streamCtx = o.ctx
            }
            return this.streamCanvas.width = a, this.streamCanvas.height = i, this
              .streamCanvas.style.width = n.width + "px", this.streamCanvas.style
              .height = n.height + "px", this.streamCtx && (this.streamCtx
                .lineCap = "round", this.streamCtx.lineJoin = "round"), this
              .streamCanvas && this.dispatcher.emit("event:appState:change",
                "streamSize", {
                  width: this.streamCanvas.width,
                  height: this.streamCanvas.height
                }), t || !this.stream ? (this.stopStream(), this.stream = this
                .streamCanvas.captureStream(r), this.stream) : this.stream
          }
        }, {
          key: "stopStream",
          value: function () {
            if (this.stream) {
              var e = this.stream.getTracks(),
                t = !0,
                n = !1,
                r = void 0;
              try {
                for (var A, a = (0, o.default)(e); !(t = (A = a.next())
                  .done); t = !0) {
                  A.value.stop()
                }
              } catch (e) {
                n = !0, r = e
              } finally {
                try {
                  !t && a.return && a.return()
                } finally {
                  if (n) throw r
                }
              }
              this.stream = void 0
            }
          }
        }, {
          key: "appendTo",
          value: function (e) {
            this.mounted = !0, e.style.overflow = "hidden", e.appendChild(this
              .el), this._resize(), this._bindEvents(e)
          }
        }, {
          key: "addOpsManager",
          value: function (e) {
            this.opsManager = e
          }
        }, {
          key: "isKeyDown",
          value: function (e) {
            return this.keyPressed.hasOwnProperty(e) && this.keyPressed[e]
          }
        }, {
          key: "resize",
          value: function () {
            this._resize()
          }
        }, {
          key: "isTargetOnContainer",
          value: function (e) {
            for (; e;) {
              if (e === this.el) return !0;
              e = e.parentNode
            }
            return !1
          }
        }, {
          key: "setupDivElement",
          value: function (e) {
            var t = !(arguments.length > 1 && void 0 !== arguments[1]) ||
              arguments[1],
              n = document.createElement("div");
            return t && (n.style.pointerEvents = "none"), n.style
              .transformOrigin = "left top", n.className = e, this.el.appendChild(
                n), n
          }
        }, {
          key: "setupCanvasElement",
          value: function (e) {
            var t = document.createElement("canvas");
            this.setElePosition(t), t.className = e, t.style.imageRendering =
              "pixelated", t.style.pointerEvents = "none";
            var n = t.getContext("2d");
            return this.el.appendChild(t), this.elesToResize.push(t), {
              canvas: t,
              ctx: n
            }
          }
        }, {
          key: "_bindEvents",
          value: function (e) {
            var t, n = this;
            this.unbindEvents(), window.ResizeObserver && (this._ro = new window
                .ResizeObserver((function (e, t) {
                  n._delayedResize()
                })), null === (t = this._ro) || void 0 === t || t.observe(e)),
              window.addEventListener("resize", this._delayedResize), window
              .addEventListener("orientationchange", this._delayedResize), (0, l
                .on)(this.el, "mousedown", this.mousedown), (0, l.on)(this.el,
                "mouseleave", this._mouseleave), (0, l.on)(this.el, "focus", this
                .elFocus), (0, l.on)(this.el, "blur", this.elBlur), (0, l.on)(
                window.document, "mousemove", this.mousemove), (0, l.on)(window
                .document, "mouseup", this.mouseup, !0), window.addEventListener(
                "wheel", this._mousewheel, {
                  passive: !1,
                  capture: !1
                }), window.addEventListener("mousewheel", this._mousewheel, {
                passive: !1,
                capture: !1
              }), document.addEventListener("gesturestart", this._zoom), document
              .addEventListener("gesturechange", this._zoom), document
              .addEventListener("gestureend", this._zoom), (0, l.on)(this.el,
                "touchstart", this._touchdown), (0, l.on)(this.el, "touchmove",
                this._touchmove), (0, l.on)(this.el, "touchend", this._touchup), (
                0, l.on)(window.document, "keyup", this._keyup), (0, l.on)(window
                .document, "keydown", this._keydown), (0, l.on)(this.el,
                "contextmenu", this._contextmenu), (0, l.on)(this.el,
                "pointerdown", this.pointerdown), (0, l.on)(this.el,
                "pointermove", this.pointermove), (0, l.on)(this.el, "pointerup",
                this.pointerup), window.addEventListener("copy", this._copy),
              window.addEventListener("paste", this._paste)
          }
        }, {
          key: "destroy",
          value: function () {
            this.unbindEvents(), this.stopStream(), this.el && (this.el
              .innerHTML = "")
          }
        }, {
          key: "setElePosition",
          value: function (e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[
              1] : "absolute";
            "absolute" === t ? (e.style.position = t, e.style.left = "0px", e
                .style.right = "0px", e.style.top = "0px", e.style.bottom = "0px"
                ) : (e.style.position = "fixed", e.style.left = this.left + "px",
                e.style.width = this.width + "px", e.style.top = this.top + "px",
                e.style.height = this.height + "px")
          }
        }, {
          key: "_emitMouseEvents",
          value: function () {
            var e = !0,
              t = !1,
              n = void 0;
            try {
              for (var r, A = (0, o.default)(this.mouseEventCache); !(e = (r = A
                  .next()).done); e = !0) {
                var a, s = r.value;
                (a = this.opsManager)[s.type].apply(a, (0, i.default)(s.args))
              }
            } catch (e) {
              t = !0, n = e
            } finally {
              try {
                !e && A.return && A.return()
              } finally {
                if (t) throw n
              }
            }
            this.mouseEventCache = []
          }
        }, {
          key: "width",
          get: function () {
            var e = this.canvas.width;
            return this.containerRect && (e = this.containerRect.width), e
          }
        }, {
          key: "height",
          get: function () {
            var e = this.canvas.height;
            return this.containerRect && (e = this.containerRect.height), e
          }
        }]), e
      }();
    t.default = g
  }, function (e, t, n) {
    e.exports = {
      default: n(383),
      __esModule: !0
    }
  }, function (e, t, n) {
    "use strict";
    var r;
    n.r(t), n.d(t, "v1", (function () {
      return f
    })), n.d(t, "v3", (function () {
      return b
    })), n.d(t, "v4", (function () {
      return x
    })), n.d(t, "v5", (function () {
      return E
    })), n.d(t, "NIL", (function () {
      return N
    })), n.d(t, "version", (function () {
      return O
    })), n.d(t, "validate", (function () {
      return o
    })), n.d(t, "stringify", (function () {
      return d
    })), n.d(t, "parse", (function () {
      return g
    }));
    var A = new Uint8Array(16);

    function a() {
      if (!r && !(r = "undefined" != typeof crypto && crypto.getRandomValues && crypto
          .getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" ==
          typeof msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto)))
        throw new Error(
          "crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported"
          );
      return r(A)
    }
    var i =
      /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
    for (var o = function (e) {
        return "string" == typeof e && i.test(e)
      }, s = [], u = 0; u < 256; ++u) s.push((u + 256).toString(16).substr(1));
    var l, c, d = function (e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
          n = (s[e[t + 0]] + s[e[t + 1]] + s[e[t + 2]] + s[e[t + 3]] + "-" + s[e[t + 4]] +
            s[e[t + 5]] + "-" + s[e[t + 6]] + s[e[t + 7]] + "-" + s[e[t + 8]] + s[e[t +
              9]] + "-" + s[e[t + 10]] + s[e[t + 11]] + s[e[t + 12]] + s[e[t + 13]] + s[e[
              t + 14]] + s[e[t + 15]]).toLowerCase();
        if (!o(n)) throw TypeError("Stringified UUID is invalid");
        return n
      },
      p = 0,
      h = 0;
    var f = function (e, t, n) {
      var r = t && n || 0,
        A = t || new Array(16),
        i = (e = e || {}).node || l,
        o = void 0 !== e.clockseq ? e.clockseq : c;
      if (null == i || null == o) {
        var s = e.random || (e.rng || a)();
        null == i && (i = l = [1 | s[0], s[1], s[2], s[3], s[4], s[5]]), null == o && (
          o = c = 16383 & (s[6] << 8 | s[7]))
      }
      var u = void 0 !== e.msecs ? e.msecs : Date.now(),
        f = void 0 !== e.nsecs ? e.nsecs : h + 1,
        g = u - p + (f - h) / 1e4;
      if (g < 0 && void 0 === e.clockseq && (o = o + 1 & 16383), (g < 0 || u > p) &&
        void 0 === e.nsecs && (f = 0), f >= 1e4) throw new Error(
        "uuid.v1(): Can't create more than 10M uuids/sec");
      p = u, h = f, c = o;
      var y = (1e4 * (268435455 & (u += 122192928e5)) + f) % 4294967296;
      A[r++] = y >>> 24 & 255, A[r++] = y >>> 16 & 255, A[r++] = y >>> 8 & 255, A[r++] =
        255 & y;
      var v = u / 4294967296 * 1e4 & 268435455;
      A[r++] = v >>> 8 & 255, A[r++] = 255 & v, A[r++] = v >>> 24 & 15 | 16, A[r++] =
        v >>> 16 & 255, A[r++] = o >>> 8 | 128, A[r++] = 255 & o;
      for (var m = 0; m < 6; ++m) A[r + m] = i[m];
      return t || d(A)
    };
    var g = function (e) {
      if (!o(e)) throw TypeError("Invalid UUID");
      var t, n = new Uint8Array(16);
      return n[0] = (t = parseInt(e.slice(0, 8), 16)) >>> 24, n[1] = t >>> 16 & 255, n[
          2] = t >>> 8 & 255, n[3] = 255 & t, n[4] = (t = parseInt(e.slice(9, 13),
        16)) >>> 8, n[5] = 255 & t, n[6] = (t = parseInt(e.slice(14, 18), 16)) >>> 8, n[
          7] = 255 & t, n[8] = (t = parseInt(e.slice(19, 23), 16)) >>> 8, n[9] = 255 &
        t, n[10] = (t = parseInt(e.slice(24, 36), 16)) / 1099511627776 & 255, n[11] =
        t / 4294967296 & 255, n[12] = t >>> 24 & 255, n[13] = t >>> 16 & 255, n[14] =
        t >>> 8 & 255, n[15] = 255 & t, n
    };
    var y = function (e, t, n) {
      function r(e, r, A, a) {
        if ("string" == typeof e && (e = function (e) {
            e = unescape(encodeURIComponent(e));
            for (var t = [], n = 0; n < e.length; ++n) t.push(e.charCodeAt(n));
            return t
          }(e)), "string" == typeof r && (r = g(r)), 16 !== r.length) throw TypeError(
          "Namespace must be array-like (16 iterable integer values, 0-255)");
        var i = new Uint8Array(16 + e.length);
        if (i.set(r), i.set(e, r.length), (i = n(i))[6] = 15 & i[6] | t, i[8] = 63 & i[
            8] | 128, A) {
          a = a || 0;
          for (var o = 0; o < 16; ++o) A[a + o] = i[o];
          return A
        }
        return d(i)
      }
      try {
        r.name = e
      } catch (e) {}
      return r.DNS = "6ba7b810-9dad-11d1-80b4-00c04fd430c8", r.URL =
        "6ba7b811-9dad-11d1-80b4-00c04fd430c8", r
    };

    function v(e) {
      return 14 + (e + 64 >>> 9 << 4) + 1
    }

    function m(e, t) {
      var n = (65535 & e) + (65535 & t);
      return (e >> 16) + (t >> 16) + (n >> 16) << 16 | 65535 & n
    }

    function w(e, t, n, r, A, a) {
      return m((i = m(m(t, e), m(r, a))) << (o = A) | i >>> 32 - o, n);
      var i, o
    }

    function B(e, t, n, r, A, a, i) {
      return w(t & n | ~t & r, e, t, A, a, i)
    }

    function I(e, t, n, r, A, a, i) {
      return w(t & r | n & ~r, e, t, A, a, i)
    }

    function M(e, t, n, r, A, a, i) {
      return w(t ^ n ^ r, e, t, A, a, i)
    }

    function C(e, t, n, r, A, a, i) {
      return w(n ^ (t | ~r), e, t, A, a, i)
    }
    var b = y("v3", 48, (function (e) {
      if ("string" == typeof e) {
        var t = unescape(encodeURIComponent(e));
        e = new Uint8Array(t.length);
        for (var n = 0; n < t.length; ++n) e[n] = t.charCodeAt(n)
      }
      return function (e) {
        for (var t = [], n = 32 * e.length, r = 0; r < n; r += 8) {
          var A = e[r >> 5] >>> r % 32 & 255,
            a = parseInt("0123456789abcdef".charAt(A >>> 4 & 15) +
              "0123456789abcdef".charAt(15 & A), 16);
          t.push(a)
        }
        return t
      }(function (e, t) {
        e[t >> 5] |= 128 << t % 32, e[v(t) - 1] = t;
        for (var n = 1732584193, r = -271733879, A = -1732584194, a = 271733878,
            i = 0; i < e.length; i += 16) {
          var o = n,
            s = r,
            u = A,
            l = a;
          n = B(n, r, A, a, e[i], 7, -680876936), a = B(a, n, r, A, e[i + 1],
              12, -389564586), A = B(A, a, n, r, e[i + 2], 17, 606105819), r =
            B(r, A, a, n, e[i + 3], 22, -1044525330), n = B(n, r, A, a, e[i +
              4], 7, -176418897), a = B(a, n, r, A, e[i + 5], 12, 1200080426),
            A = B(A, a, n, r, e[i + 6], 17, -1473231341), r = B(r, A, a, n, e[
              i + 7], 22, -45705983), n = B(n, r, A, a, e[i + 8], 7,
            1770035416), a = B(a, n, r, A, e[i + 9], 12, -1958414417), A = B(A,
              a, n, r, e[i + 10], 17, -42063), r = B(r, A, a, n, e[i + 11], 22,
              -1990404162), n = B(n, r, A, a, e[i + 12], 7, 1804603682), a = B(
              a, n, r, A, e[i + 13], 12, -40341101), A = B(A, a, n, r, e[i +
              14], 17, -1502002290), r = B(r, A, a, n, e[i + 15], 22,
              1236535329), n = I(n, r, A, a, e[i + 1], 5, -165796510), a = I(a,
              n, r, A, e[i + 6], 9, -1069501632), A = I(A, a, n, r, e[i + 11],
              14, 643717713), r = I(r, A, a, n, e[i], 20, -373897302), n = I(n,
              r, A, a, e[i + 5], 5, -701558691), a = I(a, n, r, A, e[i + 10], 9,
              38016083), A = I(A, a, n, r, e[i + 15], 14, -660478335), r = I(r,
              A, a, n, e[i + 4], 20, -405537848), n = I(n, r, A, a, e[i + 9], 5,
              568446438), a = I(a, n, r, A, e[i + 14], 9, -1019803690), A = I(A,
              a, n, r, e[i + 3], 14, -187363961), r = I(r, A, a, n, e[i + 8],
              20, 1163531501), n = I(n, r, A, a, e[i + 13], 5, -1444681467), a =
            I(a, n, r, A, e[i + 2], 9, -51403784), A = I(A, a, n, r, e[i + 7],
              14, 1735328473), r = I(r, A, a, n, e[i + 12], 20, -1926607734),
            n = M(n, r, A, a, e[i + 5], 4, -378558), a = M(a, n, r, A, e[i + 8],
              11, -2022574463), A = M(A, a, n, r, e[i + 11], 16, 1839030562),
            r = M(r, A, a, n, e[i + 14], 23, -35309556), n = M(n, r, A, a, e[i +
              1], 4, -1530992060), a = M(a, n, r, A, e[i + 4], 11, 1272893353),
            A = M(A, a, n, r, e[i + 7], 16, -155497632), r = M(r, A, a, n, e[i +
              10], 23, -1094730640), n = M(n, r, A, a, e[i + 13], 4, 681279174),
            a = M(a, n, r, A, e[i], 11, -358537222), A = M(A, a, n, r, e[i + 3],
              16, -722521979), r = M(r, A, a, n, e[i + 6], 23, 76029189), n = M(
              n, r, A, a, e[i + 9], 4, -640364487), a = M(a, n, r, A, e[i + 12],
              11, -421815835), A = M(A, a, n, r, e[i + 15], 16, 530742520), r =
            M(r, A, a, n, e[i + 2], 23, -995338651), n = C(n, r, A, a, e[i], 6,
              -198630844), a = C(a, n, r, A, e[i + 7], 10, 1126891415), A = C(A,
              a, n, r, e[i + 14], 15, -1416354905), r = C(r, A, a, n, e[i + 5],
              21, -57434055), n = C(n, r, A, a, e[i + 12], 6, 1700485571), a =
            C(a, n, r, A, e[i + 3], 10, -1894986606), A = C(A, a, n, r, e[i +
              10], 15, -1051523), r = C(r, A, a, n, e[i + 1], 21, -2054922799),
            n = C(n, r, A, a, e[i + 8], 6, 1873313359), a = C(a, n, r, A, e[i +
              15], 10, -30611744), A = C(A, a, n, r, e[i + 6], 15, -1560198380),
            r = C(r, A, a, n, e[i + 13], 21, 1309151649), n = C(n, r, A, a, e[
              i + 4], 6, -145523070), a = C(a, n, r, A, e[i + 11], 10, -
              1120210379), A = C(A, a, n, r, e[i + 2], 15, 718787259), r = C(r,
              A, a, n, e[i + 9], 21, -343485551), n = m(n, o), r = m(r, s), A =
            m(A, u), a = m(a, l)
        }
        return [n, r, A, a]
      }(function (e) {
        if (0 === e.length) return [];
        for (var t = 8 * e.length, n = new Uint32Array(v(t)), r = 0; r <
          t; r += 8) n[r >> 5] |= (255 & e[r / 8]) << r % 32;
        return n
      }(e), 8 * e.length))
    }));
    var x = function (e, t, n) {
      var r = (e = e || {}).random || (e.rng || a)();
      if (r[6] = 15 & r[6] | 64, r[8] = 63 & r[8] | 128, t) {
        n = n || 0;
        for (var A = 0; A < 16; ++A) t[n + A] = r[A];
        return t
      }
      return d(r)
    };

    function T(e, t, n, r) {
      switch (e) {
        case 0:
          return t & n ^ ~t & r;
        case 1:
          return t ^ n ^ r;
        case 2:
          return t & n ^ t & r ^ n & r;
        case 3:
          return t ^ n ^ r
      }
    }

    function k(e, t) {
      return e << t | e >>> 32 - t
    }
    var E = y("v5", 80, (function (e) {
        var t = [1518500249, 1859775393, 2400959708, 3395469782],
          n = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
        if ("string" == typeof e) {
          var r = unescape(encodeURIComponent(e));
          e = [];
          for (var A = 0; A < r.length; ++A) e.push(r.charCodeAt(A))
        } else Array.isArray(e) || (e = Array.prototype.slice.call(e));
        e.push(128);
        for (var a = e.length / 4 + 2, i = Math.ceil(a / 16), o = new Array(i), s =
          0; s < i; ++s) {
          for (var u = new Uint32Array(16), l = 0; l < 16; ++l) u[l] = e[64 * s + 4 *
            l] << 24 | e[64 * s + 4 * l + 1] << 16 | e[64 * s + 4 * l + 2] << 8 | e[
            64 * s + 4 * l + 3];
          o[s] = u
        }
        o[i - 1][14] = 8 * (e.length - 1) / Math.pow(2, 32), o[i - 1][14] = Math
          .floor(o[i - 1][14]), o[i - 1][15] = 8 * (e.length - 1) & 4294967295;
        for (var c = 0; c < i; ++c) {
          for (var d = new Uint32Array(80), p = 0; p < 16; ++p) d[p] = o[c][p];
          for (var h = 16; h < 80; ++h) d[h] = k(d[h - 3] ^ d[h - 8] ^ d[h - 14] ^ d[
            h - 16], 1);
          for (var f = n[0], g = n[1], y = n[2], v = n[3], m = n[4], w = 0; w < 80; ++
            w) {
            var B = Math.floor(w / 20),
              I = k(f, 5) + T(B, g, y, v) + m + t[B] + d[w] >>> 0;
            m = v, v = y, y = k(g, 30) >>> 0, g = f, f = I
          }
          n[0] = n[0] + f >>> 0, n[1] = n[1] + g >>> 0, n[2] = n[2] + y >>> 0, n[3] =
            n[3] + v >>> 0, n[4] = n[4] + m >>> 0
        }
        return [n[0] >> 24 & 255, n[0] >> 16 & 255, n[0] >> 8 & 255, 255 & n[0], n[
          1] >> 24 & 255, n[1] >> 16 & 255, n[1] >> 8 & 255, 255 & n[1], n[2] >>
          24 & 255, n[2] >> 16 & 255, n[2] >> 8 & 255, 255 & n[2], n[3] >> 24 & 255,
          n[3] >> 16 & 255, n[3] >> 8 & 255, 255 & n[3], n[4] >> 24 & 255, n[4] >>
          16 & 255, n[4] >> 8 & 255, 255 & n[4]
        ]
      })),
      N = "00000000-0000-0000-0000-000000000000";
    var O = function (e) {
      if (!o(e)) throw TypeError("Invalid UUID");
      return parseInt(e.substr(14, 1), 16)
    }
  }, function (e, t, n) {
    e.exports = {
      default: n(161),
      __esModule: !0
    }
  }, function (e, t, n) {
    e.exports = !n(24) && !n(38)((function () {
      return 7 != Object.defineProperty(n(76)("div"), "a", {
        get: function () {
          return 7
        }
      }).a
    }))
  }, function (e, t, n) {
    var r = n(43),
      A = n(41),
      a = n(167)(!1),
      i = n(81)("IE_PROTO");
    e.exports = function (e, t) {
      var n, o = A(e),
        s = 0,
        u = [];
      for (n in o) n != i && r(o, n) && u.push(n);
      for (; t.length > s;) r(o, n = t[s++]) && (~a(u, n) || u.push(n));
      return u
    }
  }, function (e, t, n) {
    e.exports = n(37)
  }, function (e, t, n) {
    var r = n(17).document;
    e.exports = r && r.documentElement
  }, function (e, t, n) {
    var r = n(43),
      A = n(44),
      a = n(81)("IE_PROTO"),
      i = Object.prototype;
    e.exports = Object.getPrototypeOf || function (e) {
      return e = A(e), r(e, a) ? e[a] : "function" == typeof e.constructor &&
        e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? i :
        null
    }
  }, function (e, t) {
    e.exports = function (e, t) {
      return {
        value: t,
        done: !!e
      }
    }
  }, function (e, t, n) {
    var r = n(56);
    e.exports = Array.isArray || function (e) {
      return "Array" == r(e)
    }
  }, function (e, t, n) {
    var r = n(110),
      A = n(83).concat("length", "prototype");
    t.f = Object.getOwnPropertyNames || function (e) {
      return r(e, A)
    }
  }, function (e, t, n) {
    var r = n(30);
    e.exports = function (e, t, n, A) {
      try {
        return A ? t(r(n)[0], n[1]) : t(n)
      } catch (t) {
        var a = e.return;
        throw void 0 !== a && r(a.call(e)), t
      }
    }
  }, function (e, t, n) {
    var r = n(50),
      A = n(18)("iterator"),
      a = Array.prototype;
    e.exports = function (e) {
      return void 0 !== e && (r.Array === e || a[A] === e)
    }
  }, function (e, t, n) {
    var r = n(30),
      A = n(54),
      a = n(18)("species");
    e.exports = function (e, t) {
      var n, i = r(e).constructor;
      return void 0 === i || null == (n = r(i)[a]) ? t : A(n)
    }
  }, function (e, t, n) {
    var r, A, a, i = n(34),
      o = n(183),
      s = n(112),
      u = n(76),
      l = n(17),
      c = l.process,
      d = l.setImmediate,
      p = l.clearImmediate,
      h = l.MessageChannel,
      f = l.Dispatch,
      g = 0,
      y = {},
      v = function () {
        var e = +this;
        if (y.hasOwnProperty(e)) {
          var t = y[e];
          delete y[e], t()
        }
      },
      m = function (e) {
        v.call(e.data)
      };
    d && p || (d = function (e) {
        for (var t = [], n = 1; arguments.length > n;) t.push(arguments[n++]);
        return y[++g] = function () {
          o("function" == typeof e ? e : Function(e), t)
        }, r(g), g
      }, p = function (e) {
        delete y[e]
      }, "process" == n(56)(c) ? r = function (e) {
        c.nextTick(i(v, e, 1))
      } : f && f.now ? r = function (e) {
        f.now(i(v, e, 1))
      } : h ? (a = (A = new h).port2, A.port1.onmessage = m, r = i(a.postMessage, a,
      1)) : l.addEventListener && "function" == typeof postMessage && !l.importScripts ?
      (r = function (e) {
        l.postMessage(e + "", "*")
      }, l.addEventListener("message", m, !1)) : r = "onreadystatechange" in u(
      "script") ? function (e) {
        s.appendChild(u("script")).onreadystatechange = function () {
          s.removeChild(this), v.call(e)
        }
      } : function (e) {
        setTimeout(i(v, e, 1), 0)
      }), e.exports = {
      set: d,
      clear: p
    }
  }, function (e, t) {
    e.exports = function (e) {
      try {
        return {
          e: !1,
          v: e()
        }
      } catch (e) {
        return {
          e: !0,
          v: e
        }
      }
    }
  }, function (e, t, n) {
    var r = n(30),
      A = n(23),
      a = n(91);
    e.exports = function (e, t) {
      if (r(e), A(t) && t.constructor === e) return t;
      var n = a.f(e);
      return (0, n.resolve)(t), n.promise
    }
  }, function (e, t, n) {
    "use strict";
    var r = n(17),
      A = n(8),
      a = n(27),
      i = n(24),
      o = n(18)("species");
    e.exports = function (e) {
      var t = "function" == typeof A[e] ? A[e] : r[e];
      i && t && !t[o] && a.f(t, o, {
        configurable: !0,
        get: function () {
          return this
        }
      })
    }
  }, function (e, t, n) {
    var r = n(18)("iterator"),
      A = !1;
    try {
      var a = [7][r]();
      a.return = function () {
        A = !0
      }, Array.from(a, (function () {
        throw 2
      }))
    } catch (e) {}
    e.exports = function (e, t) {
      if (!t && !A) return !1;
      var n = !1;
      try {
        var a = [7],
          i = a[r]();
        i.next = function () {
          return {
            done: n = !0
          }
        }, a[r] = function () {
          return i
        }, e(a)
      } catch (e) {}
      return n
    }
  }, function (e, t, n) {
    e.exports = {
      default: n(188),
      __esModule: !0
    }
  }, function (e, t, n) {
    "use strict";
    var r = n(27).f,
      A = n(70),
      a = n(92),
      i = n(34),
      o = n(89),
      s = n(59),
      u = n(85),
      l = n(114),
      c = n(123),
      d = n(24),
      p = n(87).fastKey,
      h = n(93),
      f = d ? "_s" : "size",
      g = function (e, t) {
        var n, r = p(t);
        if ("F" !== r) return e._i[r];
        for (n = e._f; n; n = n.n)
          if (n.k == t) return n
      };
    e.exports = {
      getConstructor: function (e, t, n, u) {
        var l = e((function (e, r) {
          o(e, l, t, "_i"), e._t = t, e._i = A(null), e._f = void 0, e._l =
            void 0, e[f] = 0, null != r && s(r, n, e[u], e)
        }));
        return a(l.prototype, {
          clear: function () {
            for (var e = h(this, t), n = e._i, r = e._f; r; r = r.n) r.r = !0, r
              .p && (r.p = r.p.n = void 0), delete n[r.i];
            e._f = e._l = void 0, e[f] = 0
          },
          delete: function (e) {
            var n = h(this, t),
              r = g(n, e);
            if (r) {
              var A = r.n,
                a = r.p;
              delete n._i[r.i], r.r = !0, a && (a.n = A), A && (A.p = a), n
                ._f == r && (n._f = A), n._l == r && (n._l = a), n[f]--
            }
            return !!r
          },
          forEach: function (e) {
            h(this, t);
            for (var n, r = i(e, arguments.length > 1 ? arguments[1] : void 0,
                3); n = n ? n.n : this._f;)
              for (r(n.v, n.k, this); n && n.r;) n = n.p
          },
          has: function (e) {
            return !!g(h(this, t), e)
          }
        }), d && r(l.prototype, "size", {
          get: function () {
            return h(this, t)[f]
          }
        }), l
      },
      def: function (e, t, n) {
        var r, A, a = g(e, t);
        return a ? a.v = n : (e._l = a = {
            i: A = p(t, !0),
            k: t,
            v: n,
            p: r = e._l,
            n: void 0,
            r: !1
          }, e._f || (e._f = a), r && (r.n = a), e[f]++, "F" !== A && (e._i[A] = a)),
          e
      },
      getEntry: g,
      setStrong: function (e, t, n) {
        u(e, t, (function (e, n) {
          this._t = h(e, t), this._k = n, this._l = void 0
        }), (function () {
          for (var e = this._k, t = this._l; t && t.r;) t = t.p;
          return this._t && (this._l = t = t ? t.n : this._t._f) ? l(0,
            "keys" == e ? t.k : "values" == e ? t.v : [t.k, t.v]) : (this._t =
            void 0, l(1))
        }), n ? "entries" : "values", !n, !0), c(t)
      }
    }
  }, function (e, t, n) {
    "use strict";
    var r = n(17),
      A = n(10),
      a = n(87),
      i = n(38),
      o = n(37),
      s = n(92),
      u = n(59),
      l = n(89),
      c = n(23),
      d = n(58),
      p = n(27).f,
      h = n(197)(0),
      f = n(24);
    e.exports = function (e, t, n, g, y, v) {
      var m = r[e],
        w = m,
        B = y ? "set" : "add",
        I = w && w.prototype,
        M = {};
      return f && "function" == typeof w && (v || I.forEach && !i((function () {
        (new w).entries().next()
      }))) ? (w = t((function (t, n) {
        l(t, w, e, "_c"), t._c = new m, null != n && u(n, y, t[B], t)
      })), h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON"
        .split(","), (function (e) {
          var t = "add" == e || "set" == e;
          !(e in I) || v && "clear" == e || o(w.prototype, e, (function (n, r) {
            if (l(this, w, e), !t && v && !c(n)) return "get" == e &&
            void 0;
            var A = this._c[e](0 === n ? 0 : n, r);
            return t ? this : A
          }))
        })), v || p(w.prototype, "size", {
        get: function () {
          return this._c.size
        }
      })) : (w = g.getConstructor(t, e, y, B), s(w.prototype, n), a.NEED = !0), d(w,
        e), M[e] = w, A(A.G + A.W + A.F, M), v || g.setStrong(w, e, y), w
    }
  }, function (e, t, n) {
    var r = n(73),
      A = n(201);
    e.exports = function (e) {
      return function () {
        if (r(this) != e) throw TypeError(e + "#toJSON isn't generic");
        return A(this)
      }
    }
  }, function (e, t, n) {
    "use strict";
    var r = n(10);
    e.exports = function (e) {
      r(r.S, e, {
        of: function () {
          for (var e = arguments.length, t = new Array(e); e--;) t[e] = arguments[
            e];
          return new this(t)
        }
      })
    }
  }, function (e, t, n) {
    "use strict";
    var r = n(10),
      A = n(54),
      a = n(34),
      i = n(59);
    e.exports = function (e) {
      r(r.S, e, {
        from: function (e) {
          var t, n, r, o, s = arguments[1];
          return A(this), (t = void 0 !== s) && A(s), null == e ? new this : (
            n = [], t ? (r = 0, o = a(s, arguments[2], 2), i(e, !1, (function (
              e) {
              n.push(o(e, r++))
            }))) : i(e, !1, n.push, n), new this(n))
        }
      })
    }
  }, function (e, t, n) {
    e.exports = {
      default: n(176),
      __esModule: !0
    }
  }, function (e, t, n) {
    "use strict";
    var r = n(17),
      A = n(43),
      a = n(24),
      i = n(10),
      o = n(111),
      s = n(87).KEY,
      u = n(38),
      l = n(82),
      c = n(58),
      d = n(69),
      p = n(18),
      h = n(86),
      f = n(88),
      g = n(177),
      y = n(115),
      v = n(30),
      m = n(23),
      w = n(44),
      B = n(41),
      I = n(77),
      M = n(55),
      C = n(70),
      b = n(178),
      x = n(100),
      T = n(84),
      k = n(27),
      E = n(49),
      N = x.f,
      O = k.f,
      P = b.f,
      _ = r.Symbol,
      D = r.JSON,
      Q = D && D.stringify,
      S = p("_hidden"),
      U = p("toPrimitive"),
      F = {}.propertyIsEnumerable,
      L = l("symbol-registry"),
      j = l("symbols"),
      z = l("op-symbols"),
      R = Object.prototype,
      H = "function" == typeof _ && !!T.f,
      Y = r.QObject,
      G = !Y || !Y.prototype || !Y.prototype.findChild,
      K = a && u((function () {
        return 7 != C(O({}, "a", {
          get: function () {
            return O(this, "a", {
              value: 7
            }).a
          }
        })).a
      })) ? function (e, t, n) {
        var r = N(R, t);
        r && delete R[t], O(e, t, n), r && e !== R && O(R, t, r)
      } : O,
      W = function (e) {
        var t = j[e] = C(_.prototype);
        return t._k = e, t
      },
      Z = H && "symbol" == typeof _.iterator ? function (e) {
        return "symbol" == typeof e
      } : function (e) {
        return e instanceof _
      },
      V = function (e, t, n) {
        return e === R && V(z, t, n), v(e), t = I(t, !0), v(n), A(j, t) ? (n.enumerable ?
          (A(e, S) && e[S][t] && (e[S][t] = !1), n = C(n, {
            enumerable: M(0, !1)
          })) : (A(e, S) || O(e, S, M(1, {})), e[S][t] = !0), K(e, t, n)) : O(e, t, n)
      },
      X = function (e, t) {
        v(e);
        for (var n, r = g(t = B(t)), A = 0, a = r.length; a > A;) V(e, n = r[A++], t[n]);
        return e
      },
      J = function (e) {
        var t = F.call(this, e = I(e, !0));
        return !(this === R && A(j, e) && !A(z, e)) && (!(t || !A(this, e) || !A(j, e) ||
          A(this, S) && this[S][e]) || t)
      },
      q = function (e, t) {
        if (e = B(e), t = I(t, !0), e !== R || !A(j, t) || A(z, t)) {
          var n = N(e, t);
          return !n || !A(j, t) || A(e, S) && e[S][t] || (n.enumerable = !0), n
        }
      },
      $ = function (e) {
        for (var t, n = P(B(e)), r = [], a = 0; n.length > a;) A(j, t = n[a++]) || t ==
          S || t == s || r.push(t);
        return r
      },
      ee = function (e) {
        for (var t, n = e === R, r = P(n ? z : B(e)), a = [], i = 0; r.length > i;) !A(j,
          t = r[i++]) || n && !A(R, t) || a.push(j[t]);
        return a
      };
    H || (o((_ = function () {
        if (this instanceof _) throw TypeError("Symbol is not a constructor!");
        var e = d(arguments.length > 0 ? arguments[0] : void 0),
          t = function (n) {
            this === R && t.call(z, n), A(this, S) && A(this[S], e) && (this[S][
              e] = !1), K(this, e, M(1, n))
          };
        return a && G && K(R, e, {
          configurable: !0,
          set: t
        }), W(e)
      }).prototype, "toString", (function () {
        return this._k
      })), x.f = q, k.f = V, n(116).f = b.f = $, n(63).f = J, T.f = ee, a && !n(57) &&
      o(R, "propertyIsEnumerable", J, !0), h.f = function (e) {
        return W(p(e))
      }), i(i.G + i.W + i.F * !H, {
      Symbol: _
    });
    for (var te =
        "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables"
        .split(","), ne = 0; te.length > ne;) p(te[ne++]);
    for (var re = E(p.store), Ae = 0; re.length > Ae;) f(re[Ae++]);
    i(i.S + i.F * !H, "Symbol", {
      for: function (e) {
        return A(L, e += "") ? L[e] : L[e] = _(e)
      },
      keyFor: function (e) {
        if (!Z(e)) throw TypeError(e + " is not a symbol!");
        for (var t in L)
          if (L[t] === e) return t
      },
      useSetter: function () {
        G = !0
      },
      useSimple: function () {
        G = !1
      }
    }), i(i.S + i.F * !H, "Object", {
      create: function (e, t) {
        return void 0 === t ? C(e) : X(C(e), t)
      },
      defineProperty: V,
      defineProperties: X,
      getOwnPropertyDescriptor: q,
      getOwnPropertyNames: $,
      getOwnPropertySymbols: ee
    });
    var ae = u((function () {
      T.f(1)
    }));
    i(i.S + i.F * ae, "Object", {
      getOwnPropertySymbols: function (e) {
        return T.f(w(e))
      }
    }), D && i(i.S + i.F * (!H || u((function () {
      var e = _();
      return "[null]" != Q([e]) || "{}" != Q({
        a: e
      }) || "{}" != Q(Object(e))
    }))), "JSON", {
      stringify: function (e) {
        for (var t, n, r = [e], A = 1; arguments.length > A;) r.push(arguments[
        A++]);
        if (n = t = r[1], (m(t) || void 0 !== e) && !Z(e)) return y(t) || (t =
          function (e, t) {
            if ("function" == typeof n && (t = n.call(this, e, t)), !Z(t))
              return t
          }), r[1] = t, Q.apply(D, r)
      }
    }), _.prototype[U] || n(37)(_.prototype, U, _.prototype.valueOf), c(_, "Symbol"), c(
      Math, "Math", !0), c(r.JSON, "JSON", !0)
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.min = function () {
      for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[
        n];
      return t.reduce((function (e, t) {
        return Math.min(e, t)
      }))
    }, t.max = function () {
      for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[
        n];
      return t.reduce((function (e, t) {
        return Math.max(e, t)
      }))
    }, t.copyImgToClipBoard = function (e, t) {
      try {
        var n = function (e, t) {
            e = e.replace(/^data:image\/png;base64,/, "");
            for (var n = window.atob(e), r = new ArrayBuffer(n.length), A =
                new Uint8Array(r), a = 0; a < n.length; a++) A[a] = n.charCodeAt(a);
            return new Blob([r], {
              type: t
            })
          }(e, "image/png"),
          r = new ClipboardItem({
            "image/png": n
          });
        navigator.clipboard.write([r]), t(!0)
      } catch (e) {
        console.error("拷贝图片至剪切板失败", e), t(!1)
      }
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.pointInterpFn = t.pointsIntepFn = void 0;
    var r = s(n(94)),
      A = s(n(5)),
      a = s(n(0)),
      i = s(n(1)),
      o = n(217);

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var u = function () {
        function e() {
          (0, a.default)(this, e), this.info = {}
        }
        return (0, i.default)(e, [{
          key: "getSmootherSnapshot",
          value: function (e) {
            var t = e.snapshot,
              n = e.now,
              r = e.maxDiff,
              A = void 0 === r ? 300 : r,
              a = e.interpolateFn,
              i = e.app;
            if (i.isRecordPlayer) return t;
            var s = o.MINIMUM_BROADCAST_GAP_PER_DATATYPE >= 25 ? o
              .MINIMUM_BROADCAST_GAP_PER_DATATYPE : 70,
              u = n - t.time;
            if (t.uid === i.account) return t;
            var l = t.opId;
            if (!t.data.inProgress) return delete this.info[l], t;
            if (!this.info.hasOwnProperty(l)) {
              if (u > A) return t;
              this.info[l] = {
                p: {
                  t: n - s,
                  d: void 0
                },
                c: {
                  t: n,
                  d: t
                },
                lastP: 0
              }
            }
            var c = this.info[l];
            c.c.d !== t && (c.p = {
              t: c.c.t,
              d: a(c.p.d, c.c.d, c.lastP)
            }, c.c = {
              t: n,
              d: t
            }), c.p.t = Math.max(c.p.t, c.c.t - A);
            var d = n - c.c.t,
              p = c.c.t - c.p.t;
            d > p && (c.p = c.c, c.lastP = 1);
            var h = Math.min(1, Math.max(0, d / p));
            return c.lastP = h, 1 === h ? t : (i.room.pageToIncRefresh = i.room
              .currBoard.currPage, a(c.p.d, c.c.d, h))
          }
        }]), e
      }(),
      l = (t.pointsIntepFn = function (e, t, n) {
        var r = e ? e.data.points.length : 0,
          a = t.data.points.length;
        if (a <= r) return t;
        var i = Math.floor(a * n + r * (1 - n));
        return (0, A.default)((0, A.default)({}, t), {
          data: (0, A.default)((0, A.default)({}, t.data), {
            points: t.data.points.slice(0, i)
          })
        })
      }, t.pointInterpFn = function (e, t) {
        return function (n, a, i) {
          return n || t ? !n && t ? (0, A.default)((0, A.default)({}, a), {
            data: (0, A.default)((0, A.default)({}, a.data), (0, r.default)({}, e,
              [a.data[e][0] * i + a.data[t][0] * (1 - i), a.data[e][1] * i + a
                .data[t][1] * (1 - i)
              ]))
          }) : (0, A.default)((0, A.default)({}, a), {
            data: (0, A.default)((0, A.default)({}, a.data), (0, r.default)({}, e,
              [a.data[e][0] * i + n.data[e][0] * (1 - i), a.data[e][1] * i + n
                .data[e][1] * (1 - i)
              ]))
          }) : a
        }
      }, new u);
    t.default = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = p(n(5)),
      A = p(n(16)),
      a = p(n(7)),
      i = n(28),
      o = n(39),
      s = p(n(140)),
      u = n(15),
      l = n(66),
      c = n(65),
      d = n(19);

    function p(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var h = {
      graphInit: function (e) {
        var t = e.start,
          n = e.end,
          r = e.op,
          A = e.data,
          a = t.dir,
          s = n.dir,
          c = {
            sx: t.x,
            sy: t.y,
            w: 1,
            h: 1
          },
          d = {
            sx: n.x,
            sy: n.y,
            w: 1,
            h: 1
          },
          p = {
            sx: t.x,
            sy: t.y,
            w: 1,
            h: 1
          },
          h = {
            sx: n.x,
            sy: n.y,
            w: 1,
            h: 1
          };
        if (A && A.start.type !== i.IEndPointType.COORD) {
          var f = r.drawOpsOfPage[A.start.id];
          f && (c = (0, u.getTransformedBoundary)(r.app.scale, {
              mat: f.data.mat,
              boundary: f.data.boundary,
              pad: 12
            }), p = (0, u.getTransformedBoundary)(r.app.scale, {
              mat: f.data.mat,
              boundary: f.data.boundary,
              pad: 0
            }), a = (0, o.getDirInShape)(r.app, f.data.shape, A.start.per || 0), a =
            (0, o.getDirAftRotate)(a, f.data.rAngle, f.data.xFactor, f.data.yFactor)
            )
        }
        if (A && A.end.type !== i.IEndPointType.COORD) {
          var g = r.drawOpsOfPage[A.end.id];
          g && (d = (0, u.getTransformedBoundary)(r.app.scale, {
            mat: g.data.mat,
            boundary: g.data.boundary,
            pad: 12
          }), h = (0, u.getTransformedBoundary)(r.app.scale, {
            mat: g.data.mat,
            boundary: g.data.boundary,
            pad: 0
          }), s = (0, o.getDirInShape)(r.app, g.data.shape, A.end.per || 0), s = (
            0, o.getDirAftRotate)(s, g.data.rAngle, g.data.xFactor, g.data
            .yFactor))
        }
        t.dir = a, n.dir = s;
        var y = (0, o.getExtP)(t, 25, c),
          v = (0, o.getExtP)(n, 25, d),
          m = (0, o.isPExtentFrom)(y, v),
          w = (0, o.isPExtentFrom)(v, y),
          B = (0, o.isPExtentFrom)(t, n),
          I = t.dir === i.DIRECTION.LEFT || t.dir === i.DIRECTION.RIGHT,
          M = n.dir === i.DIRECTION.LEFT || n.dir === i.DIRECTION.RIGHT,
          C = Math.max(c.sx + c.w, d.sx + d.w) + 6,
          b = Math.max(c.sy + c.h, d.sy + d.h) + 6,
          x = Math.min(c.sx, d.sx) - 6,
          T = Math.min(c.sy, d.sy) - 6,
          k = (0, u.dist)([y.x, y.y], [v.x, v.y]) < 30,
          E = (0, o.isPInsideRect)([y.x, y.y], h),
          N = (0, o.isPInsideRect)([v.x, v.y], p);
        if (I === M && t.dir !== n.dir) {
          if (B || E || N) {
            var O = {
              x: t.x / 2 + n.x / 2,
              y: t.y / 2 + n.y / 2,
              type: i.IConnPointType.Split
            };
            return (I ? Math.abs(n.y - t.y) : Math.abs(t.x - n.x)) < l
              .SEG_MERGE_THRES / r.app.scale ? {
                start: t,
                end: n,
                connPs: [O]
              } : {
                start: t,
                end: n,
                connPs: [{
                  x: I ? t.x / 2 + O.x / 2 : t.x,
                  y: I ? t.y : t.y / 2 + O.y / 2,
                  type: i.IConnPointType.Split
                }, O, {
                  x: I ? n.x / 2 + O.x / 2 : n.x,
                  y: I ? n.y : n.y / 2 + O.y / 2,
                  type: i.IConnPointType.Split
                }]
              }
          }
          if (I) {
            var P = void 0;
            return c.sy > d.sy + d.h + 12 ? P = (d.sy + d.h) / 2 + c.sy / 2 : c.sy + c
              .h + 12 < d.sy ? P = (c.sy + c.h) / 2 + d.sy / 2 : (P = t.y > n.y ? b :
                T, (0, o.isSegInRect)([v.x, v.y], [v.x, P], c) && (v.x = n.dir === i
                  .DIRECTION.RIGHT ? C : x)), {
                start: t,
                end: n,
                connPs: [{
                  x: t.x / 2 + y.x / 2,
                  y: t.y,
                  type: i.IConnPointType.Split
                }, {
                  x: y.x,
                  y: y.y / 2 + P / 2,
                  type: i.IConnPointType.Split
                }, {
                  x: y.x / 2 + v.x / 2,
                  y: P,
                  type: i.IConnPointType.Split
                }, {
                  x: v.x,
                  y: v.y / 2 + P / 2,
                  type: i.IConnPointType.Split
                }, {
                  x: n.x / 2 + v.x / 2,
                  y: n.y,
                  type: i.IConnPointType.Split
                }]
              }
          }
          var _ = void 0;
          return c.sx > d.sx + d.w + 12 ? _ = (d.sx + d.w) / 2 + c.sx / 2 : c.sx + c
            .w + 12 < d.sx ? _ = (c.sx + c.w) / 2 + d.sx / 2 : (_ = t.x > n.x ? C : x,
              (0, o.isSegInRect)([v.x, v.y], [_, v.y], c) && (v.y = n.dir === i
                .DIRECTION.DOWN ? b : T)), {
              start: t,
              end: n,
              connPs: [{
                x: t.x,
                y: t.y / 2 + y.y / 2,
                type: i.IConnPointType.Split
              }, {
                x: y.x / 2 + _ / 2,
                y: y.y,
                type: i.IConnPointType.Split
              }, {
                x: _,
                y: y.y / 2 + v.y / 2,
                type: i.IConnPointType.Split
              }, {
                x: v.x / 2 + _ / 2,
                y: v.y,
                type: i.IConnPointType.Split
              }, {
                x: n.x,
                y: n.y / 2 + v.y / 2,
                type: i.IConnPointType.Split
              }]
            }
        }
        if (I === M) {
          var D = t.dir === i.DIRECTION.LEFT && n.x > t.x || t.dir === i.DIRECTION
            .RIGHT && n.x < t.x || t.dir === i.DIRECTION.UP && n.y > t.y || t.dir ===
            i.DIRECTION.DOWN && n.y < t.y,
            Q = I ? D ? {
              x: y.x,
              y: v.y
            } : {
              x: v.x,
              y: y.y
            } : D ? {
              x: v.x,
              y: y.y
            } : {
              x: y.x,
              y: v.y
            },
            S = D ? v : y,
            U = D ? p : h,
            F = D ? c : d;
          return E || N || !(0, o.isSegInRect)([Q.x, Q.y], [S.x, S.y], U) ? I ? {
            start: t,
            end: n,
            connPs: [{
              x: t.x / 2 + Q.x / 2,
              y: t.y,
              type: i.IConnPointType.Split
            }, {
              x: Q.x,
              y: t.y / 2 + n.y / 2,
              type: i.IConnPointType.Split
            }, {
              x: n.x / 2 + Q.x / 2,
              y: n.y,
              type: i.IConnPointType.Split
            }]
          } : {
            start: t,
            end: n,
            connPs: [{
              x: t.x,
              y: t.y / 2 + Q.y / 2,
              type: i.IConnPointType.Split
            }, {
              x: t.x / 2 + n.x / 2,
              y: Q.y,
              type: i.IConnPointType.Split
            }, {
              x: n.x,
              y: n.y / 2 + Q.y / 2,
              type: i.IConnPointType.Split
            }]
          } : I ? (Q.y = F.sy + F.h + 12, {
            start: t,
            end: n,
            connPs: [{
              x: t.x / 2 + y.x / 2,
              y: t.y,
              type: i.IConnPointType.Split
            }, {
              x: y.x,
              y: y.y / 2 + Q.y / 2,
              type: i.IConnPointType.Split
            }, {
              x: y.x / 2 + v.x / 2,
              y: Q.y,
              type: i.IConnPointType.Split
            }, {
              x: v.x,
              y: v.y / 2 + Q.y / 2,
              type: i.IConnPointType.Split
            }, {
              x: n.x / 2 + v.x / 2,
              y: n.y,
              type: i.IConnPointType.Split
            }]
          }) : (Q.x = F.sx + F.w + 12, {
            start: t,
            end: n,
            connPs: [{
              x: t.x,
              y: t.y / 2 + y.y / 2,
              type: i.IConnPointType.Split
            }, {
              x: y.x / 2 + Q.x / 2,
              y: y.y,
              type: i.IConnPointType.Split
            }, {
              x: Q.x,
              y: y.y / 2 + v.y / 2,
              type: i.IConnPointType.Split
            }, {
              x: v.x / 2 + Q.x / 2,
              y: v.y,
              type: i.IConnPointType.Split
            }, {
              x: n.x,
              y: n.y / 2 + v.y / 2,
              type: i.IConnPointType.Split
            }]
          })
        }
        if (m && w || k || E || N) return {
          start: t,
          end: n,
          connPs: [{
            x: I ? t.x / 2 + n.x / 2 : t.x,
            y: I ? t.y : t.y / 2 + n.y / 2,
            type: i.IConnPointType.Split
          }, {
            x: I ? n.x : t.x / 2 + n.x / 2,
            y: I ? n.y / 2 + t.y / 2 : n.y,
            type: i.IConnPointType.Split
          }]
        };
        var L = I ? {
          x: y.x,
          y: v.y
        } : {
          x: v.x,
          y: y.y
        };
        return (0, o.isSegInRect)([y.x, y.y], [L.x, L.y], h) ? (0, o.isPInsideRect)([L
          .x, L.y
        ], h) || (t.dir === i.DIRECTION.RIGHT ? L.x = C : t.dir === i.DIRECTION
          .LEFT ? L.x = x : t.dir === i.DIRECTION.UP ? L.y = T : t.dir === i
          .DIRECTION.DOWN && (L.y = b)) : (0, o.isSegInRect)([v.x, v.y], [L.x, L.y],
          p) && ((0, o.isPInsideRect)([L.x, L.y], p) || (n.dir === i.DIRECTION
          .RIGHT ? L.x = C : n.dir === i.DIRECTION.LEFT ? L.x = x : n.dir === i
          .DIRECTION.UP ? L.y = T : n.dir === i.DIRECTION.DOWN && (L.y = b))), {
          start: t,
          end: n,
          connPs: [{
            x: I ? t.x / 2 + L.x / 2 : t.x,
            y: I ? t.y : t.y / 2 + L.y / 2,
            type: i.IConnPointType.Split
          }, {
            x: I ? L.x : t.x / 2 + L.x / 2,
            y: I ? L.y / 2 + t.y / 2 : L.y,
            type: i.IConnPointType.Split
          }, {
            x: I ? L.x / 2 + n.x / 2 : L.x,
            y: I ? L.y : L.y / 2 + n.y / 2,
            type: i.IConnPointType.Split
          }, {
            x: I ? n.x : n.x / 2 + L.x / 2,
            y: I ? n.y / 2 + L.y / 2 : n.y,
            type: i.IConnPointType.Split
          }]
        }
      },
      graphFromAnchors: function (e) {
        var t = e.start,
          n = e.end,
          r = e.anchors,
          a = e.op;
        if (0 === r.length) return h.graphInit(e);
        var o = t.dir === i.DIRECTION.LEFT || t.dir === i.DIRECTION.RIGHT,
          s = {
            x: o ? t.x / 2 + r[0].x / 2 : t.x,
            y: o ? t.y : t.y / 2 + r[0].y / 2,
            type: i.IConnPointType.Split
          },
          u = r.length % 2 == 1 ? o : !o,
          l = {
            x: u ? n.x / 2 + r[r.length - 1].x / 2 : n.x,
            y: u ? n.y : n.y / 2 + r[r.length - 1].y / 2,
            type: i.IConnPointType.Split
          };
        return h.tidyGraph({
          start: t,
          end: n,
          op: a,
          connPs: [s].concat((0, A.default)(r), [l])
        })
      },
      getEndAngle: function (e) {
        var t = e.data,
          n = (e.op, t._points || []);
        return n.length < 2 ? [(0, u.getAngleByDir)(t.start.dir), (0, u.getAngleByDir)
          (t.end.dir)
        ] : [(0, u.getVecAngle)(n[1], n[0]), (0, u.getVecAngle)(n[n.length - 2], n[n
          .length - 1])]
      },
      isUnderRect: function (e) {
        var t = e.data,
          n = e.rect,
          r = e.selectMode,
          A = t._points,
          a = void 0 === A ? [] : A;
        if ("intersect" === r) {
          for (var i = 1; i < a.length; i++)
            if ((0, o.isSegInRect)(a[i - 1], a[i], n)) return !0;
          return !1
        }
        for (var s = 1; s < a.length; s++)
          if (!(0, u.polygonContain)([a[s - 1], a[s]], [
              [n.sx, n.sy],
              [n.sx + n.w, n.sy],
              [n.sx + n.w, n.sy + n.h],
              [n.sx, n.sy + n.h]
            ])) return !1;
        return !0
      },
      isUnderPoint: function (e) {
        for (var t = e.data, n = e.p, r = e.op, A = t._points, a = void 0 === A ? [] :
            A, i = 1; i < a.length; i++)
          if ((0, o.pDist)(n, a[i - 1], a[i]) < l.SEG_UNDER_POINT_THRES / r.app.scale)
            return !0;
        return !1
      },
      patchLink: function (e) {
        var t = e.data,
          n = e.page,
          A = e.op,
          s = t.start,
          u = t.end,
          l = t.connPs,
          d = (0, o.getLinkEndPos)(A.app, s, e.op, n),
          p = (0, o.getLinkEndPos)(A.app, u, e.op, n);
        if (d && p) {
          t._points = function (e) {
            var t = e.start,
              n = e.end,
              r = e.connPs,
              A = [];
            A.push([t.x, t.y]);
            var o = t.dir === i.DIRECTION.LEFT || t.dir === i.DIRECTION.RIGHT ? 0 :
              1,
              s = t,
              u = !0,
              l = !1,
              c = void 0;
            try {
              for (var d, p = (0, a.default)(r.slice(1)); !(u = (d = p.next())
                .done); u = !0) {
                var h = d.value;
                o % 2 == 0 ? A.push([h.x, s.y]) : A.push([s.x, h.y]), o++, s = h
              }
            } catch (e) {
              l = !0, c = e
            } finally {
              try {
                !u && p.return && p.return()
              } finally {
                if (l) throw c
              }
            }
            return A.push([n.x, n.y]), A
          }({
            connPs: l,
            start: d,
            end: p
          });
          var h = (0, c.getArrowPts)({
              data: t,
              op: A,
              startPos: d,
              endPos: p
            }),
            f = (0, c.getLinkTextPos)({
              data: t,
              op: A,
              page: n
            });
          t.boundary = (0, o.getLinkBoundary)((0, r.default)((0, r.default)((0, r
            .default)({
            start: d,
            end: p,
            connPs: l
          }, t.start.aType === i.IArrowType.Arrow ? {
            startArrow: h.start
          } : {}), t.end.aType === i.IArrowType.Arrow ? {
            endArrow: h.end
          } : {}), {
            textBoundaries: f
          }))
        }
      },
      drawLink: function (e) {
        var t = e.data,
          n = e.ctx,
          r = e.op.app.scale,
          A = (t._points || []).map((function (e) {
            return (0, d.padPt)(e, r)
          }));
        if (n.beginPath(), A.length >= 2) {
          n.moveTo(A[0][0], A[0][1]);
          for (var a = 1; a < A.length; a++) n.lineTo(A[a][0], A[a][1])
        }
        n.stroke()
      },
      graphAftTypeM: function (e) {
        var t = e.data,
          n = e.type,
          r = e.op,
          A = (0, o.getLinkEndPos)(r.app, t.start, r),
          a = (0, o.getLinkEndPos)(r.app, t.end, r);
        if (A && a && n !== i.ILinkType.Segment && (n === i.ILinkType.Curve || n === i
            .ILinkType.Line)) {
          var u = t.connPs.filter((function (e) {
            return e.type === i.IConnPointType.Anchor
          }));
          if (n === i.ILinkType.Curve && 0 === u.length) return s.default.graphInit({
            start: A,
            end: a,
            op: r
          });
          for (var l = [], c = t._points || [], d = 1; d < c.length; d++) l.push({
            x: c[d][0] / 2 + c[d - 1][0] / 2,
            y: c[d][1] / 2 + c[d - 1][1] / 2,
            type: i.IConnPointType.Split
          }), d !== c.length - 1 && l.push({
            x: c[d][0],
            y: c[d][1],
            type: i.IConnPointType.Anchor
          });
          return n === i.ILinkType.Curve ? s.default.tidyGraph({
            connPs: l,
            start: A,
            end: a,
            op: r
          }) : {
            connPs: l,
            start: A,
            end: a
          }
        }
      },
      graphAftConnD: function (e) {
        var t = e.start,
          n = e.end,
          A = e.data,
          a = e.index,
          s = e.op,
          u = A.connPs;
        if (0 === a || a === u.length - 1) return {
          start: t,
          end: n,
          connPs: u
        };
        var l = u.slice(),
          c = l[a],
          d = (0, o.getConnH)(t.dir, a);
        if (u.length <= 3) l[a] = (0, r.default)((0, r.default)({}, l[a]), {
          type: i.IConnPointType.Split,
          x: d ? (u[a - 1].x + u[a + 1].x) / 2 : c.x,
          y: d ? c.y : (u[a - 1].y + u[a + 1].y) / 2
        });
        else if (1 === a) {
          var p = u[a + 2] || n;
          l[a - 1] = {
            x: d ? t.x : t.x / 2 + p.x / 2,
            y: d ? t.y / 2 + +p.y / 2 : t.y,
            type: i.IConnPointType.Split
          };
          var f = u[a + 3] || n;
          l[a + 2] = (0, r.default)((0, r.default)({}, u[a + 2]), {
            x: d ? (t.x + f.x) / 2 : p.x,
            y: d ? p.y : (t.y + f.y) / 2
          }), l.splice(a, 2)
        } else if (a === u.length - 2) {
          var g = u[a - 2] || t,
            y = u[a - 3] || t;
          l[a + 1] = {
            x: d ? n.x : n.x / 2 + g.x / 2,
            y: d ? n.y / 2 + g.y / 2 : n.y,
            type: i.IConnPointType.Split
          }, l[a - 2] = (0, r.default)((0, r.default)({}, u[a - 2]), {
            x: d ? (n.x + y.x) / 2 : g.x,
            y: d ? g.y : (n.y + y.y) / 2
          }), l.splice(a - 1, 2)
        } else {
          if (Math.abs(d ? u[a - 2].y - u[a].y : u[a - 2].x - u[a].x) < Math.abs(d ?
              u[a + 2].y - u[a].y : u[a + 2].x - u[a].x)) {
            var v = u[a - 3] || t,
              m = u[a + 2] || n;
            l[a - 2] = (0, r.default)((0, r.default)({}, l[a - 2]), {
              x: d ? (v.x + u[a + 1].x) / 2 : l[a - 2].x,
              y: d ? l[a - 2].y : (v.y + u[a + 1].y) / 2
            }), l[a + 1] = (0, r.default)((0, r.default)({}, l[a + 1]), {
              x: d ? l[a + 1].x : (m.x + u[a - 2].x) / 2,
              y: d ? (m.y + u[a - 2].y) / 2 : l[a + 1].y
            }), l.splice(a - 1, 2)
          } else {
            var w = u[a - 2] || t,
              B = u[a + 3] || n;
            l[a + 2] = (0, r.default)((0, r.default)({}, l[a + 2]), {
              x: d ? (B.x + u[a - 1].x) / 2 : l[a + 2].x,
              y: d ? l[a + 2].y : (B.y + u[a - 1].y) / 2
            }), l[a - 1] = (0, r.default)((0, r.default)({}, l[a - 1]), {
              x: d ? l[a - 1].x : (w.x + u[a + 2].x) / 2,
              y: d ? (w.y + u[a + 2].y) / 2 : l[a - 1].y
            }), l.splice(a, 2)
          }
        }
        return h.tidyGraph({
          start: t,
          end: n,
          connPs: l,
          op: s,
          data: A
        })
      },
      isConnValid: function (e) {
        var t = e.start,
          n = e.end,
          r = e.connPs,
          A = e.op;
        if (0 === r.length) return !0;
        var a = r[0],
          i = r[r.length - 1];
        return (0, o.pointAtExtendDir)({
          x: t.x,
          y: t.y
        }, {
          x: a.x,
          y: a.y
        }, t.dir, A.app.scale, !0) && (0, o.pointAtExtendDir)({
          x: n.x,
          y: n.y
        }, {
          x: i.x,
          y: i.y
        }, n.dir, A.app.scale, !0)
      },
      graphAftConnM: function (e) {
        var t = e.startPos,
          n = e.endPos,
          A = e.connPs,
          a = e.index,
          s = e.x,
          u = e.y,
          l = e.op,
          c = (A = A.map((function (e) {
            return (0, r.default)({}, e)
          })))[a],
          d = A.slice(),
          p = (0, o.getConnH)(t.dir, a);
        if (t = (0, r.default)({}, t), 0 === a && (t.dir === i.DIRECTION.LEFT || t
            .dir === i.DIRECTION.RIGHT ? t.dir = u > t.y ? i.DIRECTION.DOWN : i
            .DIRECTION.UP : t.dir = s > t.x ? i.DIRECTION.RIGHT : i.DIRECTION.LEFT),
          0 === a && a === d.length - 1) d.unshift({
          x: p ? t.x : t.x / 2 + s / 2,
          y: p ? u / 2 + t.y / 2 : t.y,
          type: i.IConnPointType.Split
        }), d.push({
          x: p ? n.x : n.x / 2 + s / 2,
          y: p ? u / 2 + n.y / 2 : n.y,
          type: i.IConnPointType.Split
        }), c.x = p ? t.x / 2 + n.x / 2 : s, c.y = p ? u : t.y / 2 + n.y / 2;
        else if (0 === a) {
          d.unshift({
            x: p ? t.x : t.x / 2 + s / 2,
            y: p ? u / 2 + t.y / 2 : t.y,
            type: i.IConnPointType.Split
          });
          var f = A[a + 1],
            g = A[a + 2] || n;
          c.x = p ? t.x / 2 + f.x / 2 : s, c.y = p ? u : t.y / 2 + f.y / 2, f.x = p ?
            f.x : s / 2 + g.x / 2, f.y = p ? u / 2 + g.y / 2 : f.y
        } else if (a === d.length - 1) {
          d.push({
            x: p ? n.x : n.x / 2 + s / 2,
            y: p ? u / 2 + n.y / 2 : n.y,
            type: i.IConnPointType.Split
          });
          var y = A[a - 1],
            v = A[a - 2] || t;
          c.x = p ? n.x / 2 + y.x / 2 : s, c.y = p ? u : n.y / 2 + y.y / 2, y.x = p ?
            y.x : s / 2 + v.x / 2, y.y = p ? u / 2 + v.y / 2 : y.y
        } else {
          var m = A[a - 2] || t,
            w = A[a + 2] || n;
          d[a] = (0, r.default)((0, r.default)({}, d[a]), {
            x: p ? d[a].x : s,
            y: p ? u : d[a].y
          }), d[a - 1] = (0, r.default)((0, r.default)({}, d[a - 1]), {
            x: p ? d[a - 1].x : s / 2 + m.x / 2,
            y: p ? u / 2 + m.y / 2 : d[a - 1].y
          }), d[a + 1] = (0, r.default)((0, r.default)({}, d[a + 1]), {
            x: p ? d[a + 1].x : s / 2 + w.x / 2,
            y: p ? u / 2 + w.y / 2 : d[a + 1].y
          })
        }
        for (var B = 1; B < d.length - 1; B++) d[B].type = i.IConnPointType.Anchor;
        return h.tidyGraph({
          start: t,
          end: n,
          connPs: d,
          op: l
        })
      },
      tidyGraph: function (e) {
        var t = e.start,
          n = e.end,
          r = e.connPs,
          A = e.op.app.scale;
        if (0 === r.filter((function (e) {
            return e.type === i.IConnPointType.Anchor
          })).length) return this.graphInit(e);
        if (1 === r.length) return {
          start: t,
          connPs: r,
          end: n
        };
        for (var a = {
            x: t.x,
            y: t.y
          }, s = [], u = 0; u < r.length; u++) {
          for (var c = (0, o.getConnH)(t.dir, u), d = {
              prevX: a.x,
              prevY: a.y,
              x: r[u].x,
              y: r[u].y,
              h: c
            }, p = u + 2; p <= r.length;) {
            var h = p === r.length ? n : r[p];
            if (d.h && Math.abs(r[u].y - h.y) < l.SEG_MERGE_THRES / A) p += 2;
            else {
              if (d.h || !(Math.abs(r[u].x - h.x) < l.SEG_MERGE_THRES / A)) break;
              p += 2
            }
          }
          var f = p - 2,
            g = r[f + 1] || n,
            y = 0 === u ? t : r[f] || n;
          s.push({
            type: i.IConnPointType.Anchor,
            x: d.h ? d.prevX / 2 + g.x / 2 : p > u + 2 ? y.x : d.x,
            y: d.h ? p > u + 2 ? y.y : d.y : d.prevY / 2 + g.y / 2
          }), p > u + 2 && (u = f), a = r[u]
        }
        return s[0].type = i.IConnPointType.Split, s[s.length - 1].type = i
          .IConnPointType.Split, {
            connPs: s,
            end: n,
            start: t
          }
      },
      graphAftEndM: function (e) {
        var t = e.sTo,
          n = e.eTo,
          A = e.connPs,
          a = e.op,
          s = e.data;
        if (A.filter((function (e) {
            return e.type === i.IConnPointType.Anchor
          })).length <= 0) return h.graphInit({
          data: s,
          start: t,
          end: n,
          op: a
        });
        var u = A.slice(),
          l = (0, o.getConnH)(t.dir, 0);
        u[0] = (0, r.default)((0, r.default)({}, u[0]), {
          x: l ? (t.x + A[1].x) / 2 : t.x,
          y: l ? t.y : (t.y + A[1].y) / 2
        });
        var c = u[2] || n;
        u[1] = (0, r.default)((0, r.default)({}, u[1]), {
          x: l ? A[1].x : (u[0].x + c.x) / 2,
          y: l ? (u[0].y + c.y) / 2 : A[1].y
        }), l = (0, o.getConnH)(t.dir, u.length - 1), u[A.length - 1] = (0, r
          .default)((0, r.default)({}, u[A.length - 1]), {
          x: l ? (u[A.length - 2].x + n.x) / 2 : n.x,
          y: l ? n.y : (u[A.length - 2].y + n.y) / 2
        });
        var d = u[A.length - 3] || t;
        return u[A.length - 2] = (0, r.default)((0, r.default)({}, u[A.length - 2]), {
          x: l ? u[A.length - 2].x : (u[A.length - 1].x + d.x) / 2,
          y: l ? (u[A.length - 1].y + d.y) / 2 : u[A.length - 2].y
        }), h.tidyGraph({
          start: t,
          end: n,
          connPs: u,
          op: a
        })
      },
      getLinkPosByPer: function (e) {
        for (var t = e.per, n = e.data, r = e.op, A = e.page, a = (0, o.getLinkEndPos)
            (r.app, n.start, r, A), i = (0, o.getLinkEndPos)(r.app, n.end, r, A), s =
            n._points || [
              [a.x, a.y],
              [i.x, i.y]
            ], l = 0, c = [0], d = 1; d < s.length; d++) {
          l += (0, u.dist)([s[d - 1][0], s[d - 1][1]], [s[d][0], s[d][1]]), c.push(l)
        }
        for (var p = 1; p < c.length; p++)
          if (c[p] / l >= t) {
            var h = (t - c[p - 1] / l) / (c[p] / l - c[p - 1] / l);
            return [s[p - 1][0] * (1 - h) + s[p][0] * h, s[p - 1][1] * (1 - h) + s[p][
              1
            ] * h]
          } return [s[s.length - 1][0], s[s.length - 1][1]]
      },
      getNearestLinkInfo: function (e) {
        for (var t = e.mx, n = e.my, r = e.data._points || [], A = 0, a = [0], i =
            Number.MAX_VALUE, s = 0, l = 0, c = 1; c < r.length; c++) {
          var d = (0, u.dist)([r[c - 1][0], r[c - 1][1]], [r[c][0], r[c][1]]);
          if (A += d, a.push(A), !(d < .1)) {
            var p = (0, o.pDist)([t, n], [r[c - 1][0], r[c - 1][1]], [r[c][0], r[c][
              1]]);
            p < i && (i = p, s = c, l = (0, o.projOnSeg)([t, n], [r[c - 1][0], r[c -
              1][1]], [r[c][0], r[c][1]], !0))
          }
        }
        return {
          per: a[s - 1] / A + l * (a[s] - a[s - 1]) / A,
          dist: i
        }
      }
    };
    t.default = h
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.DefaultText = void 0;
    var r = x(n(16)),
      A = x(n(5)),
      a = x(n(2)),
      i = x(n(0)),
      o = x(n(1)),
      s = x(n(3)),
      u = x(n(4)),
      l = x(n(9)),
      c = n(15),
      d = x(n(60)),
      p = n(19),
      h = n(53),
      f = n(31),
      g = x(n(32)),
      y = n(231),
      v = n(138),
      m = n(22),
      w = x(m),
      B = n(66),
      I = n(39),
      M = n(97),
      C = n(137),
      b = n(14);

    function x(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var T = t.DefaultText = "Type Here",
      k = function (e) {
        function t() {
          (0, i.default)(this, t);
          var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
            arguments));
          return e.type = "text", e.isEditNew = !1, e.currText = "", e.currOpId = void 0,
            e.blurAt = 0, e.activateOpId = "", e.snapsBeenChanged = {}, e.enterEdit =
            function (t) {
              if ("snap" in t) {
                var n = t.snap;
                e.isEditNew = !1, e.currOpId = n.opId, e.activateOpId = e.opsManager
                  .currPage.getNextOpId(!0), e.snapsBeenChanged = (0, I
                    .deepCopySnapBeforeMove)([n.opId], e.drawOpsOfPage), e.currText = n
                  .data.text;
                var r = (0, M.getEditorPos)(e.app, n.data);
                e.currEditor = (0, y.setupTextEditor)(e.app, (0, A.default)((0, A.default)
                  ({}, n.data), {
                    maxTxtLen: B.MAX_TXT_LEN
                  }), (0, A.default)((0, A.default)({}, r), n.data.fixW ? {
                  fixW: n.data.fixW
                } : {}), {
                  onchange: function (t) {
                    return e.handleTextChange(t, !0)
                  },
                  onblur: e.handleTextBlur.bind(e),
                  container: e.app.container.domEl
                }), e.dispatch(e.opsManager.selectOp.getSnapshot([n.opId]))
              } else e.beginBatch(), e.isEditNew = !0, e.currOpId = "", e.activateOpId =
                "", e.currText = "", e.currEditor = (0, y.setupTextEditor)(e.app, {
                  text: "",
                  stroke: w.default.textDef.stroke,
                  fill: w.default.textDef.fill,
                  fontSize: w.default.textDef.fontSize,
                  fontFamily: w.default.textDef.fontFamily,
                  textAlign: w.default.textDef.textAlign,
                  maxTxtLen: B.MAX_TXT_LEN
                }, {
                  sx: t.mx,
                  sy: t.my,
                  angle: 0
                }, {
                  onchange: function (t) {
                    return e.handleTextChange(t, !0)
                  },
                  onblur: e.handleTextBlur.bind(e),
                  container: e.app.container.domEl
                }), e.handleTextChange("", !0), e.opsManager.setCurrOp("select")
            }, e.handleTextChange = function (t, n) {
              e.currText = t;
              var r = e.opsManager.modifyOp;
              if (e.isEditNew) {
                var a = 0 === t.length,
                  i = e.getSnapshot(n, n || a);
                e.currOpId ? e.dispatch(i, !1, e.currOpId) : e.currOpId = e.dispatch(i)
              } else if ("string" == typeof e.currOpId) {
                var o = e.snapsBeenChanged[e.currOpId],
                  s = e.getUpdatedTxtBoundary((0, A.default)((0, A.default)({}, o.data), {
                    text: e.currText
                  }), {});
                e.opsManager.graphOp.handleElePosChange(e.snapsBeenChanged, r.getSnapshot(
                  [e.currOpId], [{
                    k: "text",
                    v: e.currText
                  }, {
                    k: "boundary",
                    v: s
                  }], n), e.activateOpId, e.activateOpId + "_text")
              }
            }, e.handleTextBlur = function (t, n) {
              (n || e.isEditNew) && e.handleTextChange(t, !1), e.currEditor = null, e
                .currText = "", e.isEditNew = !1, e.blurAt = Date.now(), e.opsManager
                .setCurrOp("select");
              var r = e.currOpId;
              e.currOpId = "", e.activateOpId = "", r && e.opsManager.selectOp.dispatch(e
                .opsManager.selectOp.getSnapshot([r]))
            }, e
        }
        return (0, u.default)(t, e), (0, o.default)(t, [{
          key: "registerHooks",
          value: function () {
            this.opsManager.hooks.click.tap("ClickPlugin", this.handleClickHook
              .bind(this))
          }
        }, {
          key: "eventsToListen",
          value: function () {
            return {
              activate: {
                value: !0,
                information: {
                  args: "",
                  message: ""
                }
              }
            }
          }
        }, {
          key: "isTextBeingEdit",
          value: function (e) {
            return this.currOpId === e
          }
        }, {
          key: "handleClickHook",
          value: function (e, t, n) {
            if ((0, h.isIosDevice)()) return !1;
            if (this.opsManager.currOp instanceof d.default && 1 === this
              .opsManager.selectedOpIds.length) {
              var r = this.detectIfClickOnText(t, n);
              if ((null == r ? void 0 : r.opId) === this.opsManager.selectedOpIds[
                  0]) return this.enterEdit({
                snap: r
              }), !0
            }
          }
        }, {
          key: "handleMouseUp",
          value: function (e, t, n) {
            this.isMouseDown && this.handleClick(e, t, n)
          }
        }, {
          key: "handleMouseMove",
          value: function (e) {
            this.currEditor ? document.body.style.cursor = "auto" : this.app
              .container.isTargetOnContainer(e.target) ? document.body.style
              .cursor = "text" : document.body.style.cursor = "auto"
          }
        }, {
          key: "handleClick",
          value: function (e, t, n) {
            if ((0, h.isIosDevice)()) return (0, f.showToast)({
              msg: (0, b.getMsg)("iosTxt"),
              time: 3,
              type: "warn",
              msgType: g.default.IOS_NOT_SUPPORT_TEXT
            });
            this.currOpId || this.enterEdit({
              mx: t,
              my: n
            })
          }
        }, {
          key: "getSnapshot",
          value: function (e, t) {
            return {
              type: this.type,
              boundary: this.getBoundaryRect({
                text: this.currText || T,
                fontSize: w.default.textDef.fontSize,
                fontFamily: w.default.textDef.fontFamily
              }),
              stroke: w.default.textDef.stroke,
              textAlign: w.default.textDef.textAlign,
              fill: w.default.textDef.fill,
              text: this.currText,
              fontSize: w.default.textDef.fontSize,
              fontFamily: w.default.textDef.fontFamily || m.DefaultFont,
              inProgress: e,
              skipUndo: t
            }
          }
        }, {
          key: "getBoundaryRect",
          value: function (e) {
            var t = e.text,
              n = e.fontSize,
              r = e.fontFamily,
              A = this.currEditor.container.getBoundingClientRect(),
              a = A.x - this.app.container.left,
              i = A.y - this.app.container.top,
              o = this.app.camera.convertToPointInWorld(a, i),
              s = this.getTextSize({
                text: t,
                fontSize: n,
                fontFamily: r
              });
            return {
              sx: o[0],
              sy: o[1],
              w: s.w,
              h: s.h
            }
          }
        }, {
          key: "hide",
          value: function (e) {
            this.currOpId === e.opId && this.currEditor && ((0, y.removeEditor)(
                this.currEditor), this.currEditor = null, this.currText = "",
              this.currOpId = "")
          }
        }, {
          key: "draw",
          value: function (e, t) {
            if (this.isTextBeingEdit(e.opId)) {
              var n = (0, M.getEditorPos)(this.app, e.data);
              (0, y.updateEditor)((0, A.default)({
                sx: n.sx,
                sy: n.sy,
                angle: n.angle
              }, e.data.fixW ? {
                width: n.w
              } : {}), this.currEditor, e.data, T)
            } else this.preview(e, t)
          }
        }, {
          key: "preview",
          value: function (e, t) {
            var n = e.data,
              A = (0, M.getEditorPos)(this.app, n),
              a = A.sx,
              i = A.sy,
              o = A.w,
              s = A.h,
              u = A.angle,
              l = !!n.fixW;
            t.save(), t.translate(a, i), t.rotate(u);
            var c = n.fill,
              d = n.stroke || "rgb(0, 0, 0)";
            (null == n ? void 0 : n.text) || (t.globalAlpha = .3, c = "", d =
              "rgb(0, 0, 0)");
            var p = (0, v.getTextLines)({
              ctx: t,
              txt: n.text || T,
              fontSize: n.fontSize || 32,
              w: o,
              wrap: l,
              fontFamily: n.fontFamily
            });
            if (p.length > 0 && !n.fixW) {
              var h = Math.max.apply(Math, (0, r.default)(p.map((function (e) {
                return e.w
              })))) / Math.abs(n.xFactor || 1);
              e.data.xFactor < 0 && (e.data.boundary.sx = e.data.boundary.sx - h +
                e.data.boundary.w), e.data.boundary.w = h
            }(0, v.drawText)({
              ctx: t,
              textArr: p,
              fontSize: n.fontSize || 32,
              fontFamily: n.fontFamily,
              lineHeightF: 1.25,
              w: o,
              h: s,
              fill: c,
              stroke: d,
              clip: !1,
              align: n.textAlign || "left",
              vAlign: "top"
            }), t.restore()
          }
        }, {
          key: "detectIfClickOnText",
          value: function (e, t) {
            for (var n in this.drawOpsOfPage)
              if ("text" === this.drawOpsOfPage[n].data.type) {
                var r = this.drawOpsOfPage[n].data,
                  A = (0, c.getTransformedVertices)(r);
                if ((0, c.pointInVertices)(A, [e, t])) return this.drawOpsOfPage[
                  n]
              }
          }
        }, {
          key: "transformOp",
          value: function (e, t) {
            return (0, p.transformPropertyOverwriteOp)(e, t)
          }
        }, {
          key: "getUpdatedTxtBoundary",
          value: function (e, t) {
            var n = e.boundary,
              r = (0, c.getTransformedSize)(e),
              a = this.opsManager.textOp.getTextSize((0, A.default)({
                text: e.text || T,
                fontSize: t.fontSize || e.fontSize,
                fontFamily: t.fontFamily || e.fontFamily
              }, e.fixW ? {
                width: r.w
              } : {})),
              i = a.h / Math.abs(e.yFactor || 1),
              o = a.w / Math.abs(e.xFactor || 1);
            return {
              sx: n.sx,
              sy: n.sy,
              w: o,
              h: i
            }
          }
        }, {
          key: "getTextSize",
          value: function (e) {
            var t = e.text,
              n = e.fontSize,
              A = e.fontFamily,
              a = e.width,
              i = (0, v.getTextLines)({
                ctx: this.app.container.ctx,
                txt: t,
                fontSize: n,
                w: a,
                wrap: "number" == typeof a,
                fontFamily: A
              }),
              o = i.length > 0 ? Math.max.apply(Math, (0, r.default)(i.map((
                function (e) {
                  return e.w
                })))) : C.MIN_TXT_W;
            return a && (o = a), {
              w: o,
              h: i.length * n * 1.25
            }
          }
        }, {
          key: "getTextActualBound",
          value: function (e) {
            var t = e.boundary;
            if (e.fixW) {
              var n = e.text ? e.text.trim() : e.text;
              n = n || T;
              var r = this.getTextSize({
                  text: n,
                  fontSize: e.fontSize / Math.abs(e.xFactor || 1),
                  fontFamily: e.fontFamily
                }),
                A = Math.min(r.w, t.w);
              return {
                sx: "left" === e.textAlign ? t.sx : "center" === e.textAlign ? t
                  .sx + t.w / 2 - A / 2 : t.sx + t.w - A,
                sy: t.sy,
                w: A,
                h: t.h
              }
            }
            return t
          }
        }]), t
      }(l.default);
    t.default = k
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.MIN_TXT_W = 15
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.drawTextOnCanvas = t.getTextWidth = t.getTextLines = t.drawText = void 0;
    var r = i(n(94)),
      A = i(n(7)),
      a = n(97);

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var o = t.drawText = function (e) {
        var t = e.textArr,
          n = e.ctx,
          r = e.align,
          a = e.vAlign,
          i = e.fontSize,
          o = e.fontFamily,
          u = e.lineHeightF,
          l = e.w,
          c = e.h,
          d = e.clip,
          h = e.stroke,
          f = e.fill;
        n.save(), p(n, i, o), n.textAlign = "left", n.textBaseline = "top", d && (n
          .beginPath(), n.rect(0, 0, l, c), n.clip());
        var g = i * u,
          y = s(t.length, c, g, a) + (g - i) / 2,
          v = void 0;
        if (f) {
          v = y, n.fillStyle = f;
          var m = !0,
            w = !1,
            B = void 0;
          try {
            for (var I, M = (0, A.default)(t); !(m = (I = M.next()).done); m = !0) {
              var C = I.value,
                b = 0;
              "center" === r ? b = (l - C.w) / 2 : "right" === r && (b = l - C.w), n
                .fillRect(b, v - (g - i) / 2, C.w, g), v += g
            }
          } catch (e) {
            w = !0, B = e
          } finally {
            try {
              !m && M.return && M.return()
            } finally {
              if (w) throw B
            }
          }
        }
        v = y, n.fillStyle = h;
        var x = !0,
          T = !1,
          k = void 0;
        try {
          for (var E, N = (0, A.default)(t); !(x = (E = N.next()).done); x = !0) {
            var O = E.value,
              P = 0;
            "center" === r ? P = (l - O.w) / 2 : "right" === r && (P = l - O.w), n
              .fillText(O.txt, P, v), v += g
          }
        } catch (e) {
          T = !0, k = e
        } finally {
          try {
            !x && N.return && N.return()
          } finally {
            if (T) throw k
          }
        }
        n.restore()
      },
      s = function (e, t, n, r) {
        if ("top" === r) return 0;
        var A = e * n;
        return "middle" === r ? (t - A) / 2 : "bottom" === r ? t - A : 0
      },
      u = function (e) {
        return -1 !== [" ", "\n"].indexOf(e)
      },
      l = t.getTextLines = function (e) {
        var t = [],
          n = e.ctx,
          r = e.txt,
          a = e.w,
          i = e.fontSize,
          o = e.wrap,
          s = void 0 === o || o,
          l = e.fontFamily;
        p(n, 50, l);
        var c = i / 50;
        a = a ? a / c : a;
        var h = "",
          f = 0,
          g = "",
          y = 0,
          v = "",
          m = 0;

        function w(e) {
          if (v) t.push({
            txt: v,
            w: m * c
          }), v = "", m = 0, h = g, f = y;
          else {
            var n = e,
              r = h[h.length - 1];
            e = u(r) ? 0 : e, r = u(r) ? "" : r;
            var A = h.slice(0, h.length - 1);
            t.push({
              txt: A,
              w: (f - n) * c
            }), v = "", m = 0, h = r, g = r, y = e, f = e
          }
        }
        var B = !0,
          I = !1,
          M = void 0;
        try {
          for (var C, b = (0, A.default)(r); !(B = (C = b.next()).done); B = !0) {
            var x = C.value,
              T = d(n, x, l);
            h += x, f += T, g += x, y += T, "\n" !== x ? a && f - a > 1e-4 && s ? w(T) :
              " " === x && (v += g, m += y, g = "", y = 0) : (v += g, m += y, g = "", y =
                0, w(0))
          }
        } catch (e) {
          I = !0, M = e
        } finally {
          try {
            !B && b.return && b.return()
          } finally {
            if (I) throw M
          }
        }
        return h && t.push({
          txt: h,
          w: f * c
        }), t
      },
      c = {
        default: {}
      },
      d = function (e, t, n) {
        if ("\n" === t) return 0;
        if (c[n] && !c[n][t]) c[n][t] = e.measureText(t).width;
        else if (!c[n]) {
          var A = e.measureText(t).width,
            a = void 0;
          if (c.default[t] ? a = c.default[t] : (p(e, 50, "NULL"), a = e.measureText(t)
              .width, p(e, 50, n)), A === a) return c.default[t] = a, c.default[t];
          c[n] = (0, r.default)({}, t, A)
        }
        return c[n][t]
      },
      p = (t.getTextWidth = function (e, t, n, r) {
        p(e, 50, r);
        var a = 0;
        return t.forEach((function (t) {
          var i = 0,
            o = !0,
            s = !1,
            u = void 0;
          try {
            for (var l, c = (0, A.default)(t); !(o = (l = c.next()).done); o = !
              0) {
              var p = l.value;
              i += d(e, p, r) * n / 50
            }
          } catch (e) {
            s = !0, u = e
          } finally {
            try {
              !o && c.return && c.return()
            } finally {
              if (s) throw u
            }
          }
          a = Math.max(a, i)
        })), a
      }, function (e, t, n) {
        e.font = t + "px " + n
      });
    t.drawTextOnCanvas = function (e, t, n, r) {
      var A, i = n.text;
      if (i) {
        var s = (0, a.getEditorPos)(e, n),
          u = s.sx,
          c = s.sy,
          d = s.w,
          p = s.h,
          h = s.angle;
        t.save(), t.translate(u, c), t.rotate(h);
        var f = l({
          ctx: t,
          txt: (null === (A = n.text) || void 0 === A ? void 0 : A.value) || "",
          fontSize: i.fontSize || 32,
          w: d,
          fontFamily: i.fontFamily
        });
        o({
          ctx: t,
          textArr: f,
          fontSize: i.fontSize || 32,
          fontFamily: i.fontFamily,
          lineHeightF: 1.25,
          w: d,
          h: p,
          fill: i.fill,
          stroke: i.stroke || "rgb(0,0,0)",
          clip: !0,
          align: i.textAlign || "left",
          vAlign: i.verticalAlign || "top"
        }), t.restore()
      }
    }
  }, function (e, t, n) {
    (function (e, n) {
      var r = "[object Arguments]",
        A = "[object Function]",
        a = "[object GeneratorFunction]",
        i = "[object Map]",
        o = "[object Set]",
        s = /\w*$/,
        u = /^\[object .+?Constructor\]$/,
        l = /^(?:0|[1-9]\d*)$/,
        c = {};
      c[r] = c["[object Array]"] = c["[object ArrayBuffer]"] = c["[object DataView]"] =
        c["[object Boolean]"] = c["[object Date]"] = c["[object Float32Array]"] = c[
          "[object Float64Array]"] = c["[object Int8Array]"] = c[
        "[object Int16Array]"] = c["[object Int32Array]"] = c[i] = c[
        "[object Number]"] = c["[object Object]"] = c["[object RegExp]"] = c[o] = c[
          "[object String]"] = c["[object Symbol]"] = c["[object Uint8Array]"] = c[
          "[object Uint8ClampedArray]"] = c["[object Uint16Array]"] = c[
          "[object Uint32Array]"] = !0, c["[object Error]"] = c[A] = c[
          "[object WeakMap]"] = !1;
      var d = "object" == typeof e && e && e.Object === Object && e,
        p = "object" == typeof self && self && self.Object === Object && self,
        h = d || p || Function("return this")(),
        f = t && !t.nodeType && t,
        g = f && "object" == typeof n && n && !n.nodeType && n,
        y = g && g.exports === f;

      function v(e, t) {
        return e.set(t[0], t[1]), e
      }

      function m(e, t) {
        return e.add(t), e
      }

      function w(e, t, n, r) {
        var A = -1,
          a = e ? e.length : 0;
        for (r && a && (n = e[++A]); ++A < a;) n = t(n, e[A], A, e);
        return n
      }

      function B(e) {
        var t = !1;
        if (null != e && "function" != typeof e.toString) try {
          t = !!(e + "")
        } catch (e) {}
        return t
      }

      function I(e) {
        var t = -1,
          n = Array(e.size);
        return e.forEach((function (e, r) {
          n[++t] = [r, e]
        })), n
      }

      function M(e, t) {
        return function (n) {
          return e(t(n))
        }
      }

      function C(e) {
        var t = -1,
          n = Array(e.size);
        return e.forEach((function (e) {
          n[++t] = e
        })), n
      }
      var b, x = Array.prototype,
        T = Function.prototype,
        k = Object.prototype,
        E = h["__core-js_shared__"],
        N = (b = /[^.]+$/.exec(E && E.keys && E.keys.IE_PROTO || "")) ?
        "Symbol(src)_1." + b : "",
        O = T.toString,
        P = k.hasOwnProperty,
        _ = k.toString,
        D = RegExp("^" + O.call(P).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(
          /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
        Q = y ? h.Buffer : void 0,
        S = h.Symbol,
        U = h.Uint8Array,
        F = M(Object.getPrototypeOf, Object),
        L = Object.create,
        j = k.propertyIsEnumerable,
        z = x.splice,
        R = Object.getOwnPropertySymbols,
        H = Q ? Q.isBuffer : void 0,
        Y = M(Object.keys, Object),
        G = ge(h, "DataView"),
        K = ge(h, "Map"),
        W = ge(h, "Promise"),
        Z = ge(h, "Set"),
        V = ge(h, "WeakMap"),
        X = ge(Object, "create"),
        J = Be(G),
        q = Be(K),
        $ = Be(W),
        ee = Be(Z),
        te = Be(V),
        ne = S ? S.prototype : void 0,
        re = ne ? ne.valueOf : void 0;

      function Ae(e) {
        var t = -1,
          n = e ? e.length : 0;
        for (this.clear(); ++t < n;) {
          var r = e[t];
          this.set(r[0], r[1])
        }
      }

      function ae(e) {
        var t = -1,
          n = e ? e.length : 0;
        for (this.clear(); ++t < n;) {
          var r = e[t];
          this.set(r[0], r[1])
        }
      }

      function ie(e) {
        var t = -1,
          n = e ? e.length : 0;
        for (this.clear(); ++t < n;) {
          var r = e[t];
          this.set(r[0], r[1])
        }
      }

      function oe(e) {
        this.__data__ = new ae(e)
      }

      function se(e, t) {
        var n = Me(e) || function (e) {
            return function (e) {
              return function (e) {
                return !!e && "object" == typeof e
              }(e) && Ce(e)
            }(e) && P.call(e, "callee") && (!j.call(e, "callee") || _.call(e) == r)
          }(e) ? function (e, t) {
            for (var n = -1, r = Array(e); ++n < e;) r[n] = t(n);
            return r
          }(e.length, String) : [],
          A = n.length,
          a = !!A;
        for (var i in e) !t && !P.call(e, i) || a && ("length" == i || me(i, A)) || n
          .push(i);
        return n
      }

      function ue(e, t, n) {
        var r = e[t];
        P.call(e, t) && Ie(r, n) && (void 0 !== n || t in e) || (e[t] = n)
      }

      function le(e, t) {
        for (var n = e.length; n--;)
          if (Ie(e[n][0], t)) return n;
        return -1
      }

      function ce(e, t, n, u, l, d, p) {
        var h;
        if (u && (h = d ? u(e, l, d, p) : u(e)), void 0 !== h) return h;
        if (!Te(e)) return e;
        var f = Me(e);
        if (f) {
          if (h = function (e) {
              var t = e.length,
                n = e.constructor(t);
              t && "string" == typeof e[0] && P.call(e, "index") && (n.index = e.index,
                n.input = e.input);
              return n
            }(e), !t) return function (e, t) {
            var n = -1,
              r = e.length;
            t || (t = Array(r));
            for (; ++n < r;) t[n] = e[n];
            return t
          }(e, h)
        } else {
          var g = ve(e),
            y = g == A || g == a;
          if (be(e)) return function (e, t) {
            if (t) return e.slice();
            var n = new e.constructor(e.length);
            return e.copy(n), n
          }(e, t);
          if ("[object Object]" == g || g == r || y && !d) {
            if (B(e)) return d ? e : {};
            if (h = function (e) {
                return "function" != typeof e.constructor || we(e) ? {} : (t = F(e), Te(
                  t) ? L(t) : {});
                var t
              }(y ? {} : e), !t) return function (e, t) {
              return he(e, ye(e), t)
            }(e, function (e, t) {
              return e && he(t, ke(t), e)
            }(h, e))
          } else {
            if (!c[g]) return d ? e : {};
            h = function (e, t, n, r) {
              var A = e.constructor;
              switch (t) {
                case "[object ArrayBuffer]":
                  return pe(e);
                case "[object Boolean]":
                case "[object Date]":
                  return new A(+e);
                case "[object DataView]":
                  return function (e, t) {
                    var n = t ? pe(e.buffer) : e.buffer;
                    return new e.constructor(n, e.byteOffset, e.byteLength)
                  }(e, r);
                case "[object Float32Array]":
                case "[object Float64Array]":
                case "[object Int8Array]":
                case "[object Int16Array]":
                case "[object Int32Array]":
                case "[object Uint8Array]":
                case "[object Uint8ClampedArray]":
                case "[object Uint16Array]":
                case "[object Uint32Array]":
                  return function (e, t) {
                    var n = t ? pe(e.buffer) : e.buffer;
                    return new e.constructor(n, e.byteOffset, e.length)
                  }(e, r);
                case i:
                  return function (e, t, n) {
                    return w(t ? n(I(e), !0) : I(e), v, new e.constructor)
                  }(e, r, n);
                case "[object Number]":
                case "[object String]":
                  return new A(e);
                case "[object RegExp]":
                  return function (e) {
                    var t = new e.constructor(e.source, s.exec(e));
                    return t.lastIndex = e.lastIndex, t
                  }(e);
                case o:
                  return function (e, t, n) {
                    return w(t ? n(C(e), !0) : C(e), m, new e.constructor)
                  }(e, r, n);
                case "[object Symbol]":
                  return a = e, re ? Object(re.call(a)) : {}
              }
              var a
            }(e, g, ce, t)
          }
        }
        p || (p = new oe);
        var M = p.get(e);
        if (M) return M;
        if (p.set(e, h), !f) var b = n ? function (e) {
          return function (e, t, n) {
            var r = t(e);
            return Me(e) ? r : function (e, t) {
              for (var n = -1, r = t.length, A = e.length; ++n < r;) e[A + n] =
                t[n];
              return e
            }(r, n(e))
          }(e, ke, ye)
        }(e) : ke(e);
        return function (e, t) {
          for (var n = -1, r = e ? e.length : 0; ++n < r && !1 !== t(e[n], n, e););
        }(b || e, (function (r, A) {
          b && (r = e[A = r]), ue(h, A, ce(r, t, n, u, A, e, p))
        })), h
      }

      function de(e) {
        return !(!Te(e) || (t = e, N && N in t)) && (xe(e) || B(e) ? D : u).test(Be(e));
        var t
      }

      function pe(e) {
        var t = new e.constructor(e.byteLength);
        return new U(t).set(new U(e)), t
      }

      function he(e, t, n, r) {
        n || (n = {});
        for (var A = -1, a = t.length; ++A < a;) {
          var i = t[A],
            o = r ? r(n[i], e[i], i, n, e) : void 0;
          ue(n, i, void 0 === o ? e[i] : o)
        }
        return n
      }

      function fe(e, t) {
        var n, r, A = e.__data__;
        return ("string" == (r = typeof (n = t)) || "number" == r || "symbol" == r ||
          "boolean" == r ? "__proto__" !== n : null === n) ? A["string" == typeof t ?
          "string" : "hash"] : A.map
      }

      function ge(e, t) {
        var n = function (e, t) {
          return null == e ? void 0 : e[t]
        }(e, t);
        return de(n) ? n : void 0
      }
      Ae.prototype.clear = function () {
        this.__data__ = X ? X(null) : {}
      }, Ae.prototype.delete = function (e) {
        return this.has(e) && delete this.__data__[e]
      }, Ae.prototype.get = function (e) {
        var t = this.__data__;
        if (X) {
          var n = t[e];
          return "__lodash_hash_undefined__" === n ? void 0 : n
        }
        return P.call(t, e) ? t[e] : void 0
      }, Ae.prototype.has = function (e) {
        var t = this.__data__;
        return X ? void 0 !== t[e] : P.call(t, e)
      }, Ae.prototype.set = function (e, t) {
        return this.__data__[e] = X && void 0 === t ? "__lodash_hash_undefined__" : t,
          this
      }, ae.prototype.clear = function () {
        this.__data__ = []
      }, ae.prototype.delete = function (e) {
        var t = this.__data__,
          n = le(t, e);
        return !(n < 0) && (n == t.length - 1 ? t.pop() : z.call(t, n, 1), !0)
      }, ae.prototype.get = function (e) {
        var t = this.__data__,
          n = le(t, e);
        return n < 0 ? void 0 : t[n][1]
      }, ae.prototype.has = function (e) {
        return le(this.__data__, e) > -1
      }, ae.prototype.set = function (e, t) {
        var n = this.__data__,
          r = le(n, e);
        return r < 0 ? n.push([e, t]) : n[r][1] = t, this
      }, ie.prototype.clear = function () {
        this.__data__ = {
          hash: new Ae,
          map: new(K || ae),
          string: new Ae
        }
      }, ie.prototype.delete = function (e) {
        return fe(this, e).delete(e)
      }, ie.prototype.get = function (e) {
        return fe(this, e).get(e)
      }, ie.prototype.has = function (e) {
        return fe(this, e).has(e)
      }, ie.prototype.set = function (e, t) {
        return fe(this, e).set(e, t), this
      }, oe.prototype.clear = function () {
        this.__data__ = new ae
      }, oe.prototype.delete = function (e) {
        return this.__data__.delete(e)
      }, oe.prototype.get = function (e) {
        return this.__data__.get(e)
      }, oe.prototype.has = function (e) {
        return this.__data__.has(e)
      }, oe.prototype.set = function (e, t) {
        var n = this.__data__;
        if (n instanceof ae) {
          var r = n.__data__;
          if (!K || r.length < 199) return r.push([e, t]), this;
          n = this.__data__ = new ie(r)
        }
        return n.set(e, t), this
      };
      var ye = R ? M(R, Object) : function () {
          return []
        },
        ve = function (e) {
          return _.call(e)
        };

      function me(e, t) {
        return !!(t = null == t ? 9007199254740991 : t) && ("number" == typeof e || l
          .test(e)) && e > -1 && e % 1 == 0 && e < t
      }

      function we(e) {
        var t = e && e.constructor;
        return e === ("function" == typeof t && t.prototype || k)
      }

      function Be(e) {
        if (null != e) {
          try {
            return O.call(e)
          } catch (e) {}
          try {
            return e + ""
          } catch (e) {}
        }
        return ""
      }

      function Ie(e, t) {
        return e === t || e != e && t != t
      }(G && "[object DataView]" != ve(new G(new ArrayBuffer(1))) || K && ve(new K) !=
        i || W && "[object Promise]" != ve(W.resolve()) || Z && ve(new Z) != o || V &&
        "[object WeakMap]" != ve(new V)) && (ve = function (e) {
        var t = _.call(e),
          n = "[object Object]" == t ? e.constructor : void 0,
          r = n ? Be(n) : void 0;
        if (r) switch (r) {
          case J:
            return "[object DataView]";
          case q:
            return i;
          case $:
            return "[object Promise]";
          case ee:
            return o;
          case te:
            return "[object WeakMap]"
        }
        return t
      });
      var Me = Array.isArray;

      function Ce(e) {
        return null != e && function (e) {
          return "number" == typeof e && e > -1 && e % 1 == 0 && e <= 9007199254740991
        }(e.length) && !xe(e)
      }
      var be = H || function () {
        return !1
      };

      function xe(e) {
        var t = Te(e) ? _.call(e) : "";
        return t == A || t == a
      }

      function Te(e) {
        var t = typeof e;
        return !!e && ("object" == t || "function" == t)
      }

      function ke(e) {
        return Ce(e) ? se(e) : function (e) {
          if (!we(e)) return Y(e);
          var t = [];
          for (var n in Object(e)) P.call(e, n) && "constructor" != n && t.push(n);
          return t
        }(e)
      }
      n.exports = function (e) {
        return ce(e, !0, !0)
      }
    }).call(this, n(232), n(266)(e))
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = d(n(5)),
      A = d(n(16)),
      a = n(28),
      i = d(n(135)),
      o = d(n(228)),
      s = n(39),
      u = n(15),
      l = n(65),
      c = n(19);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var p = {
        graphInit: function (e) {
          var t = e.start,
            n = e.end;
          if (t.dir + n.dir === 3) return o.default.graphInit(e);
          if (t.dir === n.dir) return o.default.graphInit(e);
          var r = n.x - t.x,
            A = n.y - t.y,
            i = t.dir === a.DIRECTION.LEFT || t.dir === a.DIRECTION.RIGHT,
            s = .75,
            u = [t.x + (i ? r * s : 0), t.y + (i ? 0 : A * s)],
            l = [n.x - (i ? 0 : r * s), n.y - (i ? A * s : 0)],
            c = [.125 * (t.x + n.x) + .375 * (u[0] + l[0]), .125 * (t.y + n.y) + .375 *
              (u[1] + l[1])
            ];
          return {
            start: t,
            end: n,
            connPs: [{
              x: c[0],
              y: c[1],
              type: a.IConnPointType.Split
            }]
          }
        },
        isUnderRect: function (e) {
          var t = e.data,
            n = e.rect,
            r = e.selectMode,
            A = t.boundary;
          if ((0, u.polygonIntersect)([
              [n.sx, n.sy],
              [n.sx + n.w, n.sy],
              [n.sx + n.w, n.sy + n.h],
              [n.sx, n.sy + n.h],
              [n.sx, n.sy]
            ], [
              [A.sx, A.sy],
              [A.sx + A.w, A.sy],
              [A.sx + A.w, A.sy + A.h],
              [A.sx, A.sy + A.h],
              [A.sx, A.sy]
            ])) {
            var a = t._points || [];
            if ("intersect" === r) {
              if (2 === a.length) return (0, s.isSegInRect)(a[0], a[1], n);
              for (var i = 0; i < a.length - 3; i += 3) {
                if ((0, s.isPInsideRect)(a[i], n) || (0, s.isPInsideRect)(a[i + 3],
                  n) || (0, s.isCurveSegIntersect)({
                    curve: [a[i], a[i + 1], a[i + 2], a[i + 3]],
                    seg: [
                      [n.sx, n.sy],
                      [n.sx + n.w, n.sy]
                    ]
                  }) || (0, s.isCurveSegIntersect)({
                    curve: [a[i], a[i + 1], a[i + 2], a[i + 3]],
                    seg: [
                      [n.sx + n.w, n.sy],
                      [n.sx + n.w, n.sy + n.h]
                    ]
                  }) || (0, s.isCurveSegIntersect)({
                    curve: [a[i], a[i + 1], a[i + 2], a[i + 3]],
                    seg: [
                      [n.sx + n.w, n.sy + n.h],
                      [n.sx, n.sy + n.h]
                    ]
                  }) || (0, s.isCurveSegIntersect)({
                    curve: [a[i], a[i + 1], a[i + 2], a[i + 3]],
                    seg: [
                      [n.sx, n.sy + n.h],
                      [n.sx, n.sy]
                    ]
                  })) return !0
              }
              return !1
            }
            var o = [
              [n.sx, n.sy],
              [n.sx + n.w, n.sy],
              [n.sx + n.w, n.sy + n.h],
              [n.sx, n.sy + n.h]
            ];
            if (2 === a.length) return (0, u.polygonContain)(a, o);
            for (var l = 0; l < a.length - 3; l += 3) {
              if (!((0, s.isPInsideRect)(a[l], n) && (0, s.isPInsideRect)(a[l + 3],
                  n) && (0, s.isPInsideRect)([.125 * a[l][0] + .375 * a[l + 1][0] +
                    .375 * a[l + 2][0] + .125 * a[l + 3][0], .125 * a[l][1] + .375 *
                    a[l + 1][1] + .375 * a[l + 2][1] + .125 * a[l + 3][1]
                  ], n))) return !1
            }
            return !0
          }
          return !1
        },
        isUnderPoint: function (e) {
          var t = e.data,
            n = e.p,
            r = e.op,
            A = {
              sx: n[0] - 5 / r.app.scale,
              sy: n[1] - 5 / r.app.scale,
              w: 10 / r.app.scale,
              h: 10 / r.app.scale
            };
          return this.isUnderRect({
            data: t,
            rect: A,
            selectMode: "intersect"
          })
        },
        patchLink: function (e) {
          var t = e.data,
            n = e.page,
            i = e.op,
            o = t.start,
            u = t.end,
            c = t.connPs,
            d = (0, s.getLinkEndPos)(i.app, o, e.op, n),
            p = (0, s.getLinkEndPos)(i.app, u, e.op, n);
          if (d && p) {
            var g = [d].concat((0, A.default)(h(t.connPs)), [p]),
              y = f({
                start: d,
                end: p,
                connPs: c
              });
            if (y.length > 0) {
              var v = [];
              v.push([g[0].x, g[0].y]);
              for (var m = 1; m < g.length; m++) v.push(y[2 * m - 2]), v.push(y[2 * m -
                1]), v.push([g[m].x, g[m].y]);
              t._points = v
            } else t._points = [
              [d.x, d.y],
              [p.x, p.y]
            ];
            var w = (0, l.getArrowPts)({
                data: t,
                op: i,
                startPos: d,
                endPos: p
              }),
              B = (0, l.getLinkTextPos)({
                data: t,
                op: i
              });
            t.boundary = (0, s.getCurveLinkBoundary)((0, r.default)((0, r.default)((0, r
              .default)({
              points: t._points
            }, t.start.aType === a.IArrowType.Arrow ? {
              startArrow: w.start
            } : {}), t.end.aType === a.IArrowType.Arrow ? {
              endArrow: w.end
            } : {}), {
              textBoundaries: B
            }))
          }
        },
        drawLink: function (e) {
          var t = e.data,
            n = e.ctx,
            r = e.op.app.scale,
            A = (t._points || []).map((function (e) {
              return (0, c.padPt)(e, r)
            }));
          if (2 === A.length) n.beginPath(), n.moveTo(A[0][0], A[0][1]), n.lineTo(A[1][
            0], A[1][1]), n.stroke();
          else if ((A.length - 1) % 3 == 0)
            for (var a = 0; a < A.length - 3; a += 3) n.beginPath(), n.moveTo(A[a][0],
              A[a][1]), n.bezierCurveTo(A[a + 1][0], A[a + 1][1], A[a + 2][0], A[a +
              2][1], A[a + 3][0], A[a + 3][1]), n.stroke()
        },
        graphAftTypeM: function (e) {
          var t = e.type,
            n = e.data,
            A = e.op,
            i = (0, s.getLinkEndPos)(A.app, n.start, A),
            u = (0, s.getLinkEndPos)(A.app, n.end, A);
          if (i && u) {
            if (t === a.ILinkType.Segment) {
              var l = o.default.tidyGraph({
                start: i,
                end: u,
                connPs: n.connPs,
                op: A
              }).connPs;
              return o.default.graphAftTypeM((0, r.default)((0, r.default)({}, e), {
                data: (0, r.default)((0, r.default)({}, n), {
                  connPs: l
                })
              }))
            }
            return t === a.ILinkType.Line ? o.default.tidyGraph({
              start: i,
              end: u,
              connPs: n.connPs,
              op: A
            }) : void 0
          }
        },
        graphAftConnD: function (e) {
          var t = e.data,
            n = e.index,
            A = e.op;
          if (1 === t.connPs.filter((function (e) {
              return e.type === a.IConnPointType.Anchor
            })).length && t.connPs[n].type === a.IConnPointType.Anchor) return p
            .tidyGraph((0, r.default)((0, r.default)({}, p.graphInit(e)), {
              op: A
            }));
          var i = o.default.graphAftConnD(e);
          return p.tidyGraph((0, r.default)((0, r.default)({}, i), {
            op: e.op
          }))
        },
        isConnValid: function (e) {
          return !0
        },
        graphAftConnM: function (e) {
          var t = (0, s.moveNonSegConnPoint)(e);
          return p.tidyGraph({
            start: e.startPos,
            end: e.endPos,
            connPs: t.connPs,
            op: e.op
          })
        },
        tidyGraph: function (e) {
          var t = e.start,
            n = e.end,
            i = e.connPs;
          if (1 === i.length && i[0].type === a.IConnPointType.Split) return e;
          var o = f({
            start: t,
            end: n,
            connPs: i
          });
          if (o.length > 0) {
            for (var s = [t].concat((0, A.default)(h(i)), [n]), u = [], l = 0; l < s
              .length - 1; l++) u.push({
              x: .125 * s[l].x + .375 * o[2 * l][0] + .375 * o[2 * l + 1][0] +
                .125 * s[l + 1].x,
              y: .125 * s[l].y + .375 * o[2 * l][1] + .375 * o[2 * l + 1][1] +
                .125 * s[l + 1].y,
              type: a.IConnPointType.Split
            }), l < s.length - 2 && u.push({
              x: s[l + 1].x,
              y: s[l + 1].y,
              type: a.IConnPointType.Anchor
            });
            return (0, r.default)((0, r.default)({}, e), {
              connPs: u
            })
          }
          var c = i.slice();
          return 0 === i.length && c.push({
            x: t.x / 2 + n.x / 2,
            y: t.y / 2 + n.y / 2,
            type: a.IConnPointType.Split
          }), (0, r.default)((0, r.default)({}, e), {
            connPs: c
          })
        },
        graphAftEndM: function (e) {
          var t = e.sTo,
            n = e.eTo,
            A = e.connPs,
            i = e.op;
          if (A.filter((function (e) {
              return e.type === a.IConnPointType.Anchor
            })).length <= 0) return p.graphInit({
            start: t,
            end: n,
            op: i
          });
          var o = A.slice(),
            s = A.length > 1 ? A[1] : n,
            u = A.length > 1 ? A[A.length - 2] : t;
          return o[0] = (0, r.default)((0, r.default)({}, o[0]), {
            x: t.x / 2 + s.x / 2,
            y: t.y / 2 + s.y / 2
          }), o[o.length - 1] = (0, r.default)((0, r.default)({}, o[o.length - 1]), {
            x: u.x / 2 + n.x / 2,
            y: u.y / 2 + n.y / 2
          }), p.tidyGraph({
            start: t,
            end: n,
            connPs: o,
            op: i
          })
        },
        getLinkPosByPer: function (e) {
          var t = e.per,
            n = e.data._points || [];
          if (2 === n.length) return [n[0][0] + (n[1][0] - n[0][0]) * t, n[0][1] + (n[1]
            [1] - n[0][1]) * t];
          if ((n.length - 1) % 3 == 0) {
            for (var r = (n.length - 1) / 3, A = 0, a = [0], i = 0; i < r; i++) {
              var o = n[3 * i],
                s = n[3 * i + 2];
              A += (0, u.dist)(o, s), a.push(A)
            }
            for (var l = 1; l < a.length; l++)
              if (a[l] / A >= t) {
                var c = (t - a[l - 1] / A) / (a[l] / A - a[l - 1] / A),
                  d = n[3 * l - 3],
                  p = n[3 * l - 2],
                  h = n[3 * l - 1],
                  f = n[3 * l];
                return [d[0] * (1 - c) * (1 - c) * (1 - c) + 3 * p[0] * c * (1 - c) * (
                    1 - c) + 3 * h[0] * c * c * (1 - c) + f[0] * c * c * c, d[1] * (
                    1 - c) * (1 - c) * (1 - c) + 3 * p[1] * c * (1 - c) * (1 - c) +
                  3 * h[1] * c * c * (1 - c) + f[1] * c * c * c
                ]
              }
          }
          return n[n.length - 1]
        },
        getNearestLinkInfo: function (e) {
          return i.default.getNearestLinkInfo(e)
        },
        getEndAngle: function (e) {
          var t = e.data,
            n = (e.op, t._points || []);
          if (n.length <= 2) return i.default.getEndAngle(e);
          var r = .1,
            A = [.9 * n[0][0] * .9 * .9 + 3 * n[1][0] * r * .9 * .9 + 3 * n[2][0] * r *
              r * .9 + n[3][0] * r * r * r, .9 * n[0][1] * .9 * .9 + 3 * n[1][1] * r *
              .9 * .9 + 3 * n[2][1] * r * r * .9 + n[3][1] * r * r * r
            ],
            a = [.9 * n[n.length - 1][0] * .9 * .9 + 3 * n[n.length - 2][0] * r * .9 *
              .9 + 3 * n[n.length - 3][0] * r * r * .9 + n[n.length - 4][0] * r * r * r,
              .9 * n[n.length - 1][1] * .9 * .9 + 3 * n[n.length - 2][1] * r * .9 * .9 +
              3 * n[n.length - 3][1] * r * r * .9 + n[n.length - 4][1] * r * r * r
            ];
          return [(0, u.getVecAngle)(A, n[0]), (0, u.getVecAngle)(a, n[n.length - 1])]
        },
        graphFromAnchors: function (e) {
          return 0 === e.anchors.length ? p.tidyGraph((0, r.default)((0, r.default)({},
            p.graphInit(e)), {
            op: e.op
          })) : p.tidyGraph((0, r.default)((0, r.default)({}, o.default
            .graphFromAnchors(e)), {
            op: e.op
          }))
        }
      },
      h = function (e) {
        return 1 === e.length ? e.slice() : e.filter((function (e) {
          return e.type === a.IConnPointType.Anchor
        }))
      },
      f = function (e) {
        var t = e.connPs,
          n = e.start,
          r = e.end,
          a = h(t);
        if (a.length > 0) {
          for (var i = [], o = [g(n, a[0]), n].concat((0, A.default)(a), [r, g(r, a[a
              .length - 1])]), u = o.length - 3, l = (0, s.getControlPoints)(o[u].x, o[
              u].y, o[u + 1].x, o[u + 1].y, o[u + 2].x, o[u + 2].y, .5), c = 0; c < o
            .length - 3; c++) {
            var d = void 0;
            d = 0 === c ? (0, s.getControlPoints)(o[c].x, o[c].y, o[c + 1].x, o[c + 1].y,
                o[c + 2].x, o[c + 2].y, .5) : c === o.length - 4 ? (0, s.getControlPoints)
              (i[2 * (c - 1)][0], i[2 * (c - 1)][1], o[c + 1].x, o[c + 1].y, l[0][0], l[0]
                [1], .5) : (0, s.getControlPoints)(i[2 * (c - 1)][0], i[2 * (c - 1)][1],
                o[c + 1].x, o[c + 1].y, o[c + 2].x, o[c + 2].y, .5), c > 0 && i.push(d[
              0]), i.push(d[1])
          }
          return i.push(l[0]), i
        }
        return []
      },
      g = function (e, t) {
        var n = 2 * (t.x - e.x),
          r = 2 * (t.y - e.y);
        switch (e.dir) {
          case a.DIRECTION.RIGHT:
          case a.DIRECTION.LEFT:
            return {
              x: e.x - n, y: t.y
            };
          case a.DIRECTION.UP:
          case a.DIRECTION.DOWN:
            return {
              x: t.x, y: e.y - r
            };
          default:
            return {
              x: e.x, y: e.y
            }
        }
      };
    t.default = p
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.updateAuxLock = t.getMoveInAuxiliaryLine = void 0;
    var r = n(19);
    t.getMoveInAuxiliaryLine = function (e, t, n, A, a, i, o) {
      Math.abs(A - i.lastCx), Math.abs(a - i.lastCy);
      i.lastMoves[2] = i.lastMoves[1], i.lastMoves[1] = i.lastMoves[0], i.lastMoves[0][
          0] = Math.abs(A - i.lastCx), i.lastMoves[0][1] = Math.abs(a - i.lastCy), i
        .lastCx = A, i.lastCy = a;
      var s = .5 * i.lastMoves[0][0] + .35 * i.lastMoves[1][0] + .15 * i.lastMoves[2][
        0],
        u = .5 * i.lastMoves[0][1] + .35 * i.lastMoves[1][1] + .15 * i.lastMoves[2][1],
        l = e.scale,
        c = (0, r.getAuxSensitivity)(l),
        d = Math.abs(t + i.shiftX - i.pos[0]) / e.scale,
        p = Math.abs(n + i.shiftY - i.pos[1]) / e.scale,
        h = !i.lockX || d > i.lockX * c,
        f = !i.lockY || p > i.lockY * c,
        g = i.lockX > 0 && (p <= 1 && d >= 8 || p <= .1 && d >= 1) || d >= 2 && p >= 2,
        y = i.lockY > 0 && (d <= 1 && p >= 8 || d <= .1 && p >= 1) || d >= 2 && p >= 2,
        v = !1,
        m = !1;
      if (h ? v = !0 : g ? (i.unlockXCount += Math.ceil(d / 3), v = i.unlockXCount >=
        4) : (i.unlockXCount -= 1, i.unlockXCount = Math.max(0, i.unlockXCount)), f ?
        m = !0 : y ? (i.unlockYCount += Math.ceil(p / 3), m = i.unlockYCount >= 4) : (i
          .unlockYCount -= 1, i.unlockYCount = Math.max(0, i.unlockYCount)), m = m &&
        p > 0 || u > 1.3, !(v = v && d > 0 || s > 1.3) && !m) return null;
      if ("move" === o) {
        if (s > 1.3);
        else if (v)
          if (i.lockX > 0) {
            var w = t + i.shiftX > i.pos[0] ? 1 / e.scale : -1 / e.scale;
            i.shiftX = i.pos[0] + w - t, t = i.pos[0] + w
          } else {
            var B = t,
              I = B + i.shiftX - i.pos[0];
            Math.abs(i.shiftX) > 1 && (I *= I * i.shiftX > 0 ? .5 : 2), t = i.pos[0] +
              I, i.shiftX = t - B
          }
        else t = i.pos[0];
        if (u > 1.3);
        else if (m)
          if (i.lockY > 0) {
            var M = n + i.shiftY > i.pos[1] ? 1 / e.scale : -1 / e.scale;
            i.shiftY = i.pos[1] + M - n, n = i.pos[1] + M
          } else {
            var C = n,
              b = C + i.shiftY - i.pos[1];
            Math.abs(i.shiftY) > 1 && (b *= b * i.shiftY > 0 ? .5 : 2), n = i.pos[1] +
              b, i.shiftY = n - C
          }
        else n = i.pos[1]
      }
      return {
        mx: t,
        my: n
      }
    }, t.updateAuxLock = function (e, t, n, r) {
      e.lockX = r.lockX, e.lockY = r.lockY, e.pos = [t, n], e.unlockXCount = 0, e
        .unlockYCount = 0
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.addImage = function (e, t, n, A) {
      var a = t.app.room.currBoard,
        i = t.opsManager.currPage,
        o = !!(null == A ? void 0 : A.inProgress);
      if (A && void 0 !== A.boardName && void 0 !== A.pageName) {
        var s = t.app.room.getPage(A.boardName, A.pageName);
        s && (i = s)
      } else if (A && void 0 !== A.pageName) {
        var u = t.app.room.getPage(a.boardName, A.pageName);
        u && (i = u)
      }
      if (e.resourceCache.resourceLoaded(n)) {
        var l = e.resourceCache.getResource(n),
          c = r(l, A),
          d = c.width,
          p = c.height;
        t.dispatchImage(n, d, p, {
          antiLeechProp: A.antiLeechProp,
          inProgress: o,
          page: i,
          pos: null == A ? void 0 : A.pos
        })
      } else i.addWaitingResource(n), e.resourceCache.fetchResource({
        urlArr: n,
        antiLeechProp: A.antiLeechProp,
        cb: function (e) {
          var a = r(e = e, A),
            s = a.width,
            u = a.height;
          t.dispatchImage(n, s, u, {
            antiLeechProp: A.antiLeechProp,
            inProgress: o,
            page: i,
            pos: null == A ? void 0 : A.pos
          }), i.removeWaitingResource(n)
        }
      })
    };
    var r = function (e, t) {
        var n = (null == t ? void 0 : t.width) ? t.width : e.width || 300,
          r = (null == t ? void 0 : t.height) ? t.height : e.height || 300;
        return e.width && e.height && ((null == t ? void 0 : t.width) && (null == t ?
            void 0 : t.height) ? n / r < e.width / e.height ? n = r / e.height * e
          .width : r = n / e.width * e.height : (null == t ? void 0 : t.width) ? r = n /
          e.width * e.height : (null == t ? void 0 : t.height) && (n = r / e.height * e
            .width)), {
          width: n,
          height: r
        }
      },
      A = function (e, t) {
        var n = t.cropping,
          r = t.img,
          A = t.boundary,
          a = t.baseBoundary;
        if (n && a && (e.globalAlpha = .3, e.drawImage(r, a.sx, a.sy, a.w, a.h)), e
          .globalAlpha = 1, console.log("绘制图片: ", a), console.log("绘制图片 img: ", r), a) {
          var i = a.w / r.width,
            o = a.h / r.height;
          e.drawImage(r, (A.sx - a.sx) / i, (A.sy - a.sy) / o, A.w / i, A.h / o, A.sx, A
            .sy, A.w, A.h)
        } else e.drawImage(r, 0, 0, r.width, r.height, A.sx, A.sy, A.w, A.h)
      };
    t.draw = function (e, t, n, r, a) {
      var i = a.page,
        o = a.supportToDataUrl,
        s = a.baseBoundary,
        u = a.cropping,
        l = void 0 !== u && u;
      if (o && e.resourceCache.resourceLoaded(n, !0) ? A(t, {
          cropping: l,
          img: e.resourceCache.getResource(n, !0),
          boundary: r,
          baseBoundary: s
        }) : !o && e.resourceCache.resourceLoaded(n) ? A(t, {
          cropping: l,
          img: e.resourceCache.getResource(n, !1),
          boundary: r,
          baseBoundary: s
        }) : e.resourceCache.resourceLoaded("imageLoading") && A(t, {
          cropping: l,
          img: e.resourceCache.getResource("imageLoading"),
          boundary: r,
          baseBoundary: s
        }), !e.resourceCache.resourceLoaded(n)) {
        i.addWaitingResource(n);
        var c = [n].concat(a.backupUrls || []);
        e.resourceCache.fetchResource({
          urlArr: c,
          antiLeechProp: a.antiLeechProp,
          cb: function () {
            i.removeWaitingResource(n)
          }
        })
      }
    }, t.getImageProperPosition = function (e, t, n) {
      return {
        sx: e.app.camera.centerX - t / 2,
        sy: e.app.camera.centerY - n / 2
      }
    }, t.getUrlProperPosition = function (e, t, n) {
      console.log("getUrlProperPosition width, height:  ", t, n), console.log(
        "getUrlProperPosition centerX, centerY:  ", e.app.camera.centerX, e.app.camera
        .centerY);
      var r = t,
        A = n;
      n / t > 9 / 16 ? A = t / 16 * 9 : r = n / 9 * 16;
      var a = (t - r) / 2,
        i = (n - A) / 2;
      return console.log("getUrlProperPosition sx, sy, swidth, sheight:  ", a, i, r,
      A), {
        sx: a,
        sy: i,
        swidth: r,
        sheight: A
      }
    }, t.getBackgroundImagePorperPosition = function (e, t, n) {
      return {
        sx: -t / 2,
        sy: -n / 2,
        width: t,
        height: n
      }
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.uploadMedia = void 0;
    var r = o(n(21)),
      A = o(n(11)),
      a = o(n(5)),
      i = o(n(156));

    function o(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    i.default.setExpireTime(864e5);
    t.uploadMedia = function (e, t) {
      if ("function" == typeof e.getAuthInfo) s(e, t);
      else {
        if (e.nim && "function" == typeof e.nim.previewFile) return e.nim.previewFile(
        t);
        e.logger.error("[wb] uploadMedia: cannot upload file")
      }
    };
    var s = function (e, t) {
        var n, r, A, o = (null === (n = e.serviceConf) || void 0 === n ? void 0 : n
            .mediaUploadAddr) ? e.serviceConf.mediaUploadAddr : "https://vcloud.163.com",
          s = (null === (r = e.serviceConf) || void 0 === r ? void 0 : r.directNosAddr) ?
          null === (A = e.serviceConf) || void 0 === A ? void 0 : A.directNosAddr :
          "https://wanproxy-web.127.net";
        e.getAuthInfo().then((function (n) {
          var r = i.default.createConfig({
              directUploadAddr: s,
              onError: function (e) {
                t.done(e)
              },
              onProgress: function (e) {
                t.uploadprogress({
                  percentageText: (100 * e).toFixed(2) + "%"
                })
              },
              onComplete: function (r) {
                u(e, n, r).then((function (e) {
                  t.done(void 0, (0, a.default)((0, a.default)({}, e), {
                    bucket: r.bucketName,
                    object: r.objectName
                  }))
                })).catch((function (e) {
                  t.done(e)
                }))
              }
            }),
            A = l(t);
          return d((0, a.default)((0, a.default)({}, n), {
            appkey: e.appkey,
            url: o + "/app/vod/upload/init"
          }), {
            originFileName: A.name
          }).then((function (e) {
            i.default.createTask(A, {
              bucketName: e.ret.bucket,
              objectName: e.ret.object,
              token: e.ret.xNosToken,
              payload: {
                mediaType: t.mediaType
              }
            }, r)
          })).catch((function (e) {
            t.done(e)
          }))
        }))
      },
      u = function (e, t, n) {
        var i, o = n && n.payload && n.payload.mediaType;
        if (!o) return A.default.reject("mediaType无法解析: " + o);
        var s = (null === (i = e.serviceConf) || void 0 === i ? void 0 : i
          .mediaUploadAddr) ? e.serviceConf.mediaUploadAddr : "https://vcloud.163.com";
        return d((0, a.default)((0, a.default)({
          url: s + "/app/vod/video/query"
        }, t), {
          appkey: e.appkey
        }), {
          objectNames: [n.objectName]
        }).then((function (e) {
          if (e.ret && Array.isArray(e.ret.list) && e.ret.list.length > 0)
          return "image" === o && e.ret.list[0].imgId ? e.ret.list[0].imgId : e
            .ret.list[0].vid ? e.ret.list[0].vid : A.default.reject("无法获取" + o +
              " id: " + (0, r.default)(e))
        })).then((function (n) {
          var r = "image" === o ? {
            imageId: n
          } : {
            vid: n
          };
          return d((0, a.default)((0, a.default)({
            url: "image" === o ? s + "/app/vod/image/get" : s +
              "/app/vod/video/get"
          }, t), {
            appkey: e.appkey
          }), r)
        })).then((function (e) {
          var t = void 0;
          "image" === o && e.ret && e.ret.url ? t = e.ret.url : e.ret && e.ret
            .origUrl && (t = e.ret.origUrl);
          var n = null == e ? void 0 : e.ret.width,
            a = null == e ? void 0 : e.ret.height;
          return "string" == typeof t && t.startsWith("http://") && (t =
            "https://" + t.slice(7)), "string" == typeof t ? {
            url: t,
            width: n,
            height: a
          } : A.default.reject("找不到" + o + "的url地址: " + (0, r.default)(e))
        }))
      },
      l = function (e) {
        var t = e.dataURL,
          n = e.fileInput,
          r = e.blob,
          A = e.fileName ? e.fileName : Date.now().toString();
        if (n && n.files && n.files.length > 0) return n.files[0];
        if (r) return new File([r], A, {
          type: "text/plain"
        });
        if (t) return c(t, A);
        throw new Error("previewFile参数中缺少数据")
      },
      c = function (e, t) {
        for (var n = e.split(","), r = n[0].match(/:(.*?);/)[1], A = atob(n[1]), a = A
            .length, i = new Uint8Array(a); a--;) i[a] = A.charCodeAt(a);
        return new File([i], t, {
          type: r
        })
      },
      d = function (e, t) {
        return fetch(e.url, {
          method: "post",
          headers: {
            "content-type": "application/json",
            AppKey: e.appkey,
            Nonce: e.nonce,
            CurTime: e.curTime.toString(),
            CheckSum: e.checksum
          },
          body: (0, r.default)(t)
        }).then((function (e) {
          return e.ok ? e.json() : A.default.reject(e)
        })).then((function (e) {
          return 200 !== e.code ? A.default.reject(e) : e
        }))
      }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = y(n(36)),
      A = y(n(5)),
      a = y(n(2)),
      i = y(n(0)),
      o = y(n(1)),
      s = y(n(3)),
      u = y(n(4)),
      l = y(n(9)),
      c = n(15),
      d = n(142),
      p = n(19),
      h = y(n(331)),
      f = y(n(332)),
      g = y(n(343));

    function y(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var v = function (e) {
      function t() {
        (0, i.default)(this, t);
        var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
          arguments));
        return e.mediaPlugins = {}, e.currentUrlOpid = "", e.description = "多媒体文件类操作", e
      }
      return (0, u.default)(t, e), (0, o.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.app.on("event:deletePage", this.handleDeletePage.bind(this))
        }
      }, {
        key: "handleDeletePage",
        value: function (e) {
          if (e)
            for (var t in e.drawOpQueue) this.mediaPlugins.hasOwnProperty(t) &&
              (this.mediaPlugins[t].destroy(), delete this.mediaPlugins[t])
        }
      }, {
        key: "destroy",
        value: function () {
          for (var e in this.logger.log("[wb] MeidaOP destroy() type: ", this
              .type), this.mediaPlugins) this.mediaPlugins[e].destroy(),
            delete this.mediaPlugins[e]
        }
      }, {
        key: "getMediaPluginByType",
        value: function (e) {
          return "video" === e ? f.default : g.default
        }
      }, {
        key: "addUrl",
        value: function (e, t) {
          this.logger.log("[wb] MeidaOP addUrl() urm页面: ", e), this.app
            .setSelfAsBroadcaster(), this.app.enableCameraTransform(!1), this
            .opsManager.setCurrOp("mouse");
          var n = this.app.room.currBoard,
            r = this.opsManager.currPage;
          if (t && void 0 !== t.boardName && void 0 !== t.pageName) {
            var A = this.app.room.getPage(t.boardName, t.pageName);
            A && (r = A)
          } else if (t && void 0 !== t.pageName) {
            var a = this.app.room.getPage(n.boardName, t.pageName);
            a && (r = a)
          }
          var i = this.app.container.canvas.clientWidth,
            o = this.app.container.canvas.clientHeight,
            s = (0, d.getUrlProperPosition)(this, i, o),
            u = s.sx,
            l = s.sy,
            c = s.swidth,
            p = s.sheight;
          this.dispatchFromPage({
            type: this.type,
            url: e,
            skipUndo: !1,
            title: t.title || e || "",
            sourceType: this.type,
            boundary: {
              w: c,
              h: p,
              sx: u,
              sy: l
            }
          }, r)
        }
      }, {
        key: "addMedia",
        value: function (e, t) {
          var n = this,
            r = this.app.room.currBoard,
            A = this.opsManager.currPage;
          if (t && void 0 !== t.boardName && void 0 !== t.pageName) {
            var a = this.app.room.getPage(t.boardName, t.pageName);
            a && (A = a)
          } else if (t && void 0 !== t.pageName) {
            var i = this.app.room.getPage(r.boardName, t.pageName);
            i && (A = i)
          }
          if (this.app.resourceCache.mediaResourceLoaded(e, this.type)) {
            var o = this.app.resourceCache.getMediaResource(e),
              s = this.getMediaPluginByType(this.type).getElementWidth(o),
              u = this.getMediaPluginByType(this.type).getElementHeight(o);
            this.dispatchMedia({
              url: e,
              title: t.title,
              width: s,
              height: u,
              page: A,
              sourceType: t.sourceType,
              antiLeechProp: t.antiLeechProp
            })
          } else A.addWaitingResource(e), this.app.resourceCache
            .fetchMediaResource({
              antiLeechProp: t.antiLeechProp,
              url: e,
              sourceType: t.sourceType,
              type: this.type,
              cb: function (r) {
                r = r;
                var a = n.getMediaPluginByType(n.type).getElementWidth(r),
                  i = n.getMediaPluginByType(n.type).getElementHeight(r);
                n.dispatchMedia({
                  url: e,
                  title: t.title,
                  width: a,
                  height: i,
                  page: A,
                  sourceType: t.sourceType,
                  antiLeechProp: t.antiLeechProp
                }), A.removeWaitingResource(e)
              }
            })
        }
      }, {
        key: "dispatchMedia",
        value: function (e) {
          var t = e.width,
            n = e.height,
            r = (0, d.getImageProperPosition)(this, t, n),
            a = r.sx,
            i = r.sy,
            o = {};
          "audio" === this.type && (o.fixRealWorldHeight = g.default
            .getElementHeight()), e.page ? this.dispatchFromPage({
            type: this.type,
            url: e.url,
            skipUndo: !1,
            title: e.title ? e.title : "",
            sourceType: e.sourceType,
            antiLeechProp: e.antiLeechProp,
            boundary: (0, A.default)({
              w: t,
              h: n,
              sx: a,
              sy: i
            }, o)
          }, e.page) : this.dispatch({
            type: this.type,
            url: e.url,
            skipUndo: !1,
            title: e.title ? e.title : "",
            sourceType: e.sourceType,
            antiLeechProp: e.antiLeechProp,
            boundary: (0, A.default)({
              w: t,
              h: n,
              sx: a,
              sy: i
            }, o)
          })
        }
      }, {
        key: "preview",
        value: function (e, t, n) {}
      }, {
        key: "draw",
        value: function (e, t, n) {
          if ("url" !== e.data.type) {
            if (!this.mediaPlugins[e.opId]) {
              var A = this.getMediaPluginByType(e.data.type);
              this.mediaPlugins[e.opId] = new A(e, this.app, this)
            }
            var a = this.mediaPlugins[e.opId],
              i = e.data,
              o = (0, c.getTransformedBoundary)(this.app.scale, i),
              s = this.app.container.el,
              u = i.url;
            if (this.app.resourceCache.mediaResourceLoaded(u, this.type) && s) {
              var l = "number" == typeof e.data.layer ? e.data.layer > 0 :
                "video" !== e.data.type,
                d = s.querySelector("[id='" + e.opId + "']");
              d ? d.parentNode === this.app.container.bottomEl && l ? (this.app
                  .container.bottomEl.removeChild(d), this.app.container.topEl
                  .appendChild(d)) : d.parentNode !== this.app.container
                .topEl || l || (this.app.container.topEl.removeChild(d), this
                  .app.container.bottomEl.appendChild(d)) : ((d = document
                    .createElement("div")).style.position = "fixed", d.id = "" +
                  e.opId, d.className = "video-plugin-container", l ? this.app
                  .container.topEl.appendChild(d) : this.app.container.bottomEl
                  .appendChild(d), a.mountElement(d, u));
              var h = this.app.camera.convertWorldPointInContainer(o.sx, o.sy),
                f = (0, r.default)(h, 2),
                g = f[0],
                y = f[1],
                v = this.app.camera.convertWorldPointInContainer(o.sx + o.w, o
                  .sy + o.h),
                m = (0, r.default)(v, 2),
                w = m[0],
                B = m[1];
              d.style.width = w - g + "px", d.style.height = B - y + "px", d
                .style.left = g + this.app.container.left + "px", d.style.top =
                y + this.app.container.top + "px", (0, p.updateDocClipPath)(o,
                  this.app.camera, d, 1 / this.app.scale), a
                .onReceiveAttributes(e), a.onSizeChange({
                  width: w - g,
                  height: B - y
                })
            }
            var I = e.data.sourceType;
            this.app.resourceCache.mediaResourceLoaded(u, this.type) || (n.page
              .addWaitingResource(u), this.app.resourceCache
              .fetchMediaResource({
                antiLeechProp: e.data.antiLeechProp,
                url: u,
                sourceType: I,
                type: this.type,
                cb: function () {
                  n.page.removeWaitingResource(u)
                }
              }))
          } else this.drawUrl(e, t, n)
        }
      }, {
        key: "drawUrl",
        value: function (e, t, n) {
          this.logger.log("[wb] meidaOP drawUrl 渲染url, snapshot: ", e), this
            .mediaPlugins[e.opId] || (this.mediaPlugins[e.opId] = new h.default(
              e, this.app, this));
          var r = this.mediaPlugins[e.opId];
          this.currentUrlOpid = e.opId;
          var A = e.data,
            a = (0, c.getTransformedBoundary)(this.app.scale, A),
            i = this.app.container.el,
            o = A.url;
          if (this.app.resourceCache.mediaResourceLoaded(o, this.type) || (this
              .app.resourceCache.mediaResourceCache[o] = document.createElement(
                "iframe"), this.app.resourceCache.mediaResourceCache[o].src = o,
              this.app.emit("event:resource:onload", {
                type: this.type,
                url: o,
                loaded: !1,
                width: 0,
                height: 0,
                duration: 0
              })), this.app.resourceCache.mediaResourceLoaded(o, this.type) &&
            i) {
            var s = i.querySelector("[id='" + e.opId + "']");
            s ? s.parentNode === this.app.container.topEl && (this.app.container
                .topEl.removeChild(s), this.app.container.bottomEl.appendChild(
                  s)) : ((s = document.createElement("div")).id = "" + e.opId, s
                .className = "neteaseyunxin-wb-url-container", s.style
                .position = "relative", s.style.width = "100%", s.style.height =
                this.app.container.canvas.clientHeight + "px", this.app
                .container.bottomEl.appendChild(s), r.mountElement(s, o)), this
              .logger.log("[wb] meidaOP drawUrl boundary: ", a);
            var u = this.app.container.canvas.clientWidth,
              l = this.app.container.canvas.clientHeight,
              p = (0, d.getUrlProperPosition)(this, u, l),
              f = p.sx,
              g = p.sy,
              y = p.swidth,
              v = p.sheight;
            this.logger.log("[wb] meidaOP drawUrl sx, sy: ", f, g), this.logger
              .log("[wb] meidaOP drawUrl swidth, swidth: ", y, v), this.logger
              .log("[wb] meidaOP drawUrl left, top: ", this.app.container.left,
                this.app.container.top);
            var m = s.firstChild;
            m && (s.style.height = l + "px", m.style.position = "absolute", m
              .style.width = y + "px", m.style.height = v + "px", m.style
              .left = "50%", m.style.top = "50%", m.style.transform =
              "translate(-50%, -50%)"), r.refreshElementStyle({
              containerWidth: y,
              containerHeight: v,
              boundaryWidth: a.w,
              boundaryHeight: a.h
            }), r.onReceiveAttributes(e), r.onSizeChange({
              width: y,
              height: v
            })
          }
        }
      }, {
        key: "hide",
        value: function (e, t, n) {
          var r = this.mediaPlugins[e.opId];
          r && (r.destroy(), delete this.mediaPlugins[e.opId])
        }
      }, {
        key: "transformOp",
        value: function (e, t) {
          return (0, p.transformPropertyOverwriteOp)(e, t)
        }
      }]), t
    }(l.default);
    t.default = v
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.replaceUrlHost = function (e, t) {
      var n = void 0,
        r = void 0;
      if (e.startsWith("https://")) n = e.slice(8), r = "https://";
      else {
        if (!e.startsWith("http://")) return e;
        n = e.slice(7), r = "http://"
      }
      var A = n.indexOf("/");
      return -1 !== A ? r + t + n.slice(A) : e
    }, t.getUrlWithoutQueryParams = function (e) {
      var t = e.indexOf("?");
      return -1 === t ? e : e.slice(0, t)
    }, t.getObjectNameFromUrl = function (e) {
      e.endsWith("/") && (e = e.slice(0, e.length - 1));
      var t = e.lastIndexOf("/");
      return -1 === t ? e : e.slice(t + 1)
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = s(n(2)),
      A = s(n(0)),
      a = s(n(1)),
      i = s(n(3)),
      o = s(n(4));

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var u = function (e) {
      function t() {
        return (0, A.default)(this, t), (0, i.default)(this, (t.__proto__ || (0, r
          .default)(t)).apply(this, arguments))
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "subMany",
        value: function (e) {
          for (var t in e) this.on(t, e[t])
        }
      }, {
        key: "destroy",
        value: function () {
          var e = this;
          this.eventNames().forEach((function (t) {
            e.removeAllListeners(t)
          }))
        }
      }]), t
    }(s(n(48)).default);
    t.default = u
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = h(n(25)),
      A = h(n(7)),
      a = h(n(103)),
      i = h(n(0)),
      o = h(n(1)),
      s = h(n(11)),
      u = n(107),
      l = n(227),
      c = n(248),
      d = n(95),
      p = n(364);

    function h(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var f = function (e, t, n, r) {
        return new(n || (n = s.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      g = function () {
        function e(t, n, r) {
          (0, i.default)(this, e), this.localDrawQueue = {}, this.localEditQueue = {},
            this.drawOpQueue = {}, this.hiddenOpQueue = {}, this.deletedOpQueue = {}, this
            .lastSelectOfUser = {}, this.lastInProgressSelectOfUser = {}, this
            .lastInProgressSnapshotOfUser = {}, this.lastLaserOfUser = {}, this
            .opQueueMap = {}, this.lastMousePointerOfUser = {}, this.groups = new a
            .default, this.idToGroup = new a.default, this.blockedResourceList = [], this
            ._currOpId = (0, u.v4)(), this._nextOpId = (0, u.v4)(), this.app = t, this
            .opsManager = t.opsManager, this.boardName = n, this.pageIndex = r, window
            .page = this
        }
        return (0, o.default)(e, [{
          key: "getBoard",
          value: function () {
            return this.app.room.boards[this.boardName]
          }
        }, {
          key: "prepareNewOpId",
          value: function () {
            this._currOpId = this._nextOpId, this._nextOpId = (0, u.v4)()
          }
        }, {
          key: "getOpId",
          value: function () {
            return this.app.account + "-" + this._currOpId
          }
        }, {
          key: "getNextOpId",
          value: function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[
              0];
            return e ? (this.prepareNewOpId(), this.getOpId()) : this.app
              .account + "-" + this._nextOpId
          }
        }, {
          key: "setBackgroundSnapshot",
          value: function (e) {
            this.backgroundSnapshot = e, this.getBoard().hasDoc = !0
          }
        }, {
          key: "hasMedia",
          value: function (e) {
            for (var t in this.drawOpQueue)
              if (this.drawOpQueue[t].data.type === e) return !0;
            for (var n in this.hiddenOpQueue)
              if (this.hiddenOpQueue[n].data.type === e) return !0;
            return !1
          }
        }, {
          key: "getAnimPageIndex",
          value: function () {
            return this.payload && this.payload.hasOwnProperty("animPageIndex") ?
              this.payload.animPageIndex : null
          }
        }, {
          key: "setPayload",
          value: function (e) {
            this.payload = e
          }
        }, {
          key: "addWaitingResource",
          value: function (e) {
            -1 !== this.blockedResourceList.indexOf(e) || this.app.resourceCache
              .resourceLoaded(e) || this.blockedResourceList.push(e)
          }
        }, {
          key: "removeWaitingResource",
          value: function (e) {
            var t = this.blockedResourceList.indexOf(e);
            t > -1 && (this.blockedResourceList.splice(t, 1), this.blocked || (
              this.app.opsManager.hooks.pageReady.call(this.boardName, this
                .pageIndex), this.isCurrPage && (this.app.room.pageToRefresh =
                this)))
          }
        }, {
          key: "addOpInPage",
          value: function (e) {
            var t = !(arguments.length > 1 && void 0 !== arguments[1]) ||
              arguments[1];
            return "none" === e.opId ? (this.logger.warn("[wb]",
              "snapshot no opid", e), !1) : (this.lastInProgressSnapshotOfUser
              .hasOwnProperty(e.uid) && -1 === ["mouse-pointer"].indexOf(e.data
                .type) && (e.data.inProgress && e.opId === this
                .lastInProgressSnapshotOfUser[e.uid].snapshot.opId ||
                delete this.lastInProgressSnapshotOfUser[e.uid]),
              "background" === e.data.type && (this.setBackgroundSnapshot(e),
                this.cleanNonCanvasElements(!0)), (0, d.opNeedRefresh)(this,
              e) && !this.app.room.isReceivingBatchSnapshots && this
              .calcDrawOpQueue(e), -1 !== ["undo", "redo", "clear"].indexOf(e
                .data.type) && this.cleanNonCanvasElements(!1), this.app.room
              .isReceivingBatchSnapshots || ((0, d.opNeedRefresh)(this, e) ?
                t && this.boardName === this.app.room.currIndex && this
                .pageIndex === this.app.room.currBoard.currIndex.toString() && (
                  this.app.room.pageToRefresh = this) : (0, p
                  .addIncrementSnapshot)(this, e)), this.opsManager.hooks.opAdd
              .call(e), (0, d.opNeedRefresh)(this, e))
          }
        }, {
          key: "calcDrawOpQueue",
          value: function (e) {
            e && e.data.inProgress ? (0, c.processInProgressSnap)(this, e) : (0, c
              .calcDrawOpQueue)(this, this.app.room.isReceivingBatchSnapshots)
          }
        }, {
          key: "cleanNonCanvasElements",
          value: function () {
            var e = !(arguments.length > 0 && void 0 !== arguments[0]) ||
              arguments[0];
            (0, l.cleanNonCanvasElements)(this, e)
          }
        }, {
          key: "refresh",
          value: function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
              0] : {};
            (0, l.refresh)(this, e)
          }
        }, {
          key: "incRefresh",
          value: function () {
            (0, l.drawInProgressSnapshots)(this)
          }
        }, {
          key: "refreshOnStreamCanvas",
          value: function () {
            (0, l.refreshOnStreamCanvas)(this)
          }
        }, {
          key: "setLocalOp",
          value: function (e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[
              2];
            if (t)(0, d.patchOp)(this, t), n ? this.localEditQueue[e] = t : this
              .localDrawQueue[e] = t;
            else if (Array.isArray(e)) {
              var r = !0,
                a = !1,
                i = void 0;
              try {
                for (var o, s = (0, A.default)(e); !(r = (o = s.next())
                  .done); r = !0) {
                  var u = o.value;
                  delete this.localDrawQueue[u], delete this.localEditQueue[u]
                }
              } catch (e) {
                a = !0, i = e
              } finally {
                try {
                  !r && s.return && s.return()
                } finally {
                  if (a) throw i
                }
              }
            } else delete this.localDrawQueue[e], delete this.localEditQueue[e];
            n ? (this.calcDrawOpQueue(t), this.app.room.refresh()) : (0, l
              .drawLocalSnapshots)(this)
          }
        }, {
          key: "waitTilReady",
          value: function () {
            return f(this, void 0, void 0, r.default.mark((function e() {
              var t, n, A, a;
              return r.default.wrap((function (e) {
                for (;;) switch (e.prev = e.next) {
                  case 0:
                    for (A in t = this.drawOpQueue, n = [], t) a =
                      t[A], n.push(this.opsManager.waitTilReady(
                        a));
                    return this.backgroundSnapshot && n.push(this
                      .opsManager.waitTilReady(this
                        .backgroundSnapshot)), e.abrupt(
                      "return", s.default.all(n));
                  case 5:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            })))
          }
        }, {
          key: "logger",
          get: function () {
            return this.app.logger
          }
        }, {
          key: "opQueue",
          get: function () {
            var e = this.app.room;
            try {
              return e.boardOps[this.boardName].pages[this.pageIndex]
                .inPageSnapshotIds.map((function (t) {
                  return e.opIdSnapshotMap[t].snapshot
                }))
            } catch (e) {
              return []
            }
          }
        }, {
          key: "isCurrPage",
          get: function () {
            return this.app.room.currBoard.currPage === this
          }
        }, {
          key: "bgCtx",
          get: function () {
            return this.app.container.bgCtx
          }
        }, {
          key: "ctx",
          get: function () {
            return this.app.container.ctx
          }
        }, {
          key: "frontCtx",
          get: function () {
            return this.app.container.frontCtx
          }
        }, {
          key: "localCtx",
          get: function () {
            return this.app.container.localCtx
          }
        }, {
          key: "laserCtx",
          get: function () {
            return this.app.container.laserCtx
          }
        }, {
          key: "width",
          get: function () {
            return this.app.container.width
          }
        }, {
          key: "height",
          get: function () {
            return this.app.container.height
          }
        }, {
          key: "blocked",
          get: function () {
            return this.blockedResourceList.length > 0
          }
        }]), e
      }();
    t.default = g
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = void 0,
      A = (t.transitionToCameraBound = function (e, t, n) {
        var r = t,
          a = e.centerX,
          i = e.centerY,
          o = e.width,
          s = e.height,
          u = e.app.isRecordPlayer ? 1 : 15;
        A({
          total: u,
          worker: function (t) {
            var n = (t + 1) / u;
            e.setCameraBound({
              centerX: r.centerX * n + a * (1 - n),
              centerY: r.centerY * n + i * (1 - n),
              width: r.width * n + o * (1 - n),
              height: r.height * n + s * (1 - n)
            })
          },
          callback: n
        })
      }, t.animate = function (e) {
        cancelAnimationFrame(r), a(0, e)
      }),
      a = (t.stopTransitionToCameraBound = function () {
        cancelAnimationFrame(r)
      }, function e(t, n) {
        t >= n.total ? "function" == typeof n.callback && n.callback() : r =
          requestAnimationFrame((function () {
            n.worker(t), e(t + 1, n)
          }))
      })
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEzIDE2VjEzSDI3VjE2IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yMCAxM1YyNyIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjIiLz4KPHBhdGggZD0iTTE4IDI3SDIyIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+Cjwvc3ZnPgo="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMTIiIHk9IjEyIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSIwIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNiIvPgo8L3N2Zz4K"
  }, , , function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.on = function (e, t, n, r) {
      e.addEventListener(t, n, r)
    }, t.off = function (e, t, n, r) {
      e.removeEventListener(t, n, r)
    }
  }, function (e, t) {
    var n, r, A = e.exports = {};

    function a() {
      throw new Error("setTimeout has not been defined")
    }

    function i() {
      throw new Error("clearTimeout has not been defined")
    }

    function o(e) {
      if (n === setTimeout) return setTimeout(e, 0);
      if ((n === a || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0);
      try {
        return n(e, 0)
      } catch (t) {
        try {
          return n.call(null, e, 0)
        } catch (t) {
          return n.call(this, e, 0)
        }
      }
    }! function () {
      try {
        n = "function" == typeof setTimeout ? setTimeout : a
      } catch (e) {
        n = a
      }
      try {
        r = "function" == typeof clearTimeout ? clearTimeout : i
      } catch (e) {
        r = i
      }
    }();
    var s, u = [],
      l = !1,
      c = -1;

    function d() {
      l && s && (l = !1, s.length ? u = s.concat(u) : c = -1, u.length && p())
    }

    function p() {
      if (!l) {
        var e = o(d);
        l = !0;
        for (var t = u.length; t;) {
          for (s = u, u = []; ++c < t;) s && s[c].run();
          c = -1, t = u.length
        }
        s = null, l = !1,
          function (e) {
            if (r === clearTimeout) return clearTimeout(e);
            if ((r === i || !r) && clearTimeout) return r = clearTimeout, clearTimeout(e);
            try {
              r(e)
            } catch (t) {
              try {
                return r.call(null, e)
              } catch (t) {
                return r.call(this, e)
              }
            }
          }(e)
      }
    }

    function h(e, t) {
      this.fun = e, this.array = t
    }

    function f() {}
    A.nextTick = function (e) {
        var t = new Array(arguments.length - 1);
        if (arguments.length > 1)
          for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
        u.push(new h(e, t)), 1 !== u.length || l || o(p)
      }, h.prototype.run = function () {
        this.fun.apply(null, this.array)
      }, A.title = "browser", A.browser = !0, A.env = {}, A.argv = [], A.version = "", A
      .versions = {}, A.on = f, A.addListener = f, A.once = f, A.off = f, A
      .removeListener = f, A.removeAllListeners = f, A.emit = f, A.prependListener = f, A
      .prependOnceListener = f, A.listeners = function (e) {
        return []
      }, A.binding = function (e) {
        throw new Error("process.binding is not supported")
      }, A.cwd = function () {
        return "/"
      }, A.chdir = function (e) {
        throw new Error("process.chdir is not supported")
      }, A.umask = function () {
        return 0
      }
  }, function (e, t, n) {
    e.exports = {
      default: n(214),
      __esModule: !0
    }
  }, function (e, t, n) {
    self,
    e.exports = function () {
      "use strict";
      var e = {
          d: function (t, n) {
            for (var r in n) e.o(n, r) && !e.o(t, r) && Object.defineProperty(t, r, {
              enumerable: !0,
              get: n[r]
            })
          },
          o: function (e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
          }
        },
        t = {};
      e.d(t, {
        default: function () {
          return v
        }
      });
      var n = function e(t) {
        for (var n in function (e, t) {
              if (!(e instanceof t)) throw new TypeError(
                "Cannot call a class as a function")
            }(this, e), this.directUploadAddr = "https://wanproxy-web.127.net", this
            .retryCount = 4, this.trunkSize = 4194304, this.trunkUploadTimeout = 5e4,
            this.getOffsetTimeout = 1e4, this.version = "1.0", this.enableCache = !0,
            this.logger = console, this.onError = function (e) {}, this.onProgress =
            function (e) {}, this.onUploadProgress = function (e) {}, this.onComplete =
            function (e) {}, t) this[n] = t[n]
      };

      function r(e, t) {
        var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
        if (!n) {
          if (Array.isArray(e) || (n = function (e, t) {
              if (e) {
                if ("string" == typeof e) return A(e, t);
                var n = Object.prototype.toString.call(e).slice(8, -1);
                return "Object" === n && e.constructor && (n = e.constructor.name),
                  "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? A(e, t) : void 0
              }
            }(e)) || t && e && "number" == typeof e.length) {
            n && (e = n);
            var r = 0,
              a = function () {};
            return {
              s: a,
              n: function () {
                return r >= e.length ? {
                  done: !0
                } : {
                  done: !1,
                  value: e[r++]
                }
              },
              e: function (e) {
                throw e
              },
              f: a
            }
          }
          throw new TypeError(
            "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
            )
        }
        var i, o = !0,
          s = !1;
        return {
          s: function () {
            n = n.call(e)
          },
          n: function () {
            var e = n.next();
            return o = e.done, e
          },
          e: function (e) {
            s = !0, i = e
          },
          f: function () {
            try {
              o || null == n.return || n.return()
            } finally {
              if (s) throw i
            }
          }
        }
      }

      function A(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
        return r
      }
      var a = window.localStorage;
      window.localStorage && "function" == typeof window.localStorage.getItem &&
        "function" == typeof window.localStorage.setItem && "function" == typeof window
        .localStorage.removeItem || (a = {
          privateObj: {},
          setItem: function (e, t) {
            a.privateObj[e] = t
          },
          getItem: function (e) {
            return a.privateObj[e]
          },
          removeItem: function (e) {
            delete a.privateObj[e]
          },
          getKeys: function () {
            return Object.keys(a.privateObj)
          }
        });
      var i = {
          getFileKey: function (e) {
            var t = e.size.toString(),
              n = e.lastModified.toString();
            return "_NosUploader_" + e.name + t.slice(t.length - 5) + n.slice(n.length -
              5)
          },
          getFileInfo: function (e) {
            var t = a.getItem(e);
            if (!t) return null;
            try {
              return JSON.parse(t)
            } catch (e) {
              return null
            }
          },
          initFile: function (e, t, n) {
            i.clearExpiredInfo();
            var r = this.getFileKey(t),
              A = {
                ctx: void 0 !== e.ctx ? e.ctx : "",
                bucket: e.bucketName,
                obj: e.objectName,
                token: e.token,
                modifyAt: Date.now(),
                end: !1
              };
            return e.payload && (A.payload = e.payload), n && a.setItem(r, JSON
              .stringify(A)), r
          },
          setUploadContext: function (e, t, n) {
            var r = this.getFileInfo(e);
            r && (r.ctx = t, n && a.setItem(e, JSON.stringify(r)))
          },
          setComplete: function (e, t) {
            var n = this.getFileInfo(e);
            n && (n.modifyAt = Date.now(), n.end = !0, t && a.setItem(e, JSON.stringify(
              n)))
          },
          getUploadContext: function (e) {
            var t = this.getFileInfo(e);
            return t ? t.ctx : ""
          },
          removeFileInfo: function (e) {
            0 === e.indexOf("_NosUploader_") && a.removeItem(e)
          },
          clearExpiredInfo: function () {
            var e, t = "function" == typeof a.getKeys ? a.getKeys() : Object.keys(a),
              n = Date.now(),
              A = [],
              o = r(t);
            try {
              for (o.s(); !(e = o.n()).done;) {
                var s = e.value;
                if (0 === s.indexOf("_NosUploader_")) {
                  var u = i.getFileInfo(s);
                  null === u || n - u.modifyAt > v.expireTime ? a.removeItem(s) : A
                    .push({
                      fileInfo: u,
                      key: s
                    })
                }
              }
            } catch (e) {
              o.e(e)
            } finally {
              o.f()
            }
            if (A.length > v.maxFileCache) {
              var l, c = r(A.sort((function (e, t) {
                return t.fileInfo.modifyAt - e.fileInfo.modifyAt
              })).slice(v.maxFileCache));
              try {
                for (c.s(); !(l = c.n()).done;) {
                  var d = l.value;
                  0 === d.key.indexOf("_NosUploader_") && a.removeItem(d.key)
                }
              } catch (e) {
                c.e(e)
              } finally {
                c.f()
              }
            }
          }
        },
        o = i;

      function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ?
          function (e) {
            return typeof e
          } : function (e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !==
              Symbol.prototype ? "symbol" : typeof e
          })(e)
      }

      function u(e, t) {
        return !t || "object" !== s(t) && "function" != typeof t ? function (e) {
          if (void 0 === e) throw new ReferenceError(
            "this hasn't been initialised - super() hasn't been called");
          return e
        }(e) : t
      }

      function l(e) {
        var t = "function" == typeof Map ? new Map : void 0;
        return (l = function (e) {
          if (null === e || (n = e, -1 === Function.toString.call(n).indexOf(
              "[native code]"))) return e;
          var n;
          if ("function" != typeof e) throw new TypeError(
            "Super expression must either be null or a function");
          if (void 0 !== t) {
            if (t.has(e)) return t.get(e);
            t.set(e, r)
          }

          function r() {
            return c(e, arguments, h(this).constructor)
          }
          return r.prototype = Object.create(e.prototype, {
            constructor: {
              value: r,
              enumerable: !1,
              writable: !0,
              configurable: !0
            }
          }), p(r, e)
        })(e)
      }

      function c(e, t, n) {
        return (c = d() ? Reflect.construct : function (e, t, n) {
          var r = [null];
          r.push.apply(r, t);
          var A = new(Function.bind.apply(e, r));
          return n && p(A, n.prototype), A
        }).apply(null, arguments)
      }

      function d() {
        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ("function" == typeof Proxy) return !0;
        try {
          return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (
          function () {}))), !0
        } catch (e) {
          return !1
        }
      }

      function p(e, t) {
        return (p = Object.setPrototypeOf || function (e, t) {
          return e.__proto__ = t, e
        })(e, t)
      }

      function h(e) {
        return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
          return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
      }
      var f = function (e) {
          ! function (e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError(
              "Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
              constructor: {
                value: e,
                writable: !0,
                configurable: !0
              }
            }), t && p(e, t)
          }(A, e);
          var t, n, r = (t = A, n = d(), function () {
            var e, r = h(t);
            if (n) {
              var A = h(this).constructor;
              e = Reflect.construct(r, arguments, A)
            } else e = r.apply(this, arguments);
            return u(this, e)
          });

          function A(e, t) {
            var n;
            return function (e, t) {
                if (!(e instanceof t)) throw new TypeError(
                  "Cannot call a class as a function")
              }(this, A), (n = r.call(this, "NosUploadError:" + e)).errCode = t, n
              .errMsg = e, n
          }
          return A
        }(l(Error)),
        g = function () {
          function e(t, n, r) {
            ! function (e, t) {
              if (!(e instanceof t)) throw new TypeError(
                "Cannot call a class as a function")
            }(this, e), this.uploadState = "paused", this.config = r, this.file = t, this
              .param = n, this.fileKey = o.initFile(n, t, this.config.enableCache), this
              .resume()
          }
          var t;
          return (t = [{
            key: "resume",
            value: function () {
              var e = this;
              if ("uploading" !== this.uploadState) {
                this.setUploadState("uploading");
                var t = this.config;
                ! function e(t, n, r) {
                  if ("uploading" === t.uploadState) {
                    var A = t.config,
                      a = t.param,
                      i = o.getUploadContext(t.fileKey);
                    if (!i) return r(0);
                    var s = new XMLHttpRequest,
                      u = A.directUploadAddr + "/".concat(a.bucketName) + "/"
                      .concat(encodeURIComponent(a.objectName)) +
                      "?uploadContext" + "&context=".concat(i) + "&version="
                      .concat(A.version);
                    s.onreadystatechange = function () {
                      var a;
                      if ("abort" !== t.uploadState && 4 === s.readyState) {
                        var i;
                        try {
                          i = JSON.parse(s.responseText)
                        } catch (e) {
                          i = {
                            errMsg: "JsonParseError in getOffset",
                            errCode: 500
                          }
                        }
                        200 === s.status ? i.errCode ? t.config.onError(new f(i
                            .errMsg, i.errCode)) : r(i.offset) : s.status
                          .toString().match(/^5/) ? e(t, n - 1, r) : n > 0 ? (
                            "function" == typeof (null === (a = A.logger) ||
                              void 0 === a ? void 0 : a.error) && A.logger
                            .error("getOffset(".concat(u,
                              ") error. retry after 3 seconds. ").concat((
                              new Date).toTimeString())), setTimeout((
                            function () {
                              e(t, n - 1, r)
                            }), 3500)) : (o.removeFileInfo(t.fileKey), s
                            .status ? A.onError(new f("getOffset(".concat(u,
                              ") error: ").concat(s.status, " ").concat(s
                              .statusText))) : A.onError(new f("getOffset("
                              .concat(u, ") error. no Error Code"))))
                      }
                    }, s.open("get", u), s.setRequestHeader("x-nos-token", a
                      .token), s.timeout = A.getOffsetTimeout, s.send()
                  }
                }(this, t.retryCount, (function (n) {
                  ! function e(t, n, r, A) {
                    if ("uploading" === t.uploadState) {
                      var a = t.param,
                        i = t.config,
                        s = File.prototype.slice,
                        u = void 0 !== a.ctx ? a.ctx : "",
                        l = n + i.trunkSize > t.file.size,
                        c = l ? t.file.size : n + i.trunkSize,
                        d = new XMLHttpRequest,
                        p = i.directUploadAddr + "/".concat(a.bucketName) +
                        "/".concat(encodeURIComponent(a.objectName));
                      if (d.upload.onprogress = function (e) {
                          if ("abort" !== t.uploadState) {
                            var r = 0;
                            e.lengthComputable ? (r = (n + e.loaded) / t.file
                              .size, i.onProgress(r), i.onUploadProgress({
                                loaded: e.loaded,
                                total: t.file.size,
                                percentage: r,
                                percentageText: (100 * r).toFixed(2) + "%"
                              })) : i.onError(new f(
                              "browser does not support query upload progress"
                              ))
                          }
                        }, d.onreadystatechange = function () {
                          var a, s;
                          if ("abort" !== t.uploadState && 4 === d
                            .readyState) {
                            var u;
                            try {
                              u = JSON.parse(d.responseText)
                            } catch (e) {
                              "function" == typeof (null === (a = i.logger) ||
                                void 0 === a ? void 0 : a.error) && i.logger
                                .error("JsonParseError in uploadTrunk", e),
                                u = {
                                  errMsg: "JsonParseError in uploadTrunk"
                                }
                            }
                            200 === d.status ? (t.setContext(u.context), l ? (
                              A(), t.setComplete()) : e(t, u.offset, i
                              .retryCount, A)) : d.status.toString().match(
                              /^5/) ? r > 0 ? e(t, n, r - 1, A) : (o
                              .removeFileInfo(t.fileKey), i.onError(new f(u
                                .errMsg, u.errCode))) : r > 0 ? (
                              "function" == typeof (null === (s = i
                                .logger) || void 0 === s ? void 0 : s.error
                                ) && i.logger.error("uploadTrunk(".concat(p,
                                  ") error. retry after 3 seconds. ")
                                .concat((new Date).toTimeString())),
                              setTimeout((function () {
                                e(t, n, r - 1, A)
                              }), 3500)) : (o.removeFileInfo(t.fileKey), d
                              .status ? i.onError(new f("uploadTrunk("
                                .concat(p, ") error: ").concat(d.status,
                                  " ").concat(d.statusText))) : i.onError(
                                new f("uploadTrunk(".concat(p,
                                  ") error. no Error Code. Please check your network"
                                  ))))
                          }
                        }, d.open("post", p + "?offset=".concat(n) +
                          "&complete=".concat(l) + "&context=".concat(u) +
                          "&version=".concat(i.version)), d.setRequestHeader(
                          "x-nos-token", a.token), t.file.type && d
                        .setRequestHeader("content-type", t.file.type), d
                        .timeout = i.trunkUploadTimeout, "undefined" !=
                        typeof FileReader) {
                        var h = new FileReader;
                        h.addEventListener("load", (function (e) {
                          var t;
                          (null === (t = null == e ? void 0 : e
                            .target) || void 0 === t ? void 0 : t.result
                            ) ? d.send(e.target.result): i.onError(
                            new f("Read ArrayBuffer failed"))
                        })), h.addEventListener("error", (function (e) {
                          var t = e.target.error;
                          i.onError(new f("Read ArrayBuffer error. "
                            .concat(t.toString()), t.code))
                        })), h.readAsArrayBuffer(s.call(t.file, n, c))
                      } else d.send(s.call(t.file, n, c))
                    }
                  }(e, n, t.retryCount, (function () {
                    e.setUploadState("ended"), "function" == typeof t
                      .onComplete && t.onComplete(e.param)
                  }))
                }))
              }
            }
          }, {
            key: "pause",
            value: function () {
              this.setUploadState("paused")
            }
          }, {
            key: "abort",
            value: function () {
              this.setUploadState("abort"), o.removeFileInfo(this.fileKey), this
                .config.onError(new f("Upload Aborted", 10499))
            }
          }, {
            key: "setUploadState",
            value: function (e) {
              e !== this.uploadState && (this.uploadState = e)
            }
          }, {
            key: "setContext",
            value: function (e) {
              o.setUploadContext(this.fileKey, e, this.config.enableCache), this
                .param.ctx = e
            }
          }, {
            key: "setComplete",
            value: function () {
              o.setComplete(this.fileKey, this.config.enableCache), this
                .setUploadState("ended")
            }
          }]) && function (e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r
                .writable = !0), Object.defineProperty(e, r.key, r)
            }
          }(e.prototype, t), e
        }(),
        y = {
          maxFileCache: 6,
          expireTime: 864e5,
          getFileUploadInformation: function (e) {
            var t = o.getFileKey(e),
              n = o.getFileInfo(t);
            return null === n ? null : Date.now() - n.modifyAt > y.expireTime ? (o
              .removeFileInfo(t), null) : {
              uploadInfo: Object.assign({
                bucketName: n.bucket,
                objectName: n.obj,
                token: n.token,
                ctx: n.ctx
              }, n.payload ? {
                payload: n.payload
              } : {}),
              complete: n.end
            }
          },
          setMaxFileCache: function (e) {
            y.maxFileCache = e
          },
          setExpireTime: function (e) {
            y.expireTime = e
          },
          printCaches: function () {
            for (var e = 0, t = Object.keys(localStorage); e < t.length; e++) {
              var n = t[e],
                r = o.getFileInfo(n);
              r && console.log(r, "modifiedAt", new Date(r.modifyAt).toTimeString())
            }
          },
          createConfig: function (e) {
            return new n(e)
          },
          createTask: function (e, t, n) {
            return new g(e, t, n)
          }
        },
        v = y;
      return t.default
    }()
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.JSONStringify = void 0;
    var r = i(n(20)),
      A = i(n(21)),
      a = i(n(33));

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }

    function o(e) {
      return "[object Number]" == Object.prototype.toString.call(e)
    }

    function s(e) {
      return "[object String]" == Object.prototype.toString.call(e)
    }

    function u(e) {
      return "[object Array]" == Object.prototype.toString.call(e)
    }

    function l(e) {
      return "[object Boolean]" == Object.prototype.toString.call(e)
    }

    function c(e) {
      return void 0 === e
    }

    function d(e) {
      return null === e
    }

    function p(e) {
      return "[object Symbol]" == Object.prototype.toString.call(e)
    }

    function h(e) {
      return !("[object Object]" != Object.prototype.toString.call(e) && (o(e) || s(e) ||
        l(e) || u(e) || d(e) || f(e) || c(e) || p(e)))
    }

    function f(e) {
      return "[object Function]" == Object.prototype.toString.call(e)
    }

    function g(e) {
      return "object" === ("undefined" == typeof HTMLElement ? "undefined" : (0, a
          .default)(HTMLElement)) ? e instanceof HTMLElement : e && "object" === (
          void 0 === e ? "undefined" : (0, a.default)(e)) && null !== e && 1 === e
        .nodeType && "string" == typeof e.nodeName
    }

    function y(e) {
      var t = Object.prototype.toString.call(e);
      return "[object global]" == t || "[object Window]" == t || "[object DOMWindow]" == t
    }
    t.getDate = function (e) {
        var t = e > 0 ? new Date(e) : new Date,
          n = t.getDate() < 10 ? "0" + t.getDate() : t.getDate(),
          r = t.getMonth() < 9 ? "0" + (t.getMonth() + 1) : t.getMonth() + 1,
          A = t.getFullYear(),
          a = t.getHours() < 10 ? "0" + t.getHours() : t.getHours(),
          i = t.getMinutes() < 10 ? "0" + t.getMinutes() : t.getMinutes(),
          o = t.getSeconds() < 10 ? "0" + t.getSeconds() : t.getSeconds(),
          s = t.getMilliseconds() < 10 ? "0" + t.getMilliseconds() : t.getMilliseconds();
        s < 100 && (s = "0" + s);
        return {
          time: +t,
          year: A,
          month: r,
          day: n,
          hour: a,
          minute: i,
          second: o,
          millisecond: s
        }
      }, t.isNumber = o, t.isString = s, t.isArray = u, t.isBoolean = l, t.isUndefined =
      c, t.isNull = d, t.isSymbol = p, t.isObject = h, t.isFunction = f, t.isElement = g,
      t.isWindow = y, t.isPlainObject = function (e) {
        var t = Object.prototype.hasOwnProperty;
        if (!e || "object" !== (void 0 === e ? "undefined" : (0, a.default)(e)) || e
          .nodeType || y(e)) return !1;
        try {
          if (e.constructor && !t.call(e, "constructor") && !t.call(e.constructor
              .prototype, "isPrototypeOf")) return !1
        } catch (e) {
          return !1
        }
        var n = void 0;
        for (n in e);
        return void 0 === n || t.call(e, n)
      }, t.getObjAllKeys = function (e) {
        if (!h(e) && !u(e)) return [];
        var t = [];
        for (var n in e) t.push(n);
        return t.sort()
      }, t.getObjName = function (e) {
        return Object.prototype.toString.call(e).replace("[object ", "").replace("]", "")
      }, t.setStorage = function (e, t) {
        if (!window.localStorage) return;
        e = "vConsole_" + e, localStorage.setItem(e, t)
      }, t.getStorage = function (e) {
        if (!window.localStorage) return;
        return e = "vConsole_" + e, localStorage.getItem(e)
      };
    t.JSONStringify = function e(t) {
      var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3;
      if ("function" == typeof t) return "[Function]";
      if (h(t) || Array.isArray(t)) {
        if (g(t)) return "[HTML Element]";
        if (v(t)) return "[NIM Object]"
      } else try {
        return (0, A.default)(t)
      } catch (e) {
        return ""
      }
      var i = "{",
        o = "}";
      if (Array.isArray(t) && (i = "[", o = "]"), n < 1) return "typeof [" + (void 0 ===
        t ? "undefined" : (0, a.default)(t)) + "]";
      var s = (0, r.default)(t);
      return i + s.map((function (r) {
        return r + ": " + e(t[r], n - 1)
      })).join(",") + o
    };

    function v(e) {
      return e && ("im" === e.subType || e.__isNimWhiteboard__)
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.delay = void 0;
    var r, A = n(11),
      a = (r = A) && r.__esModule ? r : {
        default: r
      };
    t.delay = function (e) {
      return new a.default((function (t) {
        setTimeout((function () {
          t()
        }), e)
      }))
    }
  }, function (e, t) {
    ! function (n) {
      "object" == typeof t && void 0 !== e ? e.exports = n() : "function" ==
        typeof define && define.amd ? define([], n) : ("undefined" != typeof window ?
          window : "undefined" != typeof global ? global : "undefined" != typeof self ?
          self : this).pako = n()
    }((function () {
      return function e(t, n, r) {
        function A(i, o) {
          if (!n[i]) {
            if (!t[i]) {
              var s = "function" == typeof require && require;
              if (!o && s) return s(i, !0);
              if (a) return a(i, !0);
              var u = new Error("Cannot find module '" + i + "'");
              throw u.code = "MODULE_NOT_FOUND", u
            }
            var l = n[i] = {
              exports: {}
            };
            t[i][0].call(l.exports, (function (e) {
              return A(t[i][1][e] || e)
            }), l, l.exports, e, t, n, r)
          }
          return n[i].exports
        }
        for (var a = "function" == typeof require && require, i = 0; i < r
          .length; i++) A(r[i]);
        return A
      }({
        1: [function (e, t, n) {
          "use strict";
          var r = e("./zlib/deflate"),
            A = e("./utils/common"),
            a = e("./utils/strings"),
            i = e("./zlib/messages"),
            o = e("./zlib/zstream"),
            s = Object.prototype.toString;

          function u(e) {
            if (!(this instanceof u)) return new u(e);
            this.options = A.assign({
              level: -1,
              method: 8,
              chunkSize: 16384,
              windowBits: 15,
              memLevel: 8,
              strategy: 0,
              to: ""
            }, e || {});
            var t = this.options;
            t.raw && 0 < t.windowBits ? t.windowBits = -t.windowBits : t
              .gzip && 0 < t.windowBits && t.windowBits < 16 && (t
                .windowBits += 16), this.err = 0, this.msg = "", this
              .ended = !1, this.chunks = [], this.strm = new o, this.strm
              .avail_out = 0;
            var n = r.deflateInit2(this.strm, t.level, t.method, t.windowBits,
              t.memLevel, t.strategy);
            if (0 !== n) throw new Error(i[n]);
            if (t.header && r.deflateSetHeader(this.strm, t.header), t
              .dictionary) {
              var l;
              if (l = "string" == typeof t.dictionary ? a.string2buf(t
                  .dictionary) : "[object ArrayBuffer]" === s.call(t
                  .dictionary) ? new Uint8Array(t.dictionary) : t.dictionary,
                0 !== (n = r.deflateSetDictionary(this.strm, l)))
              throw new Error(i[n]);
              this._dict_set = !0
            }
          }

          function l(e, t) {
            var n = new u(t);
            if (n.push(e, !0), n.err) throw n.msg || i[n.err];
            return n.result
          }
          u.prototype.push = function (e, t) {
            var n, i, o = this.strm,
              u = this.options.chunkSize;
            if (this.ended) return !1;
            i = t === ~~t ? t : !0 === t ? 4 : 0, "string" == typeof e ? o
              .input = a.string2buf(e) : "[object ArrayBuffer]" === s.call(
                e) ? o.input = new Uint8Array(e) : o.input = e, o.next_in =
              0, o.avail_in = o.input.length;
            do {
              if (0 === o.avail_out && (o.output = new A.Buf8(u), o
                  .next_out = 0, o.avail_out = u), 1 !== (n = r.deflate(o,
                  i)) && 0 !== n) return this.onEnd(n), !(this.ended = !0);
              0 !== o.avail_out && (0 !== o.avail_in || 4 !== i && 2 !==
                i) || ("string" === this.options.to ? this.onData(a
                    .buf2binstring(A.shrinkBuf(o.output, o.next_out))) :
                  this.onData(A.shrinkBuf(o.output, o.next_out)))
            } while ((0 < o.avail_in || 0 === o.avail_out) && 1 !== n);
            return 4 === i ? (n = r.deflateEnd(this.strm), this.onEnd(n),
              this.ended = !0, 0 === n) : 2 !== i || (this.onEnd(0), !(o
              .avail_out = 0))
          }, u.prototype.onData = function (e) {
            this.chunks.push(e)
          }, u.prototype.onEnd = function (e) {
            0 === e && ("string" === this.options.to ? this.result = this
                .chunks.join("") : this.result = A.flattenChunks(this
                  .chunks)), this.chunks = [], this.err = e, this.msg = this
              .strm.msg
          }, n.Deflate = u, n.deflate = l, n.deflateRaw = function (e, t) {
            return (t = t || {}).raw = !0, l(e, t)
          }, n.gzip = function (e, t) {
            return (t = t || {}).gzip = !0, l(e, t)
          }
        }, {
          "./utils/common": 3,
          "./utils/strings": 4,
          "./zlib/deflate": 8,
          "./zlib/messages": 13,
          "./zlib/zstream": 15
        }],
        2: [function (e, t, n) {
          "use strict";
          var r = e("./zlib/inflate"),
            A = e("./utils/common"),
            a = e("./utils/strings"),
            i = e("./zlib/constants"),
            o = e("./zlib/messages"),
            s = e("./zlib/zstream"),
            u = e("./zlib/gzheader"),
            l = Object.prototype.toString;

          function c(e) {
            if (!(this instanceof c)) return new c(e);
            this.options = A.assign({
              chunkSize: 16384,
              windowBits: 0,
              to: ""
            }, e || {});
            var t = this.options;
            t.raw && 0 <= t.windowBits && t.windowBits < 16 && (t
                .windowBits = -t.windowBits, 0 === t.windowBits && (t
                  .windowBits = -15)), !(0 <= t.windowBits && t.windowBits <
                16) || e && e.windowBits || (t.windowBits += 32), 15 < t
              .windowBits && t.windowBits < 48 && 0 == (15 & t.windowBits) &&
              (t.windowBits |= 15), this.err = 0, this.msg = "", this
              .ended = !1, this.chunks = [], this.strm = new s, this.strm
              .avail_out = 0;
            var n = r.inflateInit2(this.strm, t.windowBits);
            if (n !== i.Z_OK) throw new Error(o[n]);
            if (this.header = new u, r.inflateGetHeader(this.strm, this
                .header), t.dictionary && ("string" == typeof t.dictionary ? t
                .dictionary = a.string2buf(t.dictionary) :
                "[object ArrayBuffer]" === l.call(t.dictionary) && (t
                  .dictionary = new Uint8Array(t.dictionary)), t.raw && (n = r
                  .inflateSetDictionary(this.strm, t.dictionary)) !== i.Z_OK))
              throw new Error(o[n])
          }

          function d(e, t) {
            var n = new c(t);
            if (n.push(e, !0), n.err) throw n.msg || o[n.err];
            return n.result
          }
          c.prototype.push = function (e, t) {
            var n, o, s, u, c, d = this.strm,
              p = this.options.chunkSize,
              h = this.options.dictionary,
              f = !1;
            if (this.ended) return !1;
            o = t === ~~t ? t : !0 === t ? i.Z_FINISH : i.Z_NO_FLUSH,
              "string" == typeof e ? d.input = a.binstring2buf(e) :
              "[object ArrayBuffer]" === l.call(e) ? d.input =
              new Uint8Array(e) : d.input = e, d.next_in = 0, d.avail_in = d
              .input.length;
            do {
              if (0 === d.avail_out && (d.output = new A.Buf8(p), d
                  .next_out = 0, d.avail_out = p), (n = r.inflate(d, i
                  .Z_NO_FLUSH)) === i.Z_NEED_DICT && h && (n = r
                  .inflateSetDictionary(this.strm, h)), n === i
                .Z_BUF_ERROR && !0 === f && (n = i.Z_OK, f = !1), n !== i
                .Z_STREAM_END && n !== i.Z_OK) return this.onEnd(n), !(this
                .ended = !0);
              d.next_out && (0 !== d.avail_out && n !== i.Z_STREAM_END && (
                  0 !== d.avail_in || o !== i.Z_FINISH && o !== i
                  .Z_SYNC_FLUSH) || ("string" === this.options.to ? (s = a
                  .utf8border(d.output, d.next_out), u = d.next_out - s,
                  c = a.buf2string(d.output, s), d.next_out = u, d
                  .avail_out = p - u, u && A.arraySet(d.output, d
                    .output, s, u, 0), this.onData(c)) : this.onData(A
                  .shrinkBuf(d.output, d.next_out)))), 0 === d.avail_in &&
                0 === d.avail_out && (f = !0)
            } while ((0 < d.avail_in || 0 === d.avail_out) && n !== i
              .Z_STREAM_END);
            return n === i.Z_STREAM_END && (o = i.Z_FINISH), o === i
              .Z_FINISH ? (n = r.inflateEnd(this.strm), this.onEnd(n), this
                .ended = !0, n === i.Z_OK) : o !== i.Z_SYNC_FLUSH || (this
                .onEnd(i.Z_OK), !(d.avail_out = 0))
          }, c.prototype.onData = function (e) {
            this.chunks.push(e)
          }, c.prototype.onEnd = function (e) {
            e === i.Z_OK && ("string" === this.options.to ? this.result =
                this.chunks.join("") : this.result = A.flattenChunks(this
                  .chunks)), this.chunks = [], this.err = e, this.msg = this
              .strm.msg
          }, n.Inflate = c, n.inflate = d, n.inflateRaw = function (e, t) {
            return (t = t || {}).raw = !0, d(e, t)
          }, n.ungzip = d
        }, {
          "./utils/common": 3,
          "./utils/strings": 4,
          "./zlib/constants": 6,
          "./zlib/gzheader": 9,
          "./zlib/inflate": 11,
          "./zlib/messages": 13,
          "./zlib/zstream": 15
        }],
        3: [function (e, t, n) {
          "use strict";
          var r = "undefined" != typeof Uint8Array && "undefined" !=
            typeof Uint16Array && "undefined" != typeof Int32Array;
          n.assign = function (e) {
            for (var t, n, r = Array.prototype.slice.call(arguments, 1); r
              .length;) {
              var A = r.shift();
              if (A) {
                if ("object" != typeof A) throw new TypeError(A +
                  "must be non-object");
                for (var a in A) t = A, n = a, Object.prototype
                  .hasOwnProperty.call(t, n) && (e[a] = A[a])
              }
            }
            return e
          }, n.shrinkBuf = function (e, t) {
            return e.length === t ? e : e.subarray ? e.subarray(0, t) : (e
              .length = t, e)
          };
          var A = {
              arraySet: function (e, t, n, r, A) {
                if (t.subarray && e.subarray) e.set(t.subarray(n, n + r),
                A);
                else
                  for (var a = 0; a < r; a++) e[A + a] = t[n + a]
              },
              flattenChunks: function (e) {
                var t, n, r, A, a, i;
                for (t = r = 0, n = e.length; t < n; t++) r += e[t].length;
                for (i = new Uint8Array(r), t = A = 0, n = e.length; t <
                  n; t++) a = e[t], i.set(a, A), A += a.length;
                return i
              }
            },
            a = {
              arraySet: function (e, t, n, r, A) {
                for (var a = 0; a < r; a++) e[A + a] = t[n + a]
              },
              flattenChunks: function (e) {
                return [].concat.apply([], e)
              }
            };
          n.setTyped = function (e) {
            e ? (n.Buf8 = Uint8Array, n.Buf16 = Uint16Array, n.Buf32 =
              Int32Array, n.assign(n, A)) : (n.Buf8 = Array, n.Buf16 =
              Array, n.Buf32 = Array, n.assign(n, a))
          }, n.setTyped(r)
        }, {}],
        4: [function (e, t, n) {
          "use strict";
          var r = e("./common"),
            A = !0,
            a = !0;
          try {
            String.fromCharCode.apply(null, [0])
          } catch (e) {
            A = !1
          }
          try {
            String.fromCharCode.apply(null, new Uint8Array(1))
          } catch (e) {
            a = !1
          }
          for (var i = new r.Buf8(256), o = 0; o < 256; o++) i[o] = 252 <= o ?
            6 : 248 <= o ? 5 : 240 <= o ? 4 : 224 <= o ? 3 : 192 <= o ? 2 : 1;

          function s(e, t) {
            if (t < 65534 && (e.subarray && a || !e.subarray && A))
            return String.fromCharCode.apply(null, r.shrinkBuf(e, t));
            for (var n = "", i = 0; i < t; i++) n += String.fromCharCode(e[
            i]);
            return n
          }
          i[254] = i[254] = 1, n.string2buf = function (e) {
            var t, n, A, a, i, o = e.length,
              s = 0;
            for (a = 0; a < o; a++) 55296 == (64512 & (n = e.charCodeAt(
              a))) && a + 1 < o && 56320 == (64512 & (A = e.charCodeAt(a +
                1))) && (n = 65536 + (n - 55296 << 10) + (A - 56320), a++),
              s += n < 128 ? 1 : n < 2048 ? 2 : n < 65536 ? 3 : 4;
            for (t = new r.Buf8(s), a = i = 0; i < s; a++) 55296 == (64512 &
              (n = e.charCodeAt(a))) && a + 1 < o && 56320 == (64512 & (
              A = e.charCodeAt(a + 1))) && (n = 65536 + (n - 55296 <<
              10) + (A - 56320), a++), n < 128 ? t[i++] = n : (n < 2048 ?
              t[i++] = 192 | n >>> 6 : (n < 65536 ? t[i++] = 224 | n >>>
                12 : (t[i++] = 240 | n >>> 18, t[i++] = 128 | n >>> 12 &
                  63), t[i++] = 128 | n >>> 6 & 63), t[i++] = 128 | 63 & n
              );
            return t
          }, n.buf2binstring = function (e) {
            return s(e, e.length)
          }, n.binstring2buf = function (e) {
            for (var t = new r.Buf8(e.length), n = 0, A = t.length; n <
              A; n++) t[n] = e.charCodeAt(n);
            return t
          }, n.buf2string = function (e, t) {
            var n, r, A, a, o = t || e.length,
              u = new Array(2 * o);
            for (n = r = 0; n < o;)
              if ((A = e[n++]) < 128) u[r++] = A;
              else if (4 < (a = i[A])) u[r++] = 65533, n += a - 1;
            else {
              for (A &= 2 === a ? 31 : 3 === a ? 15 : 7; 1 < a && n < o;)
                A = A << 6 | 63 & e[n++], a--;
              1 < a ? u[r++] = 65533 : A < 65536 ? u[r++] = A : (A -= 65536,
                u[r++] = 55296 | A >> 10 & 1023, u[r++] = 56320 | 1023 & A
                )
            }
            return s(u, r)
          }, n.utf8border = function (e, t) {
            var n;
            for ((t = t || e.length) > e.length && (t = e.length), n = t -
              1; 0 <= n && 128 == (192 & e[n]);) n--;
            return n < 0 || 0 === n ? t : n + i[e[n]] > t ? n : t
          }
        }, {
          "./common": 3
        }],
        5: [function (e, t, n) {
          "use strict";
          t.exports = function (e, t, n, r) {
            for (var A = 65535 & e | 0, a = e >>> 16 & 65535 | 0, i =
              0; 0 !== n;) {
              for (n -= i = 2e3 < n ? 2e3 : n; a = a + (A = A + t[r++] |
                0) | 0, --i;);
              A %= 65521, a %= 65521
            }
            return A | a << 16 | 0
          }
        }, {}],
        6: [function (e, t, n) {
          "use strict";
          t.exports = {
            Z_NO_FLUSH: 0,
            Z_PARTIAL_FLUSH: 1,
            Z_SYNC_FLUSH: 2,
            Z_FULL_FLUSH: 3,
            Z_FINISH: 4,
            Z_BLOCK: 5,
            Z_TREES: 6,
            Z_OK: 0,
            Z_STREAM_END: 1,
            Z_NEED_DICT: 2,
            Z_ERRNO: -1,
            Z_STREAM_ERROR: -2,
            Z_DATA_ERROR: -3,
            Z_BUF_ERROR: -5,
            Z_NO_COMPRESSION: 0,
            Z_BEST_SPEED: 1,
            Z_BEST_COMPRESSION: 9,
            Z_DEFAULT_COMPRESSION: -1,
            Z_FILTERED: 1,
            Z_HUFFMAN_ONLY: 2,
            Z_RLE: 3,
            Z_FIXED: 4,
            Z_DEFAULT_STRATEGY: 0,
            Z_BINARY: 0,
            Z_TEXT: 1,
            Z_UNKNOWN: 2,
            Z_DEFLATED: 8
          }
        }, {}],
        7: [function (e, t, n) {
          "use strict";
          var r = function () {
            for (var e, t = [], n = 0; n < 256; n++) {
              e = n;
              for (var r = 0; r < 8; r++) e = 1 & e ? 3988292384 ^ e >>> 1 :
                e >>> 1;
              t[n] = e
            }
            return t
          }();
          t.exports = function (e, t, n, A) {
            var a = r,
              i = A + n;
            e ^= -1;
            for (var o = A; o < i; o++) e = e >>> 8 ^ a[255 & (e ^ t[o])];
            return -1 ^ e
          }
        }, {}],
        8: [function (e, t, n) {
          "use strict";
          var r, A = e("../utils/common"),
            a = e("./trees"),
            i = e("./adler32"),
            o = e("./crc32"),
            s = e("./messages"),
            u = -2,
            l = 258,
            c = 262,
            d = 113;

          function p(e, t) {
            return e.msg = s[t], t
          }

          function h(e) {
            return (e << 1) - (4 < e ? 9 : 0)
          }

          function f(e) {
            for (var t = e.length; 0 <= --t;) e[t] = 0
          }

          function g(e) {
            var t = e.state,
              n = t.pending;
            n > e.avail_out && (n = e.avail_out), 0 !== n && (A.arraySet(e
                .output, t.pending_buf, t.pending_out, n, e.next_out), e
              .next_out += n, t.pending_out += n, e.total_out += n, e
              .avail_out -= n, t.pending -= n, 0 === t.pending && (t
                .pending_out = 0))
          }

          function y(e, t) {
            a._tr_flush_block(e, 0 <= e.block_start ? e.block_start : -1, e
              .strstart - e.block_start, t), e.block_start = e.strstart, g(e
              .strm)
          }

          function v(e, t) {
            e.pending_buf[e.pending++] = t
          }

          function m(e, t) {
            e.pending_buf[e.pending++] = t >>> 8 & 255, e.pending_buf[e
              .pending++] = 255 & t
          }

          function w(e, t) {
            var n, r, A = e.max_chain_length,
              a = e.strstart,
              i = e.prev_length,
              o = e.nice_match,
              s = e.strstart > e.w_size - c ? e.strstart - (e.w_size - c) : 0,
              u = e.window,
              d = e.w_mask,
              p = e.prev,
              h = e.strstart + l,
              f = u[a + i - 1],
              g = u[a + i];
            e.prev_length >= e.good_match && (A >>= 2), o > e.lookahead && (
              o = e.lookahead);
            do {
              if (u[(n = t) + i] === g && u[n + i - 1] === f && u[n] === u[
                a] && u[++n] === u[a + 1]) {
                a += 2, n++;
                do {} while (u[++a] === u[++n] && u[++a] === u[++n] && u[++
                  a] === u[++n] && u[++a] === u[++n] && u[++a] === u[++n] &&
                  u[++a] === u[++n] && u[++a] === u[++n] && u[++a] === u[++
                  n] && a < h);
                if (r = l - (h - a), a = h - l, i < r) {
                  if (e.match_start = t, o <= (i = r)) break;
                  f = u[a + i - 1], g = u[a + i]
                }
              }
            } while ((t = p[t & d]) > s && 0 != --A);
            return i <= e.lookahead ? i : e.lookahead
          }

          function B(e) {
            var t, n, r, a, s, u, l, d, p, h, f = e.w_size;
            do {
              if (a = e.window_size - e.lookahead - e.strstart, e.strstart >=
                f + (f - c)) {
                for (A.arraySet(e.window, e.window, f, f, 0), e.match_start -=
                  f, e.strstart -= f, e.block_start -= f, t = n = e
                  .hash_size; r = e.head[--t], e.head[t] = f <= r ? r - f : 0,
                  --n;);
                for (t = n = f; r = e.prev[--t], e.prev[t] = f <= r ? r - f :
                  0, --n;);
                a += f
              }
              if (0 === e.strm.avail_in) break;
              if (u = e.strm, l = e.window, d = e.strstart + e.lookahead, h =
                void 0, (p = a) < (h = u.avail_in) && (h = p), n = 0 === h ?
                0 : (u.avail_in -= h, A.arraySet(l, u.input, u.next_in, h, d),
                  1 === u.state.wrap ? u.adler = i(u.adler, l, h, d) : 2 === u
                  .state.wrap && (u.adler = o(u.adler, l, h, d)), u.next_in +=
                  h, u.total_in += h, h), e.lookahead += n, e.lookahead + e
                .insert >= 3)
                for (s = e.strstart - e.insert, e.ins_h = e.window[s], e
                  .ins_h = (e.ins_h << e.hash_shift ^ e.window[s + 1]) & e
                  .hash_mask; e.insert && (e.ins_h = (e.ins_h << e
                      .hash_shift ^ e.window[s + 3 - 1]) & e.hash_mask, e
                    .prev[s & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] =
                    s, s++, e.insert--, !(e.lookahead + e.insert < 3)););
            } while (e.lookahead < c && 0 !== e.strm.avail_in)
          }

          function I(e, t) {
            for (var n, r;;) {
              if (e.lookahead < c) {
                if (B(e), e.lookahead < c && 0 === t) return 1;
                if (0 === e.lookahead) break
              }
              if (n = 0, e.lookahead >= 3 && (e.ins_h = (e.ins_h << e
                    .hash_shift ^ e.window[e.strstart + 3 - 1]) & e.hash_mask,
                  n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h], e.head[
                    e.ins_h] = e.strstart), 0 !== n && e.strstart - n <= e
                .w_size - c && (e.match_length = w(e, n)), e.match_length >= 3
                )
                if (r = a._tr_tally(e, e.strstart - e.match_start, e
                    .match_length - 3), e.lookahead -= e.match_length, e
                  .match_length <= e.max_lazy_match && e.lookahead >= 3) {
                  for (e.match_length--; e.strstart++, e.ins_h = (e.ins_h << e
                      .hash_shift ^ e.window[e.strstart + 3 - 1]) & e
                    .hash_mask, n = e.prev[e.strstart & e.w_mask] = e.head[e
                      .ins_h], e.head[e.ins_h] = e.strstart, 0 != --e
                    .match_length;);
                  e.strstart++
                } else e.strstart += e.match_length, e.match_length = 0, e
                  .ins_h = e.window[e.strstart], e.ins_h = (e.ins_h << e
                    .hash_shift ^ e.window[e.strstart + 1]) & e.hash_mask;
              else r = a._tr_tally(e, 0, e.window[e.strstart]), e.lookahead--,
                e.strstart++;
              if (r && (y(e, !1), 0 === e.strm.avail_out)) return 1
            }
            return e.insert = e.strstart < 2 ? e.strstart : 2, 4 === t ? (y(e,
              !0), 0 === e.strm.avail_out ? 3 : 4) : e.last_lit && (y(e, !
              1), 0 === e.strm.avail_out) ? 1 : 2
          }

          function M(e, t) {
            for (var n, r, A;;) {
              if (e.lookahead < c) {
                if (B(e), e.lookahead < c && 0 === t) return 1;
                if (0 === e.lookahead) break
              }
              if (n = 0, e.lookahead >= 3 && (e.ins_h = (e.ins_h << e
                    .hash_shift ^ e.window[e.strstart + 3 - 1]) & e.hash_mask,
                  n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h], e.head[
                    e.ins_h] = e.strstart), e.prev_length = e.match_length, e
                .prev_match = e.match_start, e.match_length = 2, 0 !== n && e
                .prev_length < e.max_lazy_match && e.strstart - n <= e
                .w_size - c && (e.match_length = w(e, n), e.match_length <=
                  5 && (1 === e.strategy || 3 === e.match_length && 4096 < e
                    .strstart - e.match_start) && (e.match_length = 2)), e
                .prev_length >= 3 && e.match_length <= e.prev_length) {
                for (A = e.strstart + e.lookahead - 3, r = a._tr_tally(e, e
                    .strstart - 1 - e.prev_match, e.prev_length - 3), e
                  .lookahead -= e.prev_length - 1, e.prev_length -= 2; ++e
                  .strstart <= A && (e.ins_h = (e.ins_h << e.hash_shift ^ e
                      .window[e.strstart + 3 - 1]) & e.hash_mask, n = e.prev[e
                      .strstart & e.w_mask] = e.head[e.ins_h], e.head[e
                    .ins_h] = e.strstart), 0 != --e.prev_length;);
                if (e.match_available = 0, e.match_length = 2, e.strstart++,
                  r && (y(e, !1), 0 === e.strm.avail_out)) return 1
              } else if (e.match_available) {
                if ((r = a._tr_tally(e, 0, e.window[e.strstart - 1])) && y(e,
                    !1), e.strstart++, e.lookahead--, 0 === e.strm.avail_out)
                  return 1
              } else e.match_available = 1, e.strstart++, e.lookahead--
            }
            return e.match_available && (r = a._tr_tally(e, 0, e.window[e
                .strstart - 1]), e.match_available = 0), e.insert = e
              .strstart < 2 ? e.strstart : 2, 4 === t ? (y(e, !0), 0 === e
                .strm.avail_out ? 3 : 4) : e.last_lit && (y(e, !1), 0 === e
                .strm.avail_out) ? 1 : 2
          }

          function C(e, t, n, r, A) {
            this.good_length = e, this.max_lazy = t, this.nice_length = n,
              this.max_chain = r, this.func = A
          }

          function b() {
            this.strm = null, this.status = 0, this.pending_buf = null, this
              .pending_buf_size = 0, this.pending_out = 0, this.pending = 0,
              this.wrap = 0, this.gzhead = null, this.gzindex = 0, this
              .method = 8, this.last_flush = -1, this.w_size = 0, this
              .w_bits = 0, this.w_mask = 0, this.window = null, this
              .window_size = 0, this.prev = null, this.head = null, this
              .ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this
              .hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this
              .match_length = 0, this.prev_match = 0, this.match_available =
              0, this.strstart = 0, this.match_start = 0, this.lookahead = 0,
              this.prev_length = 0, this.max_chain_length = 0, this
              .max_lazy_match = 0, this.level = 0, this.strategy = 0, this
              .good_match = 0, this.nice_match = 0, this.dyn_ltree = new A
              .Buf16(1146), this.dyn_dtree = new A.Buf16(122), this.bl_tree =
              new A.Buf16(78), f(this.dyn_ltree), f(this.dyn_dtree), f(this
                .bl_tree), this.l_desc = null, this.d_desc = null, this
              .bl_desc = null, this.bl_count = new A.Buf16(16), this.heap =
              new A.Buf16(573), f(this.heap), this.heap_len = 0, this
              .heap_max = 0, this.depth = new A.Buf16(573), f(this.depth),
              this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this
              .d_buf = 0, this.opt_len = 0, this.static_len = 0, this
              .matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid =
              0
          }

          function x(e) {
            var t;
            return e && e.state ? (e.total_in = e.total_out = 0, e.data_type =
              2, (t = e.state).pending = 0, t.pending_out = 0, t.wrap < 0 &&
              (t.wrap = -t.wrap), t.status = t.wrap ? 42 : d, e.adler =
              2 === t.wrap ? 0 : 1, t.last_flush = 0, a._tr_init(t), 0) : p(
              e, u)
          }

          function T(e) {
            var t, n = x(e);
            return 0 === n && ((t = e.state).window_size = 2 * t.w_size, f(t
                .head), t.max_lazy_match = r[t.level].max_lazy, t
              .good_match = r[t.level].good_length, t.nice_match = r[t
                .level].nice_length, t.max_chain_length = r[t.level]
              .max_chain, t.strstart = 0, t.block_start = 0, t.lookahead =
              0, t.insert = 0, t.match_length = t.prev_length = 2, t
              .match_available = 0, t.ins_h = 0), n
          }

          function k(e, t, n, r, a, i) {
            if (!e) return u;
            var o = 1;
            if (-1 === t && (t = 6), r < 0 ? (o = 0, r = -r) : 15 < r && (o =
                2, r -= 16), a < 1 || 9 < a || 8 !== n || r < 8 || 15 < r ||
              t < 0 || 9 < t || i < 0 || 4 < i) return p(e, u);
            8 === r && (r = 9);
            var s = new b;
            return (e.state = s).strm = e, s.wrap = o, s.gzhead = null, s
              .w_bits = r, s.w_size = 1 << s.w_bits, s.w_mask = s.w_size - 1,
              s.hash_bits = a + 7, s.hash_size = 1 << s.hash_bits, s
              .hash_mask = s.hash_size - 1, s.hash_shift = ~~((s.hash_bits +
                3 - 1) / 3), s.window = new A.Buf8(2 * s.w_size), s.head =
              new A.Buf16(s.hash_size), s.prev = new A.Buf16(s.w_size), s
              .lit_bufsize = 1 << a + 6, s.pending_buf_size = 4 * s
              .lit_bufsize, s.pending_buf = new A.Buf8(s.pending_buf_size), s
              .d_buf = 1 * s.lit_bufsize, s.l_buf = 3 * s.lit_bufsize, s
              .level = t, s.strategy = i, s.method = n, T(e)
          }
          r = [new C(0, 0, 0, 0, (function (e, t) {
                var n = 65535;
                for (n > e.pending_buf_size - 5 && (n = e
                    .pending_buf_size - 5);;) {
                  if (e.lookahead <= 1) {
                    if (B(e), 0 === e.lookahead && 0 === t) return 1;
                    if (0 === e.lookahead) break
                  }
                  e.strstart += e.lookahead, e.lookahead = 0;
                  var r = e.block_start + n;
                  if ((0 === e.strstart || e.strstart >= r) && (e
                      .lookahead = e.strstart - r, e.strstart = r, y(e, !
                        1), 0 === e.strm.avail_out)) return 1;
                  if (e.strstart - e.block_start >= e.w_size - c && (y(e,
                      !1), 0 === e.strm.avail_out)) return 1
                }
                return e.insert = 0, 4 === t ? (y(e, !0), 0 === e.strm
                  .avail_out ? 3 : 4) : (e.strstart > e.block_start && (
                  y(e, !1), e.strm.avail_out), 1)
              })), new C(4, 4, 8, 4, I), new C(4, 5, 16, 8, I), new C(4, 6,
                32, 32, I), new C(4, 4, 16, 16, M), new C(8, 16, 32, 32, M),
              new C(8, 16, 128, 128, M), new C(8, 32, 128, 256, M), new C(32,
                128, 258, 1024, M), new C(32, 258, 258, 4096, M)
            ], n.deflateInit = function (e, t) {
              return k(e, t, 8, 15, 8, 0)
            }, n.deflateInit2 = k, n.deflateReset = T, n.deflateResetKeep = x,
            n.deflateSetHeader = function (e, t) {
              return e && e.state ? 2 !== e.state.wrap ? u : (e.state.gzhead =
                t, 0) : u
            }, n.deflate = function (e, t) {
              var n, A, i, s;
              if (!e || !e.state || 5 < t || t < 0) return e ? p(e, u) : u;
              if (A = e.state, !e.output || !e.input && 0 !== e.avail_in ||
                666 === A.status && 4 !== t) return p(e, 0 === e.avail_out ? -
                5 : u);
              if (A.strm = e, n = A.last_flush, A.last_flush = t, 42 === A
                .status)
                if (2 === A.wrap) e.adler = 0, v(A, 31), v(A, 139), v(A, 8), A
                  .gzhead ? (v(A, (A.gzhead.text ? 1 : 0) + (A.gzhead.hcrc ?
                      2 : 0) + (A.gzhead.extra ? 4 : 0) + (A.gzhead.name ?
                      8 : 0) + (A.gzhead.comment ? 16 : 0)), v(A, 255 & A
                      .gzhead.time), v(A, A.gzhead.time >> 8 & 255), v(A, A
                      .gzhead.time >> 16 & 255), v(A, A.gzhead.time >> 24 &
                      255), v(A, 9 === A.level ? 2 : 2 <= A.strategy || A
                      .level < 2 ? 4 : 0), v(A, 255 & A.gzhead.os), A.gzhead
                    .extra && A.gzhead.extra.length && (v(A, 255 & A.gzhead
                        .extra.length), v(A, A.gzhead.extra.length >> 8 &
                      255)), A.gzhead.hcrc && (e.adler = o(e.adler, A
                      .pending_buf, A.pending, 0)), A.gzindex = 0, A.status =
                    69) : (v(A, 0), v(A, 0), v(A, 0), v(A, 0), v(A, 0), v(A,
                    9 === A.level ? 2 : 2 <= A.strategy || A.level < 2 ? 4 :
                    0), v(A, 3), A.status = d);
                else {
                  var c = 8 + (A.w_bits - 8 << 4) << 8;
                  c |= (2 <= A.strategy || A.level < 2 ? 0 : A.level < 6 ? 1 :
                      6 === A.level ? 2 : 3) << 6, 0 !== A.strstart && (c |=
                      32), c += 31 - c % 31, A.status = d, m(A, c), 0 !== A
                    .strstart && (m(A, e.adler >>> 16), m(A, 65535 & e
                    .adler)), e.adler = 1
                } if (69 === A.status)
                if (A.gzhead.extra) {
                  for (i = A.pending; A.gzindex < (65535 & A.gzhead.extra
                      .length) && (A.pending !== A.pending_buf_size || (A
                      .gzhead.hcrc && A.pending > i && (e.adler = o(e.adler,
                        A.pending_buf, A.pending - i, i)), g(e), i = A
                      .pending, A.pending !== A.pending_buf_size));) v(A,
                    255 & A.gzhead.extra[A.gzindex]), A.gzindex++;
                  A.gzhead.hcrc && A.pending > i && (e.adler = o(e.adler, A
                      .pending_buf, A.pending - i, i)), A.gzindex === A.gzhead
                    .extra.length && (A.gzindex = 0, A.status = 73)
                } else A.status = 73;
              if (73 === A.status)
                if (A.gzhead.name) {
                  i = A.pending;
                  do {
                    if (A.pending === A.pending_buf_size && (A.gzhead.hcrc &&
                        A.pending > i && (e.adler = o(e.adler, A.pending_buf,
                          A.pending - i, i)), g(e), i = A.pending, A
                        .pending === A.pending_buf_size)) {
                      s = 1;
                      break
                    }
                    v(A, s = A.gzindex < A.gzhead.name.length ? 255 & A.gzhead
                      .name.charCodeAt(A.gzindex++) : 0)
                  } while (0 !== s);
                  A.gzhead.hcrc && A.pending > i && (e.adler = o(e.adler, A
                    .pending_buf, A.pending - i, i)), 0 === s && (A
                    .gzindex = 0, A.status = 91)
                } else A.status = 91;
              if (91 === A.status)
                if (A.gzhead.comment) {
                  i = A.pending;
                  do {
                    if (A.pending === A.pending_buf_size && (A.gzhead.hcrc &&
                        A.pending > i && (e.adler = o(e.adler, A.pending_buf,
                          A.pending - i, i)), g(e), i = A.pending, A
                        .pending === A.pending_buf_size)) {
                      s = 1;
                      break
                    }
                    v(A, s = A.gzindex < A.gzhead.comment.length ? 255 & A
                      .gzhead.comment.charCodeAt(A.gzindex++) : 0)
                  } while (0 !== s);
                  A.gzhead.hcrc && A.pending > i && (e.adler = o(e.adler, A
                    .pending_buf, A.pending - i, i)), 0 === s && (A.status =
                    103)
                } else A.status = 103;
              if (103 === A.status && (A.gzhead.hcrc ? (A.pending + 2 > A
                  .pending_buf_size && g(e), A.pending + 2 <= A
                  .pending_buf_size && (v(A, 255 & e.adler), v(A, e.adler >>
                    8 & 255), e.adler = 0, A.status = d)) : A.status = d),
                0 !== A.pending) {
                if (g(e), 0 === e.avail_out) return A.last_flush = -1, 0
              } else if (0 === e.avail_in && h(t) <= h(n) && 4 !== t)
              return p(e, -5);
              if (666 === A.status && 0 !== e.avail_in) return p(e, -5);
              if (0 !== e.avail_in || 0 !== A.lookahead || 0 !== t && 666 !==
                A.status) {
                var w = 2 === A.strategy ? function (e, t) {
                  for (var n;;) {
                    if (0 === e.lookahead && (B(e), 0 === e.lookahead)) {
                      if (0 === t) return 1;
                      break
                    }
                    if (e.match_length = 0, n = a._tr_tally(e, 0, e.window[e
                        .strstart]), e.lookahead--, e.strstart++, n && (y(e,
                        !1), 0 === e.strm.avail_out)) return 1
                  }
                  return e.insert = 0, 4 === t ? (y(e, !0), 0 === e.strm
                    .avail_out ? 3 : 4) : e.last_lit && (y(e, !1), 0 === e
                    .strm.avail_out) ? 1 : 2
                }(A, t) : 3 === A.strategy ? function (e, t) {
                  for (var n, r, A, i, o = e.window;;) {
                    if (e.lookahead <= l) {
                      if (B(e), e.lookahead <= l && 0 === t) return 1;
                      if (0 === e.lookahead) break
                    }
                    if (e.match_length = 0, e.lookahead >= 3 && 0 < e
                      .strstart && (r = o[A = e.strstart - 1]) === o[++A] &&
                      r === o[++A] && r === o[++A]) {
                      i = e.strstart + l;
                      do {} while (r === o[++A] && r === o[++A] && r === o[
                          ++A] && r === o[++A] && r === o[++A] && r === o[++
                          A] && r === o[++A] && r === o[++A] && A < i);
                      e.match_length = l - (i - A), e.match_length > e
                        .lookahead && (e.match_length = e.lookahead)
                    }
                    if (e.match_length >= 3 ? (n = a._tr_tally(e, 1, e
                          .match_length - 3), e.lookahead -= e.match_length,
                        e.strstart += e.match_length, e.match_length = 0) :
                      (n = a._tr_tally(e, 0, e.window[e.strstart]), e
                        .lookahead--, e.strstart++), n && (y(e, !1), 0 === e
                        .strm.avail_out)) return 1
                  }
                  return e.insert = 0, 4 === t ? (y(e, !0), 0 === e.strm
                    .avail_out ? 3 : 4) : e.last_lit && (y(e, !1), 0 === e
                    .strm.avail_out) ? 1 : 2
                }(A, t) : r[A.level].func(A, t);
                if (3 !== w && 4 !== w || (A.status = 666), 1 === w || 3 ===
                  w) return 0 === e.avail_out && (A.last_flush = -1), 0;
                if (2 === w && (1 === t ? a._tr_align(A) : 5 !== t && (a
                    ._tr_stored_block(A, 0, 0, !1), 3 === t && (f(A.head),
                      0 === A.lookahead && (A.strstart = 0, A.block_start =
                        0, A.insert = 0))), g(e), 0 === e.avail_out)) return A
                  .last_flush = -1, 0
              }
              return 4 !== t ? 0 : A.wrap <= 0 ? 1 : (2 === A.wrap ? (v(A,
                  255 & e.adler), v(A, e.adler >> 8 & 255), v(A, e
                  .adler >> 16 & 255), v(A, e.adler >> 24 & 255), v(A,
                  255 & e.total_in), v(A, e.total_in >> 8 & 255), v(A, e
                  .total_in >> 16 & 255), v(A, e.total_in >> 24 & 255)) : (
                  m(A, e.adler >>> 16), m(A, 65535 & e.adler)), g(e), 0 < A
                .wrap && (A.wrap = -A.wrap), 0 !== A.pending ? 0 : 1)
            }, n.deflateEnd = function (e) {
              var t;
              return e && e.state ? 42 !== (t = e.state.status) && 69 !== t &&
                73 !== t && 91 !== t && 103 !== t && t !== d && 666 !== t ? p(
                  e, u) : (e.state = null, t === d ? p(e, -3) : 0) : u
            }, n.deflateSetDictionary = function (e, t) {
              var n, r, a, o, s, l, c, d, p = t.length;
              if (!e || !e.state) return u;
              if (2 === (o = (n = e.state).wrap) || 1 === o && 42 !== n
                .status || n.lookahead) return u;
              for (1 === o && (e.adler = i(e.adler, t, p, 0)), n.wrap = 0,
                p >= n.w_size && (0 === o && (f(n.head), n.strstart = 0, n
                    .block_start = 0, n.insert = 0), d = new A.Buf8(n.w_size),
                  A.arraySet(d, t, p - n.w_size, n.w_size, 0), t = d, p = n
                  .w_size), s = e.avail_in, l = e.next_in, c = e.input, e
                .avail_in = p, e.next_in = 0, e.input = t, B(n); n
                .lookahead >= 3;) {
                for (r = n.strstart, a = n.lookahead - 2; n.ins_h = (n
                    .ins_h << n.hash_shift ^ n.window[r + 3 - 1]) & n
                  .hash_mask, n.prev[r & n.w_mask] = n.head[n.ins_h], n.head[n
                    .ins_h] = r, r++, --a;);
                n.strstart = r, n.lookahead = 2, B(n)
              }
              return n.strstart += n.lookahead, n.block_start = n.strstart, n
                .insert = n.lookahead, n.lookahead = 0, n.match_length = n
                .prev_length = 2, n.match_available = 0, e.next_in = l, e
                .input = c, e.avail_in = s, n.wrap = o, 0
            }, n.deflateInfo = "pako deflate (from Nodeca project)"
        }, {
          "../utils/common": 3,
          "./adler32": 5,
          "./crc32": 7,
          "./messages": 13,
          "./trees": 14
        }],
        9: [function (e, t, n) {
          "use strict";
          t.exports = function () {
            this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this
              .extra = null, this.extra_len = 0, this.name = "", this
              .comment = "", this.hcrc = 0, this.done = !1
          }
        }, {}],
        10: [function (e, t, n) {
          "use strict";
          t.exports = function (e, t) {
            var n, r, A, a, i, o, s, u, l, c, d, p, h, f, g, y, v, m, w, B,
              I, M, C, b, x;
            n = e.state, r = e.next_in, b = e.input, A = r + (e.avail_in -
                5), a = e.next_out, x = e.output, i = a - (t - e.avail_out),
              o = a + (e.avail_out - 257), s = n.dmax, u = n.wsize, l = n
              .whave, c = n.wnext, d = n.window, p = n.hold, h = n.bits, f =
              n.lencode, g = n.distcode, y = (1 << n.lenbits) - 1, v = (1 <<
                n.distbits) - 1;
            e: do {
              h < 15 && (p += b[r++] << h, h += 8, p += b[r++] << h, h +=
                8), m = f[p & y];
              t: for (;;) {
                if (p >>>= w = m >>> 24, h -= w, 0 == (w = m >>> 16 &
                    255)) x[a++] = 65535 & m;
                else {
                  if (!(16 & w)) {
                    if (0 == (64 & w)) {
                      m = f[(65535 & m) + (p & (1 << w) - 1)];
                      continue t
                    }
                    if (32 & w) {
                      n.mode = 12;
                      break e
                    }
                    e.msg = "invalid literal/length code", n.mode = 30;
                    break e
                  }
                  B = 65535 & m, (w &= 15) && (h < w && (p += b[r++] <<
                      h, h += 8), B += p & (1 << w) - 1, p >>>= w,
                    h -= w), h < 15 && (p += b[r++] << h, h += 8, p +=
                    b[r++] << h, h += 8), m = g[p & v];
                  n: for (;;) {
                    if (p >>>= w = m >>> 24, h -= w, !(16 & (w = m >>>
                        16 & 255))) {
                      if (0 == (64 & w)) {
                        m = g[(65535 & m) + (p & (1 << w) - 1)];
                        continue n
                      }
                      e.msg = "invalid distance code", n.mode = 30;
                      break e
                    }
                    if (I = 65535 & m, h < (w &= 15) && (p += b[
                        r++] << h, (h += 8) < w && (p += b[r++] << h,
                          h += 8)), s < (I += p & (1 << w) - 1)) {
                      e.msg = "invalid distance too far back", n
                        .mode = 30;
                      break e
                    }
                    if (p >>>= w, h -= w, (w = a - i) < I) {
                      if (l < (w = I - w) && n.sane) {
                        e.msg = "invalid distance too far back", n
                          .mode = 30;
                        break e
                      }
                      if (C = d, (M = 0) === c) {
                        if (M += u - w, w < B) {
                          for (B -= w; x[a++] = d[M++], --w;);
                          M = a - I, C = x
                        }
                      } else if (c < w) {
                        if (M += u + c - w, (w -= c) < B) {
                          for (B -= w; x[a++] = d[M++], --w;);
                          if (M = 0, c < B) {
                            for (B -= w = c; x[a++] = d[M++], --w;);
                            M = a - I, C = x
                          }
                        }
                      } else if (M += c - w, w < B) {
                        for (B -= w; x[a++] = d[M++], --w;);
                        M = a - I, C = x
                      }
                      for (; 2 < B;) x[a++] = C[M++], x[a++] = C[M++],
                        x[a++] = C[M++], B -= 3;
                      B && (x[a++] = C[M++], 1 < B && (x[a++] = C[
                        M++]))
                    } else {
                      for (M = a - I; x[a++] = x[M++], x[a++] = x[
                        M++], x[a++] = x[M++], 2 < (B -= 3););
                      B && (x[a++] = x[M++], 1 < B && (x[a++] = x[
                        M++]))
                    }
                    break
                  }
                }
                break
              }
            } while (r < A && a < o);
            r -= B = h >> 3, p &= (1 << (h -= B << 3)) - 1, e.next_in = r, e
              .next_out = a, e.avail_in = r < A ? A - r + 5 : 5 - (r - A), e
              .avail_out = a < o ? o - a + 257 : 257 - (a - o), n.hold = p,
              n.bits = h
          }
        }, {}],
        11: [function (e, t, n) {
          "use strict";
          var r = e("../utils/common"),
            A = e("./adler32"),
            a = e("./crc32"),
            i = e("./inffast"),
            o = e("./inftrees"),
            s = -2;

          function u(e) {
            return (e >>> 24 & 255) + (e >>> 8 & 65280) + ((65280 & e) << 8) +
              ((255 & e) << 24)
          }

          function l() {
            this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1,
              this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0,
              this.head = null, this.wbits = 0, this.wsize = 0, this.whave =
              0, this.wnext = 0, this.window = null, this.hold = 0, this
              .bits = 0, this.length = 0, this.offset = 0, this.extra = 0,
              this.lencode = null, this.distcode = null, this.lenbits = 0,
              this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist =
              0, this.have = 0, this.next = null, this.lens = new r.Buf16(
              320), this.work = new r.Buf16(288), this.lendyn = null, this
              .distdyn = null, this.sane = 0, this.back = 0, this.was = 0
          }

          function c(e) {
            var t;
            return e && e.state ? (t = e.state, e.total_in = e.total_out = t
              .total = 0, e.msg = "", t.wrap && (e.adler = 1 & t.wrap), t
              .mode = 1, t.last = 0, t.havedict = 0, t.dmax = 32768, t
              .head = null, t.hold = 0, t.bits = 0, t.lencode = t.lendyn =
              new r.Buf32(852), t.distcode = t.distdyn = new r.Buf32(592), t
              .sane = 1, t.back = -1, 0) : s
          }

          function d(e) {
            var t;
            return e && e.state ? ((t = e.state).wsize = 0, t.whave = 0, t
              .wnext = 0, c(e)) : s
          }

          function p(e, t) {
            var n, r;
            return e && e.state ? (r = e.state, t < 0 ? (n = 0, t = -t) : (n =
                1 + (t >> 4), t < 48 && (t &= 15)), t && (t < 8 || 15 < t) ?
              s : (null !== r.window && r.wbits !== t && (r.window = null),
                r.wrap = n, r.wbits = t, d(e))) : s
          }

          function h(e, t) {
            var n, r;
            return e ? (r = new l, (e.state = r).window = null, 0 !== (n = p(
              e, t)) && (e.state = null), n) : s
          }
          var f, g, y = !0;

          function v(e) {
            if (y) {
              var t;
              for (f = new r.Buf32(512), g = new r.Buf32(32), t = 0; t < 144;)
                e.lens[t++] = 8;
              for (; t < 256;) e.lens[t++] = 9;
              for (; t < 280;) e.lens[t++] = 7;
              for (; t < 288;) e.lens[t++] = 8;
              for (o(1, e.lens, 0, 288, f, 0, e.work, {
                  bits: 9
                }), t = 0; t < 32;) e.lens[t++] = 5;
              o(2, e.lens, 0, 32, g, 0, e.work, {
                bits: 5
              }), y = !1
            }
            e.lencode = f, e.lenbits = 9, e.distcode = g, e.distbits = 5
          }

          function m(e, t, n, A) {
            var a, i = e.state;
            return null === i.window && (i.wsize = 1 << i.wbits, i.wnext = 0,
              i.whave = 0, i.window = new r.Buf8(i.wsize)), A >= i.wsize ? (
              r.arraySet(i.window, t, n - i.wsize, i.wsize, 0), i.wnext = 0,
              i.whave = i.wsize) : (A < (a = i.wsize - i.wnext) && (a = A),
              r.arraySet(i.window, t, n - A, a, i.wnext), (A -= a) ? (r
                .arraySet(i.window, t, n - A, A, 0), i.wnext = A, i.whave =
                i.wsize) : (i.wnext += a, i.wnext === i.wsize && (i.wnext =
                0), i.whave < i.wsize && (i.whave += a))), 0
          }
          n.inflateReset = d, n.inflateReset2 = p, n.inflateResetKeep = c, n
            .inflateInit = function (e) {
              return h(e, 15)
            }, n.inflateInit2 = h, n.inflate = function (e, t) {
              var n, l, c, d, p, h, f, g, y, w, B, I, M, C, b, x, T, k, E, N,
                O, P, _, D, Q = 0,
                S = new r.Buf8(4),
                U = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2,
                  14, 1, 15
                ];
              if (!e || !e.state || !e.output || !e.input && 0 !== e.avail_in)
                return s;
              12 === (n = e.state).mode && (n.mode = 13), p = e.next_out, c =
                e.output, f = e.avail_out, d = e.next_in, l = e.input, h = e
                .avail_in, g = n.hold, y = n.bits, w = h, B = f, P = 0;
              e: for (;;) switch (n.mode) {
                case 1:
                  if (0 === n.wrap) {
                    n.mode = 13;
                    break
                  }
                  for (; y < 16;) {
                    if (0 === h) break e;
                    h--, g += l[d++] << y, y += 8
                  }
                  if (2 & n.wrap && 35615 === g) {
                    S[n.check = 0] = 255 & g, S[1] = g >>> 8 & 255, n
                      .check = a(n.check, S, 2, 0), y = g = 0, n.mode = 2;
                    break
                  }
                  if (n.flags = 0, n.head && (n.head.done = !1), !(1 & n
                      .wrap) || (((255 & g) << 8) + (g >> 8)) % 31) {
                    e.msg = "incorrect header check", n.mode = 30;
                    break
                  }
                  if (8 != (15 & g)) {
                    e.msg = "unknown compression method", n.mode = 30;
                    break
                  }
                  if (y -= 4, O = 8 + (15 & (g >>>= 4)), 0 === n.wbits) n
                    .wbits = O;
                  else if (O > n.wbits) {
                    e.msg = "invalid window size", n.mode = 30;
                    break
                  }
                  n.dmax = 1 << O, e.adler = n.check = 1, n.mode = 512 &
                    g ? 10 : 12, y = g = 0;
                  break;
                case 2:
                  for (; y < 16;) {
                    if (0 === h) break e;
                    h--, g += l[d++] << y, y += 8
                  }
                  if (n.flags = g, 8 != (255 & n.flags)) {
                    e.msg = "unknown compression method", n.mode = 30;
                    break
                  }
                  if (57344 & n.flags) {
                    e.msg = "unknown header flags set", n.mode = 30;
                    break
                  }
                  n.head && (n.head.text = g >> 8 & 1), 512 & n.flags && (
                    S[0] = 255 & g, S[1] = g >>> 8 & 255, n.check = a(n
                      .check, S, 2, 0)), y = g = 0, n.mode = 3;
                case 3:
                  for (; y < 32;) {
                    if (0 === h) break e;
                    h--, g += l[d++] << y, y += 8
                  }
                  n.head && (n.head.time = g), 512 & n.flags && (S[0] =
                    255 & g, S[1] = g >>> 8 & 255, S[2] = g >>> 16 &
                    255, S[3] = g >>> 24 & 255, n.check = a(n.check, S,
                      4, 0)), y = g = 0, n.mode = 4;
                case 4:
                  for (; y < 16;) {
                    if (0 === h) break e;
                    h--, g += l[d++] << y, y += 8
                  }
                  n.head && (n.head.xflags = 255 & g, n.head.os = g >> 8),
                    512 & n.flags && (S[0] = 255 & g, S[1] = g >>> 8 &
                      255, n.check = a(n.check, S, 2, 0)), y = g = 0, n
                    .mode = 5;
                case 5:
                  if (1024 & n.flags) {
                    for (; y < 16;) {
                      if (0 === h) break e;
                      h--, g += l[d++] << y, y += 8
                    }
                    n.length = g, n.head && (n.head.extra_len = g), 512 &
                      n.flags && (S[0] = 255 & g, S[1] = g >>> 8 & 255, n
                        .check = a(n.check, S, 2, 0)), y = g = 0
                  } else n.head && (n.head.extra = null);
                  n.mode = 6;
                case 6:
                  if (1024 & n.flags && (h < (I = n.length) && (I = h),
                      I && (n.head && (O = n.head.extra_len - n.length, n
                        .head.extra || (n.head.extra = new Array(n.head
                          .extra_len)), r.arraySet(n.head.extra, l, d,
                          I, O)), 512 & n.flags && (n.check = a(n.check,
                        l, I, d)), h -= I, d += I, n.length -= I), n
                      .length)) break e;
                  n.length = 0, n.mode = 7;
                case 7:
                  if (2048 & n.flags) {
                    if (0 === h) break e;
                    for (I = 0; O = l[d + I++], n.head && O && n.length <
                      65536 && (n.head.name += String.fromCharCode(O)),
                      O && I < h;);
                    if (512 & n.flags && (n.check = a(n.check, l, I, d)),
                      h -= I, d += I, O) break e
                  } else n.head && (n.head.name = null);
                  n.length = 0, n.mode = 8;
                case 8:
                  if (4096 & n.flags) {
                    if (0 === h) break e;
                    for (I = 0; O = l[d + I++], n.head && O && n.length <
                      65536 && (n.head.comment += String.fromCharCode(O)),
                      O && I < h;);
                    if (512 & n.flags && (n.check = a(n.check, l, I, d)),
                      h -= I, d += I, O) break e
                  } else n.head && (n.head.comment = null);
                  n.mode = 9;
                case 9:
                  if (512 & n.flags) {
                    for (; y < 16;) {
                      if (0 === h) break e;
                      h--, g += l[d++] << y, y += 8
                    }
                    if (g !== (65535 & n.check)) {
                      e.msg = "header crc mismatch", n.mode = 30;
                      break
                    }
                    y = g = 0
                  }
                  n.head && (n.head.hcrc = n.flags >> 9 & 1, n.head
                    .done = !0), e.adler = n.check = 0, n.mode = 12;
                  break;
                case 10:
                  for (; y < 32;) {
                    if (0 === h) break e;
                    h--, g += l[d++] << y, y += 8
                  }
                  e.adler = n.check = u(g), y = g = 0, n.mode = 11;
                case 11:
                  if (0 === n.havedict) return e.next_out = p, e
                    .avail_out = f, e.next_in = d, e.avail_in = h, n
                    .hold = g, n.bits = y, 2;
                  e.adler = n.check = 1, n.mode = 12;
                case 12:
                  if (5 === t || 6 === t) break e;
                case 13:
                  if (n.last) {
                    g >>>= 7 & y, y -= 7 & y, n.mode = 27;
                    break
                  }
                  for (; y < 3;) {
                    if (0 === h) break e;
                    h--, g += l[d++] << y, y += 8
                  }
                  switch (n.last = 1 & g, y -= 1, 3 & (g >>>= 1)) {
                    case 0:
                      n.mode = 14;
                      break;
                    case 1:
                      if (v(n), n.mode = 20, 6 !== t) break;
                      g >>>= 2, y -= 2;
                      break e;
                    case 2:
                      n.mode = 17;
                      break;
                    case 3:
                      e.msg = "invalid block type", n.mode = 30
                  }
                  g >>>= 2, y -= 2;
                  break;
                case 14:
                  for (g >>>= 7 & y, y -= 7 & y; y < 32;) {
                    if (0 === h) break e;
                    h--, g += l[d++] << y, y += 8
                  }
                  if ((65535 & g) != (g >>> 16 ^ 65535)) {
                    e.msg = "invalid stored block lengths", n.mode = 30;
                    break
                  }
                  if (n.length = 65535 & g, y = g = 0, n.mode = 15, 6 ===
                    t) break e;
                case 15:
                  n.mode = 16;
                case 16:
                  if (I = n.length) {
                    if (h < I && (I = h), f < I && (I = f), 0 === I)
                    break e;
                    r.arraySet(c, l, d, I, p), h -= I, d += I, f -= I,
                      p += I, n.length -= I;
                    break
                  }
                  n.mode = 12;
                  break;
                case 17:
                  for (; y < 14;) {
                    if (0 === h) break e;
                    h--, g += l[d++] << y, y += 8
                  }
                  if (n.nlen = 257 + (31 & g), g >>>= 5, y -= 5, n.ndist =
                    1 + (31 & g), g >>>= 5, y -= 5, n.ncode = 4 + (15 &
                    g), g >>>= 4, y -= 4, 286 < n.nlen || 30 < n.ndist) {
                    e.msg = "too many length or distance symbols", n
                      .mode = 30;
                    break
                  }
                  n.have = 0, n.mode = 18;
                case 18:
                  for (; n.have < n.ncode;) {
                    for (; y < 3;) {
                      if (0 === h) break e;
                      h--, g += l[d++] << y, y += 8
                    }
                    n.lens[U[n.have++]] = 7 & g, g >>>= 3, y -= 3
                  }
                  for (; n.have < 19;) n.lens[U[n.have++]] = 0;
                  if (n.lencode = n.lendyn, n.lenbits = 7, _ = {
                      bits: n.lenbits
                    }, P = o(0, n.lens, 0, 19, n.lencode, 0, n.work, _), n
                    .lenbits = _.bits, P) {
                    e.msg = "invalid code lengths set", n.mode = 30;
                    break
                  }
                  n.have = 0, n.mode = 19;
                case 19:
                  for (; n.have < n.nlen + n.ndist;) {
                    for (; x = (Q = n.lencode[g & (1 << n.lenbits) -
                      1]) >>> 16 & 255, T = 65535 & Q, !((b = Q >>> 24) <=
                        y);) {
                      if (0 === h) break e;
                      h--, g += l[d++] << y, y += 8
                    }
                    if (T < 16) g >>>= b, y -= b, n.lens[n.have++] = T;
                    else {
                      if (16 === T) {
                        for (D = b + 2; y < D;) {
                          if (0 === h) break e;
                          h--, g += l[d++] << y, y += 8
                        }
                        if (g >>>= b, y -= b, 0 === n.have) {
                          e.msg = "invalid bit length repeat", n.mode =
                          30;
                          break
                        }
                        O = n.lens[n.have - 1], I = 3 + (3 & g), g >>>= 2,
                          y -= 2
                      } else if (17 === T) {
                        for (D = b + 3; y < D;) {
                          if (0 === h) break e;
                          h--, g += l[d++] << y, y += 8
                        }
                        y -= b, O = 0, I = 3 + (7 & (g >>>= b)), g >>>= 3,
                          y -= 3
                      } else {
                        for (D = b + 7; y < D;) {
                          if (0 === h) break e;
                          h--, g += l[d++] << y, y += 8
                        }
                        y -= b, O = 0, I = 11 + (127 & (g >>>= b)), g >>>=
                          7, y -= 7
                      }
                      if (n.have + I > n.nlen + n.ndist) {
                        e.msg = "invalid bit length repeat", n.mode = 30;
                        break
                      }
                      for (; I--;) n.lens[n.have++] = O
                    }
                  }
                  if (30 === n.mode) break;
                  if (0 === n.lens[256]) {
                    e.msg = "invalid code -- missing end-of-block", n
                      .mode = 30;
                    break
                  }
                  if (n.lenbits = 9, _ = {
                      bits: n.lenbits
                    }, P = o(1, n.lens, 0, n.nlen, n.lencode, 0, n.work,
                      _), n.lenbits = _.bits, P) {
                    e.msg = "invalid literal/lengths set", n.mode = 30;
                    break
                  }
                  if (n.distbits = 6, n.distcode = n.distdyn, _ = {
                      bits: n.distbits
                    }, P = o(2, n.lens, n.nlen, n.ndist, n.distcode, 0, n
                      .work, _), n.distbits = _.bits, P) {
                    e.msg = "invalid distances set", n.mode = 30;
                    break
                  }
                  if (n.mode = 20, 6 === t) break e;
                case 20:
                  n.mode = 21;
                case 21:
                  if (6 <= h && 258 <= f) {
                    e.next_out = p, e.avail_out = f, e.next_in = d, e
                      .avail_in = h, n.hold = g, n.bits = y, i(e, B), p =
                      e.next_out, c = e.output, f = e.avail_out, d = e
                      .next_in, l = e.input, h = e.avail_in, g = n.hold,
                      y = n.bits, 12 === n.mode && (n.back = -1);
                    break
                  }
                  for (n.back = 0; x = (Q = n.lencode[g & (1 << n
                      .lenbits) - 1]) >>> 16 & 255, T = 65535 & Q, !((b =
                      Q >>> 24) <= y);) {
                    if (0 === h) break e;
                    h--, g += l[d++] << y, y += 8
                  }
                  if (x && 0 == (240 & x)) {
                    for (k = b, E = x, N = T; x = (Q = n.lencode[N + ((g &
                        (1 << k + E) - 1) >> k)]) >>> 16 & 255, T =
                      65535 & Q, !(k + (b = Q >>> 24) <= y);) {
                      if (0 === h) break e;
                      h--, g += l[d++] << y, y += 8
                    }
                    g >>>= k, y -= k, n.back += k
                  }
                  if (g >>>= b, y -= b, n.back += b, n.length = T, 0 ===
                    x) {
                    n.mode = 26;
                    break
                  }
                  if (32 & x) {
                    n.back = -1, n.mode = 12;
                    break
                  }
                  if (64 & x) {
                    e.msg = "invalid literal/length code", n.mode = 30;
                    break
                  }
                  n.extra = 15 & x, n.mode = 22;
                case 22:
                  if (n.extra) {
                    for (D = n.extra; y < D;) {
                      if (0 === h) break e;
                      h--, g += l[d++] << y, y += 8
                    }
                    n.length += g & (1 << n.extra) - 1, g >>>= n.extra,
                      y -= n.extra, n.back += n.extra
                  }
                  n.was = n.length, n.mode = 23;
                case 23:
                  for (; x = (Q = n.distcode[g & (1 << n.distbits) -
                    1]) >>> 16 & 255, T = 65535 & Q, !((b = Q >>> 24) <=
                      y);) {
                    if (0 === h) break e;
                    h--, g += l[d++] << y, y += 8
                  }
                  if (0 == (240 & x)) {
                    for (k = b, E = x, N = T; x = (Q = n.distcode[N + ((
                        g & (1 << k + E) - 1) >> k)]) >>> 16 & 255, T =
                      65535 & Q, !(k + (b = Q >>> 24) <= y);) {
                      if (0 === h) break e;
                      h--, g += l[d++] << y, y += 8
                    }
                    g >>>= k, y -= k, n.back += k
                  }
                  if (g >>>= b, y -= b, n.back += b, 64 & x) {
                    e.msg = "invalid distance code", n.mode = 30;
                    break
                  }
                  n.offset = T, n.extra = 15 & x, n.mode = 24;
                case 24:
                  if (n.extra) {
                    for (D = n.extra; y < D;) {
                      if (0 === h) break e;
                      h--, g += l[d++] << y, y += 8
                    }
                    n.offset += g & (1 << n.extra) - 1, g >>>= n.extra,
                      y -= n.extra, n.back += n.extra
                  }
                  if (n.offset > n.dmax) {
                    e.msg = "invalid distance too far back", n.mode = 30;
                    break
                  }
                  n.mode = 25;
                case 25:
                  if (0 === f) break e;
                  if (I = B - f, n.offset > I) {
                    if ((I = n.offset - I) > n.whave && n.sane) {
                      e.msg = "invalid distance too far back", n.mode =
                      30;
                      break
                    }
                    I > n.wnext ? (I -= n.wnext, M = n.wsize - I) : M = n
                      .wnext - I, I > n.length && (I = n.length), C = n
                      .window
                  } else C = c, M = p - n.offset, I = n.length;
                  for (f < I && (I = f), f -= I, n.length -= I; c[p++] =
                    C[M++], --I;);
                  0 === n.length && (n.mode = 21);
                  break;
                case 26:
                  if (0 === f) break e;
                  c[p++] = n.length, f--, n.mode = 21;
                  break;
                case 27:
                  if (n.wrap) {
                    for (; y < 32;) {
                      if (0 === h) break e;
                      h--, g |= l[d++] << y, y += 8
                    }
                    if (B -= f, e.total_out += B, n.total += B, B && (e
                        .adler = n.check = n.flags ? a(n.check, c, B, p -
                          B) : A(n.check, c, B, p - B)), B = f, (n.flags ?
                        g : u(g)) !== n.check) {
                      e.msg = "incorrect data check", n.mode = 30;
                      break
                    }
                    y = g = 0
                  }
                  n.mode = 28;
                case 28:
                  if (n.wrap && n.flags) {
                    for (; y < 32;) {
                      if (0 === h) break e;
                      h--, g += l[d++] << y, y += 8
                    }
                    if (g !== (4294967295 & n.total)) {
                      e.msg = "incorrect length check", n.mode = 30;
                      break
                    }
                    y = g = 0
                  }
                  n.mode = 29;
                case 29:
                  P = 1;
                  break e;
                case 30:
                  P = -3;
                  break e;
                case 31:
                  return -4;
                case 32:
                default:
                  return s
              }
              return e.next_out = p, e.avail_out = f, e.next_in = d, e
                .avail_in = h, n.hold = g, n.bits = y, (n.wsize || B !== e
                  .avail_out && n.mode < 30 && (n.mode < 27 || 4 !== t)) && m(
                  e, e.output, e.next_out, B - e.avail_out) ? (n.mode = 31, -
                  4) : (w -= e.avail_in, B -= e.avail_out, e.total_in += w, e
                  .total_out += B, n.total += B, n.wrap && B && (e.adler = n
                    .check = n.flags ? a(n.check, c, B, e.next_out - B) : A(n
                      .check, c, B, e.next_out - B)), e.data_type = n.bits + (
                    n.last ? 64 : 0) + (12 === n.mode ? 128 : 0) + (20 === n
                    .mode || 15 === n.mode ? 256 : 0), (0 === w && 0 === B ||
                    4 === t) && 0 === P && (P = -5), P)
            }, n.inflateEnd = function (e) {
              if (!e || !e.state) return s;
              var t = e.state;
              return t.window && (t.window = null), e.state = null, 0
            }, n.inflateGetHeader = function (e, t) {
              var n;
              return e && e.state ? 0 == (2 & (n = e.state).wrap) ? s : ((n
                .head = t).done = !1, 0) : s
            }, n.inflateSetDictionary = function (e, t) {
              var n, r = t.length;
              return e && e.state ? 0 !== (n = e.state).wrap && 11 !== n
                .mode ? s : 11 === n.mode && A(1, t, r, 0) !== n.check ? -3 :
                m(e, t, r, r) ? (n.mode = 31, -4) : (n.havedict = 1, 0) : s
            }, n.inflateInfo = "pako inflate (from Nodeca project)"
        }, {
          "../utils/common": 3,
          "./adler32": 5,
          "./crc32": 7,
          "./inffast": 10,
          "./inftrees": 12
        }],
        12: [function (e, t, n) {
          "use strict";
          var r = e("../utils/common"),
            A = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35,
              43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0
            ],
            a = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18,
              18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78
            ],
            i = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,
              257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193,
              12289, 16385, 24577, 0, 0
            ],
            o = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22,
              22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64,
              64
            ];
          t.exports = function (e, t, n, s, u, l, c, d) {
            var p, h, f, g, y, v, m, w, B, I = d.bits,
              M = 0,
              C = 0,
              b = 0,
              x = 0,
              T = 0,
              k = 0,
              E = 0,
              N = 0,
              O = 0,
              P = 0,
              _ = null,
              D = 0,
              Q = new r.Buf16(16),
              S = new r.Buf16(16),
              U = null,
              F = 0;
            for (M = 0; M <= 15; M++) Q[M] = 0;
            for (C = 0; C < s; C++) Q[t[n + C]]++;
            for (T = I, x = 15; 1 <= x && 0 === Q[x]; x--);
            if (x < T && (T = x), 0 === x) return u[l++] = 20971520, u[
              l++] = 20971520, d.bits = 1, 0;
            for (b = 1; b < x && 0 === Q[b]; b++);
            for (T < b && (T = b), M = N = 1; M <= 15; M++)
              if (N <<= 1, (N -= Q[M]) < 0) return -1;
            if (0 < N && (0 === e || 1 !== x)) return -1;
            for (S[1] = 0, M = 1; M < 15; M++) S[M + 1] = S[M] + Q[M];
            for (C = 0; C < s; C++) 0 !== t[n + C] && (c[S[t[n + C]]++] =
            C);
            if (0 === e ? (_ = U = c, v = 19) : 1 === e ? (_ = A, D -= 257,
                U = a, F -= 257, v = 256) : (_ = i, U = o, v = -1), M = b,
              y = l, E = C = P = 0, f = -1, g = (O = 1 << (k = T)) - 1,
              1 === e && 852 < O || 2 === e && 592 < O) return 1;
            for (;;) {
              for (m = M - E, c[C] < v ? (w = 0, B = c[C]) : c[C] > v ? (w =
                  U[F + c[C]], B = _[D + c[C]]) : (w = 96, B = 0), p = 1 <<
                M - E, b = h = 1 << k; u[y + (P >> E) + (h -= p)] = m <<
                24 | w << 16 | B | 0, 0 !== h;);
              for (p = 1 << M - 1; P & p;) p >>= 1;
              if (0 !== p ? (P &= p - 1, P += p) : P = 0, C++, 0 == --Q[
                M]) {
                if (M === x) break;
                M = t[n + c[C]]
              }
              if (T < M && (P & g) !== f) {
                for (0 === E && (E = T), y += b, N = 1 << (k = M - E); k +
                  E < x && !((N -= Q[k + E]) <= 0);) k++, N <<= 1;
                if (O += 1 << k, 1 === e && 852 < O || 2 === e && 592 < O)
                  return 1;
                u[f = P & g] = T << 24 | k << 16 | y - l | 0
              }
            }
            return 0 !== P && (u[y + P] = M - E << 24 | 64 << 16 | 0), d
              .bits = T, 0
          }
        }, {
          "../utils/common": 3
        }],
        13: [function (e, t, n) {
          "use strict";
          t.exports = {
            2: "need dictionary",
            1: "stream end",
            0: "",
            "-1": "file error",
            "-2": "stream error",
            "-3": "data error",
            "-4": "insufficient memory",
            "-5": "buffer error",
            "-6": "incompatible version"
          }
        }, {}],
        14: [function (e, t, n) {
          "use strict";
          var r = e("../utils/common");

          function A(e) {
            for (var t = e.length; 0 <= --t;) e[t] = 0
          }
          var a = 256,
            i = 286,
            o = 30,
            s = 15,
            u = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3,
              4, 4, 4, 4, 5, 5, 5, 5, 0
            ],
            l = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8,
              9, 9, 10, 10, 11, 11, 12, 12, 13, 13
            ],
            c = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
            d = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1,
              15
            ],
            p = new Array(576);
          A(p);
          var h = new Array(60);
          A(h);
          var f = new Array(512);
          A(f);
          var g = new Array(256);
          A(g);
          var y = new Array(29);
          A(y);
          var v, m, w, B = new Array(o);

          function I(e, t, n, r, A) {
            this.static_tree = e, this.extra_bits = t, this.extra_base = n,
              this.elems = r, this.max_length = A, this.has_stree = e && e
              .length
          }

          function M(e, t) {
            this.dyn_tree = e, this.max_code = 0, this.stat_desc = t
          }

          function C(e) {
            return e < 256 ? f[e] : f[256 + (e >>> 7)]
          }

          function b(e, t) {
            e.pending_buf[e.pending++] = 255 & t, e.pending_buf[e.pending++] =
              t >>> 8 & 255
          }

          function x(e, t, n) {
            e.bi_valid > 16 - n ? (e.bi_buf |= t << e.bi_valid & 65535, b(e, e
                .bi_buf), e.bi_buf = t >> 16 - e.bi_valid, e.bi_valid += n -
              16) : (e.bi_buf |= t << e.bi_valid & 65535, e.bi_valid += n)
          }

          function T(e, t, n) {
            x(e, n[2 * t], n[2 * t + 1])
          }

          function k(e, t) {
            for (var n = 0; n |= 1 & e, e >>>= 1, n <<= 1, 0 < --t;);
            return n >>> 1
          }

          function E(e, t, n) {
            var r, A, a = new Array(16),
              i = 0;
            for (r = 1; r <= s; r++) a[r] = i = i + n[r - 1] << 1;
            for (A = 0; A <= t; A++) {
              var o = e[2 * A + 1];
              0 !== o && (e[2 * A] = k(a[o]++, o))
            }
          }

          function N(e) {
            var t;
            for (t = 0; t < i; t++) e.dyn_ltree[2 * t] = 0;
            for (t = 0; t < o; t++) e.dyn_dtree[2 * t] = 0;
            for (t = 0; t < 19; t++) e.bl_tree[2 * t] = 0;
            e.dyn_ltree[512] = 1, e.opt_len = e.static_len = 0, e.last_lit = e
              .matches = 0
          }

          function O(e) {
            8 < e.bi_valid ? b(e, e.bi_buf) : 0 < e.bi_valid && (e
                .pending_buf[e.pending++] = e.bi_buf), e.bi_buf = 0, e
              .bi_valid = 0
          }

          function P(e, t, n, r) {
            var A = 2 * t,
              a = 2 * n;
            return e[A] < e[a] || e[A] === e[a] && r[t] <= r[n]
          }

          function _(e, t, n) {
            for (var r = e.heap[n], A = n << 1; A <= e.heap_len && (A < e
                .heap_len && P(t, e.heap[A + 1], e.heap[A], e.depth) && A++, !
                P(t, r, e.heap[A], e.depth));) e.heap[n] = e.heap[A], n = A,
              A <<= 1;
            e.heap[n] = r
          }

          function D(e, t, n) {
            var r, A, i, o, s = 0;
            if (0 !== e.last_lit)
              for (; r = e.pending_buf[e.d_buf + 2 * s] << 8 | e.pending_buf[e
                  .d_buf + 2 * s + 1], A = e.pending_buf[e.l_buf + s], s++,
                0 === r ? T(e, A, t) : (T(e, (i = g[A]) + a + 1, t), 0 !== (
                    o = u[i]) && x(e, A -= y[i], o), T(e, i = C(--r), n),
                  0 !== (o = l[i]) && x(e, r -= B[i], o)), s < e.last_lit;);
            T(e, 256, t)
          }

          function Q(e, t) {
            var n, r, A, a = t.dyn_tree,
              i = t.stat_desc.static_tree,
              o = t.stat_desc.has_stree,
              u = t.stat_desc.elems,
              l = -1;
            for (e.heap_len = 0, e.heap_max = 573, n = 0; n < u; n++) 0 !== a[
              2 * n] ? (e.heap[++e.heap_len] = l = n, e.depth[n] = 0) : a[
              2 * n + 1] = 0;
            for (; e.heap_len < 2;) a[2 * (A = e.heap[++e.heap_len] = l < 2 ?
              ++l : 0)] = 1, e.depth[A] = 0, e.opt_len--, o && (e
              .static_len -= i[2 * A + 1]);
            for (t.max_code = l, n = e.heap_len >> 1; 1 <= n; n--) _(e, a, n);
            for (A = u; n = e.heap[1], e.heap[1] = e.heap[e.heap_len--], _(e,
                a, 1), r = e.heap[1], e.heap[--e.heap_max] = n, e.heap[--e
                .heap_max] = r, a[2 * A] = a[2 * n] + a[2 * r], e.depth[A] = (
                e.depth[n] >= e.depth[r] ? e.depth[n] : e.depth[r]) + 1, a[2 *
                n + 1] = a[2 * r + 1] = A, e.heap[1] = A++, _(e, a, 1), 2 <= e
              .heap_len;);
            e.heap[--e.heap_max] = e.heap[1],
              function (e, t) {
                var n, r, A, a, i, o, u = t.dyn_tree,
                  l = t.max_code,
                  c = t.stat_desc.static_tree,
                  d = t.stat_desc.has_stree,
                  p = t.stat_desc.extra_bits,
                  h = t.stat_desc.extra_base,
                  f = t.stat_desc.max_length,
                  g = 0;
                for (a = 0; a <= s; a++) e.bl_count[a] = 0;
                for (u[2 * e.heap[e.heap_max] + 1] = 0, n = e.heap_max +
                  1; n < 573; n++) f < (a = u[2 * u[2 * (r = e.heap[n]) + 1] +
                  1] + 1) && (a = f, g++), u[2 * r + 1] = a, l < r || (e
                  .bl_count[a]++, i = 0, h <= r && (i = p[r - h]), o = u[2 *
                    r], e.opt_len += o * (a + i), d && (e.static_len += o *
                    (c[2 * r + 1] + i)));
                if (0 !== g) {
                  do {
                    for (a = f - 1; 0 === e.bl_count[a];) a--;
                    e.bl_count[a]--, e.bl_count[a + 1] += 2, e.bl_count[f]--,
                      g -= 2
                  } while (0 < g);
                  for (a = f; 0 !== a; a--)
                    for (r = e.bl_count[a]; 0 !== r;) l < (A = e.heap[--n]) ||
                      (u[2 * A + 1] !== a && (e.opt_len += (a - u[2 * A +
                        1]) * u[2 * A], u[2 * A + 1] = a), r--)
                }
              }(e, t), E(a, l, e.bl_count)
          }

          function S(e, t, n) {
            var r, A, a = -1,
              i = t[1],
              o = 0,
              s = 7,
              u = 4;
            for (0 === i && (s = 138, u = 3), t[2 * (n + 1) + 1] = 65535, r =
              0; r <= n; r++) A = i, i = t[2 * (r + 1) + 1], ++o < s && A ===
              i || (o < u ? e.bl_tree[2 * A] += o : 0 !== A ? (A !== a && e
                .bl_tree[2 * A]++, e.bl_tree[32]++) : o <= 10 ? e.bl_tree[
                34]++ : e.bl_tree[36]++, a = A, (o = 0) === i ? (s = 138,
                u = 3) : A === i ? (s = 6, u = 3) : (s = 7, u = 4))
          }

          function U(e, t, n) {
            var r, A, a = -1,
              i = t[1],
              o = 0,
              s = 7,
              u = 4;
            for (0 === i && (s = 138, u = 3), r = 0; r <= n; r++)
              if (A = i, i = t[2 * (r + 1) + 1], !(++o < s && A === i)) {
                if (o < u)
                  for (; T(e, A, e.bl_tree), 0 != --o;);
                else 0 !== A ? (A !== a && (T(e, A, e.bl_tree), o--), T(e, 16,
                  e.bl_tree), x(e, o - 3, 2)) : o <= 10 ? (T(e, 17, e
                  .bl_tree), x(e, o - 3, 3)) : (T(e, 18, e.bl_tree), x(e,
                  o - 11, 7));
                a = A, (o = 0) === i ? (s = 138, u = 3) : A === i ? (s = 6,
                  u = 3) : (s = 7, u = 4)
              }
          }
          A(B);
          var F = !1;

          function L(e, t, n, A) {
            var a, i, o;
            x(e, 0 + (A ? 1 : 0), 3), i = t, o = n, O(a = e), b(a, o), b(a, ~
                o), r.arraySet(a.pending_buf, a.window, i, o, a.pending), a
              .pending += o
          }
          n._tr_init = function (e) {
            F || (function () {
                var e, t, n, r, A, a = new Array(16);
                for (r = n = 0; r < 28; r++)
                  for (y[r] = n, e = 0; e < 1 << u[r]; e++) g[n++] = r;
                for (g[n - 1] = r, r = A = 0; r < 16; r++)
                  for (B[r] = A, e = 0; e < 1 << l[r]; e++) f[A++] = r;
                for (A >>= 7; r < o; r++)
                  for (B[r] = A << 7, e = 0; e < 1 << l[r] - 7; e++) f[
                    256 + A++] = r;
                for (t = 0; t <= s; t++) a[t] = 0;
                for (e = 0; e <= 143;) p[2 * e + 1] = 8, e++, a[8]++;
                for (; e <= 255;) p[2 * e + 1] = 9, e++, a[9]++;
                for (; e <= 279;) p[2 * e + 1] = 7, e++, a[7]++;
                for (; e <= 287;) p[2 * e + 1] = 8, e++, a[8]++;
                for (E(p, 287, a), e = 0; e < o; e++) h[2 * e + 1] = 5, h[
                  2 * e] = k(e, 5);
                v = new I(p, u, 257, i, s), m = new I(h, l, 0, o, s), w =
                  new I(new Array(0), c, 0, 19, 7)
              }(), F = !0), e.l_desc = new M(e.dyn_ltree, v), e.d_desc =
              new M(e.dyn_dtree, m), e.bl_desc = new M(e.bl_tree, w), e
              .bi_buf = 0, e.bi_valid = 0, N(e)
          }, n._tr_stored_block = L, n._tr_flush_block = function (e, t, n,
            r) {
            var A, i, o = 0;
            0 < e.level ? (2 === e.strm.data_type && (e.strm.data_type =
                function (e) {
                  var t, n = 4093624447;
                  for (t = 0; t <= 31; t++, n >>>= 1)
                    if (1 & n && 0 !== e.dyn_ltree[2 * t]) return 0;
                  if (0 !== e.dyn_ltree[18] || 0 !== e.dyn_ltree[20] ||
                    0 !== e.dyn_ltree[26]) return 1;
                  for (t = 32; t < a; t++)
                    if (0 !== e.dyn_ltree[2 * t]) return 1;
                  return 0
                }(e)), Q(e, e.l_desc), Q(e, e.d_desc), o = function (e) {
                var t;
                for (S(e, e.dyn_ltree, e.l_desc.max_code), S(e, e
                    .dyn_dtree, e.d_desc.max_code), Q(e, e.bl_desc), t =
                  18; 3 <= t && 0 === e.bl_tree[2 * d[t] + 1]; t--);
                return e.opt_len += 3 * (t + 1) + 5 + 5 + 4, t
              }(e), A = e.opt_len + 3 + 7 >>> 3, (i = e.static_len + 3 +
                7 >>> 3) <= A && (A = i)) : A = i = n + 5, n + 4 <= A && -
              1 !== t ? L(e, t, n, r) : 4 === e.strategy || i === A ? (x(e,
                2 + (r ? 1 : 0), 3), D(e, p, h)) : (x(e, 4 + (r ? 1 : 0),
                3),
                function (e, t, n, r) {
                  var A;
                  for (x(e, t - 257, 5), x(e, n - 1, 5), x(e, r - 4, 4), A =
                    0; A < r; A++) x(e, e.bl_tree[2 * d[A] + 1], 3);
                  U(e, e.dyn_ltree, t - 1), U(e, e.dyn_dtree, n - 1)
                }(e, e.l_desc.max_code + 1, e.d_desc.max_code + 1, o + 1),
                D(e, e.dyn_ltree, e.dyn_dtree)), N(e), r && O(e)
          }, n._tr_tally = function (e, t, n) {
            return e.pending_buf[e.d_buf + 2 * e.last_lit] = t >>> 8 & 255,
              e.pending_buf[e.d_buf + 2 * e.last_lit + 1] = 255 & t, e
              .pending_buf[e.l_buf + e.last_lit] = 255 & n, e.last_lit++,
              0 === t ? e.dyn_ltree[2 * n]++ : (e.matches++, t--, e
                .dyn_ltree[2 * (g[n] + a + 1)]++, e.dyn_dtree[2 * C(t)]++),
              e.last_lit === e.lit_bufsize - 1
          }, n._tr_align = function (e) {
            var t;
            x(e, 2, 3), T(e, 256, p), 16 === (t = e).bi_valid ? (b(t, t
                .bi_buf), t.bi_buf = 0, t.bi_valid = 0) : 8 <= t.bi_valid &&
              (t.pending_buf[t.pending++] = 255 & t.bi_buf, t.bi_buf >>= 8,
                t.bi_valid -= 8)
          }
        }, {
          "../utils/common": 3
        }],
        15: [function (e, t, n) {
          "use strict";
          t.exports = function () {
            this.input = null, this.next_in = 0, this.avail_in = 0, this
              .total_in = 0, this.output = null, this.next_out = 0, this
              .avail_out = 0, this.total_out = 0, this.msg = "", this
              .state = null, this.data_type = 2, this.adler = 0
          }
        }, {}],
        "/": [function (e, t, n) {
          "use strict";
          var r = {};
          (0, e("./lib/utils/common").assign)(r, e("./lib/deflate"), e(
            "./lib/inflate"), e("./lib/zlib/constants")), t.exports = r
        }, {
          "./lib/deflate": 1,
          "./lib/inflate": 2,
          "./lib/utils/common": 3,
          "./lib/zlib/constants": 6
        }]
      }, {}, [])("/")
    }))
  }, , function (e, t, n) {
    n(162), e.exports = n(8).Number.isInteger
  }, function (e, t, n) {
    var r = n(10);
    r(r.S, "Number", {
      isInteger: n(163)
    })
  }, function (e, t, n) {
    var r = n(23),
      A = Math.floor;
    e.exports = function (e) {
      return !r(e) && isFinite(e) && A(e) === e
    }
  }, function (e, t, n) {
    n(165), e.exports = n(8).Object.assign
  }, function (e, t, n) {
    var r = n(10);
    r(r.S + r.F, "Object", {
      assign: n(166)
    })
  }, function (e, t, n) {
    "use strict";
    var r = n(24),
      A = n(49),
      a = n(84),
      i = n(63),
      o = n(44),
      s = n(78),
      u = Object.assign;
    e.exports = !u || n(38)((function () {
      var e = {},
        t = {},
        n = Symbol(),
        r = "abcdefghijklmnopqrst";
      return e[n] = 7, r.split("").forEach((function (e) {
        t[e] = e
      })), 7 != u({}, e)[n] || Object.keys(u({}, t)).join("") != r
    })) ? function (e, t) {
      for (var n = o(e), u = arguments.length, l = 1, c = a.f, d = i.f; u > l;)
        for (var p, h = s(arguments[l++]), f = c ? A(h).concat(c(h)) : A(h), g = f
            .length, y = 0; g > y;) p = f[y++], r && !d.call(h, p) || (n[p] = h[p]);
      return n
    } : u
  }, function (e, t, n) {
    var r = n(41),
      A = n(68),
      a = n(168);
    e.exports = function (e) {
      return function (t, n, i) {
        var o, s = r(t),
          u = A(s.length),
          l = a(i, u);
        if (e && n != n) {
          for (; u > l;)
            if ((o = s[l++]) != o) return !0
        } else
          for (; u > l; l++)
            if ((e || l in s) && s[l] === n) return e || l || 0;
        return !e && -1
      }
    }
  }, function (e, t, n) {
    var r = n(80),
      A = Math.max,
      a = Math.min;
    e.exports = function (e, t) {
      return (e = r(e)) < 0 ? A(e + t, 0) : a(e, t)
    }
  }, function (e, t, n) {
    e.exports = {
      default: n(170),
      __esModule: !0
    }
  }, function (e, t, n) {
    n(45), n(51), e.exports = n(86).f("iterator")
  }, function (e, t, n) {
    var r = n(80),
      A = n(79);
    e.exports = function (e) {
      return function (t, n) {
        var a, i, o = String(A(t)),
          s = r(n),
          u = o.length;
        return s < 0 || s >= u ? e ? "" : void 0 : (a = o.charCodeAt(s)) < 55296 ||
          a > 56319 || s + 1 === u || (i = o.charCodeAt(s + 1)) < 56320 || i > 57343 ?
          e ? o.charAt(s) : a : e ? o.slice(s, s + 2) : i - 56320 + (a - 55296 <<
          10) + 65536
      }
    }
  }, function (e, t, n) {
    "use strict";
    var r = n(70),
      A = n(55),
      a = n(58),
      i = {};
    n(37)(i, n(18)("iterator"), (function () {
      return this
    })), e.exports = function (e, t, n) {
      e.prototype = r(i, {
        next: A(1, n)
      }), a(e, t + " Iterator")
    }
  }, function (e, t, n) {
    var r = n(27),
      A = n(30),
      a = n(49);
    e.exports = n(24) ? Object.defineProperties : function (e, t) {
      A(e);
      for (var n, i = a(t), o = i.length, s = 0; o > s;) r.f(e, n = i[s++], t[n]);
      return e
    }
  }, function (e, t, n) {
    "use strict";
    var r = n(175),
      A = n(114),
      a = n(50),
      i = n(41);
    e.exports = n(85)(Array, "Array", (function (e, t) {
      this._t = i(e), this._i = 0, this._k = t
    }), (function () {
      var e = this._t,
        t = this._k,
        n = this._i++;
      return !e || n >= e.length ? (this._t = void 0, A(1)) : A(0, "keys" == t ? n :
        "values" == t ? e[n] : [n, e[n]])
    }), "values"), a.Arguments = a.Array, r("keys"), r("values"), r("entries")
  }, function (e, t) {
    e.exports = function () {}
  }, function (e, t, n) {
    n(132), n(71), n(179), n(180), e.exports = n(8).Symbol
  }, function (e, t, n) {
    var r = n(49),
      A = n(84),
      a = n(63);
    e.exports = function (e) {
      var t = r(e),
        n = A.f;
      if (n)
        for (var i, o = n(e), s = a.f, u = 0; o.length > u;) s.call(e, i = o[u++]) && t
          .push(i);
      return t
    }
  }, function (e, t, n) {
    var r = n(41),
      A = n(116).f,
      a = {}.toString,
      i = "object" == typeof window && window && Object.getOwnPropertyNames ? Object
      .getOwnPropertyNames(window) : [];
    e.exports.f = function (e) {
      return i && "[object Window]" == a.call(e) ? function (e) {
        try {
          return A(e)
        } catch (e) {
          return i.slice()
        }
      }(e) : A(r(e))
    }
  }, function (e, t, n) {
    n(88)("asyncIterator")
  }, function (e, t, n) {
    n(88)("observable")
  }, function (e, t, n) {
    n(71), n(45), n(51), n(182), n(186), n(187), e.exports = n(8).Promise
  }, function (e, t, n) {
    "use strict";
    var r, A, a, i, o = n(57),
      s = n(17),
      u = n(34),
      l = n(73),
      c = n(10),
      d = n(23),
      p = n(54),
      h = n(89),
      f = n(59),
      g = n(119),
      y = n(120).set,
      v = n(184)(),
      m = n(91),
      w = n(121),
      B = n(185),
      I = n(122),
      M = s.TypeError,
      C = s.process,
      b = C && C.versions,
      x = b && b.v8 || "",
      T = s.Promise,
      k = "process" == l(C),
      E = function () {},
      N = A = m.f,
      O = !! function () {
        try {
          var e = T.resolve(1),
            t = (e.constructor = {})[n(18)("species")] = function (e) {
              e(E, E)
            };
          return (k || "function" == typeof PromiseRejectionEvent) && e.then(
            E) instanceof t && 0 !== x.indexOf("6.6") && -1 === B.indexOf("Chrome/66")
        } catch (e) {}
      }(),
      P = function (e) {
        var t;
        return !(!d(e) || "function" != typeof (t = e.then)) && t
      },
      _ = function (e, t) {
        if (!e._n) {
          e._n = !0;
          var n = e._c;
          v((function () {
            for (var r = e._v, A = 1 == e._s, a = 0, i = function (t) {
                var n, a, i, o = A ? t.ok : t.fail,
                  s = t.resolve,
                  u = t.reject,
                  l = t.domain;
                try {
                  o ? (A || (2 == e._h && S(e), e._h = 1), !0 === o ? n = r : (
                      l && l.enter(), n = o(r), l && (l.exit(), i = !0)), n ===
                    t.promise ? u(M("Promise-chain cycle")) : (a = P(n)) ? a
                    .call(n, s, u) : s(n)) : u(r)
                } catch (e) {
                  l && !i && l.exit(), u(e)
                }
              }; n.length > a;) i(n[a++]);
            e._c = [], e._n = !1, t && !e._h && D(e)
          }))
        }
      },
      D = function (e) {
        y.call(s, (function () {
          var t, n, r, A = e._v,
            a = Q(e);
          if (a && (t = w((function () {
              k ? C.emit("unhandledRejection", A, e) : (n = s
                .onunhandledrejection) ? n({
                promise: e,
                reason: A
              }) : (r = s.console) && r.error && r.error(
                "Unhandled promise rejection", A)
            })), e._h = k || Q(e) ? 2 : 1), e._a = void 0, a && t.e) throw t.v
        }))
      },
      Q = function (e) {
        return 1 !== e._h && 0 === (e._a || e._c).length
      },
      S = function (e) {
        y.call(s, (function () {
          var t;
          k ? C.emit("rejectionHandled", e) : (t = s.onrejectionhandled) && t({
            promise: e,
            reason: e._v
          })
        }))
      },
      U = function (e) {
        var t = this;
        t._d || (t._d = !0, (t = t._w || t)._v = e, t._s = 2, t._a || (t._a = t._c
        .slice()), _(t, !0))
      },
      F = function (e) {
        var t, n = this;
        if (!n._d) {
          n._d = !0, n = n._w || n;
          try {
            if (n === e) throw M("Promise can't be resolved itself");
            (t = P(e)) ? v((function () {
              var r = {
                _w: n,
                _d: !1
              };
              try {
                t.call(e, u(F, r, 1), u(U, r, 1))
              } catch (e) {
                U.call(r, e)
              }
            })): (n._v = e, n._s = 1, _(n, !1))
          } catch (e) {
            U.call({
              _w: n,
              _d: !1
            }, e)
          }
        }
      };
    O || (T = function (e) {
      h(this, T, "Promise", "_h"), p(e), r.call(this);
      try {
        e(u(F, this, 1), u(U, this, 1))
      } catch (e) {
        U.call(this, e)
      }
    }, (r = function (e) {
      this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0,
        this._h = 0, this._n = !1
    }).prototype = n(92)(T.prototype, {
      then: function (e, t) {
        var n = N(g(this, T));
        return n.ok = "function" != typeof e || e, n.fail = "function" ==
          typeof t && t, n.domain = k ? C.domain : void 0, this._c.push(n), this
          ._a && this._a.push(n), this._s && _(this, !1), n.promise
      },
      catch: function (e) {
        return this.then(void 0, e)
      }
    }), a = function () {
      var e = new r;
      this.promise = e, this.resolve = u(F, e, 1), this.reject = u(U, e, 1)
    }, m.f = N = function (e) {
      return e === T || e === i ? new a(e) : A(e)
    }), c(c.G + c.W + c.F * !O, {
      Promise: T
    }), n(58)(T, "Promise"), n(123)("Promise"), i = n(8).Promise, c(c.S + c.F * !O,
      "Promise", {
        reject: function (e) {
          var t = N(this);
          return (0, t.reject)(e), t.promise
        }
      }), c(c.S + c.F * (o || !O), "Promise", {
      resolve: function (e) {
        return I(o && this === i ? T : this, e)
      }
    }), c(c.S + c.F * !(O && n(124)((function (e) {
      T.all(e).catch(E)
    }))), "Promise", {
      all: function (e) {
        var t = this,
          n = N(t),
          r = n.resolve,
          A = n.reject,
          a = w((function () {
            var n = [],
              a = 0,
              i = 1;
            f(e, !1, (function (e) {
              var o = a++,
                s = !1;
              n.push(void 0), i++, t.resolve(e).then((function (e) {
                s || (s = !0, n[o] = e, --i || r(n))
              }), A)
            })), --i || r(n)
          }));
        return a.e && A(a.v), n.promise
      },
      race: function (e) {
        var t = this,
          n = N(t),
          r = n.reject,
          A = w((function () {
            f(e, !1, (function (e) {
              t.resolve(e).then(n.resolve, r)
            }))
          }));
        return A.e && r(A.v), n.promise
      }
    })
  }, function (e, t) {
    e.exports = function (e, t, n) {
      var r = void 0 === n;
      switch (t.length) {
        case 0:
          return r ? e() : e.call(n);
        case 1:
          return r ? e(t[0]) : e.call(n, t[0]);
        case 2:
          return r ? e(t[0], t[1]) : e.call(n, t[0], t[1]);
        case 3:
          return r ? e(t[0], t[1], t[2]) : e.call(n, t[0], t[1], t[2]);
        case 4:
          return r ? e(t[0], t[1], t[2], t[3]) : e.call(n, t[0], t[1], t[2], t[3])
      }
      return e.apply(n, t)
    }
  }, function (e, t, n) {
    var r = n(17),
      A = n(120).set,
      a = r.MutationObserver || r.WebKitMutationObserver,
      i = r.process,
      o = r.Promise,
      s = "process" == n(56)(i);
    e.exports = function () {
      var e, t, n, u = function () {
        var r, A;
        for (s && (r = i.domain) && r.exit(); e;) {
          A = e.fn, e = e.next;
          try {
            A()
          } catch (r) {
            throw e ? n() : t = void 0, r
          }
        }
        t = void 0, r && r.enter()
      };
      if (s) n = function () {
        i.nextTick(u)
      };
      else if (!a || r.navigator && r.navigator.standalone)
        if (o && o.resolve) {
          var l = o.resolve(void 0);
          n = function () {
            l.then(u)
          }
        } else n = function () {
          A.call(r, u)
        };
      else {
        var c = !0,
          d = document.createTextNode("");
        new a(u).observe(d, {
          characterData: !0
        }), n = function () {
          d.data = c = !c
        }
      }
      return function (r) {
        var A = {
          fn: r,
          next: void 0
        };
        t && (t.next = A), e || (e = A, n()), t = A
      }
    }
  }, function (e, t, n) {
    var r = n(17).navigator;
    e.exports = r && r.userAgent || ""
  }, function (e, t, n) {
    "use strict";
    var r = n(10),
      A = n(8),
      a = n(17),
      i = n(119),
      o = n(122);
    r(r.P + r.R, "Promise", {
      finally: function (e) {
        var t = i(this, A.Promise || a.Promise),
          n = "function" == typeof e;
        return this.then(n ? function (n) {
          return o(t, e()).then((function () {
            return n
          }))
        } : e, n ? function (n) {
          return o(t, e()).then((function () {
            throw n
          }))
        } : e)
      }
    })
  }, function (e, t, n) {
    "use strict";
    var r = n(10),
      A = n(91),
      a = n(121);
    r(r.S, "Promise", {
      try: function (e) {
        var t = A.f(this),
          n = a(e);
        return (n.e ? t.reject : t.resolve)(n.v), t.promise
      }
    })
  }, function (e, t, n) {
    n(189);
    var r = n(8).Object;
    e.exports = function (e, t, n) {
      return r.defineProperty(e, t, n)
    }
  }, function (e, t, n) {
    var r = n(10);
    r(r.S + r.F * !n(24), "Object", {
      defineProperty: n(27).f
    })
  }, function (e, t, n) {
    n(191), e.exports = n(8).Object.keys
  }, function (e, t, n) {
    var r = n(44),
      A = n(49);
    n(101)("keys", (function () {
      return function (e) {
        return A(r(e))
      }
    }))
  }, function (e, t, n) {
    n(51), n(45), e.exports = n(193)
  }, function (e, t, n) {
    var r = n(30),
      A = n(90);
    e.exports = n(8).getIterator = function (e) {
      var t = A(e);
      if ("function" != typeof t) throw TypeError(e + " is not iterable!");
      return r(t.call(e))
    }
  }, function (e, t, n) {
    var r = n(8),
      A = r.JSON || (r.JSON = {
        stringify: JSON.stringify
      });
    e.exports = function (e) {
      return A.stringify.apply(A, arguments)
    }
  }, function (e, t, n) {
    n(71), n(45), n(51), n(196), n(200), n(202), n(203), e.exports = n(8).Set
  }, function (e, t, n) {
    "use strict";
    var r = n(126),
      A = n(93);
    e.exports = n(127)("Set", (function (e) {
      return function () {
        return e(this, arguments.length > 0 ? arguments[0] : void 0)
      }
    }), {
      add: function (e) {
        return r.def(A(this, "Set"), e = 0 === e ? 0 : e, e)
      }
    }, r)
  }, function (e, t, n) {
    var r = n(34),
      A = n(78),
      a = n(44),
      i = n(68),
      o = n(198);
    e.exports = function (e, t) {
      var n = 1 == e,
        s = 2 == e,
        u = 3 == e,
        l = 4 == e,
        c = 6 == e,
        d = 5 == e || c,
        p = t || o;
      return function (t, o, h) {
        for (var f, g, y = a(t), v = A(y), m = r(o, h, 3), w = i(v.length), B = 0, I =
            n ? p(t, w) : s ? p(t, 0) : void 0; w > B; B++)
          if ((d || B in v) && (g = m(f = v[B], B, y), e))
            if (n) I[B] = g;
            else if (g) switch (e) {
          case 3:
            return !0;
          case 5:
            return f;
          case 6:
            return B;
          case 2:
            I.push(f)
        } else if (l) return !1;
        return c ? -1 : u || l ? l : I
      }
    }
  }, function (e, t, n) {
    var r = n(199);
    e.exports = function (e, t) {
      return new(r(e))(t)
    }
  }, function (e, t, n) {
    var r = n(23),
      A = n(115),
      a = n(18)("species");
    e.exports = function (e) {
      var t;
      return A(e) && ("function" != typeof (t = e.constructor) || t !== Array && !A(t
          .prototype) || (t = void 0), r(t) && null === (t = t[a]) && (t = void 0)),
        void 0 === t ? Array : t
    }
  }, function (e, t, n) {
    var r = n(10);
    r(r.P + r.R, "Set", {
      toJSON: n(128)("Set")
    })
  }, function (e, t, n) {
    var r = n(59);
    e.exports = function (e, t) {
      var n = [];
      return r(e, !1, n.push, n, t), n
    }
  }, function (e, t, n) {
    n(129)("Set")
  }, function (e, t, n) {
    n(130)("Set")
  }, function (e, t, n) {
    n(45), n(205), e.exports = n(8).Array.from
  }, function (e, t, n) {
    "use strict";
    var r = n(34),
      A = n(10),
      a = n(44),
      i = n(117),
      o = n(118),
      s = n(68),
      u = n(206),
      l = n(90);
    A(A.S + A.F * !n(124)((function (e) {
      Array.from(e)
    })), "Array", {
      from: function (e) {
        var t, n, A, c, d = a(e),
          p = "function" == typeof this ? this : Array,
          h = arguments.length,
          f = h > 1 ? arguments[1] : void 0,
          g = void 0 !== f,
          y = 0,
          v = l(d);
        if (g && (f = r(f, h > 2 ? arguments[2] : void 0, 2)), null == v || p ==
          Array && o(v))
          for (n = new p(t = s(d.length)); t > y; y++) u(n, y, g ? f(d[y], y) : d[
            y]);
        else
          for (c = v.call(d), n = new p; !(A = c.next()).done; y++) u(n, y, g ? i(c,
            f, [A.value, y], !0) : A.value);
        return n.length = y, n
      }
    })
  }, function (e, t, n) {
    "use strict";
    var r = n(27),
      A = n(55);
    e.exports = function (e, t, n) {
      t in e ? r.f(e, t, A(0, n)) : e[t] = n
    }
  }, function (e, t, n) {
    "use strict";
    const r = n(47),
      A = n(52);
    const a = new class extends A {
      content({
        onError: e,
        onResult: t,
        resultReturns: n,
        onDone: r,
        rethrowIfPossible: A
      }) {
        return this.callTapsSeries({
          onError: (t, n) => e(n),
          onResult: (e, n, r) =>
            `if(${n} !== undefined) {\n${t(n)};\n} else {\n${r()}}\n`,
          resultReturns: n,
          onDone: r,
          rethrowIfPossible: A
        })
      }
    };
    e.exports = class extends r {
      tapAsync() {
        throw new Error("tapAsync is not supported on a SyncBailHook")
      }
      tapPromise() {
        throw new Error("tapPromise is not supported on a SyncBailHook")
      }
      compile(e) {
        return a.setup(this, e), a.create(e)
      }
    }
  }, function (e, t, n) {
    n(209), e.exports = n(8).Object.getPrototypeOf
  }, function (e, t, n) {
    var r = n(44),
      A = n(113);
    n(101)("getPrototypeOf", (function () {
      return function (e) {
        return A(r(e))
      }
    }))
  }, function (e, t, n) {
    e.exports = {
      default: n(211),
      __esModule: !0
    }
  }, function (e, t, n) {
    n(212), e.exports = n(8).Object.setPrototypeOf
  }, function (e, t, n) {
    var r = n(10);
    r(r.S, "Object", {
      setPrototypeOf: n(213).set
    })
  }, function (e, t, n) {
    var r = n(23),
      A = n(30),
      a = function (e, t) {
        if (A(e), !r(t) && null !== t) throw TypeError(t + ": can't set as prototype!")
      };
    e.exports = {
      set: Object.setPrototypeOf || ("__proto__" in {} ? function (e, t, r) {
        try {
          (r = n(34)(Function.call, n(100).f(Object.prototype, "__proto__").set, 2))
          (e, []), t = !(e instanceof Array)
        } catch (e) {
          t = !0
        }
        return function (e, n) {
          return a(e, n), t ? e.__proto__ = n : r(e, n), e
        }
      }({}, !1) : void 0),
      check: a
    }
  }, function (e, t, n) {
    n(215);
    var r = n(8).Object;
    e.exports = function (e, t) {
      return r.create(e, t)
    }
  }, function (e, t, n) {
    var r = n(10);
    r(r.S, "Object", {
      create: n(70)
    })
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = g(n(16)),
      A = g(n(36)),
      a = g(n(5)),
      i = g(n(2)),
      o = g(n(0)),
      s = g(n(1)),
      u = g(n(3)),
      l = g(n(26)),
      c = g(n(4)),
      d = g(n(74)),
      p = g(n(22)),
      h = n(302),
      f = n(223);

    function g(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var y = 0,
      v = function (e) {
        function t() {
          (0, o.default)(this, t);
          var e = (0, u.default)(this, (t.__proto__ || (0, i.default)(t)).apply(this,
            arguments));
          return e.type = "pen", e.penIntensSet = {}, e.description =
            "涂鸦操作工具。\n首先使用op:pen:activate设置画布为涂鸦模式。通过op:pen:lineWidth, op:pen:color设置涂鸦的宽度和颜色。然后画布会监听鼠标动作，生成涂鸦。具体用法如下：",
            e
        }
        return (0, c.default)(t, e), (0, s.default)(t, [{
          key: "eventsToListen",
          value: function () {
            return {
              activate: {
                value: !0,
                information: {
                  args: "",
                  message: "设置工具栏状态为：" + this.type
                }
              }
            }
          }
        }, {
          key: "handleMouseDown",
          value: function (e, n, r, A, a) {
            var o, s, u, c, d = !1;
            if (this.mUpInfo) {
              var p = Date.now() - this.mUpInfo.t < this.app.appConfig
                .drawMergeInterval,
                h = Math.abs(a - this.mUpInfo.cy) + Math.abs(A - this.mUpInfo
                .cx) < this.app.appConfig.drawMergeDist;
              this.app.appConfig.drawMergeDebug && (console.log("time diff", Date
                  .now() - this.mUpInfo.t), console.log("dist diff", Math.abs(
                  a - this.mUpInfo.cy) + Math.abs(A - this.mUpInfo.cx))), d = p &&
                h
            }
            clearTimeout(this.mUpTimer), d ? (this.points.push(void 0), (0, l
              .default)(t.prototype.__proto__ || (0, i.default)(t.prototype),
              "handleMouseMove", this).call(this, e, n, r)) : (this.mUpInfo && (
              (0, l.default)(t.prototype.__proto__ || (0, i.default)(t
                .prototype), "handleMouseUp", this).call(this, e, null === (
                  o = this.mUpInfo) || void 0 === o ? void 0 : o.mx, null ===
                (s = this.mUpInfo) || void 0 === s ? void 0 : s.my, null === (
                  u = this.mUpInfo) || void 0 === u ? void 0 : u.cx, null ===
                (c = this.mUpInfo) || void 0 === c ? void 0 : c.cy), this
              .mUpInfo = void 0), (0, l.default)(t.prototype.__proto__ || (0,
              i.default)(t.prototype), "handleMouseDown", this).call(this, e,
              n, r, A, a))
          }
        }, {
          key: "handleMouseUp",
          value: function (e, n, r, A, a) {
            var o = this;
            this.app.appConfig.drawMergeInterval > 0 ? ((0, l.default)(t.prototype
              .__proto__ || (0, i.default)(t.prototype), "handleMouseMove",
              this).call(this, e, n, r), this.mUpInfo = {
              t: Date.now(),
              mx: n,
              my: r,
              cx: A,
              cy: a
            }, this.mUpTimer = setTimeout((function () {
              (0, l.default)(t.prototype.__proto__ || (0, i.default)(t
                .prototype), "handleMouseUp", o).call(o, e, n, r, A, a, !
                0), o.mUpInfo = void 0
            }), this.app.appConfig.drawMergeInterval)) : (0, l.default)(t
              .prototype.__proto__ || (0, i.default)(t.prototype),
              "handleMouseUp", this).call(this, e, n, r, A, a)
          }
        }, {
          key: "getSnapshot",
          value: function (e) {
            var t = this.points;
            this.penIntens.trimIntensLength(t.length);
            var n = this.opsManager.currPage.getOpId(),
              r = this.app.room.opIdSnapshotMap[n];
            if (!r || !r.snapshot.hasOwnProperty("category")) return (0, a
              .default)((0, a.default)((0, a.default)({
              points: t.slice()
            }, this.penIntens.snapshotInfo()), {
              total: t.length
            }), this.getFreeDrawCommonProperty({
              inProgress: e
            }));
            var A = p.default.pointsPerBatch,
              i = {
                boundary: this.getBoundaryRectOfFreeDraw()
              };
            return this.sampleSeq > 0 && e ? (0, a.default)((0, a.default)((0, a
              .default)((0, a.default)({}, i), {
              points: t.slice(t.length - p.default.pointsPerBatch)
            }), this.penIntens.snapshotInfo(this.penIntens.intens.length -
              A)), {
              total: t.length
            }) : this.sampleSeq > 0 ? (0, a.default)((0, a.default)((0, a
              .default)((0, a.default)({}, i), {
              points: t.slice(t.length - p.default.pointsPerBatch)
            }), this.penIntens.snapshotInfo(this.penIntens.intens.length -
              A)), {
              total: t.length,
              inProgress: e
            }) : (0, a.default)((0, a.default)((0, a.default)({
              points: t.slice()
            }, this.penIntens.snapshotInfo()), {
              total: t.length
            }), this.getFreeDrawCommonProperty({
              inProgress: e
            }))
          }
        }, {
          key: "_draw",
          value: function (e, t) {
            var n = e.data,
              r = e.opId,
              A = n.points,
              a = n.intens,
              i = n.total,
              o = n.lineWidth;
            this.penIntensSet[r] || (this.penIntensSet[r] = new f.PenIntens);
            var s = this.penIntensSet[r],
              u = !!a && a.length === i,
              l = s.refine(A, a),
              c = s.smooth(l, n.mat);
            return (0, h.drawCurve)(this.app, t, c, this.app.scale, u ? o :
              void 0), c.map((function (e) {
              return e.value
            }))
          }
        }, {
          key: "draw",
          value: function (e, t) {
            var n = e.data,
              r = n.intens,
              A = n.total,
              a = n.lineWidth,
              i = n.stroke,
              o = n.color,
              s = n.opacity;
            this._draw(e, t), !!r && r.length === A ? this.strokeOrFill(t, {
              fill: i || o,
              lineWidth: 0,
              opacity: s,
              isShape: !1
            }) : this.strokeOrFill(t, {
              stroke: i || o,
              lineWidth: a,
              opacity: s,
              isShape: !1
            })
          }
        }, {
          key: "ifMouseOnOp",
          value: function (e, t, n) {
            var r = this.app.container.ctx;
            return this._draw(e, r), r.lineWidth = e.data.lineWidth + 20, r
              .strokeStyle = "rgba(0,0,0,0)", r.stroke(), r.isPointInStroke(t, n)
          }
        }, {
          key: "patchOp",
          value: function (e) {
            var t = Number(e.data.lineWidth),
              n = Math.abs(e.data.xFactor || 1),
              r = Math.abs(e.data.yFactor || 1),
              a = (e.data.points || []).reduce((function (e, t) {
                return [Math.min(t[0], e[0]), Math.min(t[1], e[1]), Math.max(
                  t[0], e[2]), Math.max(t[1], e[3])]
              }), [e.data.points[0][0], e.data.points[0][1], e.data.points[0][
                0], e.data.points[0][1]
              ]),
              i = (0, A.default)(a, 4),
              o = i[0],
              s = i[1],
              u = i[2],
              l = i[3];
            e.data.boundary = {
              sx: o - t / 2 / n,
              sy: s - t / 2 / r,
              w: Math.abs(u - o) + t / n,
              h: Math.abs(l - s) + t / r
            }
          }
        }, {
          key: "mergePartial",
          value: function (e, t) {
            var n = this._mergePartial(e, t);
            return n.data.points.length !== n.data.total && this.logger.warn(
              "merge ........", e, t), n
          }
        }, {
          key: "_mergePartial",
          value: function (e, t) {
            try {
              var n = t.data.total - e.data.total,
                A = !1 === e.data.inProgress || !1 === t.data.inProgress ? {
                  inProgress: !1
                } : {};
              if (0 === n) return (0, a.default)((0, a.default)({}, e), {
                data: (0, a.default)((0, a.default)((0, a.default)((0, a
                  .default)((0, a.default)({}, e.data), t.data), A), {
                  points: e.data.points
                }), e.data.intens ? {
                  intens: e.data.intens
                } : {})
              });
              if (n < 0) {
                var i = t.data.total - t.data.points.length,
                  o = t.data.total;
                return (0, a.default)((0, a.default)({}, e), {
                  data: (0, a.default)((0, a.default)((0, a.default)((0, a
                    .default)((0, a.default)({}, e.data), t.data), A), {
                    total: e.data.total,
                    boundary: e.data.boundary,
                    points: [].concat((0, r.default)(e.data.points
                        .slice(0, i)), (0, r.default)(t.data.points),
                      (0, r.default)(e.data.points.slice(o)))
                  }), e.data.intens && t.data.intens ? {
                    intens: [].concat((0, r.default)(e.data.intens.slice(
                      0, i)), (0, r.default)(t.data.intens), (0, r
                      .default)(e.data.intens.slice(o)))
                  } : {})
                })
              }
              if (n <= t.data.points.length) {
                var s = t.data.points.length - n;
                return (0, a.default)((0, a.default)({}, e), {
                  data: (0, a.default)((0, a.default)((0, a.default)((0, a
                    .default)((0, a.default)({}, e.data), t.data), A), {
                    points: e.data.points.concat(t.data.points.slice(s))
                  }), e.data.intens && t.data.intens ? {
                    intens: e.data.intens.concat(t.data.intens.slice(s))
                  } : {})
                })
              }
              var u = n - t.data.points.length;
              return (0, a.default)((0, a.default)({}, e), {
                data: (0, a.default)((0, a.default)((0, a.default)((0, a
                  .default)((0, a.default)({}, e.data), t.data), A), {
                  points: [].concat((0, r.default)(e.data.points), (0, r
                    .default)(new Array(u)), (0, r.default)(t.data
                    .points))
                }), e.data.intens && t.data.intens ? {
                  intens: [].concat((0, r.default)(e.data.intens), (0, r
                    .default)(new Array(u)), (0, r.default)(t.data
                    .intens))
                } : {})
              })
            } catch (n) {
              return y < 100 && (y++, this.logger.warn("[wb] mergePartial error",
                e, t)), e
            }
          }
        }]), t
      }(d.default);
    t.default = v
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.MINIMUM_BROADCAST_GAP_PER_DATATYPE = void 0;
    var r = g(n(7)),
      A = g(n(33)),
      a = g(n(5)),
      i = g(n(20)),
      o = g(n(21)),
      s = g(n(0)),
      u = g(n(1)),
      l = n(31),
      c = g(n(32)),
      d = n(298),
      p = n(72),
      h = n(102),
      f = n(14);

    function g(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var y = t.MINIMUM_BROADCAST_GAP_PER_DATATYPE = 25,
      v = function () {
        function e(t, n) {
          var r = this;
          (0, s.default)(this, e), this.incId = 0, this.debounceData = {}, this
            .noAckData = {}, this.dataInResendQueue = {}, this.lastContinueServerPkgId = -
            1, this.serverPkgSinceLast = [], this.lastPkgIdToSync = -2, this
            .dataOfSync = {}, this.syncStartToLog = -1, this.syncEndToLog = -1, this
            .pkgInside = 0, this.appliedPkgs = {}, this.isSynchronizing = !1, this
            .isFirstSync = !0, this.timerTrigger = requestAnimationFrame.bind(window),
            this._scheduleNextBroadcast = function (e, t) {
              return r.timerTrigger((function () {
                (new Date).valueOf() - e.time < y ? e.timer = r
                  ._scheduleNextBroadcast(e, t) : r._doBroadcastData(e, t)
              }))
            }, this._doBroadcastData = function (e, t) {
              var n, A, a = e.dataType,
                i = r.app.room.mergeDebouncedData(e.dataQueue, a),
                s = 2;
              if ("snapshot" === a) {
                var u = null === (A = null === (n = i.value) || void 0 === n ? void 0 : n
                  .data) || void 0 === A ? void 0 : A.type; - 1 !== ["mouse-pointer",
                  "select", "select-hover", "laser", "camera-bound"
                ].indexOf(u) ? a = u : s = 1
              }
              var l = {
                strategy: s,
                data: (0, o.default)(i),
                client_pkg_id: e.client_pkg_id
              };
              2 === s && (l.dataType = a), r.app.isConnected && r.handler.broadcastData(
                l), r._shouldDataBeResendIfLost(i) && r._pushDataToResendQueue(l), r
                .noAckData[l.client_pkg_id] = {
                  data: i,
                  fakePkgId: e.fakePkgId
                }, r.debounceData[t] = {
                  timer: null,
                  client_pkg_id: -1,
                  time: 0,
                  dataQueue: [],
                  fakePkgId: -1,
                  dataType: ""
                }
            }, this._checkResendQueue = function () {
              if (0 === (0, i.default)(r.dataInResendQueue).length) r.resendTimer = null;
              else {
                var e = Date.now();
                for (var t in r.dataInResendQueue) {
                  if (r.dataInResendQueue[t].resendCount >= 3) return r.logger.error(
                      "[wb] dataHub/resend: resend exceeds3 times，stop resending this package",
                      (0, o.default)(r.dataInResendQueue[t].data)), r.app
                    .dataReportUtil("v3_conn_error", {
                      error: {
                        code: p.DataReportConnError.Resend_Count_Exceed_Max,
                        message: (0, o.default)(r.dataInResendQueue[t].data)
                      }
                    }), r.resendTimer = null, r._handleResendFail();
                  e - r.dataInResendQueue[t].sendAt > 2e3 && r.app.isConnected && (r
                    .handler.broadcastData(r.dataInResendQueue[t].data), r
                    .dataInResendQueue[t] = (0, a.default)((0, a.default)({}, r
                      .dataInResendQueue[t]), {
                      sendAt: Date.now(),
                      resendCount: r.dataInResendQueue[t].resendCount + 1
                    }))
                }
                r.resendTimer = setTimeout(r._checkResendQueue, 2e3)
              }
            }, this._handleResendFail = function () {
              r.dataInResendQueue = {};
              var e = r.room.getCachedTil(r.lastContinueServerPkgId),
                t = r.room.pkgIdOpIdMap,
                n = r.room.opIdSnapshotMap;
              r.app.resetState(), r.app.room.execCachedSnapshots({
                lastConfirmId: e,
                pkgIdOpIdMap: t,
                opIdSnapshotMap: n
              }), r.lastContinueServerPkgId = e, (0, l.showToast)({
                msg: (0, f.getMsg)("sync"),
                time: 1e3,
                type: "info",
                msgType: c.default.SYNCHRONIZING
              }), r.app.readyToSyncData()
            }, this._setupResendSyncRequestTimer = function () {
              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
              clearTimeout(r.resendSyncRequestTimer), r.resendSyncRequestTimer =
                setTimeout((function () {
                  e <= 8 ? (r.logger.error(
                    "[wb] dataHub/sync: timeout，this is Retry No." + (e + 1) +
                    ", " + r.lastContinueServerPkgId), r.handler.sendSyncRequest(r
                    .lastContinueServerPkgId), r._setupResendSyncRequestTimer(e +
                    1)) : ((0, l.showToast)({
                    type: "error",
                    msg: (0, f.getMsg)("syncFail"),
                    time: 1e3,
                    msgType: c.default.SYNC_FAIL
                  }), r.app.dataReportUtil("v3_conn_error", {
                    error: {
                      code: p.DataReportConnError.Sync_Timeout,
                      message: (0, o.default)({
                        lastContinueServerPkgId: r.lastContinueServerPkgId,
                        lastPkgIdToSync: r.lastPkgIdToSync
                      })
                    }
                  }), r.logger.error("[wb] dataHub/sync: multiple sync timeout"))
                }), 1e4)
            }, this._setCameraAftRdy = function () {
              r.app.container.width && r.app.container.height && r.app.container.mounted ?
                (r.app.defaultCameraBound ? r.app.setCameraBound(r.app.defaultCameraBound,
                  !1) : r.app.hasBackground() || r.app.hasTransDoc() ? r.app.fitToDoc(!
                  1) : r.app.zoomTo1AfterJoin ? (r.app.fitToContent(!1), r.app.zoomTo(1,
                  !1)) : r.app.setCameraBound({
                  centerX: 0,
                  centerY: 0,
                  width: 1920,
                  height: 1080
                }, !1), r.app.cameraReady = !0, r.app.emit("event:appState:change",
                  "cameraReady")) : r.app.once("container:resize", r._setCameraAftRdy)
            }, this.app = t, this.handler = n, this.randomSeed = (0, d.getRandomIntByStr)(
              9), this.incId = 0, this.bindEvents()
        }
        return (0, u.default)(e, [{
          key: "destroy",
          value: function () {
            clearTimeout(this.resendSyncRequestTimer), clearTimeout(this
              .resendTimer), this.isSynchronizing = !1, void 0 === (0, A
              .default)(this.visHandlerUnregist) && (this.visHandlerUnregist(),
              this.visHandlerUnregist = void 0)
          }
        }, {
          key: "reset",
          value: function () {
            for (var e in this.debounceData) this.debounceData[e].timer &&
              cancelAnimationFrame(this.debounceData[e].timer);
            this.debounceData = {}, this.lastContinueServerPkgId = -1, this
              .serverPkgSinceLast = [], this.lastPkgIdToSync = -2, this
              .dataOfSync = {}, this.appliedPkgs = {}, this.isSynchronizing = !1,
              this.randomSeed = (0, d.getRandomIntByStr)(9), this.incId = 0,
              clearTimeout(this.resendSyncRequestTimer)
          }
        }, {
          key: "bindEvents",
          value: function () {
            var e = this;
            this.handler.on("data", this.onData.bind(this)), this.handler.on(
                "broadcastAck", this.onBroadcastAck.bind(this)), this.handler.on(
                "syncRequestAck", this.onSendRequestAck.bind(this)), this.handler
              .on("syncRequestResponse", this.onSendRequestResponse.bind(this)),
              this.visHandlerUnregist = (0, h.registerVisibleChangeHandler)((
                function () {
                  e.timerTrigger = requestAnimationFrame.bind(window)
                }), (function () {
                e.timerTrigger = setTimeout.bind(window)
              }))
          }
        }, {
          key: "hasPkgBeenApplied",
          value: function (e, t) {
            if (!t || !e) return !1;
            var n = this.getAppliedPkgKey(e, t);
            return this.appliedPkgs.hasOwnProperty(n)
          }
        }, {
          key: "setPkgBeenApplied",
          value: function (e, t, n) {
            if (t && e) {
              var r = this.getAppliedPkgKey(e, t);
              (!this.appliedPkgs.hasOwnProperty(r) || this.appliedPkgs[r] > n) &&
              (this.appliedPkgs[r] = n)
            }
          }
        }, {
          key: "getAppliedPkgKey",
          value: function (e, t) {
            return t.toString() + "_" + e.toString()
          }
        }, {
          key: "onData",
          value: function (e) {
            var t, n = e.data,
              r = e.server_pkg_id,
              A = e.client_pkg_id,
              a = e.source_uid;
            if (this._updateServerPkgInfo(r, r), this.isSynchronizing) this
              .dataOfSync[r] = {
                data: n,
                client_pkg_id: A,
                source_uid: a
              };
            else {
              if (this.hasPkgBeenApplied(A, a)) return;
              this.setPkgBeenApplied(A, a, r);
              var i = n.type,
                o = n.value;
              "snapshot" === i ? this.room.execSnapshot({
                  snapshot: o,
                  pkgId: r
                }) : "broadcaster" === i ? this.app.vision.receiveBroadcaster(o) :
                "alive" === i ? null === (t = this.app.aliveManager) || void 0 ===
                t || t.receiveAlive(o) : "snapshotArr" === i && this.room
                .execBatchSnapshots(o.map((function (e) {
                  return {
                    snapshot: e,
                    pkgId: r
                  }
                })), "data")
            }
          }
        }, {
          key: "sendSyncRequest",
          value: function () {
            this.logger.log("[wb]请求同步数据, 是否正在同步数据", this.isSynchronizing,
                "当前最后一个数据id", this.lastContinueServerPkgId), this
              .isSynchronizing || (this.isSynchronizing = !0, this.handler
                .sendSyncRequest(this.lastContinueServerPkgId), this
                .lastPkgIdToSync = -2, this.dataOfSync = {}, this
                ._setupResendSyncRequestTimer())
          }
        }, {
          key: "stopSyncRequest",
          value: function () {
            this.logger.log("白板--\x3e 终止同步数据, 是否正在同步数据", this.isSynchronizing),
              this.isSynchronizing = !1, clearTimeout(this.resendSyncRequestTimer)
          }
        }, {
          key: "onSendRequestAck",
          value: function (e) {
            this.lastPkgIdToSync = e.last_server_pkg_id, this.logger.log(
                "[wb]收到同步响应，需求同步到序列号: " + this.lastPkgIdToSync), this
              ._updateAppAfterSync()
          }
        }, {
          key: "onSendRequestResponse",
          value: function (e) {
            var t = this;
            if (this.isSynchronizing) {
              var n = e.start_server_pkg_id,
                A = e.end_server_pkg_id,
                a = e.packages;
              Array.isArray(a) || (a = []), clearTimeout(this.syncLogTimer), -
                1 !== this.syncEndToLog && n !== this.syncEndToLog + 1 ? (this
                  .logger.warn("[wb]收到同步数据不重叠。\n            \n之前同步数据为: " + this
                    .syncStartToLog + "-" + this.syncEndToLog + ", 共有" + this
                    .pkgInside + "数据包\n            \n当前同步数据为: " + n + "-" + A +
                    ", 共有" + a.length + "数据包"), this.syncStartToLog = -1, this
                  .syncEndToLog = -1, this.pkgInside = 0) : (this
                  .syncStartToLog = -1 === this.syncStartToLog ? n : this
                  .syncStartToLog, this.syncEndToLog = A, this.pkgInside = this
                  .pkgInside + a.length, this.syncLogTimer = setTimeout((
                    function () {
                      t.logger.log("[wb]收到同步数据: " + t.syncStartToLog + "-" + t
                          .syncEndToLog + "。实际包括" + t.pkgInside + "个数据包"), t
                        .syncStartToLog = -1, t.syncEndToLog = -1, t.pkgInside =
                        0
                    }), 2e3));
              var i = !0,
                o = !1,
                s = void 0;
              try {
                for (var u, l = (0, r.default)(a); !(i = (u = l.next())
                  .done); i = !0) {
                  var c = u.value;
                  this.dataOfSync[c.server_pkg_id] = {
                    data: c.data,
                    client_pkg_id: c.client_pkg_id,
                    source_uid: c.source_uid
                  }
                }
              } catch (e) {
                o = !0, s = e
              } finally {
                try {
                  !i && l.return && l.return()
                } finally {
                  if (o) throw s
                }
              }
              this._updateServerPkgInfo(n, A), this._updateAppAfterSync()
            }
          }
        }, {
          key: "onBroadcastAck",
          value: function (e) {
            var t = this,
              n = e.server_pkg_id,
              r = e.client_pkg_id;
            if (delete this.dataInResendQueue[r], this._updateServerPkgInfo(n, n),
              !this.noAckData[r]) return this.logger.warn(
              "[wb]broadcastAck, clientSeqId:" + r + "的数据不存在");
            var A = this.noAckData[r].data,
              a = this.noAckData[r].fakePkgId;
            if (delete this.noAckData[r], !A) return this.logger.warn(
              "[wb]broadcastAck, clientSeqId:" + r + "的数据不存在");
            A && "snapshot" === A.type ? this.app.room.cacheOrExecAckPkg({
              pkgId: n,
              snapshot: A.value
            }, a) : A && "snapshotArr" === A.type && A.value.forEach((function (
              e) {
              t.app.room.cacheOrExecAckPkg({
                pkgId: n,
                snapshot: e
              }, a)
            }))
          }
        }, {
          key: "sendSnapshot",
          value: function (e, t) {
            return this.broadcastData({
              data: {
                type: "snapshot",
                value: e
              }
            }, e.opId, "snapshot", t)
          }
        }, {
          key: "broadcastRoomState",
          value: function (e, t) {
            return this.broadcastData({
              data: {
                type: t,
                value: e
              }
            }, t, t, !0)
          }
        }, {
          key: "broadcastData",
          value: function (e, t, n, r) {
            if (!this.debounceData.hasOwnProperty(t) || !this.debounceData[t]
              .timer) {
              var A = this.nextLocalFakeId,
                a = this.getNextClientPkgId();
              this.debounceData[t] = {
                timer: null,
                time: (new Date).valueOf(),
                client_pkg_id: a,
                dataQueue: [],
                dataType: n,
                fakePkgId: A
              }, this.noAckData[a] = {
                data: void 0,
                fakePkgId: A
              }
            }
            var i = this.debounceData[t];
            return i.dataQueue.push(e.data), r ? this._doBroadcastData(i, t) : i
              .timer || (i.timer = this._scheduleNextBroadcast(i, t)), i.fakePkgId
          }
        }, {
          key: "getNextClientPkgId",
          value: function () {
            return this.incId += 1, Number(this.randomSeed.toString() + this.incId
              .toString())
          }
        }, {
          key: "_shouldDataBeResendIfLost",
          value: function (e) {
            if ("snapshot" === e.type) {
              var t = e.value && e.value.data && e.value.data.type,
                n = e.value && e.value.data && e.value.data.inProgress;
              return (!t || -1 === ["select", "select-hover", "camera-bound",
                "laser", "mouse-pointer"
              ].indexOf(t)) && ("pen" === t || !n)
            }
            return !0
          }
        }, {
          key: "_pushDataToResendQueue",
          value: function (e) {
            this.dataInResendQueue[e.client_pkg_id] = {
              data: e,
              sendAt: Date.now(),
              resendCount: 0
            }, this.resendTimer || (clearTimeout(this.resendTimer), this
              .resendTimer = setTimeout(this._checkResendQueue, 2e3))
          }
        }, {
          key: "_updateAppAfterSync",
          value: function () {
            var e = this;
            if (-2 !== this.lastPkgIdToSync) {
              this.lastContinueServerPkgId >= this.lastPkgIdToSync &&
                clearTimeout(this.resendSyncRequestTimer);
              try {
                if (this.lastContinueServerPkgId >= this.lastPkgIdToSync && this
                  .isSynchronizing) {
                  console.log("[wb]同步数据接收完毕: " + this.lastContinueServerPkgId +
                      "--" + this.lastPkgIdToSync), this.isSynchronizing = !1,
                    this.app.emit("event:editable:change", this.app.editable);
                  var t = this._getDataToSync();
                  this.dataOfSync = {};
                  for (var n = void 0, A = [], a = t.length - 1; a >= 0; a--)
                    if ("broadcaster" === t[a].data.type) {
                      n = t[a].data.value;
                      break
                    } for (var i = 0; i < t.length; i++) "broadcaster" === t[i]
                    .data.type ? n = t[i].data.value : "alive" === t[i].data
                    .type && A.push(t[i].data.value);
                  var o = [],
                    s = !0,
                    u = !1,
                    l = void 0;
                  try {
                    for (var c, d = (0, r.default)(t); !(s = (c = d.next())
                      .done); s = !0) {
                      var p = c.value;
                      if (this.dataInResendQueue.hasOwnProperty(p
                        .client_pkg_id) && delete this.dataInResendQueue[p
                          .client_pkg_id], !this.hasPkgBeenApplied(p
                          .client_pkg_id, p.source_uid))
                        if (this.setPkgBeenApplied(p.client_pkg_id, p.source_uid,
                            p.pkgId), "snapshot" === p.data.type) o.push({
                          pkgId: p.pkgId,
                          snapshot: p.data.value
                        });
                        else if ("snapshotArr" === p.data.type) {
                        var h = !0,
                          f = !1,
                          g = void 0;
                        try {
                          for (var y, v = (0, r.default)(p.data.value); !(h = (y =
                              v.next()).done); h = !0) {
                            var m = y.value;
                            o.push({
                              pkgId: p.pkgId,
                              snapshot: m
                            })
                          }
                        } catch (e) {
                          f = !0, g = e
                        } finally {
                          try {
                            !h && v.return && v.return()
                          } finally {
                            if (f) throw g
                          }
                        }
                      }
                    }
                  } catch (e) {
                    u = !0, l = e
                  } finally {
                    try {
                      !s && d.return && d.return()
                    } finally {
                      if (u) throw l
                    }
                  }
                  this.app.aliveManager.receiveSyncData(A), n && this.app.vision
                    .receiveBroadcasterAfterSync(n), setTimeout((function () {
                      e.app.dispatcher.emit("event:sync_finished")
                    }), 0), this.app.room.execBatchSnapshots(o, "sync", (
                      function () {
                        if (e.isFirstSync) {
                          e.isFirstSync = !1;
                          var t = e.app.vision.mode;
                          if ("follower" === t || "broadcaster" === t) return;
                          e._setCameraAftRdy()
                        } else e.app.room.executeDelayedSnaps()
                      }))
                }
              } catch (e) {
                console.error("错误: ", e)
              }
            }
          }
        }, {
          key: "_getDataToSync",
          value: function () {
            var e = this;
            return (0, i.default)(this.dataOfSync).sort((function (e, t) {
              return Number(e) - Number(t)
            })).map((function (t) {
              try {
                var n = e.dataOfSync[t].data;
                return {
                  data: n = "object" === (void 0 === n ? "undefined" : (0, A
                    .default)(n)) ? n : JSON.parse(n),
                  client_pkg_id: e.dataOfSync[t].client_pkg_id,
                  source_uid: e.dataOfSync[t].source_uid,
                  pkgId: Number(t)
                }
              } catch (e) {
                return
              }
            })).filter((function (e) {
              return e
            }))
          }
        }, {
          key: "_updateServerPkgInfo",
          value: function (e, t) {
            for (var n = 0, r = e; n <= this.serverPkgSinceLast.length && !(r >
              t);)
              if (r <= this.lastContinueServerPkgId) r++;
              else if (n === this.serverPkgSinceLast.length) {
              for (var A, a = []; r <= t;) a.push(r), r += 1;
              (A = this.serverPkgSinceLast).splice.apply(A, [n, 0].concat(a))
            } else this.serverPkgSinceLast[n] < r ? n++ : this.serverPkgSinceLast[
              n] === r ? (r++, n++) : (this.serverPkgSinceLast.splice(n, 0, r),
              r++, n++);
            for (n = 0; n < this.serverPkgSinceLast.length && this
              .serverPkgSinceLast[n] === this.lastContinueServerPkgId + n + 1; n++
              );
            this.lastContinueServerPkgId += n, this.serverPkgSinceLast.splice(0,
              n)
          }
        }, {
          key: "room",
          get: function () {
            return this.app.room
          }
        }, {
          key: "logger",
          get: function () {
            return this.app.logger
          }
        }, {
          key: "lastServerPkgId",
          get: function () {
            return this.serverPkgSinceLast.length > 0 ? this.serverPkgSinceLast[
              this.serverPkgSinceLast.length - 1] : this.lastContinueServerPkgId
          }
        }, {
          key: "nextLocalFakeId",
          get: function () {
            var e = this,
              t = this.lastServerPkgId,
              n = (0, i.default)(this.noAckData).map((function (t) {
                return Number(e.noAckData[t].fakePkgId)
              })).sort((function (e, t) {
                return e - t
              }));
            return 0 === n.length || t >= n[n.length - 1] ? t + 1 : n[n.length -
              1] + 1
          }
        }]), e
      }();
    t.default = v
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = i(n(0)),
      A = i(n(1)),
      a = i(n(219));

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var o = void 0,
      s = function () {
        function e() {
          (0, r.default)(this, e)
        }
        return (0, A.default)(e, null, [{
          key: "createInstance",
          value: function () {
            return this._instance = this._instance || new a.default, this
              ._instance
          }
        }, {
          key: "show",
          value: function (e) {
            var t = this,
              n = e.time,
              r = void 0 === n ? 3 : n;
            this._instance || this.createInstance(), this._instance.show(e), o &&
              clearTimeout(o), r && (o = setTimeout((function () {
                t.hide()
              }), 1e3 * r))
          }
        }, {
          key: "hide",
          value: function () {
            o && clearTimeout(o), this._instance && this._instance.hide()
          }
        }, {
          key: "destory",
          value: function () {
            this._instance && (this._instance.destroy(), this._instance = null)
          }
        }]), e
      }();
    t.default = s, s._instance = null
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = i(n(108)),
      A = i(n(0)),
      a = i(n(1));

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(220);
    var o = function () {
      function e() {
        (0, A.default)(this, e), this.toastDiv = document.createElement("div"), this
          .toastDiv.className = "whiteboard-toast", this.toastDiv.onclick = this.hide
          .bind(this), document.body.appendChild(this.toastDiv)
      }
      return (0, a.default)(e, [{
        key: "show",
        value: function (e) {
          var t = this.toastDiv;
          t.style.display = "block", "warn" === e.type ? (t.style.color =
              "#8a6d3b", t.style.backgroundColor = "#fcf8e3", t.style
              .borderColor = "#faebcc") : "info" === e.type ? (t.style.color =
              "#31708f", t.style.backgroundColor = "#d9edf7", t.style
              .borderColor = "#bce8f1") : "error" === e.type ? (t.style.color =
              "#a94442", t.style.backgroundColor = "#f2dede", t.style
              .borderColor = "#ebccd1") : (t.style.color = "#3c763d", t.style
              .backgroundColor = "#dff0d8", t.style.borderColor = "#d6e9c6"), (
              0, r.default)(e.top) && (t.style.top = e.top + "px"), t
            .innerHTML = e.msg
        }
      }, {
        key: "hide",
        value: function () {
          this.toastDiv && (this.toastDiv.style.display = "none")
        }
      }, {
        key: "destroy",
        value: function () {
          this.toastDiv && (document.body.removeChild(this.toastDiv), this
            .toastDiv = null)
        }
      }]), e
    }();
    t.default = o
  }, function (e, t, n) {
    var r = n(221);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".whiteboard-toast {\n    display: none;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%);\n    top: 200px;\n    padding: 8px 15px;\n    margin-bottom: 20px;\n    border: 1px solid transparent;\n    border-radius: 4px;\n    color: #3c763d;\n    background-color: #dff0d8;\n    border-color: #d6e9c6;\n    z-index: 100;\n}",
      ""
    ])
  }, function (e, t) {
    e.exports = function (e) {
      var t = "undefined" != typeof window && window.location;
      if (!t) throw new Error("fixUrls requires window.location");
      if (!e || "string" != typeof e) return e;
      var n = t.protocol + "//" + t.host,
        r = n + t.pathname.replace(/\/[^\/]*$/, "/");
      return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, (
        function (e, t) {
          var A, a = t.trim().replace(/^"(.*)"$/, (function (e, t) {
            return t
          })).replace(/^'(.*)'$/, (function (e, t) {
            return t
          }));
          return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a) ? e : (
            A = 0 === a.indexOf("//") ? a : 0 === a.indexOf("/") ? n + a : r + a
            .replace(/^\.\//, ""), "url(" + JSON.stringify(A) + ")")
        }))
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.PenIntens = void 0;
    var r = u(n(16)),
      A = u(n(0)),
      a = u(n(1)),
      i = n(224),
      o = n(29),
      s = n(72);

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.PenIntens = function () {
      function e(t) {
        var n = this,
          r = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
        (0, A.default)(this, e), this.lenErrLogged = !1, this.simuIntens = .1, this
          .pressure = 0, this.intens = [], this.rOPath = [], this.rPath = [], this
          .rDis = 0, this.disIdx = 0, this.lDis = 0, this.rIndex = 0, this.down =
          function (e) {
            if (n.enable) {
              n.simuIntens = .1, n.startTime = performance.now(), n.timeUpdate();
              var t = e.pointerType,
                r = e.pressure;
              "pen" === t && (n.pressure = r)
            }
          }, this.move = function (e) {
            if (n.enable) {
              var t = e.pointerType,
                r = e.pressure;
              "pen" === t && (n.pressure = r)
            }
          }, this.up = function (e) {
            if (n.enable) {
              var t = e.pointerType,
                r = e.pressure;
              "pen" === t && (n.pressure = r), null !== n.rafID && (
                cancelAnimationFrame(n.rafID), n.rafID = null)
            }
          }, this.rafID = null, this.startTime = performance.now(), this.lLen = 0, this
          .ltPoints = [], this.lsPoints = [], this.lMat = [
            [0, 0, 0],
            [0, 0, 0],
            [0, 0, 0]
          ], this._enable = r, this.app = t
      }
      return (0, a.default)(e, [{
        key: "timeUpdate",
        value: function () {
          var e = this,
            t = this.startTime;
          this.startTime = performance.now();
          var n = this.startTime - t;
          this.simuIntens = Math.min(1, Math.max(.1, n / 1e3 * this
            .intensReducer * 1.5 * (1.1 - Math.pow(this.simuIntens, 2)) +
            this.simuIntens)), this.rafID = requestAnimationFrame((
        function () {
            e.timeUpdate()
          }))
        }
      }, {
        key: "changeIntens",
        value: function (e) {
          if (this.enable) {
            var t = e.length;
            if (0 === t) return this.intens = [], this.rOPath = [], this
              .rPath = [], this.rDis = 0, this.disIdx = 0, this.lDis = 0,
              void(this.rIndex = 0);
            if (t > 1) {
              var n = i.Vector2.dis(new(Function.prototype.bind.apply(i.Vector2,
                [null].concat((0, r.default)(e[t - 2])))), new(Function
                .prototype.bind.apply(i.Vector2, [null].concat((0, r
                  .default)(e[t - 1])))));
              this.simuIntens = Math.min(1, Math.max(.1, this.simuIntens - n *
                this.scale / this.intensReducer * Math.pow(this.simuIntens,
                  2)))
            }
            this.intens.push(Number(this.intensity.toFixed(2)))
          }
        }
      }, {
        key: "trimIntensLength",
        value: function (e) {
          var t, n;
          if (this.enable) {
            var A = this.intens.length;
            if (0 !== A && e !== A) {
              if (A > e) this.intens.splice(e);
              else {
                var a, i = Array(e - A).fill(this.intens[A - 1]);
                (a = this.intens).push.apply(a, (0, r.default)(i))
              }
              if (!this.lenErrLogged) {
                this.lenErrLogged = !0;
                var o = "PenIntens.changeIntens: 'points.length: " + e +
                  "' and 'intens.length: " + A + "' are not equal.";
                null === (t = this.app) || void 0 === t || t.logger.error(o),
                  null === (n = this.app) || void 0 === n || n.dataReportUtil(
                    "v3_run_error", {
                      error: {
                        code: s.DataReportRunError.Pen_Intens_Len_Inconsistent,
                        message: o
                      }
                    })
              }
            }
          }
        }
      }, {
        key: "snapshotInfo",
        value: function (e, t) {
          return this.intens.length ? "number" == typeof e || "number" ==
            typeof t ? {
              intens: this.intens.slice(e, t)
            } : {
              intens: [].concat((0, r.default)(this.intens))
            } : {}
        }
      }, {
        key: "rAddPoint",
        value: function (e) {
          var t = this.rOPath;
          if (t.push(e), t.length > 2) {
            var n = [.5, .5],
              r = t.length - 2,
              A = t[r - 1],
              a = t[r],
              o = e,
              s = i.Vector2.normalize(i.Vector2.sub(a, A)),
              u = i.Vector2.normalize(i.Vector2.sub(o, a));
            if (s && u) {
              var l = i.Vector2.dot(s, u),
                c = i.Vector2.disPow2(A, a),
                d = !1;
              if (c < Math.pow(4, 2)) d = !0;
              else if (l >= 0) {
                d = c < Math.pow(8 + 8 * l, 2)
              }
              d && (t.splice(r, 1), o.intensity = o.intensity * n[0] + a
                .intensity * n[1])
            } else t.splice(r, 1), o.intensity = o.intensity * n[0] + a
              .intensity * n[1]
          }
          for (var p = this.rPath, h = t.length, f = Math.max(0, p.length -
            1); f < h; f++) {
            var g = t[f];
            p[f] = new i.Vector2(g.x, g.y, g.intensity)
          }
          if (t.length > 2) {
            var y = t[h - 3],
              v = t[h - 2],
              m = t[h - 1],
              w = i.Vector2.normalize(i.Vector2.sub(y, v)),
              B = i.Vector2.normalize(i.Vector2.sub(m, v));
            if (w && B) {
              var I = i.Vector2.dot(w, B);
              I = I >= 0 ? .1 * (1 - I) : .1 + .4 * Math.abs(I);
              var M = i.Vector2.lerp(v, i.Vector2.center(y, m), I);
              p[h - 2].value = M.value
            }
          }
        }
      }, {
        key: "refine",
        value: function (e, t) {
          for (var n = !1, A = this.rIndex; A < e.length; A++) this.rAddPoint(
              new(Function.prototype.bind.apply(i.Vector2, [null].concat((0, r
                .default)(e[A]), [(null != t ? t : [])[A]])))), this.rIndex +=
            1, n = !0;
          if (n) {
            var a = this.rOPath;
            this.disIdx = this.disIdx ? this.disIdx - 1 : 0, this.rDis -= this
              .lDis;
            for (var o = this.disIdx; o < a.length - 1; o++) {
              var s = a[o],
                u = a[o + 1];
              this.lDis = i.Vector2.dis(s, u), this.rDis += this.lDis, this
                .disIdx += 1
            }
          }
          return [].concat((0, r.default)(this.rPath))
        }
      }, {
        key: "smooth",
        value: function (e, t) {
          var n = this,
            A = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] :
            4,
            a = function () {
              if (n.lMat && t) {
                for (var e = 0; e < t.length; e++)
                  for (var r = n.lMat[e], A = t[e], a = 0; a < 3; a++)
                    if (r[a].toFixed(6) !== A[a].toFixed(6)) return !1;
                return !0
              }
              return n.lMat === t
            },
            s = this.ltPoints[this.ltPoints.length - 1],
            u = e[e.length - 1],
            l = this.lLen !== e.length,
            c = !(!s || !u) && (s.x.toFixed(2) !== u.x.toFixed(2) || s.y
              .toFixed(2) !== u.y.toFixed(2)),
            d = !a();
          if (!l && !c && !d) return [].concat((0, r.default)(this.lsPoints));
          var p = [];
          if (e.length > 1) {
            if (l || d) t && e.forEach((function (n, A) {
              e[A] = new(Function.prototype.bind.apply(i.Vector2, [null]
                .concat((0, r.default)((0, o.getTransPoint)(n.value,
                  t)), [n.intensity])))
            })), this.lMat = t, this.lLen = e.length, this.ltPoints = e;
            else {
              if (!c) return [].concat((0, r.default)(this.lsPoints));
              t && (this.ltPoints[this.ltPoints.length - 1] = new(Function
                .prototype.bind.apply(i.Vector2, [null].concat((0, r
                  .default)((0, o.getTransPoint)(u.value, t)), [u
                  .intensity
                ]))), e = this.ltPoints)
            }
            for (var h = 0; h < this.rDis; h += A) {
              var f = Math.min(h / this.rDis, 1),
                g = e.length,
                y = (g - 1) * f,
                v = Math.floor(y),
                m = y - v;
              0 === m && v === g - 1 && (v = g - 2, m = 1);
              var w = void 0,
                B = void 0;
              w = v > 0 ? e[(v - 1) % g] : i.Vector2.add(e[0], i.Vector2.sub(e[
                0], e[1]));
              var I = e[v % g],
                M = e[(v + 1) % g];
              B = v + 2 < g ? e[(v + 2) % g] : i.Vector2.add(e[g - 1], i.Vector2
                .sub(e[g - 1], e[g - 2]));
              var C = .25,
                b = Math.pow(i.Vector2.disPow2(w, I), C),
                x = Math.pow(i.Vector2.disPow2(I, M), C),
                T = Math.pow(i.Vector2.disPow2(M, B), C);
              x < 1e-4 && (x = 1), b < 1e-4 && (b = x), T < 1e-4 && (T = x);
              var k = .33 * (w.intensity + I.intensity + M.intensity),
                E = .33 * (I.intensity + M.intensity + B.intensity);
              p.push(new i.Vector2(i.CubicPoly.nonUniformCatmullRom(w.x, I.x, M
                .x, B.x, b, x, T, m), i.CubicPoly.nonUniformCatmullRom(w
                .y, I.y, M.y, B.y, b, x, T, m), k + (E - k) * m))
            }
          }
          return this.lsPoints = p, p
        }
      }, {
        key: "enable",
        get: function () {
          return this._enable
        },
        set: function (e) {
          this._enable !== e && (e || this.changeIntens([]), this._enable = e)
        }
      }, {
        key: "scale",
        get: function () {
          return this.app ? this.app.scale : 1
        }
      }, {
        key: "intensReducer",
        get: function () {
          return 32
        }
      }, {
        key: "intensity",
        get: function () {
          return this.pressure ? this.pressure : this.simuIntens
        }
      }]), e
    }()
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.CubicPoly = t.Vector2 = void 0;
    var r = i(n(16)),
      A = i(n(0)),
      a = i(n(1));

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var o = function () {
      function e(t, n) {
        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
        (0, A.default)(this, e), this.value = [0, 0], this.value = [t, n], this.intens =
          r
      }
      return (0, a.default)(e, [{
        key: "x",
        get: function () {
          return this.value[0]
        },
        set: function (e) {
          this.value[0] = e
        }
      }, {
        key: "y",
        get: function () {
          return this.value[1]
        },
        set: function (e) {
          this.value[1] = e
        }
      }, {
        key: "intensity",
        get: function () {
          return this.intens
        },
        set: function (e) {
          this.intens = e
        }
      }, {
        key: "lengthPow2",
        get: function () {
          return Math.pow(this.x, 2) + Math.pow(this.y, 2)
        }
      }, {
        key: "length",
        get: function () {
          return Math.sqrt(this.lengthPow2)
        }
      }], [{
        key: "normalize",
        value: function (t) {
          if (0 === t.x && 0 === t.y) return null;
          var n = Math.sqrt(t.value[0] * t.value[0] + t.value[1] * t.value[1]);
          return new e(t.value[0] / n, t.value[1] / n)
        }
      }, {
        key: "add",
        value: function (t, n) {
          return new e(t.value[0] + n.value[0], t.value[1] + n.value[1])
        }
      }, {
        key: "sub",
        value: function (t, n) {
          return new e(t.value[0] - n.value[0], t.value[1] - n.value[1])
        }
      }, {
        key: "scale",
        value: function (t, n) {
          return new e(t.value[0] * n, t.value[1] * n)
        }
      }, {
        key: "scaleByAxis",
        value: function (t, n, r) {
          return new e(t.x * n, t.y * r)
        }
      }, {
        key: "disPow2",
        value: function (e, t) {
          var n = e.value,
            r = t.value,
            A = n[0] - r[0],
            a = n[1] - r[1];
          return A * A + a * a
        }
      }, {
        key: "dis",
        value: function (t, n) {
          return Math.sqrt(e.disPow2(t, n))
        }
      }, {
        key: "lerp",
        value: function (t, n, r) {
          if (!t || !n) return t || n;
          var A = t.value,
            a = n.value;
          return new e(A[0] + (a[0] - A[0]) * r, A[1] + (a[1] - A[1]) * r)
        }
      }, {
        key: "intersectPoint",
        value: function (t, n, r, A) {
          var a = t.value,
            i = n.value,
            o = r.value,
            s = A.value,
            u = o[0] - s[0],
            l = a[0] - i[0],
            c = o[1] - s[1],
            d = a[1] - i[1],
            p = l * c - d * u;
          if (0 == p) return null;
          var h = a[0] * i[1] - a[1] * i[0],
            f = o[0] * s[1] - o[1] * s[0];
          return new e((h * u - l * f) / p, (h * c - d * f) / p)
        }
      }, {
        key: "center",
        value: function () {
          for (var t = arguments.length, n = Array(t), A = 0; A < t; A++) n[A] =
            arguments[A];
          var a = n.length;
          if (!a) return new e(0, 0);
          if (1 === a) return new(Function.prototype.bind.apply(e, [null]
            .concat((0, r.default)(n[0].value))));
          if (2 === a) return new e((n[0].value[0] + n[1].value[0]) / 2, (n[0]
            .value[1] + n[1].value[1]) / 2);
          for (var i = 0, o = 0, s = 0, u = a - 1, l = 0; l < a; u = l, l++) {
            var c = n[u].value,
              d = n[l].value,
              p = c[0] * d[1] - d[0] * c[1];
            i += p, o += (d[0] + c[0]) * p, s += (d[1] + c[1]) * p
          }
          var h = 0,
            f = 0;
          return 0 != i && (h = o / (3 * i), f = s / (3 * i)), new e(h, f)
        }
      }, {
        key: "dot",
        value: function (e, t) {
          return e.x * t.x + e.y * t.y
        }
      }, {
        key: "cross",
        value: function (e, t) {
          return e.x * t.y - t.x * e.y
        }
      }, {
        key: "angle",
        value: function (t, n) {
          var r = e.normalize(t),
            A = e.normalize(n);
          return r && A ? Math.acos(Math.min(1, Math.max(-1, e.dot(r, A)))) : 0
        }
      }, {
        key: "fromToAngle",
        value: function (t, n) {
          return e.cross(t, n) < 0 ? -e.angle(t, n) : e.angle(t, n)
        }
      }]), e
    }();
    t.Vector2 = o;
    var s = t.CubicPoly = {
      init: function (e, t, n, r) {
        return [e, n, -3 * e + 3 * t - 2 * n - r, 2 * e - 2 * t + n + r]
      },
      calc: function (e, t) {
        var n = t * t,
          r = n * t;
        return e[0] + e[1] * t + e[2] * n + e[3] * r
      },
      catmullRom: function (e, t, n, r, A, a) {
        return s.calc(s.init(t, n, A * (n - e), A * (r - t)), a)
      },
      nonUniformCatmullRom: function (e, t, n, r, A, a, i, o) {
        var u = (t - e) / A - (n - e) / (A + a) + (n - t) / a,
          l = (n - t) / a - (r - t) / (a + i) + (r - n) / i;
        return u *= a, l *= a, s.calc(s.init(t, n, u, l), o)
      }
    }
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi41Mzg2IDIuNDYwMzRDMTMuMTUyNCAxLjg0NjU2IDE0LjE0NzUgMS44NDY1NSAxNC43NjEzIDIuNDYwMzRMMTcuNTM5NyA1LjIzODcxQzE4LjE1MzQgNS44NTI0OSAxOC4xNTM0IDYuODQ3NjIgMTcuNTM5NyA3LjQ2MTRMNy44MDEyMiAxNy4xOTk4QzcuNTQyMjIgMTcuNDU4OCA3LjIwMDkgMTcuNjE5MiA2LjgzNjIyIDE3LjY1MzRMMy4xODEyNyAxNy45OTUyQzIuNTA3MTMgMTguMDU4MiAxLjk0MTc2IDE3LjQ5MjkgMi4wMDQ4MSAxNi44MTg3TDIuMzQ2NjQgMTMuMTYzOEMyLjM4MDc1IDEyLjc5OTEgMi41NDExNSAxMi40NTc4IDIuODAwMTUgMTIuMTk4OEwxMi41Mzg2IDIuNDYwMzRaTTEzLjkyNzggMy4yOTM4NUMxMy43NzQzIDMuMTQwNCAxMy41MjU2IDMuMTQwNCAxMy4zNzIxIDMuMjkzODVMMy42MzM2NiAxMy4wMzIzQzMuNTY4OTEgMTMuMDk3IDMuNTI4ODEgMTMuMTgyNCAzLjUyMDI4IDEzLjI3MzVMMy4xODk0OSAxNi44MTA1TDYuNzI2NDYgMTYuNDc5N0M2LjgxNzYzIDE2LjQ3MTIgNi45MDI5NiAxNi40MzExIDYuOTY3NyAxNi4zNjYzTDE2LjcwNjIgNi42Mjc4OUMxNi44NTk2IDYuNDc0NDUgMTYuODU5NiA2LjIyNTY2IDE2LjcwNjIgNi4wNzIyMkwxMy45Mjc4IDMuMjkzODVaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE0LjYyMjQgOS41NDUxOEwxMC40NTQ4IDUuMzc3NjJMMTEuMjg4MyA0LjU0NDExTDE1LjQ1NTkgOC43MTE2N0wxNC42MjI0IDkuNTQ1MThaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K"
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = d(n(16)),
      A = d(n(2)),
      a = d(n(0)),
      i = d(n(1)),
      o = d(n(3)),
      s = d(n(4)),
      u = d(n(74)),
      l = n(29),
      c = n(19);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var p = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.type = "line", e.description =
          "绘制线段。\n首先使用op:line:activate设置画布为线段模式。通过op:line:lineWidth, op:line:color设置线段的宽度和颜色。然后画布会监听鼠标动作，生成线段。具体用法如下：",
          e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            activate: {
              value: !0,
              information: {
                args: "",
                message: "设置工具栏状态为：" + this.type
              }
            }
          }
        }
      }, {
        key: "getSnapshot",
        value: function (e) {
          return this.getTwoPointShapeCommonProperty({
            inProgress: e
          })
        }
      }, {
        key: "getBoundaryRect",
        value: function () {
          return this.getBoundaryRectOfLine()
        }
      }, {
        key: "draw",
        value: function (e, t) {
          var n = e.data,
            A = this.getStartEndPointFromSnapshot(n),
            a = A.sp,
            i = A.ep;
          t.beginPath(), t.moveTo.apply(t, (0, r.default)((0, c.padPt)((0, l
            .getTransPoint)(a, n.mat), this.app.scale))), t.lineTo.apply(t, (
            0, r.default)((0, c.padPt)((0, l.getTransPoint)(i, n.mat), this
            .app.scale))), this.strokeOrFill(t, {
            stroke: n.stroke || n.color,
            lineWidth: n.lineWidth,
            opacity: n.opacity,
            isShape: !1
          })
        }
      }, {
        key: "ifMouseOnOp",
        value: function (e, t, n) {
          var A = this.app.container.ctx,
            a = e.data,
            i = this.getStartEndPointFromSnapshot(a),
            o = i.sp,
            s = i.ep;
          return A.beginPath(), A.moveTo.apply(A, (0, r.default)((0, l
              .getTransPoint)(o, a.mat))), A.lineTo.apply(A, (0, r.default)((0,
              l.getTransPoint)(s, a.mat))), A.strokeStyle = "rgba(0,0,0,0)", A
            .lineWidth = a.lineWidth + 20, A.stroke(), A.isPointInStroke(t, n)
        }
      }, {
        key: "getStartEndPointFromSnapshot",
        value: function (e) {
          var t = void 0,
            n = void 0;
          return Array.isArray(e.points) ? (t = e.points[0], n = e.points[e
            .points.length - 1]) : (t = e.sp, n = e.ep), {
            sp: t,
            ep: n
          }
        }
      }, {
        key: "patchOp",
        value: function (e) {
          var t = Number(e.data.lineWidth),
            n = Math.abs(e.data.xFactor || 1),
            r = Math.abs(e.data.yFactor || 1);
          e.data.boundary = {
            sx: Math.min(e.data.sp[0], e.data.ep[0]) - t / 2 / n,
            sy: Math.min(e.data.sp[1], e.data.ep[1]) - t / 2 / r,
            w: Math.abs(e.data.sp[0] - e.data.ep[0]) + t / n,
            h: Math.abs(e.data.sp[1] - e.data.ep[1]) + t / r
          }
        }
      }]), t
    }(u.default);
    t.default = p
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.drawInProgressSnapshots = t.drawLocalSnapshots = t.refresh = t
      .refreshOnStreamCanvas = t.cleanNonCanvasElements = t.LayerOrder = void 0;
    var r = s(n(7)),
      A = s(n(20)),
      a = n(105),
      i = n(19),
      o = n(95);

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.LayerOrder = {
      video: -1,
      audio: 2
    }, t.cleanNonCanvasElements = function (e) {
      var t, n, r = (0, A.default)(e.drawOpQueue);
      e.app.container && e.app.container.domEl && (e.app.container.domEl.innerHTML =
      "");
      for (var a = Array.prototype.slice.apply(e.app.container.el
          .getElementsByClassName("neteaseyunxin-wb-media-container")), i = 0; i < a
        .length; i++) {
        var o = a[i],
          s = o.id; - 1 === r.indexOf(s) && (null === (t = null == o ? void 0 : o
          .parentNode) || void 0 === t || t.removeChild(o))
      }
      for (var u = Array.prototype.slice.apply(e.app.container.el
          .getElementsByClassName("neteaseyunxin-wb-url-container")), l = 0; l < u
        .length; l++) {
        var c = u[l],
          d = c.id; - 1 === r.indexOf(d) && (null === (n = null == c ? void 0 : c
          .parentNode) || void 0 === n || n.removeChild(c))
      }
      e.app.opsManager.hooks.cleanNonCanvasEle.call(e)
    }, t.refreshOnStreamCanvas = function (e) {
      var t = e.app.container.streamCtx;
      if (t) {
        if (t.save(), (0, o.clearCtx)(t), t.fillStyle = e.app.appConfig.canvasBgColor, (
            0, o.fillCtx)(t), e.app.bgRenderContainer && e.app.bgRenderContainer({
            width: e.app.container.width,
            height: e.app.container.height,
            DPI: a.DPI,
            zoom: e.app.scale,
            ctx: t
          }), e.app.camera.convertPreviewCanvas(t), e.app.bgRenderWorld) {
          var n = e.app.camera.getContainerWorldRect();
          e.app.bgRenderWorld({
            width: e.app.container.width,
            height: e.app.container.height,
            DPI: a.DPI,
            rect: n,
            zoom: e.app.scale,
            ctx: t
          })
        }
        if (e.backgroundSnapshot) e.opsManager.preview(e.backgroundSnapshot, t, {
          page: e,
          supportToDataUrl: !0
        });
        else {
          var A = e.getBoard(),
            s = e.getAnimPageIndex();
          null !== s && A.previewDoc({
            ctx: t,
            animPageIndex: s,
            keepAnimState: !0,
            stream: !0
          })
        }
        var l = (0, i.getSortedDrawOpIds)(e.drawOpQueue),
          c = e.opsManager.opMap.url.currentUrlOpid;
        if (c)
          if (l = l.filter((function (e) {
              return e !== c
            })), e.drawOpQueue[c]) e.opsManager.opMap.url.preview(e.drawOpQueue[c], t, {
            page: e,
            supportToDataUrl: !0
          });
        var d = !0,
          p = !1,
          h = void 0;
        try {
          for (var f, g = (0, r.default)(l); !(d = (f = g.next()).done); d = !0) {
            var y = f.value;
            e.opsManager.preview(e.drawOpQueue[y], t, {
              page: e,
              supportToDataUrl: !0
            })
          }
        } catch (e) {
          p = !0, h = e
        } finally {
          try {
            !d && g.return && g.return()
          } finally {
            if (p) throw h
          }
        }
        for (var v in u(e, t, {
            preview: !1
          }), e.lastLaserOfUser) {
          var m = e.lastLaserOfUser[v];
          e.opsManager.preview(m, t, {
            page: e,
            supportToDataUrl: !0
          })
        }
        t.restore()
      }
    }, t.refresh = function (e) {
      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
        n = t.ctx,
        A = t.preview;
      n || (n = e.ctx);
      var s = A ? n : e.frontCtx,
        c = A ? n : e.bgCtx,
        d = !A || !t.supportToDataUrl && e.app.appConfig.previewCustomBg || t
        .supportToDataUrl && t.exportCustomBg;
      if (e.opsManager.hooks.refresh.call(), n.save(), A || (e.frontCtx.save(), e.bgCtx
          .save(), e.laserCtx.save()), (0, o.clearCtx)(n), (0, o.clearCtx)(c), A && t
        .supportToDataUrl && (c.fillStyle = e.app.appConfig.canvasBgColor, (0, o
          .fillCtx)(c)), e.app.bgRenderContainer && d) {
        var p = e.app.container.width,
          h = e.app.container.height;
        t.supportToDataUrl && t.boundary && (p = c.canvas.width, h = c.canvas.height), e
          .app.bgRenderContainer({
            width: p,
            height: h,
            DPI: a.DPI,
            zoom: e.app.scale,
            ctx: c
          })
      }
      if (A ? t.boundary ? e.app.camera.convertPreviewCanvas(n, t.boundary) : e.app
        .camera.convertPreviewCanvas(n) : (e.app.camera.convertCanvas(n), e.app.camera
          .convertCanvas(e.bgCtx)), e.app.bgRenderWorld && d) {
        var f = e.app.camera.getContainerWorldRect(),
          g = e.app.scale,
          y = t.supportToDataUrl && t.boundary ? t.boundary : f;
        g *= t.supportToDataUrl && t.boundary ? f.width / t.boundary.width : 1, e.app
          .bgRenderWorld({
            width: e.app.container.width,
            height: e.app.container.height,
            DPI: a.DPI,
            rect: y,
            zoom: g,
            ctx: c
          })
      }
      if (!A && e.getBoard() && e.getBoard().updateDocClipPath(), A || ((0, o.clearCtx)(
            s), (0, o.clearCtx)(e.laserCtx), e.app.camera.convertCanvas(s), e.app.camera
          .convertCanvas(e.laserCtx)), e.backgroundSnapshot && !A ? e.opsManager.draw(e
          .backgroundSnapshot, c, {
            page: e
          }) : e.backgroundSnapshot && e.opsManager.preview(e.backgroundSnapshot, n, {
          page: e,
          supportToDataUrl: t.supportToDataUrl
        }), A) {
        var v = e.getBoard(),
          m = e.getAnimPageIndex();
        null !== m && (n.save(), v.previewDoc({
          ctx: n,
          animPageIndex: m,
          keepAnimState: t.supportToDataUrl && !t.exportBoard,
          toDataUrl: t.supportToDataUrl,
          boundary: t.boundary
        }), n.restore())
      }
      var w = (0, i.getSortedDrawOpIds)(e.drawOpQueue);
      if (A) {
        var B = !0,
          I = !1,
          M = void 0;
        try {
          for (var C, b = (0, r.default)(w); !(B = (C = b.next()).done); B = !0) {
            var x = C.value;
            e.opsManager.preview(e.drawOpQueue[x], n, {
              page: e,
              supportToDataUrl: t.supportToDataUrl,
              boundary: t.boundary
            })
          }
        } catch (e) {
          I = !0, M = e
        } finally {
          try {
            !B && b.return && b.return()
          } finally {
            if (I) throw M
          }
        }
      } else {
        var T = !0,
          k = !1,
          E = void 0;
        try {
          for (var N, O = (0, r.default)(w); !(T = (N = O.next()).done); T = !0) {
            var P = N.value;
            e.opsManager.draw(e.drawOpQueue[P], n, {
              div: e.app.container.domEl,
              page: e
            })
          }
        } catch (e) {
          k = !0, E = e
        } finally {
          try {
            !T && O.return && O.return()
          } finally {
            if (k) throw E
          }
        }
        for (var _ in e.hiddenOpQueue) e.opsManager.hide(e.hiddenOpQueue[_], n, e.app
          .container.domEl);
        for (var D in e.deletedOpQueue) e.opsManager.hide(e.deletedOpQueue[D], n, e.app
          .container.domEl)
      }
      if (A && t.omitSelection || u(e, s, {
          preview: A
        }), !A)
        for (var Q in l(e, e.laserCtx), e.lastLaserOfUser) {
          var S = e.lastLaserOfUser[Q];
          e.opsManager.draw(S, e.laserCtx)
        }
      n.restore(), A || (e.frontCtx.restore(), e.bgCtx.restore(), e.laserCtx.restore())
    }, t.drawLocalSnapshots = function (e) {
      for (var t in e.localCtx.save(), (0, o.clearCtx)(e.localCtx), e.app.camera
          .convertCanvas(e.localCtx), e.localDrawQueue) e.opsManager.draw(e
        .localDrawQueue[t], e.localCtx, {
          page: e
        });
      e.localCtx.restore()
    }, t.drawInProgressSnapshots = function (e) {
      e.laserCtx.save(), e.frontCtx.save(), (0, o.clearCtx)(e.laserCtx), (0, o.clearCtx)
        (e.frontCtx), e.app.camera.convertCanvas(e.laserCtx), e.app.camera
        .convertCanvas(e.frontCtx), (0, A.default)(e.lastInProgressSnapshotOfUser).map((
          function (t) {
            return e.lastInProgressSnapshotOfUser[t]
          })).sort((function (e, t) {
          return e.beginAt - t.beginAt
        })).forEach((function (t) {
          var n = t.snapshot.opId,
            r = e.drawOpQueue[n];
          if (r) {
            var A = "laser" === r.data.type ? e.laserCtx : e.frontCtx;
            e.opsManager.draw(r, A, {
              div: e.app.container.domEl,
              page: e
            })
          } else {
            var a = "laser" === t.snapshot.data.type ? e.laserCtx : e.frontCtx;
            e.opsManager.draw(t.snapshot, a, {
              div: e.app.container.domEl,
              page: e
            })
          }
        })), u(e, e.frontCtx, {
          preview: !1
        }), l(e, e.laserCtx), e.laserCtx.restore(), e.frontCtx.restore()
    };
    var u = function (e, t, n) {
        for (var r in e.lastSelectOfUser) n.preview ? e.opsManager.preview(e
          .lastSelectOfUser[r], t, {
            page: e
          }) : e.opsManager.draw(e.lastSelectOfUser[r], t);
        for (var A in e.lastInProgressSelectOfUser) n.preview ? e.opsManager.preview(e
          .lastInProgressSelectOfUser[A], t, {
            page: e
          }) : e.opsManager.draw(e.lastInProgressSelectOfUser[A], t)
      },
      l = function (e, t) {
        for (var n in e.lastMousePointerOfUser) {
          var r = e.lastMousePointerOfUser[n];
          e.opsManager.draw(r, t)
        }
      }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = d(n(16)),
      A = d(n(7)),
      a = d(n(5)),
      i = n(28),
      o = d(n(135)),
      s = n(39),
      u = d(n(140)),
      l = n(65),
      c = n(19);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var p = {
      graphInit: function (e) {
        var t = e.start,
          n = e.end,
          r = {
            x: t.x / 2 + n.x / 2,
            y: t.y / 2 + n.y / 2
          };
        return {
          start: t,
          end: n,
          connPs: [{
            x: r.x,
            y: r.y,
            type: i.IConnPointType.Split
          }]
        }
      },
      isUnderRect: function (e) {
        return o.default.isUnderRect(e)
      },
      isUnderPoint: function (e) {
        return o.default.isUnderPoint(e)
      },
      patchLink: function (e) {
        var t = e.data,
          n = e.page,
          r = e.op;
        t._points = [];
        var o = t.start,
          u = t.end,
          c = t.connPs,
          d = (0, s.getLinkEndPos)(r.app, o, e.op, n),
          p = (0, s.getLinkEndPos)(r.app, u, e.op, n);
        if (d && p) {
          t._points.push([d.x, d.y]);
          var h = !0,
            f = !1,
            g = void 0;
          try {
            for (var y, v = (0, A.default)(c); !(h = (y = v.next()).done); h = !0) {
              var m = y.value;
              m.type === i.IConnPointType.Anchor && t._points.push([m.x, m.y])
            }
          } catch (e) {
            f = !0, g = e
          } finally {
            try {
              !h && v.return && v.return()
            } finally {
              if (f) throw g
            }
          }
          t._points.push([p.x, p.y]);
          var w = (0, l.getArrowPts)({
              data: t,
              op: r,
              startPos: d,
              endPos: p
            }),
            B = (0, l.getLinkTextPos)({
              data: t,
              op: r
            });
          t.boundary = (0, s.getLinkBoundary)((0, a.default)((0, a.default)((0, a
            .default)({
            start: d,
            end: p,
            connPs: c
          }, t.start.aType === i.IArrowType.Arrow ? {
            startArrow: w.start
          } : {}), t.end.aType === i.IArrowType.Arrow ? {
            endArrow: w.end
          } : {}), {
            textBoundaries: B
          }))
        }
      },
      drawLink: function (e) {
        var t = e.data,
          n = e.ctx,
          r = e.op.app.scale,
          A = (t._points || []).map((function (e) {
            return (0, c.padPt)(e, r)
          }));
        if (n.beginPath(), A.length >= 2) {
          n.moveTo(A[0][0], A[0][1]);
          for (var a = 1; a < A.length; a++) n.lineTo(A[a][0], A[a][1])
        }
        n.stroke()
      },
      graphAftTypeM: function (e) {
        var t = e.data,
          n = e.type,
          r = e.op,
          A = (0, s.getLinkEndPos)(r.app, t.start, r),
          l = (0, s.getLinkEndPos)(r.app, t.end, r);
        if (A && l && n !== i.ILinkType.Line) {
          if (n === i.ILinkType.Curve) return u.default.tidyGraph({
            start: A,
            end: l,
            connPs: t.connPs,
            op: r
          });
          if (n === i.ILinkType.Segment) {
            var c = t.connPs.filter((function (e) {
                return e.type === i.IConnPointType.Anchor
              })),
              d = t.connPs.filter((function (e) {
                return e.type === i.IConnPointType.Split
              }));
            if ((0, s.isConnAllHV)(c, r.app.scale) && c) {
              var p = A.dir === i.DIRECTION.LEFT || A.dir === i.DIRECTION.RIGHT;
              d[0] = (0, a.default)((0, a.default)({}, d[0]), {
                x: p ? A.x / 2 + c[0].x / 2 : A.x,
                y: p ? A.y : A.y / 2 + c[0].y / 2
              });
              var h = d.length % 2 == 1 ? p : !p;
              return d[d.length - 1] = (0, a.default)((0, a.default)({}, d[d.length -
                1]), {
                x: h ? l.x / 2 + c[c.length - 1].x / 2 : l.x,
                y: h ? l.y : l.y / 2 + c[c.length - 1].y / 2
              }), o.default.tidyGraph({
                start: A,
                end: l,
                connPs: d,
                op: r,
                data: t
              })
            }
            return o.default.graphInit({
              start: A,
              end: l,
              op: r
            })
          }
        }
      },
      graphAftConnD: function (e) {
        var t = e.start,
          n = e.end,
          r = e.data,
          A = e.index,
          a = r.connPs;
        if (a[A].type === i.IConnPointType.Split) return {
          connPs: a,
          start: t,
          end: n
        };
        var o = a.slice(),
          s = a[A - 2] || t,
          u = a[A + 2] || n,
          l = {
            x: (s.x + u.x) / 2,
            y: (s.y + u.y) / 2,
            type: i.IConnPointType.Split
          };
        return o.splice(A - 1, 3, l), {
          connPs: o,
          start: t,
          end: n
        }
      },
      isConnValid: function (e) {
        return !0
      },
      graphAftConnM: function (e) {
        return (0, s.moveNonSegConnPoint)(e)
      },
      graphFromAnchors: function (e) {
        var t = e.start,
          n = e.end,
          A = e.anchors,
          a = e.op;
        if (0 === A.length) return p.graphInit(e);
        for (var o = [], s = [t].concat((0, r.default)(A), [n]), u = 1; u < s
          .length; u++) o.push({
          x: s[u].x / 2 + s[u - 1].x / 2,
          y: s[u].y / 2 + s[u - 1].y / 2,
          type: i.IConnPointType.Split
        }), u < s.length - 1 && o.push({
          x: s[u].x,
          y: s[u].y,
          type: i.IConnPointType.Anchor
        });
        return p.tidyGraph({
          start: t,
          end: n,
          op: a,
          connPs: o
        })
      },
      tidyGraph: function (e) {
        for (var t = e.start, n = e.end, r = e.connPs.filter((function (e) {
            return e.type === i.IConnPointType.Anchor
          })), A = [], o = 0; o < r.length; o++) {
          var s = r[o - 1] || t;
          A.push({
            x: s.x / 2 + r[o].x / 2,
            y: s.y / 2 + r[o].y / 2,
            type: i.IConnPointType.Split
          }), A.push(r[o]), o === r.length - 1 && A.push({
            x: n.x / 2 + r[o].x / 2,
            y: n.y / 2 + r[o].y / 2,
            type: i.IConnPointType.Split
          })
        }
        return 0 === A.length && A.push({
          x: t.x / 2 + n.x / 2,
          y: t.y / 2 + n.y / 2,
          type: i.IConnPointType.Split
        }), (0, a.default)((0, a.default)({}, e), {
          connPs: A
        })
      },
      graphAftEndM: function (e) {
        var t = e.sTo,
          n = e.eTo,
          r = e.connPs,
          A = e.op;
        if (r.filter((function (e) {
            return e.type === i.IConnPointType.Anchor
          })).length <= 0) return p.graphInit({
          start: t,
          end: n,
          op: A
        });
        var o = r.slice(),
          s = r.length > 1 ? r[1] : n,
          u = r.length > 1 ? r[r.length - 2] : t;
        return o[0] = (0, a.default)((0, a.default)({}, o[0]), {
          x: t.x / 2 + s.x / 2,
          y: t.y / 2 + s.y / 2
        }), o[o.length - 1] = (0, a.default)((0, a.default)({}, o[o.length - 1]), {
          x: u.x / 2 + n.x / 2,
          y: u.y / 2 + n.y / 2
        }), {
          start: t,
          end: n,
          connPs: o
        }
      },
      getLinkPosByPer: function (e) {
        return o.default.getLinkPosByPer(e)
      },
      getNearestLinkInfo: function (e) {
        return o.default.getNearestLinkInfo(e)
      },
      getEndAngle: function (e) {
        return o.default.getEndAngle(e)
      }
    };
    t.default = p
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = c(n(2)),
      A = c(n(0)),
      a = c(n(1)),
      i = c(n(3)),
      o = c(n(4)),
      s = c(n(9)),
      u = n(19),
      l = c(n(22));

    function c(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var d = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.points = [], e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "postMouseUp",
        value: function (e) {}
      }, {
        key: "postClick",
        value: function (e) {}
      }, {
        key: "postMouseMove",
        value: function (e, t) {}
      }, {
        key: "handleMouseDown",
        value: function (e, t, n) {
          t = Number(t.toFixed(1)), n = Number(n.toFixed(1)), this.dispatch(this
            .getSelectionSnapshot(!1, [])), this.points = [
            [t, n]
          ];
          var r = (0, u.findOpsUnderMouse)(this.app, this.app.scale, this
            .points, this.drawOpsOfPage, this.opsManager);
          r = this.opsManager.groupOp.getOpIdsInGroups(r), this.dispatch(this
            .getSelectionSnapshot(!0, r))
        }
      }, {
        key: "handleMouseMove",
        value: function (e, t, n) {
          t = Number(t.toFixed(1)), n = Number(n.toFixed(1)), this.isMouseDown ?
            this.points.push([t, n]) : this.points = [
              [t, n]
            ];
          var r = [];
          this.isMouseDown && (r = (0, u.findOpsUnderRect)(this.app, this
              .points, this.drawOpsOfPage, this.app.appConfig.selectMode), r =
            this.opsManager.groupOp.getOpIdsInGroups(r), this.dispatch(this
              .getSelectionSnapshot(!0, r))), this.postMouseMove(e, r)
        }
      }, {
        key: "handleMouseUp",
        value: function (e, t, n) {
          if (this.isMouseDown && this.isMouseMoved) {
            t = Number(t.toFixed(1)), n = Number(n.toFixed(1));
            var r = (Math.abs(this.points[this.points.length - 1][0] - this
                .points[0][0]) + Math.abs(this.points[this.points.length - 1][
                1
              ] - this.points[0][1])) * this.app.scale,
              A = 0 === this.points.length || this.points.length < 5 && r < 5 ?
              (0, u.findOpsUnderMouse)(this.app, this.app.scale, this.points,
                this.drawOpsOfPage, this.opsManager) : (0, u.findOpsUnderRect)(
                this.app, this.points, this.drawOpsOfPage, this.app.appConfig
                .selectMode);
            A = this.opsManager.groupOp.getOpIdsInGroups(A), this.postMouseUp(A)
          } else this.handleClick(e, t, n)
        }
      }, {
        key: "handleClick",
        value: function (e, t, n) {
          t = Number(t.toFixed(2)), n = Number(n.toFixed(2)), this.points = [
            [t, n]
          ];
          var r = (0, u.findOpsUnderMouse)(this.app, this.app.scale, this
            .points, this.drawOpsOfPage, this.opsManager);
          if (1 === r.length)
            if (-1 !== this.opsManager.selectedOpIds.indexOf(r[0]));
            else if (1 === this.opsManager.selectedOpIds.length) {
            this.opsManager.currPage.idToGroup.get(r[0]) !== this.opsManager
              .currPage.idToGroup.get(this.opsManager.selectedOpIds[0]) && (r =
                this.opsManager.groupOp.getOpIdsInGroups(r))
          } else r = this.opsManager.groupOp.getOpIdsInGroups(r);
          this.postClick(r)
        }
      }, {
        key: "getSelectionSnapshot",
        value: function () {
          var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[
              0],
            t = arguments[1],
            n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            r = this.opsManager.opMap.url;
          return t = t.filter((function (e) {
            return e !== r.currentUrlOpid
          })), {
            type: "select",
            sp: this.sp,
            ep: this.ep,
            inProgress: e,
            selectedOpIds: t.slice(),
            reuseOpType: n ? "select-hover" : "select",
            skipUndo: !0,
            color: l.default.penDef.stroke,
            nickname: this.app.nickname
          }
        }
      }, {
        key: "sp",
        get: function () {
          return this.points.length > 0 ? this.points[0] : void 0
        }
      }, {
        key: "ep",
        get: function () {
          return this.points.length > 0 ? this.points[this.points.length - 1] :
            void 0
        }
      }]), t
    }(s.default);
    t.default = d
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.getTransIconPos = t.ROTATE_DIST = t.ROTATE_TEST_RADIUS = void 0;
    var r = y(n(5)),
      A = y(n(2)),
      a = y(n(0)),
      i = y(n(1)),
      o = y(n(3)),
      s = y(n(4)),
      u = y(n(9)),
      l = n(46),
      c = y(n(60)),
      d = n(19),
      p = n(15),
      h = n(29),
      f = n(96),
      g = n(39);

    function y(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var v = t.ROTATE_TEST_RADIUS = 8,
      m = t.ROTATE_DIST = 30,
      w = function (e) {
        function t() {
          (0, a.default)(this, t);
          var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
            arguments));
          return e.type = "rotate", e.activate = !1, e.angle = 0, e.cx = 0, e.cy = 0, e
            .sx = 0, e.sy = 0, e.description = "旋转", e.activateOpId = "", e
            .snapsBeenRotate = {}, e
        }
        return (0, s.default)(t, e), (0, i.default)(t, [{
          key: "registerHooks",
          value: function () {
            this.opsManager.hooks.mousemove.tap("MouseMovePlugin", this
                .handleMouseMove.bind(this)), this.opsManager.hooks.mousedown.tap(
                "MouseMovePlugin", this.handleMouseDown.bind(this)), this
              .opsManager.hooks.mouseup.tap("MouseMovePlugin", this.handleMouseUp
                .bind(this))
          }
        }, {
          key: "eventsToListen",
          value: function () {
            return {
              "rotate:ele": {
                value: this.rotateEle.bind(this),
                information: {
                  args: "id: string, angle: number",
                  message: ""
                }
              }
            }
          }
        }, {
          key: "shouldRotateTest",
          value: function (e, t) {
            var n = this.opsManager.selectedOpIds;
            if (1 !== n.length) return !1;
            var r = this.opsManager.drawOpsOfPage[n[0]];
            return -1 === l.nonRotateTypes.indexOf(r.data.type) && this
              .mousePosTest(e, t)
          }
        }, {
          key: "handleMouseDown",
          value: function (e, t, n) {
            if (this.opsManager.currOp instanceof c.default && this
              .shouldRotateTest(t, n)) {
              if (document.body.style.cursor = "pointer", !this.activate) {
                this.beginBatch(), this.activate = !0, this.activateOpId = this
                  .opsManager.currPage.getNextOpId(!0), this.opId = this
                  .opsManager.selectedOpIds[0], this.snapsBeenRotate = (0, g
                    .deepCopySnapBeforeMove)([this.opId], this.drawOpsOfPage),
                  this.angle = 0;
                var r = this.opsManager.drawOpsOfPage[this.opId],
                  A = (0, p.getTransformedBoundary)(this.app.scale, r.data);
                this.cx = A.sx + A.w / 2, this.cy = A.sy + A.h / 2, this.sx = t,
                  this.sy = n
              }
              return !0
            }
            this.activate = !1
          }
        }, {
          key: "handleMouseMove",
          value: function (e, t, n, r, A) {
            var a, i;
            if (this.opsManager.currOp instanceof c.default) {
              if (this.activate) {
                if (this.lastAuxiliaryPos && Math.abs(r - this.lastAuxiliaryPos[
                    0]) < 5 && Math.abs(A - this.lastAuxiliaryPos[1]) < 5)
                return !0;
                if (this.angle = (0, d.getVecAngle)([this.sx, this.sy], [t, n], [
                    this.cx, this.cy
                  ]), this.opId) {
                  var o = void 0,
                    s = (null === (i = null === (a = this.snapsBeenRotate[this
                        .opId]) || void 0 === a ? void 0 : a.data) || void 0 ===
                      i ? void 0 : i.rAngle) || 0,
                    u = s + this.angle;
                  Math.abs(u % (Math.PI / 2)) < .03 || Math.abs(Math.PI / 2 - u %
                    (Math.PI / 2)) < .03 ? (u = Math.round(u / (Math.PI / 2)) *
                    Math.PI / 2, this.angle = u - s, o = this.getSnapshot(!0,
                      this.opId, this.angle, this.cx, this.cy), this.opsManager
                    .auxiliaryOp.setRotateLine({
                      opsBeforeChange: this.snapsBeenRotate,
                      snap: o,
                      id: this.opId
                    }), this.lastAuxiliaryPos = [r, A]) : (this.opsManager
                    .auxiliaryOp.clean(), o = this.getSnapshot(!0, this.opId,
                      this.angle, this.cx, this.cy), this.lastAuxiliaryPos =
                    void 0), this.opsManager.graphOp.handleElePosChange(this
                    .snapsBeenRotate, o, this.activateOpId, this.activateOpId +
                    "_rotate")
                }
                return !0
              }
              if (this.shouldRotateTest(t, n)) return document.body.style.cursor =
                "pointer", !0;
              document.body.style.cursor = "default"
            }
          }
        }, {
          key: "handleMouseUp",
          value: function (e, t, n) {
            if (this.lastAuxiliaryPos = void 0, this.opsManager.auxiliaryOp
              .clean(), this.activate) return this.activate = !1, this.opId &&
              this.opsManager.graphOp.handleElePosChange(this.snapsBeenRotate,
                this.getSnapshot(!1, this.opId, this.angle, this.cx, this.cy),
                this.activateOpId, this.activateOpId + "_rotate"), !0
          }
        }, {
          key: "mousePosTest",
          value: function (e, t) {
            var n, r = this.opsManager.opMap.select;
            if (null === (n = r.selectInfo) || void 0 === n ? void 0 : n
              .rotateIcon) {
              var A = r.selectInfo.rotateIcon,
                a = A.x - e,
                i = A.y - t,
                o = v;
              return -1 !== f.TouchPlatformArray.indexOf(this.app.platform) && (
                o *= 2.2), Math.sqrt(a * a + i * i) * this.app.scale < o
            }
            return !1
          }
        }, {
          key: "rotateEle",
          value: function (e, t) {
            var n = this.opsManager.drawOpsOfPage[e];
            if (!n) return this.logger.error(
              "[ws] RotateOp.rotateEle: no visible element has id: " + e);
            var r = (0, p.getTransformedBoundary)(this.app.scale, n.data),
              A = r.sx + r.w / 2,
              a = r.sy + r.h / 2;
            this.dispatch({
              type: "rotate",
              inProgress: !1,
              rotate: {
                angle: t,
                x: A,
                y: a
              },
              dependOn: [e]
            })
          }
        }, {
          key: "getSnapshot",
          value: function (e, t, n, r, A) {
            return {
              type: "rotate",
              inProgress: e,
              rotate: {
                angle: n,
                x: r,
                y: A
              },
              dependOn: [t]
            }
          }
        }, {
          key: "transformOp",
          value: function (e, t) {
            if ("link" === e.data.type) return e;
            var n = ((e.data.rAngle || 0) + t.rotate.angle) / (2 * Math.PI);
            return n = (n -= Math.floor(n)) * Math.PI * 2, (0, r.default)({}, e, {
              data: (0, r.default)((0, r.default)({}, e.data), {
                mat: (0, h.rotateMat)(e.data.mat, t.rotate),
                rAngle: n
              })
            })
          }
        }]), t
      }(u.default);
    t.getTransIconPos = function (e, t, n) {
      var r = e.data.boundary,
        A = ("number" == typeof e.data.xFactor && e.data.xFactor) < 0 ? -1 : 1,
        a = ("number" == typeof e.data.yFactor && e.data.yFactor) < 0 ? -1 : 1,
        i = m / n / Math.abs(e.data.xFactor || 1),
        o = m / n / Math.abs(e.data.yFactor || 1),
        s = (0, h.getTransPoint)([r.sx - i, r.sy + r.h + o], e.data.mat),
        u = e.data.rAngle || 0;
      return (0, p.getPointAftPad)(s, t, u, 3, A, a)
    };
    t.default = w
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.updateEditor = t.removeEditor = t.setupTextEditor = void 0;
    var r, A = n(5),
      a = (r = A) && r.__esModule ? r : {
        default: r
      },
      i = n(137),
      o = n(97);
    var s = 1,
      u = (t.setupTextEditor = function (e, t, n, r) {
        var A = document.createElement("div"),
          a = document.createElement("div"),
          i = document.createElement("div");
        a.contentEditable = "true", a.dataset.editorId = "text-" + (s++).toString(), A
          .appendChild(a), A.appendChild(i);
        var l = 0;
        A.ontouchstart = function (e) {
          l = Date.now(), e.stopPropagation()
        }, A.onmousedown = function (e) {
          l = Date.now(), e.stopPropagation()
        }, A.onmousemove = function (e) {
          document.body.style.cursor = "auto", e.stopPropagation()
        };
        var c = !1;
        return a.oninput = function (e) {
            c = !0, (0, o.inputHandler)(e, r.onchange, t.maxTxtLen, !0)
          }, a.onblur = function (e) {
            if (Date.now() - l < 100) e.target.focus();
            else {
              var t = (0, o.htmlToText)(e.target);
              r.onblur("\n" === t ? "" : t, c), r.container.removeChild(A)
            }
          }, a.onfocus = function (e) {
            (0, o.setTextRange)(a, "end")
          }, a.onkeydown = function (e) {
            return (0, o.preventOverLen)(e, t.maxTxtLen)
          }, a.onpaste = function (e) {
            return (0, o.preventOverLen)(e, t.maxTxtLen)
          }, a.addEventListener("beforeinput", o.beforeInputHandler), a
          .addEventListener("compositionstart", o.beforeInputHandler), a
          .addEventListener("compositionend", (function (e) {
            (0, o.inputHandler)(e, r.onchange, t.maxTxtLen, !0)
          })), (null == t ? void 0 : t.text) && (a.innerText = t.text), u(n, {
            container: A,
            core: a,
            placeholder: i
          }, t), r.container.appendChild(A), a.focus(), {
            container: A,
            core: a,
            placeholder: i
          }
      }, t.removeEditor = function (e) {
        var t;
        e.core.onblur = null, null === (t = e.container.parentNode) || void 0 === t || t
          .removeChild(e.container)
      }, t.updateEditor = function (e, t, n, r) {
        var A = (null == n ? void 0 : n.fontSize) || 32,
          s = 1.25 * A,
          u = e.width + "px" || !1;
        (0, o.setEditorTxt)(t.core, (null == n ? void 0 : n.text) || ""), (0, a.default)
        (t.container.style, {
          position: "absolute",
          left: e.sx + "px",
          top: e.sy + "px",
          width: u,
          height: "fit-content",
          minHeight: s + "px",
          minWidth: i.MIN_TXT_W + "px",
          transform: "rotate(" + 180 * e.angle / Math.PI + "deg)",
          transformOrigin: "0 0",
          padding: "0 2px",
          overflow: "hidden",
          textAlign: (null == n ? void 0 : n.textAlign) || "left",
          outline: "1px dashed black",
          pointerEvents: "auto"
        });
        var l = e.width ? "pre-wrap" : "pre";
        (0, a.default)(t.core.style, (0, a.default)({
          fontSize: A + "px",
          fontFamily: null == n ? void 0 : n.fontFamily,
          fontWeight: "normal",
          lineHeight: s + "px",
          display: "inline",
          outline: "none",
          "-webkit-font-smoothing": "antialiased",
          userSelect: "text",
          webkitUserSelect: "text",
          color: (null == n ? void 0 : n.stroke) || "rgb(0,0,0)",
          background: "transparent",
          whiteSpace: l
        }, (null == n ? void 0 : n.fill) ? {
          backgroundColor: null == n ? void 0 : n.fill
        } : {})), t.placeholder && (t.placeholder.innerText = (null == n ? void 0 : n
          .text) ? "" : r || "", (0, a.default)(t.placeholder.style, {
          fontSize: A + "px",
          fontFamily: null == n ? void 0 : n.fontFamily,
          fontWeight: "normal",
          lineHeight: s + "px",
          background: "transparent",
          outline: "none",
          userSelect: "text",
          webkitUserSelect: "text",
          whiteSpace: l,
          opacity: .3,
          display: !(null == n ? void 0 : n.text) && r ? "inline" : "none",
          wordBreak: "break-all"
        }))
      })
  }, function (e, t) {
    var n;
    n = function () {
      return this
    }();
    try {
      n = n || new Function("return this")()
    } catch (e) {
      "object" == typeof window && (n = window)
    }
    e.exports = n
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = l(n(2)),
      A = l(n(0)),
      a = l(n(1)),
      i = l(n(3)),
      o = l(n(4)),
      s = l(n(74)),
      u = n(29);

    function l(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var c = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "rect", e.shouldSaniteEp = !0, e.description =
          "绘制矩形。\n首先使用op:rect:activate设置画布为矩形模式。通过op:rect:lineWidth, op:rect:stroke, op:rect:fill设置矩形的宽度和颜色。然后画布会监听鼠标动作，生成矩形。具体用法如下：",
          e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "getSnapshot",
        value: function (e) {
          return this.getTwoPointShapeCommonProperty({
            inProgress: e
          })
        }
      }, {
        key: "draw",
        value: function (e, t) {
          var n = e.data,
            r = (0, u.getTransPoint)(n.sp, n.mat),
            A = (0, u.getTransPoint)([n.ep[0], n.sp[1]], n.mat),
            a = (0, u.getTransPoint)(n.ep, n.mat),
            i = (0, u.getTransPoint)([n.sp[0], n.ep[1]], n.mat);
          t.beginPath(), t.moveTo(r[0], r[1]), t.lineTo(A[0], A[1]), t.lineTo(a[
            0], a[1]), t.lineTo(i[0], i[1]), t.closePath(), this.strokeOrFill(
            t, {
              stroke: n.stroke,
              fill: n.fill,
              lineWidth: n.lineWidth,
              opacity: n.opacity,
              isShape: !0
            })
        }
      }]), t
    }(s.default);
    t.default = c
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = l(n(2)),
      A = l(n(0)),
      a = l(n(1)),
      i = l(n(3)),
      o = l(n(4)),
      s = l(n(74)),
      u = n(29);

    function l(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var c = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "ellipse", e.shouldSaniteEp = !0, e.description = "绘制椭圆形", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "getSnapshot",
        value: function (e) {
          return this.getTwoPointShapeCommonProperty({
            inProgress: e
          })
        }
      }, {
        key: "draw",
        value: function (e, t) {
          var n = e.data;
          this._draw(t, n), this.strokeOrFill(t, {
            stroke: n.stroke,
            fill: n.fill,
            lineWidth: n.lineWidth,
            opacity: n.opacity,
            isShape: !0
          })
        }
      }, {
        key: "_draw",
        value: function (e, t) {
          var n = [
              [.5, 0],
              [.7761424, 0],
              [1, .2238576],
              [1, .5]
            ],
            r = [
              [1, .7761424],
              [.7761424, 1],
              [.5, 1]
            ],
            A = [void 0, [.2238576, 1],
              [0, .7761424],
              [0, .5]
            ],
            a = [void 0, [0, .2238576],
              [.2238576, 0],
              [.5, 0]
            ],
            i = t.ep[0] - t.sp[0],
            o = t.ep[1] - t.sp[1],
            s = function (e) {
              if (e) {
                var n = [t.sp[0] + i * e[0], t.sp[1] + o * e[1]];
                return (0, u.getTransPoint)(n, t.mat)
              }
              return e
            },
            l = n.map(s).filter((function (e) {
              return e
            })),
            c = r.map(s).filter((function (e) {
              return e
            })),
            d = A.map(s).filter((function (e) {
              return e
            })),
            p = a.map(s).filter((function (e) {
              return e
            }));
          e.beginPath(), e.moveTo(l[0][0], l[0][1]), e.bezierCurveTo(l[1][0], l[
              1][1], l[2][0], l[2][1], l[3][0], l[3][1]), e.bezierCurveTo(c[0][
              0], c[0][1], c[1][0], c[1][1], c[2][0], c[2][1]), e.bezierCurveTo(
              d[0][0], d[0][1], d[1][0], d[1][1], d[2][0], d[2][1]), e
            .bezierCurveTo(p[0][0], p[0][1], p[1][0], p[1][1], p[2][0], p[2][
            1]), e.closePath()
        }
      }, {
        key: "ifMouseOnOp",
        value: function (e, t, n) {
          var r = this.app.container.ctx,
            A = e.data;
          return this._draw(r, A), r.fillStyle = "rgba(0,0,0,0)", r.fill(), r
            .isPointInPath(t, n)
        }
      }]), t
    }(s.default);
    t.default = c
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMTIiIHk9IjEuNDQyMjkiIHdpZHRoPSI4LjM4OTY3IiBoZWlnaHQ9IjE0LjY4MTkiIHJ4PSIxIiB0cmFuc2Zvcm09InJvdGF0ZSg0NSAxMiAxLjQ0MjI5KSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjIiLz4KPHBhdGggZD0iTTQuNTg0NSA4Ljg1Nzc5TDEwLjUxNjkgMTQuNzkwMiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjIiLz4KPHBhdGggZD0iTTQuMjI0NjQgMTcuNjgxOEgxNS43NjA0IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+Cjwvc3ZnPgo="
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.MediaFitStrategy = t.DEFAULT_FONTSIZE = void 0;
    var r = o(n(5)),
      A = o(n(20)),
      a = o(n(21)),
      i = o(n(0));

    function o(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var s = (0, n(53).deviceOS)(),
      u = (t.DEFAULT_FONTSIZE = 32, t.MediaFitStrategy = void 0);
    ! function (e) {
      e[e.None = 0] = "None", e[e.Contain = 1] = "Contain", e[e.FitPercentange = 2] =
        "FitPercentange"
    }(u || (t.MediaFitStrategy = u = {}));
    t.default = function e(t) {
      var n = this;
      (0, i.default)(this, e), this.setAppConfig = function (e) {
        var t, i, o, s, u, l;
        if (n.app.logger.log("[wb]setAppConfig", (0, a.default)(e)), 0 === (0, A
            .default)(e).length) n.app.logger.error("[wb]",
          "drawPlugin.setAppConfig: argument is empty");
        else
          for (var c in e) "canvasBgColor" === c ? (n.config.canvasBgColor = e
              .canvasBgColor, null === (t = n.app.container) || void 0 === t || t
              .setBackgroundColor(), null === (i = n.app.previewFactory) || void 0 ===
              i || i.setBackgroundColor()) : "canvas_bg_color" === c ? (n.config
              .canvasBgColor = e.canvas_bg_color, null === (o = n.app.container) ||
              void 0 === o || o.setBackgroundColor(), null === (s = n.app
                .previewFactory) || void 0 === s || s.setBackgroundColor()) :
            "previewMode" === c ? (n.config.previewMode = e.previewMode, null === (u =
              n.app.previewFactory) || void 0 === u || u.refreshPreviewsOfCurrBoard(
              !0)) : "defaultBoardName" === c ? null === (l = n.app.room) ||
            void 0 === l || l.updateDefaultBoardName(e.defaultBoardName) :
            "workerTimerInterval" === c ? (n.config.workerTimerInterval = e
              .workerTimerInterval, n.app.updateWorker()) : n.config.hasOwnProperty(
            c) ? n.config[c] = e[c] : n.app.logger.error("[wb]",
              "drawPlugin.setAppConfig: argument key: " + c +
              " is not valid, available keys includes: " + (0, A.default)(n.config));
        (0, r.default)(n.config, e), n.app.emit("event:appState:change", "config", n
          .config)
      }, this.getAppConfig = function () {
        return n.config
      }, this.app = t, this.config = (0, r.default)((0, r.default)((0, r.default)({
        canvasBgColor: "#f5f5f7",
        showCursorNickname: !1,
        showSelectNickname: !1,
        showLaserNickname: !1,
        cameraTransformEnabled: !0,
        allowReplaceActiveBroadcaster: !0,
        zoomSensitivity: .91,
        staticDocType: "template",
        previewMode: "fitDoc",
        previewCustomBg: !1,
        disableAutoResize: !0,
        drawMergeInterval: -1,
        drawMergeDist: 200,
        drawMergeDebug: !1,
        selectMode: "intersect",
        resRetryInterval: 5e3,
        resRetryCors: !1,
        presetId: -1,
        cacheUploadDocs: !0,
        uniqueDocName: !1
      }, {
        videoFitStrategy: s.isMobile ? {
          type: u.FitPercentange,
          value: 1
        } : {
          type: u.FitPercentange,
          value: .5
        }
      }), {
        audioFitStrategy: s.isMobile ? {
          type: u.FitPercentange,
          value: 1
        } : {
          type: u.FitPercentange,
          value: .5
        }
      }), {
        resMaxRetry: 2,
        nosAntiLeech: !1,
        nosAntiLeechExpire: 7200,
        isDocZoomLevel1: !0,
        cameraMaxZoom: 4,
        cameraMinZoom: .25,
        defaultBoardName: "whiteboard",
        penPrecision: 1,
        showImportProgress: !0,
        workerTimerInterval: 200,
        urlRefreshTimerInterval: 2e3,
        deleteBoardBehavior: "keepBoard"
      })
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = i(n(5)),
      A = i(n(0)),
      a = i(n(1));

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var o = function () {
      function e(t) {
        var n = this,
          a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
          i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
            emitEvent: !0
          };
        (0, A.default)(this, e), this.isDragging = !1, this.lastPercent = 0, this
          .onMouseDown = function (e) {
            n.app.editable && (e.stopPropagation(), e.preventDefault(), n.isDragging = !
              0, n.lastPercent = -1, n.onMouseMove(e))
          }, this.onMouseMove = function (e) {
            if (n.app.editable && n.isDragging) {
              e.stopPropagation(), e.preventDefault();
              var t = n.getPercent(e);
              n.lastPercent = t, n.seekListener && n.seekListener(t, !0), n
                .updateProgress(t, !0)
            }
          }, this.onMouseUp = function (e) {
            if (n.app.editable) {
              if (n.isDragging) {
                e.stopPropagation(), e.preventDefault();
                var t = n.lastPercent;
                n.updateProgress(t, !0), n.seekListener && n.seekListener(t, !1)
              }
              n.isDragging = !1
            }
          }, this.getPercent = function (e) {
            var t = 0,
              r = n.widget.getBoundingClientRect().left;
            t = e.type.search(/mouse|click/) > -1 ? e.clientX - r : e.touches[0]
              .clientX - r;
            var A = n.widget.offsetWidth;
            return t < 0 && (t = 0), t > A && (t = A), t / A
          }, this.app = t;
        var o = document.createElement("div");
        (0, r.default)(o.style, {
          flex: "auto",
          height: "4px",
          position: "relative",
          pointerEvents: i.emitEvent ? "auto" : "none",
          cursor: i.emitEvent ? "pointer" : "auto"
        });
        var s = document.createElement("div"),
          u = document.createElement("div");
        o.appendChild(s), o.appendChild(u);
        var l = {
          height: "100%",
          position: "absolute",
          top: "50%",
          transform: "translateY(-50%)"
        };
        (0, r.default)(s.style, (0, r.default)({
          width: "100%",
          backgroundColor: "rgb(0,0,0)"
        }, l)), (0, r.default)(u.style, (0, r.default)({
          width: 100 * a + "%",
          backgroundColor: "rgb(255,255,255)"
        }, l)), this.widget = o, this.frontBar = u, i.emitEvent && this.bindEvents()
      }
      return (0, a.default)(e, [{
        key: "addSeekListener",
        value: function (e) {
          this.seekListener = e
        }
      }, {
        key: "bindEvents",
        value: function () {
          this.widget.addEventListener("mousedown", this.onMouseDown), this
            .widget.addEventListener("touchstart", this.onMouseDown), window
            .document.addEventListener("mousemove", this.onMouseMove), window
            .document.addEventListener("touchmove", this.onMouseMove), window
            .document.addEventListener("mouseup", this.onMouseUp, !0), window
            .document.addEventListener("touchend", this.onMouseUp, !0)
        }
      }, {
        key: "destroy",
        value: function () {
          this.widget.removeEventListener("mousedown", this.onMouseDown), this
            .widget.removeEventListener("touchstart", this.onMouseDown), window
            .document.removeEventListener("mousemove", this.onMouseMove), window
            .document.removeEventListener("touchmove", this.onMouseMove), window
            .document.removeEventListener("mouseup", this.onMouseUp, !0), window
            .document.removeEventListener("touchend", this.onMouseUp, !0), this
            .seekListener = void 0
        }
      }, {
        key: "updateProgress",
        value: function (e) {
          var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[
            1];
          this.isDragging && !t || (this.lastPercent = e, this.frontBar.style
            .width = 100 * e + "%")
        }
      }]), e
    }();
    t.default = o
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = w(n(5)),
      A = w(n(25)),
      a = w(n(2)),
      i = w(n(0)),
      o = w(n(1)),
      s = w(n(3)),
      u = w(n(4)),
      l = w(n(11)),
      c = w(n(333)),
      d = w(n(239)),
      p = w(n(334)),
      h = w(n(335)),
      f = w(n(336));
    n(337);
    var g = n(240),
      y = n(102),
      v = n(53),
      m = n(15);

    function w(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var B = function (e, t, n, r) {
        return new(n || (n = l.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      I = function (e) {
        return new l.default((function (t) {
          return setTimeout(t, e)
        }))
      },
      M = (0, v.isIosDevice)(),
      C = !1;
    document.addEventListener("click", (function () {
      C = !0
    }));
    var b = void 0,
      x = function (e) {
        function t(e, n, r) {
          (0, i.default)(this, t);
          var o = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).call(this, e, n,
            r));
          return o.count = 0, o.lastTimeCalibrateCheck = null, o.isWaiting = !0, o
            .hasCalibrate = !1, o.shouldPlay = !1, o.destroyed = !1, o.pageVisible = !0, o
            .onPageInVisible = function () {
              o.pageVisible = !1, o.media && o.media.pause()
            }, o.onPageVisible = function () {
              o.pageVisible = !0, o.boardName === o.app.room.currIndex && o.pageName === o
                .app.room.currBoard.currIndex.toString() && o.setNativeInitState()
            }, o.onMediaPause = function () {
              o.data.play && setTimeout((function () {
                var e, t;
                if (o.media) {
                  var n = null === (e = o.media.parentNode) || void 0 === e ?
                    void 0 : e.parentNode,
                    r = o.boardName === o.app.room.currBoard.boardName && o
                    .pageName === o.app.room.currBoard.currPage.pageIndex,
                    A = o.media.duration - o.media.currentTime > 1,
                    a = null === (t = o.progressController) || void 0 === t ?
                    void 0 : t.isDragging;
                  o.data.play && !o.destroyed && n && r && A && !a && o
                    .pageVisible && (o.setNativePlayState(o.data.play), o
                      .setNativeCurrTime(o.data))
                }
              }), 100)
            }, o.onMediaWait = function () {
              o.isWaiting = !0
            }, o.onMediaCanPlay = function () {
              clearTimeout(o.canPlayTimer), o.canPlayTimer = setTimeout((function () {
                if (o.isWaiting && o.media) {
                  o.isWaiting = !1;
                  var e = o.getCurrTimeFromData(o.data),
                    t = Math.abs(e - o.media.currentTime);
                  (t > 1.5 || !o.hasCalibrate && t > .2) && (o.hasCalibrate = !0, o
                    .setNativeCurrTime(o.data))
                }
              }), 30)
            }, o.onDurationChange = function () {
              o.media && (o.duration = o.media.duration, o.updateTimeLabel(o.data.seek))
            }, o.onTimeUpdate = function () {
              var e;
              if (o.media) {
                var t = o.media.currentTime;
                if (o.duration && o.duration > 2 && o.duration - t < .23 && (t = o
                    .duration), o.updateTimeLabel(t), "number" == typeof o.duration && !
                  isNaN(o.duration)) {
                  var n = t <= .1 ? 0 : t;
                  null === (e = o.progressController) || void 0 === e || e.updateProgress(
                    n / o.duration)
                }
                var r = o.getNtpTime();
                if (null === o.lastTimeCalibrateCheck || r - o.lastTimeCalibrateCheck >
                  5e3) {
                  var A = o.getCurrTimeFromData(o.data);
                  Math.abs(A - o.media.currentTime) > 1.2 && o.setNativeCurrTime(o.data),
                    o.lastTimeCalibrateCheck = r
                }
              }
            }, o.onMediaEnd = function () {
              if (o.allowControl() && !o.isInReplay() && o.media && o.duration) {
                var e = o.media.currentTime - o.duration;
                o.count < 100 && (o.count++, console.warn("media end", "video time", o
                    .media.currentTime, "duration", o.duration)), Math.abs(e) < 1 && o
                  .putAttributes({
                    ended: !0,
                    seek: "number" == typeof o.duration ? o.duration : 0,
                    play: !1
                  })
              }
            }, o.onPlayClick = function (e) {
              o.app.editable && (e.stopPropagation(), e.preventDefault(), o.media && (o
                .data.ended ? o.onNativePlayChange(!0, 0) : o.data.play ? o
                .onNativePlayChange(!1, o.media.currentTime) : o.onNativePlayChange(!
                  0, o.data.seek || 0)))
            }, o.onDeleteClick = function (e) {
              e.stopPropagation(), e.preventDefault(), o.app.deleteElementByOpIds([o
                .opId])
            }, o.onFullClick = function () {
              try {
                var e = o.app.room.boards[o.boardName].pages[o.pageName].drawOpQueue[o
                    .opId],
                  t = (0, m.getTransformedBoundary)(o.app.scale, e.data);
                o.app.setCameraBound({
                  centerX: t.sx + t.w / 2,
                  centerY: t.sy + t.h / 2,
                  width: t.w,
                  height: t.h
                }, !0)
              } catch (e) {
                o.app.logger.error("[wb] video maximum error:", e)
              }
            }, o.onSelfMuteClick = function () {
              o.selfMute = !o.selfMute, b = o.selfMute, o.hideC2p(), o.updateSelfMute()
            }, o.onC2pClick = function () {
              o.hideC2p(), o.updateSelfMute()
            }, o.eventStopPropagation = function (e) {
              e.stopPropagation()
            }, o.setNativeInitState = function () {
              return B(o, void 0, void 0, A.default.mark((function e() {
                return A.default.wrap((function (e) {
                  for (;;) switch (e.prev = e.next) {
                    case 0:
                      if (this.data.hasOwnProperty("play") && this
                        .setNativePlayState(this.data.play), !this.data
                        .hasOwnProperty("seek")) {
                        e.next = 6;
                        break
                      }
                      if (!M) {
                        e.next = 5;
                        break
                      }
                      return e.next = 5, I(300);
                    case 5:
                      this.setNativeCurrTime(this.data);
                    case 6:
                    case "end":
                      return e.stop()
                  }
                }), e, this)
              })))
            }, o.onNativePlayChange = function (e, t) {
              o.allowControl() && !o.isInReplay() && o.putAttributes({
                play: e,
                seek: t,
                seekTime: o.getNtpTime() / 1e3,
                ended: !1
              })
            }, o.onNativeSeek = function (e) {
              o.allowControl() && !o.isInReplay() && o.putAttributes({
                seek: e,
                seekTime: o.getNtpTime() / 1e3
              })
            }, o.setNativePlayState = function (e) {
              return B(o, void 0, void 0, A.default.mark((function t() {
                var n;
                return A.default.wrap((function (t) {
                  for (;;) switch (t.prev = t.next) {
                    case 0:
                      if (n = this.media, this.updatePlayIcon("boolean" ==
                          typeof e && e), this.shouldPlay = e || !1, !e ||
                        !n) {
                        t.next = 27;
                        break
                      }
                      return this.hideC2p(), t.prev = 5, t.next = 8, n
                        .play();
                    case 8:
                      t.next = 25;
                      break;
                    case 10:
                      if (t.prev = 10, t.t0 = t.catch(5), !t.t0 || "" + t
                        .t0.name != "NotAllowedError" && "" + t.t0.name !=
                        "AbortError") {
                        t.next = 25;
                        break
                      }
                      if (!this.shouldPlay) {
                        t.next = 25;
                        break
                      }
                      return this.selfMute = !0, b = !0, this
                        .updateSelfMute(!1), t.prev = 17, t.next = 20, n
                        .play();
                    case 20:
                      t.next = 25;
                      break;
                    case 22:
                      t.prev = 22, t.t1 = t.catch(17), this.showC2p();
                    case 25:
                      t.next = 30;
                      break;
                    case 27:
                      if (!n) {
                        t.next = 30;
                        break
                      }
                      return t.next = 30, n.pause();
                    case 30:
                    case "end":
                      return t.stop()
                  }
                }), t, this, [
                  [5, 10],
                  [17, 22]
                ])
              })))
            }, o.getTime = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                n = function (e) {
                  return e < 10 ? "0" + e : "" + e
                },
                r = (e = e > 1 ? Math.round(e) : 0) % 60,
                A = (e = ~~((e -= r) / 60)) % 60,
                a = ~~(e / 60);
              return 0 === a && !1 === t ? n(A) + ":" + n(r) : a + ":" + n(A) + ":" + n(r)
            }, o.selfMute = void 0 === b ? !M && !C : b, b = o.selfMute, o
        }
        return (0, u.default)(t, e), (0, o.default)(t, [{
          key: "getNtpTime",
          value: function () {
            return Date.now() + this.ntpTimeDiff
          }
        }, {
          key: "mountElement",
          value: function (e, t) {
            this.selfMute = b;
            var n = this.app.resourceCache.getMediaResource(t).cloneNode(!0);
            e.appendChild(this.createHeader()), e.appendChild(n), e.className =
              "neteaseyunxin-wb-media-container " + this.type, n.preload =
              "metadata", (0, r.default)(n.style, {
                webkitUserSelect: "none",
                userSelect: "none",
                width: "100%",
                height: "100%",
                pointerEvents: "none"
              }), n.controls = !1, n.playsInline = !0, n
              .disablePictureInPicture = !0, n.muted = this.selfMute, this
              .duration = n.duration, this.media = n, e.appendChild(this
                .createControllor()), this.mediaDiv = e, this.addMediaListener(),
              this.setNativeInitState(), "function" == typeof this
              .unregisterVisibleChangeListener && this
              .unregisterVisibleChangeListener(), this
              .unregisterVisibleChangeListener = (0, y
                .registerVisibleChangeHandler)(this.onPageVisible, this
                .onPageInVisible)
          }
        }, {
          key: "onPrePageChange",
          value: function (e) {
            this.media && e === this.app.account && this.data.play && this
              .putAttributes({
                play: !1,
                seek: this.media.currentTime,
                seekTime: this.getNtpTime() / 1e3,
                ended: !1
              })
          }
        }, {
          key: "onPlaySpeedChange",
          value: function (e) {
            this.media && (this.media.playbackRate = e)
          }
        }, {
          key: "onAttributeUpdated",
          value: function (e) {
            return B(this, void 0, void 0, A.default.mark((function t() {
              var n;
              return A.default.wrap((function (t) {
                for (;;) switch (t.prev = t.next) {
                  case 0:
                    if (e.play === this.data.play && !this
                      .isInReplay()) {
                      t.next = 5;
                      break
                    }
                    return n = e.play, this.isInReplay() && (n =
                        n && "play" === this.replayMode()), t
                      .next = 5, this.setNativePlayState(n);
                  case 5:
                    (e.seek !== this.data.seek || e.seekTime !==
                      this.data.seekTime || this.app
                      .isRecordPlayer) && this.setNativeCurrTime(
                      e);
                  case 6:
                  case "end":
                    return t.stop()
                }
              }), t, this)
            })))
          }
        }, {
          key: "addMediaListener",
          value: function () {
            var e = this;
            this.media && (this.media.addEventListener("durationchange", this
                .onDurationChange), this.media.addEventListener("timeupdate",
                this.onTimeUpdate), this.media.addEventListener("ended", this
                .onMediaEnd), this.media.addEventListener("waiting", this
                .onMediaWait), this.media.addEventListener("canplay", this
                .onMediaCanPlay), this.media.addEventListener("pause", this
                .onMediaPause)), this.allowControl() && !this.isInReplay() && (
                this.playWidget && this.playWidget.addEventListener("click", this
                  .onPlayClick), this.progressController && this
                .progressController.addSeekListener((function (t, n) {
                  if ("number" == typeof e.duration && !isNaN(e.duration)) {
                    var r = t * e.duration;
                    n && e.media ? (e.media.pause(), e.media.currentTime =
                      r) : e.media && (e.setNativePlayState(e.data.play), e
                        .onNativeSeek(r))
                  }
                }))), this.deleteIcon && (this.deleteIcon.addEventListener(
                "click", this.onDeleteClick), this.deleteIcon.addEventListener(
                "click", this.eventStopPropagation)), this.playWidget && this
              .playWidget.addEventListener("click", this.eventStopPropagation),
              this.selfMuteIcon && (this.selfMuteIcon.addEventListener("click",
                this.onSelfMuteClick), this.selfMuteIcon.addEventListener(
                "click", this.eventStopPropagation)), this.fullIcon && (this
                .fullIcon.addEventListener("click", this.onFullClick), this
                .fullIcon.addEventListener("click", this.eventStopPropagation)),
              this.c2pWidget && (this.c2pWidget.addEventListener("click", this
                .onC2pClick), this.c2pWidget.addEventListener("click", this
                .eventStopPropagation))
          }
        }, {
          key: "onPluginWillDestroy",
          value: function () {
            this.destroyed = !0, this.media && (this.media.removeEventListener(
                  "durationchange", this.onDurationChange), this.media
                .removeEventListener("timeupdate", this.onTimeUpdate), this.media
                .removeEventListener("ended", this.onMediaEnd), this.media
                .removeEventListener("waiting", this.onMediaWait), this.media
                .removeEventListener("canplay", this.onMediaCanPlay), this.media
                .removeEventListener("pause", this.onMediaPause), this.media
                .pause()), "function" == typeof this
              .unregisterVisibleChangeListener && this
              .unregisterVisibleChangeListener(), this.allowControl() && !this
              .isInReplay() && (this.playWidget && this.playWidget
                .removeEventListener("click", this.onPlayClick), this
                .progressController && this.progressController.destroy()), this
              .deleteIcon && this.deleteIcon.removeEventListener("click", this
                .onDeleteClick), this.selfMuteIcon && this.selfMuteIcon
              .removeEventListener("click", this.onSelfMuteClick), this
              .fullIcon && this.fullIcon.removeEventListener("click", this
                .onFullClick), this.playWidget && this.playWidget
              .removeEventListener("click", this.eventStopPropagation), this
              .selfMuteIcon && this.selfMuteIcon.removeEventListener("click", this
                .eventStopPropagation), this.deleteIcon && this.deleteIcon
              .removeEventListener("click", this.eventStopPropagation)
          }
        }, {
          key: "getCurrTimeFromData",
          value: function (e) {
            var t = 0;
            if (this.app.isRecordPlayer)
              if (e.hasOwnProperty("seek") && e.play) {
                var n = this.replaySeekDiff();
                t = e.seek + n
              } else e.hasOwnProperty("seek") && (t = e.seek);
            else e.play && e.seekTime && e.hasOwnProperty("seek") ? t = e.seek +
              this.getNtpTime() / 1e3 - e.seekTime : e.hasOwnProperty("seek") && (
                t = e.seek);
            return "number" != typeof this.duration || isNaN(this.duration) || (
              t = this.duration > 2 ? Math.min(t, this.duration - .22) : Math
              .min(t, this.duration)), t
          }
        }, {
          key: "setNativeCurrTime",
          value: function (e) {
            var t = this.getCurrTimeFromData(e),
              n = this.media;
            n && (n.currentTime = t)
          }
        }, {
          key: "createHeader",
          value: function () {
            var e = document.createElement("div");
            e.className = "header";
            var t = document.createElement("div");
            t.className = "title", t.innerText = this.getTitle(), e.appendChild(
            t);
            var n = document.createElement("div");
            return n.className = "close icon", e.appendChild(n), this.deleteIcon =
              n, this.headerWidget = e, e
          }
        }, {
          key: "createControlContainer",
          value: function () {
            var e = document.createElement("div");
            return e.className = "control-container", e
          }
        }, {
          key: "createPlayWidget",
          value: function () {
            var e = document.createElement("div");
            return e.className = "play-icon", this.playWidget = e, (0, r.default)(
              e.style, {
                pointerEvents: this.allowControl() && !this.isInReplay() ?
                  "auto" : "none",
                cursor: this.allowControl() && !this.isInReplay() ? "pointer" :
                  "auto"
              }), e
          }
        }, {
          key: "createTimeIndicator",
          value: function () {
            var e = document.createElement("div"),
              t = document.createElement("span");
            return e.className = "time-container", t.className = "time-text", this
              .timeIndicator = t, this.timeWidget = e, e.appendChild(t), e
          }
        }, {
          key: "createVolumeWidget",
          value: function () {
            var e = document.createElement("div");
            (0, r.default)(e.style, {
              display: "inline-flex",
              height: "40px",
              color: "white",
              flexDirection: "row",
              alignItems: "center",
              verticalAlign: "top",
              marginRight: "16px"
            });
            var t = document.createElement("div");
            (0, g.appendTooltip)(t, "开关本端声音");
            var n = this.selfMute ? f.default : h.default;
            return (0, r.default)(t.style, {
              display: "inline-block",
              height: "20px",
              width: "20px",
              backgroundImage: "url(" + n + ")",
              backgroundSize: "contain",
              pointerEvents: "auto",
              cursor: "pointer",
              marginLeft: "10px"
            }), e.appendChild(t), this.selfMuteIcon = t, e
          }
        }, {
          key: "createC2pWidget",
          value: function () {
            return this.c2pWidget = document.createElement("div"), (0, r.default)(
              this.c2pWidget.style, {
                display: "none",
                height: "40px",
                lineHeight: "40px",
                marginLeft: "4px",
                verticalAlign: "top",
                marginRight: "16px",
                color: "skyblue",
                cursor: "pointer"
              }), this.c2pWidget.innerText = "点击同步", this.c2pWidget
          }
        }, {
          key: "showC2p",
          value: function () {
            this.c2pWidget && (this.c2pWidget.style.display = "inline-block")
          }
        }, {
          key: "hideC2p",
          value: function () {
            this.c2pWidget && (this.c2pWidget.style.display = "none")
          }
        }, {
          key: "updatePlayIcon",
          value: function (e) {
            if (this.playWidget) {
              var t = e ? p.default : d.default;
              this.playWidget.style.backgroundImage = "url(" + t + ")"
            }
          }
        }, {
          key: "updateTimeLabel",
          value: function (e) {
            var t = !1,
              n = "00:00";
            e || (e = 0), "number" != typeof this.duration || isNaN(this
              .duration) || (t = this.duration >= 3600, n = this.getTime(this
                .duration, t));
            var r = this.getTime(e, t) + " / " + n;
            this.timeIndicator && (this.timeIndicator.innerText = r)
          }
        }, {
          key: "updateSelfMute",
          value: function () {
            var e = !(arguments.length > 0 && void 0 !== arguments[0]) ||
              arguments[0],
              t = this.selfMute ? f.default : h.default;
            if (this.selfMuteIcon && (this.selfMuteIcon.style.backgroundImage =
                "url(" + t + ")"), this.media && (this.media.muted = this
                .selfMute), this.media && e) {
              var n = this.data.play;
              this.isInReplay() && (n = n && "play" === this.replayMode()), this
                .setNativePlayState(n), this.setNativeCurrTime(this.data)
            }
          }
        }, {
          key: "ntpTimeDiff",
          get: function () {
            return this.app.ntpTimeDiff
          }
        }]), t
      }(c.default);
    t.default = x
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjE0MTUxOTI0MjE2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iLTgwMCAtODAwIDI2MjQgMjYyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIxMzEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNOTEyLjcyNDg4NCA0MjkuMzU1NjgxTDIwOC43OTc1NDUgMTMuMTk4NjM4QzE1MS42MDM0NDktMjAuNTk3ODc0IDY0LjAxMjQ5IDEyLjE5ODc0MSA2NC4wMTI0OSA5NS43OTAxMTJWOTI3LjkwNDIxOWMwIDc0Ljk5MjI1OSA4MS4zOTE1OTkgMTIwLjE4NzU5NCAxNDQuNzg1MDU1IDgyLjU5MTQ3NWw3MDMuOTI3MzM5LTQxNS45NTcwNjRjNjIuNzkzNTE4LTM2Ljk5NjE4MSA2Mi45OTM0OTgtMTI4LjE4Njc2OCAwLTE2NS4xODI5NDl6IiBmaWxsPSIjZmZmZmZmIiBwLWlkPSIyMTMyIj48L3BhdGg+PC9zdmc+"
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.appendTooltip = void 0;
    var r = a(n(0)),
      A = a(n(1));

    function a(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(340);
    var i = function () {
      function e(t, n) {
        var A = this;
        (0, r.default)(this, e), this.onMouseOver = function () {
          A.widget.classList.add("visible")
        }, this.onTouchStart = function () {
          A.widget.classList.add("visible"), clearTimeout(A.hideTimer), A.hideTimer =
            setTimeout((function () {
              A.onMouseLeave()
            }), 1e3)
        }, this.onMouseLeave = function () {
          A.widget.classList.remove("visible")
        }, t.classList.add("neteaseyunxin-wb-tooltip");
        var a = document.createElement("span");
        a.className = "tooltiptext", a.innerText = n, t.appendChild(a), this.widget = t,
          this.bindEvents()
      }
      return (0, A.default)(e, [{
        key: "bindEvents",
        value: function () {
          this.widget.addEventListener("mouseover", this.onMouseOver), this
            .widget.addEventListener("mouseleave", this.onMouseLeave), this
            .widget.addEventListener("touchstart", this.onTouchStart), window
            .document.addEventListener("touchend", this.onMouseLeave)
        }
      }]), e
    }();
    t.appendTooltip = function (e, t) {
      return new i(e, t)
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.regExitListener = function (e, t) {
      function n(t) {
        t.persisted && e()
      }
      return window.addEventListener("beforeunload", e, !1), window.addEventListener(
          "pagehide", n, !1), t.on("event:destroy", e),
        function () {
          window.removeEventListener("beforeunload", e, !1), window.removeEventListener(
            "pagehide", n, !1), t.off("event:destroy", e)
        }
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = u(n(25)),
      A = u(n(0)),
      a = u(n(1)),
      i = u(n(11)),
      o = u(n(147)),
      s = n(249);

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = function (e, t, n, r) {
        return new(n || (n = i.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      c = function () {
        function e(t, n, r) {
          (0, A.default)(this, e), this.pages = {}, this.pageNames = [], this
            .newPageIndex = 1, this.hasDoc = !1, this.app = t, this.dispatch = t
            .dispatcher, this.boardName = n, this.displayName = r, this.pages = {
              0: new o.default(t, n, "0")
            }, this.pageNames = ["0"], this.currIndex = 0
        }
        return (0, a.default)(e, [{
          key: "getPageByIndex",
          value: function (e) {
            return this.pages[this.pageNames[e]]
          }
        }, {
          key: "getPageNameByAnimPageIndex",
          value: function (e) {
            for (var t = this.payloadOfPages, n = 0; n < t.length; n++) {
              var r = t[n];
              if (r && r.animPageIndex === e) return this.pageNames[n]
            }
            return null
          }
        }, {
          key: "getCurrPageIndex",
          value: function () {
            return this.pageNames.indexOf(this.currIndex.toString())
          }
        }, {
          key: "getPageSnapshots",
          value: function () {
            var e = this;
            return this.app.room.boardOps[this.boardName].pageSnapshotIds.map((
              function (t) {
                return e.app.room.opIdSnapshotMap[t]
              })).filter((function (e) {
              return "goto" !== e.snapshot.data.action
            }))
          }
        }, {
          key: "getPageBuiltInIndex",
          value: function (e) {
            return Number(this.pageNames[e])
          }
        }, {
          key: "addOpInBoard",
          value: function (e) {
            var t = e.data,
              n = t.action,
              r = t.page,
              A = t.insertAfter;
            "add" === n && (0, s.addPage)(this, A, e), "goto" === n && (0, s
              .gotoPage)(this, r, e), "delete" === n && (0, s.deletePage)(this,
              r, e), this.app.opsManager.hooks.opAdd.call(e)
          }
        }, {
          key: "addTransDocOp",
          value: function (e, t) {
            var n = this.app.opsManager.opMap.transDoc;
            this.transDocSnapshot ? this.transDocSnapshot.opId !== e.data
              .dependOn ? this.logger.warn("[wb]transDocOp添加的snapshot有问题", this
                .transDocSnapshot, e) : this.transDocSnapshot = n.transformOp(this
                .transDocSnapshot, e.data) : this.transDocSnapshot = e;
            try {
              if (this.transDocSnapshot.data.transDocData) {
                var r = Number(this.getPageNameByAnimPageIndex(this
                  .transDocSnapshot.data.transDocData.animPageIndex));
                null !== this.transDocSnapshot.data.transDocData.animPageIndex &&
                  r !== this.currIndex && (0, s.gotoPage)(this, r, e)
              }
              n.apply(this.transDocSnapshot, t)
            } catch (e) {
              this.logger.error("[wb]transDoc.apply", e)
            }
          }
        }, {
          key: "previewDoc",
          value: function (e) {
            try {
              if (this.transDocSnapshot) this.app.opsManager.opMap.transDoc
                .previewDoc(this.transDocSnapshot, e)
            } catch (e) {
              this.logger.error("[wb]previewDoc", e)
            }
          }
        }, {
          key: "updateDocClipPath",
          value: function () {
            this.transDocSnapshot && this.app.opsManager.opMap.transDoc
              .updateDocClipPath(this.transDocSnapshot)
          }
        }, {
          key: "waitTilReady",
          value: function () {
            return l(this, void 0, void 0, r.default.mark((function e() {
              var t;
              return r.default.wrap((function (e) {
                for (;;) switch (e.prev = e.next) {
                  case 0:
                    if (!this.transDocSnapshot) {
                      e.next = 4;
                      break
                    }
                    return t = this.app.opsManager.opMap.transDoc,
                      e.next = 4, t.waitTilReady(this
                        .transDocSnapshot);
                  case 4:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            })))
          }
        }, {
          key: "logger",
          get: function () {
            return this.app.logger
          }
        }, {
          key: "currPage",
          get: function () {
            return this.pages[this.currIndex]
          }
        }, {
          key: "payloadOfPages",
          get: function () {
            var e = this;
            return this.pageNames.map((function (t) {
              return e.pages[t].payload
            }))
          }
        }]), e
      }();
    t.default = c
  }, function (e, t, n) {
    n(71), n(45), n(51), n(244), n(245), n(246), n(247), e.exports = n(8).Map
  }, function (e, t, n) {
    "use strict";
    var r = n(126),
      A = n(93);
    e.exports = n(127)("Map", (function (e) {
      return function () {
        return e(this, arguments.length > 0 ? arguments[0] : void 0)
      }
    }), {
      get: function (e) {
        var t = r.getEntry(A(this, "Map"), e);
        return t && t.v
      },
      set: function (e, t) {
        return r.def(A(this, "Map"), 0 === e ? 0 : e, t)
      }
    }, r, !0)
  }, function (e, t, n) {
    var r = n(10);
    r(r.P + r.R, "Map", {
      toJSON: n(128)("Map")
    })
  }, function (e, t, n) {
    n(129)("Map")
  }, function (e, t, n) {
    n(130)("Map")
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.getDrawOpFromSnapshotQueue = t.calcDrawOpQueue = t.processInProgressSnap =
      void 0;
    var r = o(n(16)),
      A = o(n(7)),
      a = n(46),
      i = n(95);

    function o(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.processInProgressSnap = function (e, t) {
      console.log("processInProgressSnap snapshot:", t);
      var n = [];
      if (t.data.dependOn) {
        var r = Array.isArray(t.data.dependOn) ? t.data.dependOn : [t.data.dependOn],
          a = !0,
          o = !1,
          s = void 0;
        try {
          for (var u, l = (0, A.default)(r); !(a = (u = l.next()).done); a = !0) {
            var d = u.value;
            if (e.opQueueMap.hasOwnProperty(d)) {
              for (var p = e.opQueueMap[d], h = p.length - 1; h >= 0; h--)
                if (p[h].opId === t.opId) {
                  p.splice(h, 1);
                  break
                } p.push(t), n.push(d)
            }
          }
        } catch (e) {
          o = !0, s = e
        } finally {
          try {
            !a && l.return && l.return()
          } finally {
            if (o) throw s
          }
        }
      } else e.opQueueMap[t.opId] = [t], n.push(t.opId);
      console.log("processInProgressSnap touchedOpIds:", n);
      var f = [],
        g = !0,
        y = !1,
        v = void 0;
      try {
        for (var m, w = (0, A.default)(n); !(g = (m = w.next()).done); g = !0) {
          var B = m.value;
          (T = c(e, B)).data.deleted ? e.deletedOpQueue[B] = T : T.data.hidden ? (e
            .hiddenOpQueue[B] = T, f.push(T)) : (e.drawOpQueue[B] = T, f.push(T),
            console.log("processInProgressSnap drawOpQueue:", e.drawOpQueue))
        }
      } catch (e) {
        y = !0, v = e
      } finally {
        try {
          !g && w.return && w.return()
        } finally {
          if (y) throw v
        }
      }
      var I = !0,
        M = !1,
        C = void 0;
      try {
        for (var b, x = (0, A.default)(f); !(I = (b = x.next()).done); I = !0) {
          var T = b.value;
          (0, i.patchOp)(e, T)
        }
      } catch (e) {
        M = !0, C = e
      } finally {
        try {
          !I && x.return && x.return()
        } finally {
          if (M) throw C
        }
      }
      console.log("processInProgressSnap over:")
    }, t.calcDrawOpQueue = function (e) {
      var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
      e.drawOpQueue = {}, e.hiddenOpQueue = {}, e.deletedOpQueue = {};
      var n = d(e, e.opQueue),
        r = n.normalQueue,
        A = n.abNormalQueue,
        a = p(e, r),
        i = h(e, a),
        o = f(e, i);
      s(e, A), u(e, o), t || l(e)
    };
    var s = function (e, t) {
        for (var n = 0; n < t.length; n++) {
          var r = t[n];
          "select" === r.data.type ? r.data.inProgress ? e.lastInProgressSelectOfUser[r
            .uid] = r : (delete e.lastInProgressSelectOfUser[r.uid], e.lastSelectOfUser[
            r.uid] = r) : "mouse-pointer" === r.data.type ? e.lastMousePointerOfUser[r
            .uid] = r : "laser" === r.data.type && (e.lastLaserOfUser[r.uid] = r)
        }
      },
      u = function (e, t) {
        e.opQueueMap = {};
        var n = [],
          a = {};
        e.opsManager.groupOp.reset(e);
        var o = !0,
          s = !1,
          u = void 0;
        try {
          for (var l, d = (0, A.default)(t); !(o = (l = d.next()).done); o = !0) {
            var p = l.value;
            if (e.lastInProgressSelectOfUser = {}, "group" !== p.data.type)
              if (Array.isArray(p.data.dependOn)) {
                var h = !0,
                  f = !1,
                  y = void 0;
                try {
                  for (var v, m = (0, A.default)(p.data.dependOn); !(h = (v = m.next())
                      .done); h = !0) {
                    var w = v.value;
                    e.opQueueMap.hasOwnProperty(w) ? (n.push(w), e.opQueueMap[w].push(
                      p)) : (a[w] = a[w] || [], a[w].push(p))
                  }
                } catch (e) {
                  f = !0, y = e
                } finally {
                  try {
                    !h && m.return && m.return()
                  } finally {
                    if (f) throw y
                  }
                }
              } else if ("string" == typeof p.data.dependOn) e.opQueueMap.hasOwnProperty(p
              .data.dependOn) ? (n.push(p.data.dependOn), e.opQueueMap[p.data.dependOn]
              .push(p)) : (a[p.data.dependOn] = a[p.data.dependOn] || [], a[p.data
              .dependOn].push(p));
            else {
              var B;
              if (e.opQueueMap[p.opId] = [p], a[p.opId])(B = e.opQueueMap[p.opId]).push
                .apply(B, (0, r.default)(a[p.opId])), a[p.opId] = []
            } else e.opsManager.groupOp.process(e, p)
          }
        } catch (e) {
          s = !0, u = e
        } finally {
          try {
            !o && d.return && d.return()
          } finally {
            if (s) throw u
          }
        }
        g(e, n);
        var I = [];
        for (var M in e.opQueueMap) {
          var C = c(e, M);
          C.data.deleted ? e.deletedOpQueue[M] = C : C.data.hidden ? (e.hiddenOpQueue[M] =
            C, I.push(C)) : (e.drawOpQueue[M] = C, I.push(C))
        }
        var b = !0,
          x = !1,
          T = void 0;
        try {
          for (var k, E = (0, A.default)(I); !(b = (k = E.next()).done); b = !0) {
            var N = k.value;
            (0, i.patchOp)(e, N)
          }
        } catch (e) {
          x = !0, T = e
        } finally {
          try {
            !b && E.return && E.return()
          } finally {
            if (x) throw T
          }
        }
      },
      l = function (e) {
        if (e.app.room.currBoard.currPage === e) {
          var t = (0, i.getSelectedOpIds)(e);
          e.opsManager.selectOp.setSelectedOpIds(t)
        }
      },
      c = t.getDrawOpFromSnapshotQueue = function (e, t) {
        for (var n = e.opQueueMap[t][0], r = 1; r < e.opQueueMap[t].length; r++) n = (0, i
          .transformOp)(e, n, e.opQueueMap[t][r]);
        return n
      },
      d = function (e, t) {
        var n = [],
          r = [],
          i = !0,
          o = !1,
          s = void 0;
        try {
          for (var u, l = (0, A.default)(t); !(i = (u = l.next()).done); i = !0) {
            var c = u.value; - 1 !== a.snapshotOutOfNormalFlowTypes.indexOf(c.data.type) ?
              r.push(c) : n.push(c)
          }
        } catch (e) {
          o = !0, s = e
        } finally {
          try {
            !i && l.return && l.return()
          } finally {
            if (o) throw s
          }
        }
        for (var d in e.localEditQueue) n.push(e.localEditQueue[d]);
        return {
          normalQueue: n,
          abNormalQueue: r
        }
      },
      p = function (e, t) {
        for (var n = t.slice(), a = n.length - 1; a >= 0; a--) {
          var i = n[a];
          if ("undo" === i.data.type || "redo" === i.data.type) {
            var o = [];
            i.data.redoOpId ? o.push(i.data.redoOpId) : i.data.undoOpId ? o.push(i.data
              .undoOpId) : Array.isArray(i.data.undoOpIds) && o.push.apply(o, (0, r
              .default)(i.data.undoOpIds)), n.splice(a, 1);
            var s = !0,
              u = !1,
              l = void 0;
            try {
              for (var c, d = (0, A.default)(o); !(s = (c = d.next()).done); s = !0)
                for (var p = c.value, h = a - 1; h >= 0; h--) n[h].opId === p && (n
                  .splice(h, 1), a--)
            } catch (e) {
              u = !0, l = e
            } finally {
              try {
                !s && d.return && d.return()
              } finally {
                if (u) throw l
              }
            }
          }
        }
        return n
      },
      h = function (e, t) {
        for (var n = t.slice(), r = n.length - 1; r >= 0; r--) {
          if ("clear" === n[r].data.type) return g(e, n.slice(0, r + 1).map((function (
          e) {
            return e.opId
          }))), n = n.slice(r + 1)
        }
        return n
      },
      f = function (e, t) {
        for (var n = [], r = 0; r < t.length; r++) {
          var A = t[r];
          "duplicate" === A.data.type ? n = n.concat(A.data.duplicates) : n.push(t[r])
        }
        return n
      },
      g = function (e, t) {
        for (var n in e.lastInProgressSnapshotOfUser) {
          var r = e.lastInProgressSnapshotOfUser[n]; - 1 !== t.indexOf(r.snapshot.opId) &&
            delete e.lastInProgressSnapshotOfUser[n]
        }
      }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.deletePage = t.gotoPage = t.addPage = void 0;
    var r = a(n(20)),
      A = a(n(147));

    function a(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.addPage = function (e, t, n, r) {
      e.app.emit("event:prePageChange", n), e.pages[e.newPageIndex] = new A.default(e
          .app, e.boardName, e.newPageIndex.toString()), r ? e.pages[e.newPageIndex]
        .setPayload(r) : "pageOp" === n.category && e.pages[e.newPageIndex].setPayload(n
          .data.payload), t = void 0 === t ? e.pageNames.length - 1 : t, e.pageNames
        .splice(t + 1, 0, e.newPageIndex.toString()), e.app.room
        .isReceivingBatchSnapshots || (e.pages[e.newPageIndex].calcDrawOpQueue(), e.app
          .room.pageToRefresh = e.pages[e.newPageIndex]), e.currIndex = e.newPageIndex,
        e.newPageIndex += 1, e.pages[e.currIndex] && e.pages[e.currIndex]
        .cleanNonCanvasElements(), e.app.opsManager.hooks.pageChange.call(n), o(e.app)
    }, t.gotoPage = function (e, t, n) {
      if (!e.pages.hasOwnProperty(t)) return e.logger.error(
        "[wb] board/gotoPage: page: " + t + " is not found");
      e.app.emit("event:prePageChange", n), e.currIndex = Number(t), e.pages[e
          .currIndex] && e.pages[e.currIndex].cleanNonCanvasElements(), e.app.opsManager
        .hooks.pageChange.call(n), o(e.app), e.app.room.isReceivingBatchSnapshots || (e
          .pages[t].calcDrawOpQueue(), e.app.room.pageToRefresh = e.pages[t])
    }, t.deletePage = function (e, t, n) {
      if (e.pages.hasOwnProperty(t))
        if (1 === (0, r.default)(e.pages).length) e.logger.error("[wb]",
          "board/deletePage: it is not allowed to delete the last page");
        else {
          e.app.emit("event:prePageChange", n), e.app.emit("event:deletePage", e.pages[
            t]), delete e.pages[t];
          var A = e.pageNames.indexOf(t.toString()); - 1 !== A && e.pageNames.splice(A,
            1);
          var a = A;
          A === e.pageNames.length && (a = A - 1), e.currIndex = Number(e.pageNames[a]),
            e.pages[e.currIndex] && e.pages[e.currIndex].cleanNonCanvasElements(), e.app
            .opsManager.hooks.pageChange.call(n), o(e.app), e.app.room
            .isReceivingBatchSnapshots || (e.pages[e.currIndex].calcDrawOpQueue(), e.app
              .room.pageToRefresh = e.pages[e.currIndex])
        }
      else e.logger.error("[wb]", "board/deletePage: page: " + t + " is not found")
    };
    var i = void 0;

    function o(e) {
      clearTimeout(i), i = setTimeout((function () {
        var t = e.room.currBoard.currIndex;
        e.preparePreview([t - 2, t - 1, t, t + 1, t + 2])
      }), 0)
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.getCameraBoundFromGlobalOp = function (e, t) {
      var n = e.app.camera,
        r = e.app.vision;
      if ("camera-bound" === t.data.type) {
        if (n.cameraBoundByUser[t.uid] = t.data.boundary, "freeObserver" === r.mode && t
          .uid === e.app.account) return t.data.boundary;
        if ("broadcaster" === r.mode && t.uid === e.app.account) return t.data.boundary;
        if ("follower" === r.mode && t.uid === r.broadcaster) return t.data.boundary;
        if ("follower" === r.mode && t.uid === e.app.account) return t.data.boundary
      }
      return null
    }, t.shouldCacheSnapshot = function (e) {
      return !!e.category && (!("boardOp" !== e.category || "add" !== e.data.action || !
        e.data.tmpl) || ("boardOp" === e.category && "addTransDoc" === e.data
        .action || !("video" !== e.data.type && "audio" !== e.data.type &&
          "image" !== e.data.type || e.data.skipUndo)))
    };
    var r = void 0;
    t.fitToContentAfterBoardChange = function (e) {
      clearTimeout(r), r = setTimeout((function () {
        e.app.hasBackground() || e.app.hasTransDoc() ? e.app.fitToContent(!1) : (e
          .app.fitToContent(!1), e.app.camera.scale >= 1 && e.app.zoomTo(1, !1))
      }), 0)
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = o(n(21)),
      A = o(n(20)),
      a = o(n(5)),
      i = o(n(33));

    function o(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.default = {
      isUndefined: function (e) {
        return void 0 === e
      },
      isDOM: function (e) {
        return "object" === ("undefined" == typeof HTMLElement ? "undefined" : (0, i
            .default)(HTMLElement)) ? e instanceof HTMLElement : e && "object" === (
            void 0 === e ? "undefined" : (0, i.default)(e)) && 1 === e.nodeType &&
          "string" == typeof e.nodeName
      },
      isValidString: function (e) {
        return "[object String]" === Object.prototype.toString.call(e)
      },
      isBoolean: function (e) {
        return "boolean" == typeof e
      },
      isFunction: function (e) {
        return "function" == typeof e
      },
      isNumber: function (e) {
        return "number" == typeof e
      },
      isValidArray: function (e) {
        return "[object Array]" === Object.prototype.toString.call(e)
      },
      isValidHexColor: function (e) {
        return /^#[0-9abcdef]{6}$/gi.test(e)
      },
      isObject: function (e) {
        return "object" === (void 0 === e ? "undefined" : (0, i.default)(e))
      },
      isValidObject: function (e) {
        if ("object" !== (void 0 === e ? "undefined" : (0, i.default)(e))) return !1;
        if (e = (0, a.default)({}, e), A.default && 0 === (0, A.default)(e).length)
          return !1;
        try {
          return "{}" !== (0, r.default)(e)
        } catch (e) {
          return !1
        }
      },
      validate: function (e, t, n, a) {
        var i = this,
          o = [];
        return (0, A.default)(a).map((function (e) {
            var t = a[e],
              A = n[e];
            if (i.isUndefined(A)) t.isRequire && o.push({
              key: e,
              message: e + " is required"
            });
            else {
              switch (t.type.toLowerCase()) {
                case "dom":
                  i.isDOM(A) || o.push({
                    key: e,
                    message: "Expected dom, but get other type"
                  });
                  break;
                case "string":
                  i.isValidString(A) || o.push({
                    key: e,
                    message: "Expected string, but get other type"
                  });
                  break;
                case "boolean":
                  i.isBoolean(A) || o.push({
                    key: e,
                    message: "Expected boolean, but get other type"
                  });
                  break;
                case "function":
                  i.isFunction(A) || o.push({
                    key: e,
                    message: "Expected function, but get other type"
                  });
                  break;
                case "number":
                  i.isNumber(A) || o.push({
                    key: e,
                    message: "Expected number, but get other type"
                  });
                  break;
                case "object":
                  i.isObject(A) || o.push({
                    key: e,
                    message: "Expected object, but get other type"
                  });
                  break;
                case "array":
                  i.isValidArray(A) || o.push({
                    key: e,
                    message: "Expected array, but get other type"
                  });
                  break;
                default:
                  o.push({
                    key: e,
                    message: e + "的类型未知: " + t.type.toLowerCase()
                  })
              }
              t.enum && -1 === t.enum.indexOf(A) && o.push({
                key: e,
                message: "Expected " + e + " to be one of " + (0, r.default)(t
                  .enum) + ", but it is not"
              })
            }
          })), o.length > 0 && (e.error("[wb]", "argument key: " + t + " is invalid"),
            e.error("[wb]", "error message: ", o), e.error("[wb]", "argument is：", n)
            ), 0 === o.length
      }
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.chooseImgAndUpload = t.uploadAndAddImg = void 0;
    var r = s(n(5)),
      A = n(31),
      a = s(n(32)),
      i = n(14),
      o = n(143);

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    window.addEventListener("load", (function () {
      p()
    }));
    var u = ["jpg", "jpeg", "png", "bmp", "webp"],
      l = t.uploadAndAddImg = function (e, t, n) {
        var s = n.pageName,
          u = n.boardName;
        return t.dataURL || t.fileInput ? t.dataURL && !t.fileName ? e.logger.error(
          "[wb]uploadAndAddImg fileName is required when dataURL is provided") : (e
          .logger.log("[wb]已选择image文件，现在开始上传文件"), (0, o.uploadMedia)(e, (0, r.default)((
            0, r.default)({}, t), {
            mediaType: "image",
            uploadprogress: function (e) {
              e && "string" == typeof e.percentageText && (0, A.showToast)({
                msg: "" + (0, i.getMsg)("uploadPer") + e.percentageText,
                time: 1e5,
                type: "info",
                msgType: a.default.FILE_IS_UPLOADING
              })
            },
            done: function (t, n) {
              if ((0, A.hideToast)(), t) {
                var o = (null == t ? void 0 : t.msg) || (null == t ? void 0 : t
                  .message) || (0, i.getMsg)("uploadFail");
                e.logger.error("[wb] image upload failed", t), (0, A.showToast)({
                  msg: o,
                  type: "error",
                  time: 3,
                  msgType: a.default.FILE_UPLOAD_FAIL
                })
              } else e.logger.log("[wb]上传image文件成功"), (0, A.showToast)({
                msg: (0, i.getMsg)("uploadSucc"),
                type: "success",
                time: 3,
                msgType: a.default.FILE_UPLOAD_FAIL
              }), e.addImage((0, r.default)({
                url: n.url,
                pageName: s,
                boardName: u
              }, e.appConfig.nosAntiLeech ? {
                antiLeechProp: {
                  bucket: n.bucket,
                  object: n.object
                }
              } : {}))
            }
          })), void(0, A.showToast)({
            msg: (0, i.getMsg)("uploading"),
            time: 1e5,
            type: "info",
            msgType: a.default.FILE_IS_UPLOADING
          })) : e.logger.error(
          "[wb]uploadAndAddImg please provide dataURL or fileInput")
      },
      c = (t.chooseImgAndUpload = function (e, t) {
        var n = d();
        n.accept = u.map((function (e) {
          return "." + e
        })).join(","), n.value = "", n.onchange = function (n) {
          return c(n, {
            app: e,
            pageName: t.pageName,
            boardName: t.boardName
          })
        }, n.click()
      }, function (e, t) {
        var n = t.app,
          r = t.pageName,
          o = t.boardName,
          s = e.target,
          c = e.target.files[0];
        if (n.logger.log("[wb] 选择文件: " + c.name), c && c.size && c.size > 10485760)
          return s.value = "", n.logger.error("[wb] image size cannot exceed 10M"), (0,
            A.showToast)({
            msg: "" + (0, i.getMsg)("sizeLimit") + Math.round(10) + "M",
            type: "error",
            msgType: a.default.FILE_SIZE_EXCEED_LIMIT
          });
        if (!c || 0 === c.size) return s.value = "", n.logger.error("[wb] file " + (
          null == c ? void 0 : c.name) + " is empty"), (0, A.showToast)({
          msg: (0, i.getMsg)("fileEmpty"),
          type: "error",
          msgType: a.default.FILE_IS_EMPTY
        });
        var d = c.name.split("."),
          p = d[d.length - 1],
          h = -1 !== u.indexOf(p.toLowerCase());
        if (h || (s && s.files && s.files.length > 0 && (p = s.files[0].type), h = -
            1 !== u.indexOf(p)), !h) return s.value = "", (0, A.showToast)({
          msg: (0, i.getMsg)("allowedTypes") + ": " + u.join(","),
          time: 3,
          type: "error",
          msgType: a.default.FILE_ACCEPTED_TYPE_LIMIT
        });
        l(n, {
          fileInput: s
        }, {
          pageName: r,
          boardName: o
        })
      }),
      d = function () {
        var e = document.getElementById("netease-wb-resource-input");
        return e || p()
      },
      p = function () {
        var e = document.getElementById("netease-wb-resource-input");
        return e || (e = document.createElement("input"), document.body.appendChild(e), e
          .id = "netease-wb-resource-input", e.style.position = "absolute", e.style
          .visibility = "hidden", e.type = "file", e.style.width = "0", e.style.height =
          "0", e.style.top = "-100px"), e
      }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.FloatComponent = void 0;
    var r = c(n(16)),
      A = c(n(5)),
      a = c(n(2)),
      i = c(n(0)),
      o = c(n(1)),
      s = c(n(3)),
      u = c(n(4)),
      l = c(n(6));

    function c(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.FloatComponent = function (e) {
      function t() {
        (0, i.default)(this, t);
        var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
          arguments));
        return e.pickedProps = {}, e.nativeProps = {}, e
      }
      return (0, u.default)(t, e), (0, o.default)(t, [{
        key: "propsFilter",
        value: function () {
          var e = this,
            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] :
            [],
            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] :
            {};
          this.pickedProps = {}, this.nativeProps = (0, A.default)({}, this
            .props), n = (0, A.default)({
            unrendered: !1
          }, n), [].concat((0, r.default)(t), ["unrendered"]).forEach((
            function (t) {
              t in e.nativeProps ? (e.pickedProps[t] = e.nativeProps[t],
                delete e.nativeProps[t]) : e.pickedProps[t] = n[t]
            }))
        }
      }, {
        key: "render",
        value: function () {
          return this.propsFilter(), this.pickedProps.unrendered ? null : this
            .children
        }
      }, {
        key: "children",
        get: function () {
          return null
        }
      }]), t
    }(l.default.Component)
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.SliderItem = void 0;
    var r = d(n(5)),
      A = d(n(2)),
      a = d(n(0)),
      i = d(n(1)),
      o = d(n(3)),
      s = d(n(26)),
      u = d(n(4)),
      l = d(n(6)),
      c = n(40);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(402);
    t.SliderItem = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.changeHandler = function (t, n) {
          var r, A, a = e.pickedProps,
            i = a.onChange,
            o = a.toolName;
          null == i || i({
              type: "change",
              target: t.target,
              toolName: o,
              value: t.target.value
            }, n), null === (A = (r = e.nativeProps).onInput) || void 0 === A || A
            .call(r, t), e.forceUpdate()
        }, e
      }
      return (0, u.default)(t, e), (0, i.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, s.default)(t.prototype.__proto__ || (0, A.default)(t.prototype),
            "propsFilter", this).call(this, ["onChange"], {
            icon: void 0,
            value: void 0
          })
        }
      }, {
        key: "defaultClassNames",
        get: function () {
          return (0, s.default)(t.prototype.__proto__ || (0, A.default)(t
            .prototype), "defaultClassNames", this).concat("slider-item")
        }
      }, {
        key: "defaultStyle",
        get: function () {
          return (0, r.default)((0, r.default)({}, (0, s.default)(t.prototype
            .__proto__ || (0, A.default)(t.prototype), "defaultStyle",
            this)), {
            pointerEvents: "none"
          })
        }
      }, {
        key: "inputStyle",
        get: function () {
          return {
            pointerEvents: "all"
          }
        }
      }, {
        key: "children",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.value,
            A = t.disabled;
          return l.default.createElement("label", (0, r.default)({
            className: this.className,
            style: this.style
          }, this.hoverProps), this.itemChildren, l.default.createElement(
            "input", (0, r.default)({
              type: "range",
              style: this.inputStyle,
              disabled: A
            }, this.nativeProps, {
              onInput: function (t) {
                return e.changeHandler(t, !0)
              },
              onChange: function (t) {
                return e.changeHandler(t, !1)
              }
            }, void 0 !== n ? {
              value: n
            } : {})))
        }
      }]), t
    }(c.Item)
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = function (e) {
        var t = parseInt(e, 16);
        return isNaN(t) ? 0 : t
      },
      A = t.getRGBvalues = function (e) {
        if ("string" == typeof e && e) {
          var t, n, A = e.slice(0, 1);
          return "#" === A ? 4 === (t = e).length ? (n = t.replace("#", "").split(""), {
            r: r(n[0] + n[0]),
            g: r(n[1] + n[1]),
            b: r(n[2] + n[2])
          }) : {
            r: r(t.slice(1, 3)),
            g: r(t.slice(3, 5)),
            b: r(t.slice(5))
          } : "r" === A.toLowerCase() ? function (e) {
            var t, n = e.slice(e.indexOf("(") + 1, e.indexOf(")")).split(","),
              r = !1;
            return t = {
              r: (n = n.map((function (e, t) {
                return 3 !== t ? parseInt(e, 10) : r = !0, parseFloat(e)
              })))[0],
              g: n[1],
              b: n[2]
            }, r && (t.a = n[3]), t
          }(e) : {
            r: 0,
            g: 0,
            b: 0
          }
        }
      };
    t.mixColorAndOpacity = function (e, t) {
      var n = A(e);
      return t = Number(t), t = isNaN(t) ? 1 : t, void 0 === n ? e : "rgba(" + n.r +
        "," + n.g + "," + n.b + "," + t + ")"
    }
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1MDg3NTcyMzAxOSIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSItMjAwIC0yMDAgMTQyNCAxNDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMzY4NyIgd2lkdGg9IjMyIgogICAgaGVpZ2h0PSIzMiIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPGRlZnM+CiAgICAgICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgICAgICAgICAgQGZvbnQtZmFjZSB7CiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogZmVlZGJhY2staWNvbmZvbnQ7CiAgICAgICAgICAgICAgICBzcmM6IHVybCgiLy9hdC5hbGljZG4uY29tL3QvZm9udF8xMDMxMTU4X3U2OXc4eWh4ZHUud29mZjI/dD0xNjMwMDMzNzU5OTQ0IikgZm9ybWF0KCJ3b2ZmMiIpLCB1cmwoIi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTAzMTE1OF91Njl3OHloeGR1LndvZmY/dD0xNjMwMDMzNzU5OTQ0IikgZm9ybWF0KCJ3b2ZmIiksIHVybCgiLy9hdC5hbGljZG4uY29tL3QvZm9udF8xMDMxMTU4X3U2OXc4eWh4ZHUudHRmP3Q9MTYzMDAzMzc1OTk0NCIpIGZvcm1hdCgidHJ1ZXR5cGUiKTsKICAgICAgICAgICAgfQogICAgICAgIDwvc3R5bGU+CiAgICA8L2RlZnM+CiAgICA8cGF0aAogICAgICAgIGQ9Ik04MTguMzQ2NjY3IDM1Mi44NTMzMzNsLTIwMi44MzczMzQtMTg4LjE2IDU2LjQ5MDY2Ny02MC44ODUzMzMgMjAyLjgzNzMzMyAxODguMTZ6TTQzOC43NDEzMzMgNzYyLjE5NzMzM2wtMjAyLjkyMjY2Ni0xODguMjQ1MzMzIDM2MC44NzQ2NjYtMzg4Ljk0OTMzMyAyMDIuODggMTg4LjI0NTMzM3pNMjE3LjAwMjY2NyA1OTQuMjE4NjY3bDIwMi45MjI2NjYgMTg4LjI4OC0yNzAuODkwNjY2IDg4LjQ0OHoiCiAgICAgICAgZmlsbD0iIzJjMmMyYyIgcC1pZD0iMzY4OCI+PC9wYXRoPgogICAgPHBhdGgKICAgICAgICBkPSJNNzQ3LjY0OCA5OC41NmwxMjYuODA1MzMzIDExNy42MzJjMjAuOTkyIDE5LjQ5ODY2NyAyMS4xNjI2NjcgNTMuNTA0IDAuNDI2NjY3IDc1Ljg2MTMzMy0yMC44MjEzMzMgMjIuNDQyNjY3LTU0LjY5ODY2NyAyNC43NDY2NjctNzUuNjkwNjY3IDUuMjkwNjY3TDY3Mi4zODQgMTc5LjYyNjY2N2MtMjEuMDM0NjY3LTE5LjQ5ODY2Ny0yMS4yMDUzMzMtNTMuNTA0LTAuNDI2NjY3LTc1Ljg2MTMzNCAyMC44MjEzMzMtMjIuNCA1NC42OTg2NjctMjQuNzQ2NjY3IDc1LjY5MDY2Ny01LjI5MDY2NnoiCiAgICAgICAgZmlsbD0iIzJjMmMyYyIgcC1pZD0iMzY4OSI+PC9wYXRoPgo8L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1NTAwMjU5MDkxNCIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTIyNDAiCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij4KICAgIDxwYXRoCiAgICAgICAgZD0iTTAgNDU3djExMGg3NTB2MTEwbDIyMC0xNjVsLTIyMC0xNjV2MTEweiIKICAgICAgICBmaWxsPSIiIHAtaWQ9IjEyMjQxIj48L3BhdGg+Cjwvc3ZnPg=="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjExNzE5MjA5NTA5IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iLTIwMCAtMjAwIDE0MjQgMTQyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjMxNzQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMjE2LjMyNyAyMjMuNzc0cTE1NC4xMTYgMCA2MTYuNDY1IDAgMjcuMDEwIDAgNDYuMDc2IDE5LjA2NiAxOS4wNjYgMTkuMDY2IDE5LjA2NiA0Ni4wNzYgMCAxNTUuNzA1IDAgNDY3LjExNSAwIDI3LjAxMC0xOS4wNjYgNDYuMDc2LTE5LjA2NiAxOS4wNjYtNDYuMDc2IDE5LjA2Ni0yMDUuNzUzIDAtNjE2LjQ2NSAwLTI2LjIxNiAwLTQ2LjA3Ni0xOS4wNjYtMTkuMDY2LTE5LjA2Ni0xOS4wNjYtNDYuMDc2IDAtNTQuODE1IDAtMTY0LjQ0NCAwLTE5LjA2NiAwLTQ3LjY2NSAwLTE0LjI5OSAwLTMwLjk4MiAwLTIwLjY1NSAwLTQ1LjI4MiAwLTczLjA4NiAwLTE3OC43NDMgMC0yNy4wMTAgMTkuMDY2LTQ2LjA3NiAxOS44Ni0xOS4wNjYgNDYuMDc2LTE5LjA2NnpNMjE2LjMyNyA4NTUuMzMzcTE1NC4xMTYgMCA2MTYuNDY1IDAgNDEuMzEgMCA2OS45MDgtMjguNTk5IDI3LjgwNC0yOC41OTkgMjcuODA0LTY5LjExNCAwLTE1NS43MDUgMC00NjcuOTEgMC00MC41MTUtMjcuODA0LTY5LjExNC0yOC41OTktMjguNTk5LTY5LjkwOC0yOC41OTktMjA1Ljc1MyAwLTYxNi40NjUgMC00MC41MTUgMC02OS4xMTQgMjguNTk5LTI4LjU5OSAyOC41OTktMjguNTk5IDY5LjExNCAwIDQxLjMxIDAgMTIzLjkyOSAwIDQyLjg5OCAwIDEyOC42OTUgMCA0Mi44OTggMCA5Ni45MTggMCAyNy4wMTAgMCA1Ni40MDMgMCAyOS4zOTMgMCA2MS45NjQgMCAzOS43MjEgMjguNTk5IDY4LjMyIDI4LjU5OSAyOS4zOTMgNjkuMTE0IDI5LjM5M3pNMjYyLjQwMyA0MjUuNTU1cTAgMjguNTk5IDE5Ljg2IDQ4LjQ1OSAyMC42NTUgMjAuNjU1IDQ5LjI1NCAyMC42NTUgMjguNTk5IDAgNDkuMjU0LTIwLjY1NSAxOS44Ni0xOS44NiAxOS44Ni00OC40NTkgMC0yOC41OTktMTkuODYtNDguNDU5LTIwLjY1NS0yMC42NTUtNDkuMjU0LTIwLjY1NS0yOC41OTkgMC00OS4yNTQgMjAuNjU1dC0xOS44NiA0OC40NTl6TTI5NC45NzQgNDI1LjU1NXEwLTE1LjA5NCAxMS4xMjItMjYuMjE2IDEwLjMyNy0xMC4zMjcgMjUuNDIxLTEwLjMyNyAxNS4wOTQgMCAyNS40MjEgMTAuMzI3IDExLjEyMiAxMS4xMjIgMTEuMTIyIDI2LjIxNiAwIDE1LjA5NC0xMS4xMjIgMjYuMjE2LTEwLjMyNyAxMC4zMjctMjUuNDIxIDEwLjMyNy0xNC4yOTkgMC0yNS40MjEtMTAuMzI3dC0xMS4xMjItMjYuMjE2ek02NjMuNTgyIDQ5My4wODFxNDIuODk4IDQyLjg5OCAxNzIuMzg4IDE3Mi4zODggNS41NjEgNS41NjEgNS41NjEgMTEuMTIyIDAgNi4zNTUtNS41NjEgMTEuOTE2LTUuNTYxIDYuMzU1LTExLjkxNiA2LjM1NS01LjU2MSAwLTExLjEyMi02LjM1NS01Ny4xOTgtNTcuMTk4LTE3Mi4zODgtMTcyLjM4OC04LjczOS04LjczOS0yMi4yNDQtOC43MzktMTQuMjk5IDAtMjMuODMyIDguNzM5LTQ2LjA3NiA0Ni4wNzYtMTM4LjIyOCAxMzcuNDM0LTE5LjA2NiAxOS4wNjYtNDYuODcgMTkuMDY2LTI3LjAxMCAwLTQ2Ljg3LTE5LjA2Ni03LjE1LTcuMTUtMjEuNDQ5LTIyLjI0NC05LjUzMy04LjczOS0yMy44MzItOC43MzktMTMuNTA1IDAtMjIuMjQ0IDguNzM5LTE5LjA2NiAxOS4wNjYtNTcuMTk4IDU3LjE5OC0xMS4xMjIgMTEuOTE2LTIzLjAzOCAwLTUuNTYxLTUuNTYxLTUuNTYxLTExLjEyMiAwLTUuNTYxIDUuNTYxLTExLjkxNiAxOS4wNjYtMTkuMDY2IDU3LjE5OC01Ny4xOTggMTkuMDY2LTE5LjA2NiA0Ni44Ny0xOS4wNjYgMjcuMDEwIDAgNDYuODcgMTkuMDY2IDcuMTUgNy4xNSAyMS40NDkgMjIuMjQ0IDguNzM5IDguNzM5IDIyLjI0NCA4LjczOSAxNC4yOTkgMCAyMy44MzItOC43MzkgNDUuMjgyLTQ2LjA3NiAxMzYuNjM5LTEzNy40MzQgMTkuODYtMTkuMDY2IDQ3LjY2NS0xOS4wNjYgMjcuMDEwIDAgNDYuMDc2IDE5LjA2NnoiIHAtaWQ9IjMxNzUiPjwvcGF0aD48L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyBmaWxsPScjNDQ0NDQ0JyB0PSIxNjIwMjcyOTk5MzUwIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iLTIwMCAtMjAwIDE0MjQgMTQyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIwMzYiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUxMiA2NTguMjg2YTIwMS4xNDMgMjAxLjE0MyAwIDAgMCAyMDEuMTQzLTIwMS4xNDNWMjU2YTIwMS4xNDMgMjAxLjE0MyAwIDAgMC00MDIuMjg2IDB2MjAxLjE0M0EyMDEuMTQzIDIwMS4xNDMgMCAwIDAgNTEyIDY1OC4yODZ6TTM2NS43MTQgMjU2YTE0Ni4yODYgMTQ2LjI4NiAwIDAgMSAyOTIuNTcyIDB2MjAxLjE0M2ExNDYuMjg2IDE0Ni4yODYgMCAwIDEtMjkyLjU3MiAweiIgcC1pZD0iMjAzNyIgZmlsbD0iIzY2NjY2NiI+PC9wYXRoPjxwYXRoIGQ9Ik04NDEuMTQzIDQ3NS40MjlhMjcuNDI5IDI3LjQyOSAwIDAgMC01NC44NTcgMCAyNTYgMjU2IDAgMCAxLTI1NiAyNTZoLTM2LjU3MmEyNTYgMjU2IDAgMCAxLTI1Ni0yNTYgMjcuNDI5IDI3LjQyOSAwIDAgMC01NC44NTcgMCAzMTAuODU3IDMxMC44NTcgMCAwIDAgMzAxLjcxNCAzMTAuODU3VjkzMi41N0gzNjUuNzE0YTI3LjQyOSAyNy40MjkgMCAwIDAgMCA1NC44NThoMjkyLjU3MmEyNy40MjkgMjcuNDI5IDAgMCAwIDAtNTQuODU4SDUzOS40MjlWNzg2LjI4NmEzMTAuODU3IDMxMC44NTcgMCAwIDAgMzAxLjcxNC0zMTAuODU3eiIgcC1pZD0iMjAzOCIgZmlsbD0iIzY2NjY2NiI+PC9wYXRoPjwvc3ZnPg=="
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.delay = t.stringToBlob = t.formatLogs = t.SPLITTER = void 0;
    var r, A = n(11),
      a = (r = A) && r.__esModule ? r : {
        default: r
      };
    var i = t.SPLITTER = "*&(&(*&(&(&*(*&^&^$^%$($^%";
    t.formatLogs = function (e, t, n) {
      for (var r = [], A = "用户账号: " + n + ", 房间ID: " + t + "\n\n", a = 0; a < e
        .length; a++) e[a] && (-1 !== e[a].indexOf(i) && r.length > 0 ? (A += r.join(
          "\n") +
        "\n\n\n\n\n\n******************************************************************************************\n******************************************************************************************\n******************************************************************************************\n******************************************************************************************\n******************************************************************************************\n\n\n",
        r = []) : r.push(e[a]));
      return r.length > 0 && (A += r.join("\n") + "\n\n"), A
    }, t.stringToBlob = function (e, t) {
      var n = new Blob([e], {
        type: "text/plain"
      });
      return n.lastModifiedDate = new Date, n.name = t, n
    }, t.delay = function (e) {
      return new a.default((function (t) {
        setTimeout((function () {
          t()
        }), e)
      }))
    }
  }, , , , function (e, t, n) {
    "use strict";
    e.exports = function (e, t, n, r) {
      var A = self || window;
      try {
        try {
          var a;
          try {
            a = new A.Blob([e])
          } catch (t) {
            (a = new(A.BlobBuilder || A.WebKitBlobBuilder || A.MozBlobBuilder || A
              .MSBlobBuilder)).append(e), a = a.getBlob()
          }
          var i = A.URL || A.webkitURL,
            o = i.createObjectURL(a),
            s = new A[t](o, n);
          return i.revokeObjectURL(o), s
        } catch (r) {
          return new A[t]("data:application/javascript,".concat(encodeURIComponent(e)),
            n)
        }
      } catch (e) {
        if (!r) throw Error("Inline worker is not supported");
        return new A[t](r, n)
      }
    }
  }, function (e, t, n) {
    (function (e) {
      var r = Object.getOwnPropertyDescriptors || function (e) {
          for (var t = Object.keys(e), n = {}, r = 0; r < t.length; r++) n[t[r]] =
            Object.getOwnPropertyDescriptor(e, t[r]);
          return n
        },
        A = /%[sdj%]/g;
      t.format = function (e) {
        if (!y(e)) {
          for (var t = [], n = 0; n < arguments.length; n++) t.push(o(arguments[n]));
          return t.join(" ")
        }
        n = 1;
        for (var r = arguments, a = r.length, i = String(e).replace(A, (function (e) {
            if ("%%" === e) return "%";
            if (n >= a) return e;
            switch (e) {
              case "%s":
                return String(r[n++]);
              case "%d":
                return Number(r[n++]);
              case "%j":
                try {
                  return JSON.stringify(r[n++])
                } catch (e) {
                  return "[Circular]"
                }
                default:
                  return e
            }
          })), s = r[n]; n < a; s = r[++n]) f(s) || !w(s) ? i += " " + s : i += " " +
          o(s);
        return i
      }, t.deprecate = function (n, r) {
        if (void 0 !== e && !0 === e.noDeprecation) return n;
        if (void 0 === e) return function () {
          return t.deprecate(n, r).apply(this, arguments)
        };
        var A = !1;
        return function () {
          if (!A) {
            if (e.throwDeprecation) throw new Error(r);
            e.traceDeprecation ? console.trace(r) : console.error(r), A = !0
          }
          return n.apply(this, arguments)
        }
      };
      var a, i = {};

      function o(e, n) {
        var r = {
          seen: [],
          stylize: u
        };
        return arguments.length >= 3 && (r.depth = arguments[2]), arguments.length >=
          4 && (r.colors = arguments[3]), h(n) ? r.showHidden = n : n && t._extend(r,
          n), v(r.showHidden) && (r.showHidden = !1), v(r.depth) && (r.depth = 2), v(r
            .colors) && (r.colors = !1), v(r.customInspect) && (r.customInspect = !0), r
          .colors && (r.stylize = s), l(r, e, r.depth)
      }

      function s(e, t) {
        var n = o.styles[t];
        return n ? "[" + o.colors[n][0] + "m" + e + "[" + o.colors[n][1] + "m" : e
      }

      function u(e, t) {
        return e
      }

      function l(e, n, r) {
        if (e.customInspect && n && M(n.inspect) && n.inspect !== t.inspect && (!n
            .constructor || n.constructor.prototype !== n)) {
          var A = n.inspect(r, e);
          return y(A) || (A = l(e, A, r)), A
        }
        var a = function (e, t) {
          if (v(t)) return e.stylize("undefined", "undefined");
          if (y(t)) {
            var n = "'" + JSON.stringify(t).replace(/^"|"$/g, "").replace(/'/g, "\\'")
              .replace(/\\"/g, '"') + "'";
            return e.stylize(n, "string")
          }
          if (g(t)) return e.stylize("" + t, "number");
          if (h(t)) return e.stylize("" + t, "boolean");
          if (f(t)) return e.stylize("null", "null")
        }(e, n);
        if (a) return a;
        var i = Object.keys(n),
          o = function (e) {
            var t = {};
            return e.forEach((function (e, n) {
              t[e] = !0
            })), t
          }(i);
        if (e.showHidden && (i = Object.getOwnPropertyNames(n)), I(n) && (i.indexOf(
            "message") >= 0 || i.indexOf("description") >= 0)) return c(n);
        if (0 === i.length) {
          if (M(n)) {
            var s = n.name ? ": " + n.name : "";
            return e.stylize("[Function" + s + "]", "special")
          }
          if (m(n)) return e.stylize(RegExp.prototype.toString.call(n), "regexp");
          if (B(n)) return e.stylize(Date.prototype.toString.call(n), "date");
          if (I(n)) return c(n)
        }
        var u, w = "",
          C = !1,
          b = ["{", "}"];
        (p(n) && (C = !0, b = ["[", "]"]), M(n)) && (w = " [Function" + (n.name ? ": " +
          n.name : "") + "]");
        return m(n) && (w = " " + RegExp.prototype.toString.call(n)), B(n) && (w = " " +
            Date.prototype.toUTCString.call(n)), I(n) && (w = " " + c(n)), 0 !== i
          .length || C && 0 != n.length ? r < 0 ? m(n) ? e.stylize(RegExp.prototype
            .toString.call(n), "regexp") : e.stylize("[Object]", "special") : (e.seen
            .push(n), u = C ? function (e, t, n, r, A) {
              for (var a = [], i = 0, o = t.length; i < o; ++i) k(t, String(i)) ? a
                .push(d(e, t, n, r, String(i), !0)) : a.push("");
              return A.forEach((function (A) {
                A.match(/^\d+$/) || a.push(d(e, t, n, r, A, !0))
              })), a
            }(e, n, r, o, i) : i.map((function (t) {
              return d(e, n, r, o, t, C)
            })), e.seen.pop(),
            function (e, t, n) {
              if (e.reduce((function (e, t) {
                  return t.indexOf("\n") >= 0 && 0, e + t.replace(/\u001b\[\d\d?m/g,
                    "").length + 1
                }), 0) > 60) return n[0] + ("" === t ? "" : t + "\n ") + " " + e.join(
                ",\n  ") + " " + n[1];
              return n[0] + t + " " + e.join(", ") + " " + n[1]
            }(u, w, b)) : b[0] + w + b[1]
      }

      function c(e) {
        return "[" + Error.prototype.toString.call(e) + "]"
      }

      function d(e, t, n, r, A, a) {
        var i, o, s;
        if ((s = Object.getOwnPropertyDescriptor(t, A) || {
            value: t[A]
          }).get ? o = s.set ? e.stylize("[Getter/Setter]", "special") : e.stylize(
            "[Getter]", "special") : s.set && (o = e.stylize("[Setter]", "special")), k(
            r, A) || (i = "[" + A + "]"), o || (e.seen.indexOf(s.value) < 0 ? (o = f(
            n) ? l(e, s.value, null) : l(e, s.value, n - 1)).indexOf("\n") > -1 && (
            o = a ? o.split("\n").map((function (e) {
              return "  " + e
            })).join("\n").substr(2) : "\n" + o.split("\n").map((function (e) {
              return "   " + e
            })).join("\n")) : o = e.stylize("[Circular]", "special")), v(i)) {
          if (a && A.match(/^\d+$/)) return o;
          (i = JSON.stringify("" + A)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (i = i
            .substr(1, i.length - 2), i = e.stylize(i, "name")) : (i = i.replace(/'/g,
            "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), i = e.stylize(i,
            "string"))
        }
        return i + ": " + o
      }

      function p(e) {
        return Array.isArray(e)
      }

      function h(e) {
        return "boolean" == typeof e
      }

      function f(e) {
        return null === e
      }

      function g(e) {
        return "number" == typeof e
      }

      function y(e) {
        return "string" == typeof e
      }

      function v(e) {
        return void 0 === e
      }

      function m(e) {
        return w(e) && "[object RegExp]" === C(e)
      }

      function w(e) {
        return "object" == typeof e && null !== e
      }

      function B(e) {
        return w(e) && "[object Date]" === C(e)
      }

      function I(e) {
        return w(e) && ("[object Error]" === C(e) || e instanceof Error)
      }

      function M(e) {
        return "function" == typeof e
      }

      function C(e) {
        return Object.prototype.toString.call(e)
      }

      function b(e) {
        return e < 10 ? "0" + e.toString(10) : e.toString(10)
      }
      t.debuglog = function (n) {
          if (v(a) && (a = e.env.NODE_DEBUG || ""), n = n.toUpperCase(), !i[n])
            if (new RegExp("\\b" + n + "\\b", "i").test(a)) {
              var r = e.pid;
              i[n] = function () {
                var e = t.format.apply(t, arguments);
                console.error("%s %d: %s", n, r, e)
              }
            } else i[n] = function () {};
          return i[n]
        }, t.inspect = o, o.colors = {
          bold: [1, 22],
          italic: [3, 23],
          underline: [4, 24],
          inverse: [7, 27],
          white: [37, 39],
          grey: [90, 39],
          black: [30, 39],
          blue: [34, 39],
          cyan: [36, 39],
          green: [32, 39],
          magenta: [35, 39],
          red: [31, 39],
          yellow: [33, 39]
        }, o.styles = {
          special: "cyan",
          number: "yellow",
          boolean: "yellow",
          undefined: "grey",
          null: "bold",
          string: "green",
          date: "magenta",
          regexp: "red"
        }, t.isArray = p, t.isBoolean = h, t.isNull = f, t.isNullOrUndefined =
        function (e) {
          return null == e
        }, t.isNumber = g, t.isString = y, t.isSymbol = function (e) {
          return "symbol" == typeof e
        }, t.isUndefined = v, t.isRegExp = m, t.isObject = w, t.isDate = B, t.isError =
        I, t.isFunction = M, t.isPrimitive = function (e) {
          return null === e || "boolean" == typeof e || "number" == typeof e ||
            "string" == typeof e || "symbol" == typeof e || void 0 === e
        }, t.isBuffer = n(282);
      var x = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct",
        "Nov", "Dec"
      ];

      function T() {
        var e = new Date,
          t = [b(e.getHours()), b(e.getMinutes()), b(e.getSeconds())].join(":");
        return [e.getDate(), x[e.getMonth()], t].join(" ")
      }

      function k(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
      }
      t.log = function () {
        console.log("%s - %s", T(), t.format.apply(t, arguments))
      }, t.inherits = n(283), t._extend = function (e, t) {
        if (!t || !w(t)) return e;
        for (var n = Object.keys(t), r = n.length; r--;) e[n[r]] = t[n[r]];
        return e
      };
      var E = "undefined" != typeof Symbol ? Symbol("util.promisify.custom") : void 0;

      function N(e, t) {
        if (!e) {
          var n = new Error("Promise was rejected with a falsy value");
          n.reason = e, e = n
        }
        return t(e)
      }
      t.promisify = function (e) {
        if ("function" != typeof e) throw new TypeError(
          'The "original" argument must be of type Function');
        if (E && e[E]) {
          var t;
          if ("function" != typeof (t = e[E])) throw new TypeError(
            'The "util.promisify.custom" argument must be of type Function');
          return Object.defineProperty(t, E, {
            value: t,
            enumerable: !1,
            writable: !1,
            configurable: !0
          }), t
        }

        function t() {
          for (var t, n, r = new Promise((function (e, r) {
              t = e, n = r
            })), A = [], a = 0; a < arguments.length; a++) A.push(arguments[a]);
          A.push((function (e, r) {
            e ? n(e) : t(r)
          }));
          try {
            e.apply(this, A)
          } catch (e) {
            n(e)
          }
          return r
        }
        return Object.setPrototypeOf(t, Object.getPrototypeOf(e)), E && Object
          .defineProperty(t, E, {
            value: t,
            enumerable: !1,
            writable: !1,
            configurable: !0
          }), Object.defineProperties(t, r(e))
      }, t.promisify.custom = E, t.callbackify = function (t) {
        if ("function" != typeof t) throw new TypeError(
          'The "original" argument must be of type Function');

        function n() {
          for (var n = [], r = 0; r < arguments.length; r++) n.push(arguments[r]);
          var A = n.pop();
          if ("function" != typeof A) throw new TypeError(
            "The last argument must be of type Function");
          var a = this,
            i = function () {
              return A.apply(a, arguments)
            };
          t.apply(this, n).then((function (t) {
            e.nextTick(i, null, t)
          }), (function (t) {
            e.nextTick(N, t, i)
          }))
        }
        return Object.setPrototypeOf(n, Object.getPrototypeOf(t)), Object
          .defineProperties(n, r(t)), n
      }
    }).call(this, n(154))
  }, function (e, t) {
    e.exports = function (e) {
      return e.webpackPolyfill || (e.deprecate = function () {}, e.paths = [], e
        .children || (e.children = []), Object.defineProperty(e, "loaded", {
          enumerable: !0,
          get: function () {
            return e.l
          }
        }), Object.defineProperty(e, "id", {
          enumerable: !0,
          get: function () {
            return e.i
          }
        }), e.webpackPolyfill = 1), e
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.GET_CHANNEL_TIMEOUT = 699, t.SOCKET_UNKNOWN_ERROR = 700, t.SOCKET_CLOSE_ERROR = 701,
      t.SOCKET_IN_USE_ERROR = 702, t.SESSION_EXPIRE_ERROR = 713, t.LOGIN_TIMEOUT_ERROR =
      714, t.LOGIN_FAILED_ERROR = 715, t.SOCKET_NOT_INIT_ERROR = 716, t
      .SOCKET_NOT_OPEN_ERROR = 717
  }, , , , , function (module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: !0
    }), exports.App = void 0;
    var _regenerator = __webpack_require__(25),
      _regenerator2 = _interopRequireDefault(_regenerator),
      _keys = __webpack_require__(20),
      _keys2 = _interopRequireDefault(_keys),
      _typeof2 = __webpack_require__(33),
      _typeof3 = _interopRequireDefault(_typeof2),
      _getIterator2 = __webpack_require__(7),
      _getIterator3 = _interopRequireDefault(_getIterator2),
      _stringify = __webpack_require__(21),
      _stringify2 = _interopRequireDefault(_stringify),
      _assign = __webpack_require__(5),
      _assign2 = _interopRequireDefault(_assign),
      _set = __webpack_require__(42),
      _set2 = _interopRequireDefault(_set),
      _classCallCheck2 = __webpack_require__(0),
      _classCallCheck3 = _interopRequireDefault(_classCallCheck2),
      _createClass2 = __webpack_require__(1),
      _createClass3 = _interopRequireDefault(_createClass2),
      _promise = __webpack_require__(11),
      _promise2 = _interopRequireDefault(_promise),
      _container = __webpack_require__(105),
      _container2 = _interopRequireDefault(_container),
      _OpsManager = __webpack_require__(279),
      _OpsManager2 = _interopRequireDefault(_OpsManager),
      _dispatcher2 = __webpack_require__(146),
      _dispatcher3 = _interopRequireDefault(_dispatcher2),
      _room = __webpack_require__(363),
      _room2 = _interopRequireDefault(_room),
      _dataHub = __webpack_require__(217),
      _dataHub2 = _interopRequireDefault(_dataHub),
      _types = __webpack_require__(96),
      _previewFactory = __webpack_require__(367),
      _previewFactory2 = _interopRequireDefault(_previewFactory),
      _config = __webpack_require__(236),
      _config2 = _interopRequireDefault(_config),
      _camera = __webpack_require__(368),
      _camera2 = _interopRequireDefault(_camera),
      _validate = __webpack_require__(251),
      _validate2 = _interopRequireDefault(_validate),
      _player = __webpack_require__(369),
      _player2 = _interopRequireDefault(_player),
      _simulator = __webpack_require__(370),
      _simulator2 = _interopRequireDefault(_simulator),
      _vision = __webpack_require__(371),
      _vision2 = _interopRequireDefault(_vision),
      _toast = __webpack_require__(31),
      _util = __webpack_require__(252),
      _isBase = __webpack_require__(372),
      _isBase2 = _interopRequireDefault(_isBase),
      _textConfig = __webpack_require__(373),
      _textConfig2 = _interopRequireDefault(_textConfig),
      _constant = __webpack_require__(32),
      _constant2 = _interopRequireDefault(_constant),
      _dataReport = __webpack_require__(72),
      _dataReport2 = _interopRequireDefault(_dataReport),
      _aliveManager = __webpack_require__(374),
      _aliveManager2 = _interopRequireDefault(_aliveManager),
      _instance = __webpack_require__(375),
      _instance2 = _interopRequireDefault(_instance),
      _delay = __webpack_require__(158),
      _ShapeSelector = __webpack_require__(454),
      _ShapeSelector2 = _interopRequireDefault(_ShapeSelector),
      _resourceCache = __webpack_require__(455),
      _resourceCache2 = _interopRequireDefault(_resourceCache),
      _shapeManager = __webpack_require__(460),
      _shapeManager2 = _interopRequireDefault(_shapeManager),
      _drawConfig = __webpack_require__(22),
      _drawConfig2 = _interopRequireDefault(_drawConfig),
      _util2 = __webpack_require__(133),
      _lang = __webpack_require__(14),
      _timerWorker = __webpack_require__(468),
      _timerWorker2 = _interopRequireDefault(_timerWorker),
      _visibleChangeUtil = __webpack_require__(102);

    function _interopRequireDefault(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var __awaiter = function (e, t, n, r) {
        return new(n || (n = _promise2.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      defaultServiceConf = {
        textFontUrl: "https://wb.vod.126.net/courseware/fonts",
        pptFontUrl: "https://wb.vod.126.net/courseware/pptview/fonts/"
      },
      App = function () {
        function App(e) {
          var t, n, r, A, a, i, o, s, u, l, c = this;
          if ((0, _classCallCheck3.default)(this, App), this.PluginType = _types
            .PluginType, this.isRecordPlayer = !1, this.editEnabled = !1, this
            .showCursor = !1, this.isConnected = !1, this.cameraReady = !1, this
            .floatToolbar = null, this.destroyed = !1, this.zoomTo1AfterJoin = !0, this
            .reportedError = new _set2.default, this.pageVisible = !0, this.sessionId = e
            .sessionId || "", this.account = e.account, this.nickname = e.nickname ? e
            .nickname : e.account, this.platform = e.platform, this.appkey = e.appkey,
            this.logger = e.logger, this.isG1 = e.isG1, this.serviceConf = (0, _assign2
              .default)({}, defaultServiceConf, e.serviceConf), this.ntpTimeDiff = e
            .ntpTimeDiff ? e.ntpTimeDiff : 0, this.uid = Number(e.uid), this.lang = e
            .lang, this.visHandlerUnregist = (0, _visibleChangeUtil
              .registerVisibleChangeHandler)((function () {
              c.pageVisible = !0
            }), (function () {
              c.pageVisible = !1
            })), e.getAntiLeechInfo && (this.getAntiLeechInfo = e.getAntiLeechInfo), !
            isNaN(Number(null === (t = e.cameraBound) || void 0 === t ? void 0 : t
              .centerX)) && !isNaN(Number(null === (n = e.cameraBound) || void 0 === n ?
              void 0 : n.centerY)) && !isNaN(Number(null === (r = e.cameraBound) ||
              void 0 === r ? void 0 : r.width)) && !isNaN(Number(null === (A = e
              .cameraBound) || void 0 === A ? void 0 : A.height)) && Number(null === (a =
              e.cameraBound) || void 0 === a ? void 0 : a.width) > 0 && Number(null === (
              i = e.cameraBound) || void 0 === i ? void 0 : i.height) > 0 ? this
            .defaultCameraBound = {
              centerX: Number(null === (o = e.cameraBound) || void 0 === o ? void 0 : o
                .centerX),
              centerY: Number(null === (s = e.cameraBound) || void 0 === s ? void 0 : s
                .centerY),
              width: Number(null === (u = e.cameraBound) || void 0 === u ? void 0 : u
                .width),
              height: Number(null === (l = e.cameraBound) || void 0 === l ? void 0 : l
                .height)
            } : e.cameraBound && this.logger.error(
              "[wb] drawPlugin init cameraBound is invalid", (0, _stringify2.default)(e
                .cameraBound)), this.zoomTo1AfterJoin = void 0 === e.zoomTo1AfterJoin || !
            0 === e.zoomTo1AfterJoin, this.nim = e.nim, this.resourceCache =
            new _resourceCache2.default(this), this.simulator = new _simulator2.default(
              this), this.shapeManager = new _shapeManager2.default(this), this
            .dispatcher = new _dispatcher3.default, this.configInstance = new _config2
            .default(this), !1 === e.cacheUploadDocs && this.setAppConfig({
              cacheUploadDocs: !1
            }), e.appConfig && this.setAppConfig(e.appConfig), this.opsManager =
            new _OpsManager2.default(this), this.opsManager.extendDefaultOps(), this
            .dataHub = new _dataHub2.default(this, e.connector), this.shapeSelector =
            new _ShapeSelector2.default(this), this.container = new _container2.default(
              this), this.room = new _room2.default(this, this.dataHub), this.container
            .addOpsManager(this.opsManager), this.opsManager.addContainer(this.container),
            this.camera = new _camera2.default(this, this.defaultCameraBound), this
            .vision = new _vision2.default(this), this.textConfig = new _textConfig2
            .default(this), Array.isArray(e.pluginDefArr)) {
            var d = !0,
              p = !1,
              h = void 0;
            try {
              for (var f, g = (0, _getIterator3.default)(e.pluginDefArr); !(d = (f = g
                  .next()).done); d = !0) {
                var y = f.value;
                this.definePlugin(y)
              }
            } catch (e) {
              p = !0, h = e
            } finally {
              try {
                !d && g.return && g.return()
              } finally {
                if (p) throw h
              }
            }
          }
          this.isRecordPlayer = !!e.isRecordPlayer, e.isRecordPlayer || (this
              .previewFactory = new _previewFactory2.default(this)), this.aliveManager =
            new _aliveManager2.default(this), e.isRecordPlayer && (this.player =
              new _player2.default(this)), e.container && this.setContainer(e.container),
            _drawConfig2.default.init()
        }
        return (0, _createClass3.default)(App, [{
          key: "startWorker",
          value: function () {
            var e = this;
            this.timeWorker = this.timeWorker || new _timerWorker2.default, this
              .timeWorker.postMessage({
                command: "start",
                interval: this.appConfig.workerTimerInterval
              }), this.timeWorker.onmessage = function (t) {
                var n;
                e.room && "tick" === (null === (n = null == t ? void 0 : t
                    .data) || void 0 === n ? void 0 : n.message) && e.room
                  .workerRefresh()
              }
          }
        }, {
          key: "stopWorker",
          value: function () {
            this.timeWorker && this.timeWorker.postMessage({
              command: "end"
            })
          }
        }, {
          key: "updateWorker",
          value: function () {
            this.timeWorker && this.timeWorker.postMessage({
              command: "update",
              interval: this.appConfig.workerTimerInterval
            })
          }
        }, {
          key: "getStream",
          value: function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
              0] : {};
            _validate2.default.validate(this.logger, "container.getStream", e, {
              width: {
                isRequire: !1,
                type: "number"
              },
              keepDPI: {
                isRequire: !1,
                type: "boolean"
              }
            }), this.startWorker();
            var t = this.room.currBoard.currPage;
            if (t) {
              var n = t.opsManager.opMap.url.currentUrlOpid;
              if (n) {
                var r = t.opsManager.opMap.url;
                r.getStream()
              }
            }
            return this.container.getStream(e, !0)
          }
        }, {
          key: "updateStream",
          value: function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
              0] : {};
            return _validate2.default.validate(this.logger,
              "container.updateStream", e, {
                width: {
                  isRequire: !1,
                  type: "number"
                },
                keepDPI: {
                  isRequire: !1,
                  type: "boolean"
                }
              }), this.container.getStream(e, !1)
          }
        }, {
          key: "stopStream",
          value: function () {
            this.stopWorker(), this.container.stopStream();
            var e = this.room.currBoard.currPage;
            e && (e.opsManager.opMap.url.currentUrlOpid && e.opsManager.opMap.url
              .stopStream())
          }
        }, {
          key: "getStrokeWidth",
          value: function () {}
        }, {
          key: "getOpacity",
          value: function () {}
        }, {
          key: "getColor",
          value: function () {}
        }, {
          key: "getDefStyles",
          value: function () {
            return _drawConfig2.default.getDefStyles()
          }
        }, {
          key: "getRedoCount",
          value: function () {
            return this.opsManager.opMap.redo.getCount()
          }
        }, {
          key: "getUndoCount",
          value: function () {
            return this.opsManager.opMap.undo.getCount()
          }
        }, {
          key: "isClearAvailable",
          value: function () {
            return this.opsManager.opMap.clear.isAvailable()
          }
        }, {
          key: "isTextAreaFocus",
          value: function () {
            return !1
          }
        }, {
          key: "isCameraReady",
          value: function () {
            return this.cameraReady
          }
        }, {
          key: "getSelectedIds",
          value: function () {
            return this.opsManager.opMap.select.getSelectedIds()
          }
        }, {
          key: "getPageElementInfos",
          value: function () {
            var e = this.room.currBoard.currPage.drawOpQueue,
              t = this.room.currBoard.currPage.hiddenOpQueue,
              n = [];
            for (var r in e) n.push({
              id: r,
              type: e[r].data.type,
              visible: !0
            });
            for (var A in t) n.push({
              id: A,
              type: t[A].data.type,
              visible: !1
            });
            return n
          }
        }, {
          key: "getZoomFactor",
          value: function () {
            return this.camera.zoomFactor
          }
        }, {
          key: "getCameraBound",
          value: function () {
            return this.camera.getContainerWorldRect()
          }
        }, {
          key: "getVisionState",
          value: function () {
            return {
              mode: this.vision.mode,
              broadcasterName: this.vision.broadcasterName,
              broadcaster: this.vision.broadcaster
            }
          }
        }, {
          key: "getCoordInWorld",
          value: function (e) {
            var t = e.x,
              n = e.y;
            return "ratio" === e.type && (t = this.container.width * t, n = this
              .container.height * n), this.camera.convertToPointInWorld(t, n)
          }
        }, {
          key: "getResourceMetadata",
          value: function (e) {
            this.logger.log("[白板]", "drawPlugin.getResourceMetadata", e),
              _validate2.default.validate(this.logger,
                "drawPlugin.getResourceMetadata", e, {
                  url: {
                    type: "string",
                    isRequire: !0
                  },
                  type: {
                    type: "string",
                    isRequire: !0,
                    enum: ["image", "video", "audio"]
                  }
                });
            var t = e.url,
              n = e.type;
            return this.resourceCache.getResourceMetadata(t, n)
          }
        }, {
          key: "setAppConfig",
          value: function (e) {
            this.configInstance.setAppConfig(e)
          }
        }, {
          key: "setNickName",
          value: function (e) {
            this.nickname = e
          }
        }, {
          key: "setContainer",
          value: function (e) {
            var t;
            this.logger.log("set container"), e.innerHTML = "", this.container
              .appendTo(e), null === (t = this.previewFactory) || void 0 === t ||
              t.reset(), this.isRecordPlayer || this.setFloatToolbar(e)
          }
        }, {
          key: "setFloatToolbar",
          value: function (e) {
            var t = this;
            _promise2.default.resolve().then((function () {
              t.floatToolbar = _instance2.default.getInstance({
                container: e,
                drawPlugin: t
              })
            }))
          }
        }, {
          key: "updateContainerAfterResize",
          value: function () {
            this.container.resize()
          }
        }, {
          key: "exportBoards",
          value: function (e) {
            if (_validate2.default.validate(this.logger,
                "drawPlugin.exportBoards", e, {
                  download: {
                    type: "boolean"
                  },
                  boardNames: {
                    type: "array",
                    isRequire: !0
                  },
                  fileName: {
                    type: "string"
                  }
                }), 0 === e.boardNames.length) throw new Error("boardNames不能为空");
            try {
              var t = this.getBoardInfos(),
                n = !0,
                r = !1,
                A = void 0;
              try {
                for (var a, i = (0, _getIterator3.default)(e.boardNames); !(n = (
                    a = i.next()).done); n = !0) {
                  var o = a.value;
                  if (-1 === t.boardNames.indexOf(o)) throw new Error("Board: " +
                    o + " 不存在")
                }
              } catch (e) {
                r = !0, A = e
              } finally {
                try {
                  !n && i.return && i.return()
                } finally {
                  if (r) throw A
                }
              }
              return this.room.exportBoards(e.boardNames, e.fileName, e.download)
            } catch (e) {
              return this.logger.error("drawPlugin.exportBoards error", e), null
            }
          }
        }, {
          key: "importBoards",
          value: function (e) {
            _validate2.default.validate(this.logger, "drawPlugin.importBoards",
            e, {
              boardNames: {
                type: "array"
              },
              url: {
                type: "string",
                isRequire: !0
              }
            }), this.emit("op:board:import", e.url, e.boardNames, e.overwrite)
          }
        }, {
          key: "readyToSyncData",
          value: function () {
            document.body.style.cursor = "auto", this.dataHub.sendSyncRequest()
          }
        }, {
          key: "stopSyncData",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.stopSyncData"), this.dataHub
              .stopSyncRequest()
          }
        }, {
          key: "setIsConnected",
          value: function (e) {
            this.logger.warn("[wb]drawPlugin.setIsConnected", e), this
              .isConnected = e, this.isConnected || (document.body.style.cursor =
                "auto"), this.emit("event:editable:change", this.editable)
          }
        }, {
          key: "resetState",
          value: function () {
            var e;
            this.logger.log("[wb]resetState"), this.room.reset(), this.dataHub
              .reset(), this.opsManager.destroy(), this.resourceCache.destroy(),
              null === (e = this.previewFactory) || void 0 === e || e.reset(),
              this.shapeSelector.destroy()
          }
        }, {
          key: "addImage",
          value: function (e) {
            this.logger.log("[wb]", "drawPlugin.addImage", e), _validate2.default
              .validate(this.logger, "drawPlugin.addImage", e, {
                url: {
                  type: "string",
                  isRequire: !0
                }
              });
            var t = void 0 === e.pageName ? this.room.getPageNameFromIndex(e
              .boardName, e.pageIndex) : e.pageName;
            (0, _isBase2.default)(e.url) || (0, _isBase2.default)(e.url, {
              allowMime: !0
            }) ? (0, _util.uploadAndAddImg)(this, {
              dataURL: e.url,
              fileName: "img.png"
            }, {
              pageName: t,
              boardName: e.boardName
            }) : e.url.length > 1e4 ? this.logger.error("[wb]",
                "drawPlugin.addImage opt.url length should be less than 10000") :
              this.emit("op:image:upload", e.url, {
                pageName: t,
                boardName: e.boardName,
                antiLeechProp: e.antiLeechProp
              })
          }
        }, {
          key: "addVideo",
          value: function (e) {
            this.logger.log("[wb]", "drawPlugin.addVideo", e), _validate2.default
              .validate(this.logger, "drawPlugin.addVideo", e, {
                url: {
                  type: "string",
                  isRequire: !0
                },
                sourceType: {
                  type: "string",
                  isRequire: !0
                },
                title: {
                  type: "string"
                }
              });
            var t = void 0 === e.pageName ? this.room.getPageNameFromIndex(e
              .boardName, e.pageIndex) : e.pageName;
            if (!this.hasMediaOnPage(!0, e.boardName, t)) {
              var n = e.sourceType.startsWith("video/") ? e.sourceType :
                "video/" + e.sourceType;
              this.emit("op:video:insert", e.url, {
                title: e.title,
                sourceType: n,
                pageName: t,
                boardName: e.boardName,
                antiLeechProp: e.antiLeechProp
              })
            }
          }
        }, {
          key: "addUrl",
          value: function (e) {
            this.logger.warn("[wb]", "drawPlugin.addUrl", e), _validate2.default
              .validate(this.logger, "drawPlugin.addUrl", e, {
                url: {
                  type: "string",
                  isRequire: !0
                },
                sourceType: {
                  type: "string",
                  isRequire: !0
                },
                title: {
                  type: "string"
                }
              });
            var t = void 0 === e.pageName ? this.room.getPageNameFromIndex(e
              .boardName, e.pageIndex) : e.pageName;
            this.hasMediaOnPage(!0, e.boardName, t) || this.emit("op:url:insert",
              e.url, {
                title: e.title,
                sourceType: e.sourceType,
                pageName: t,
                boardName: e.boardName
              })
          }
        }, {
          key: "hasMediaOnPage",
          value: function (e, t, n) {
            var r = this.room.getPageWithFallback(t, n);
            return !(!r || !(r.hasMedia("audio") || r.hasMedia("video") || r
              .hasMedia("url"))) && (this.logger.warn(
              "[白板] 同一页白板中仅允许插入一个音视频或者一个H5页面"), e && (0, _toast.showToast)({
              msg: (0, _lang.getMsg)("onemedia"),
              type: "warn",
              time: 3,
              msgType: _constant2.default.ONE_MEDIA_LIMIT
            }), !0)
          }
        }, {
          key: "addAudio",
          value: function (e) {
            this.logger.log("[wb]", "drawPlugin.addAudio", e), _validate2.default
              .validate(this.logger, "drawPlugin.addAudio", e, {
                url: {
                  type: "string",
                  isRequire: !0
                },
                sourceType: {
                  type: "string",
                  isRequire: !0
                },
                title: {
                  type: "string"
                }
              });
            var t = void 0 === e.pageName ? this.room.getPageNameFromIndex(e
              .boardName, e.pageIndex) : e.pageName;
            if (!this.hasMediaOnPage(!0, e.boardName, t)) {
              var n = e.sourceType.startsWith("audio/") ? e.sourceType :
                "audio/" + e.sourceType;
              this.emit("op:audio:insert", e.url, {
                title: e.title,
                sourceType: n,
                pageName: t,
                boardName: e.boardName,
                antiLeechProp: e.antiLeechProp
              })
            }
          }
        }, {
          key: "setPageBackground",
          value: function (e) {
            this.logger.log("[wb]", "drawPlugin.setPageBackground", e), _validate2
              .default.validate(this.logger, "drawPlugin.setPageBackground", e, {
                url: {
                  type: "string",
                  isRequire: !0
                },
                width: {
                  type: "number",
                  isRequire: !0
                },
                height: {
                  type: "number",
                  isRequire: !0
                }
              });
            var t = this.room.getPageNameFromIndex(e.boardName, e.pageIndex);
            this.emit("op:background:imageUpload", e.url, {
              width: e.width,
              height: e.height,
              pageName: t,
              boardName: e.boardName,
              antiLeechProp: e.antiLeechProp
            })
          }
        }, {
          key: "hasBackground",
          value: function (e) {
            return (e = e || this.room.currBoard.currPage).backgroundSnapshot ||
              null !== e.getAnimPageIndex()
          }
        }, {
          key: "hasTransDoc",
          value: function () {
            return void 0 !== this.room.currBoard.transDocSnapshot
          }
        }, {
          key: "hasDoc",
          value: function (e) {
            return (e = e || this.room.currBoard).hasDoc
          }
        }, {
          key: "addTransDoc",
          value: function (e) {
            if (this.logger.log("[wb]", "drawPlugin.addTransDoc", e), this
              .appConfig.uniqueDocName && this.getBoardInfos().boardDisplayNames
              .indexOf(e.docName) > -1) return this.logger.error("[wb]",
              "drawPlugin.addTransDoc", "已存在同名文档 " + e.docName + ".");
            var t = e.docName + "_" + (new Date).valueOf(),
              n = (0, _assign2.default)({}, e, {
                displayName: e.docName,
                boardName: t
              });
            return this.emit("op:transDoc:add", n), t
          }
        }, {
          key: "addDoc",
          value: function (e) {
            return this.logger.log("[wb]", "drawPlugin.addDoc", e), this.appConfig
              .uniqueDocName && this.getBoardInfos().boardDisplayNames.indexOf(e
                .docName) > -1 ? this.logger.error("[wb]", "drawPlugin.addDoc",
                "已存在同名文档 " + e.docName + ".") : Array.isArray(e.params) ? this
              ._addDocByUrlArray(e) : this._addDocByUrlTemplate(e)
          }
        }, {
          key: "_addDocByUrlArray",
          value: function (e) {
            _validate2.default.validate(this.logger, "drawPlugin.addDoc", e, {
              docName: {
                type: "string",
                isRequire: !0
              },
              params: {
                type: "array",
                isRequire: !0
              }
            });
            for (var t = 0; t < e.params.length; t++) _validate2.default.validate(
              this.logger, "drawPlugin.addDoc opt.params[" + t + "]", e.params[
                t], {
                url: {
                  type: "string",
                  isRequire: !0
                },
                width: {
                  type: "number",
                  isRequire: !0
                },
                height: {
                  type: "number",
                  isRequire: !0
                }
              });
            if (0 === e.params.length) throw new Error(
              "addDoc参数中params的数组长度必须大于0");
            for (var n = e.docName, r = e.params, A = this.addBoard(n, r.length),
                a = 0; a < r.length; a++) this.setPageBackground({
              url: r[a].url,
              width: r[a].width,
              height: r[a].height,
              pageIndex: a,
              boardName: A
            });
            return A
          }
        }, {
          key: "_addDocByUrlTemplate",
          value: function (e) {
            if (_validate2.default.validate(this.logger, "drawPlugin.addDoc", e, {
                docName: {
                  type: "string",
                  isRequire: !0
                }
              }), _validate2.default.validate(this.logger,
                "drawPlugin.addDoc opt.params", e.params, {
                  template: {
                    type: "string",
                    isRequire: !0
                  },
                  width: {
                    type: "number",
                    isRequire: !0
                  },
                  height: {
                    type: "number",
                    isRequire: !0
                  },
                  pageCount: {
                    type: "number",
                    isRequire: !0
                  },
                  offset: {
                    type: "number",
                    isRequire: !0
                  }
                }), e.params.pageCount <= 0) throw new Error(
              "addDoc参数中params.pageCount必须大于0");
            var t = e.docName,
              n = e.params,
              r = t + "_" + (new Date).valueOf();
            return this.emit("op:board:add", t, r, n.pageCount, {
              width: e.params.width,
              height: e.params.height,
              template: e.params.template,
              offset: e.params.offset,
              backupResultUrls: e.params.backupResultUrls
            }), r
          }
        }, {
          key: "setCustomBackground",
          value: function setCustomBackground(coordinate, customFn, bgName) {
            if ("string" == typeof customFn) try {
              customFn = eval(customFn)
            } catch (e) {
              return void this.logger.error(
                "setCustomBackground的参数应该为函数，或者函数的字符串表达", e)
            }
            "function" == typeof customFn && "world" === coordinate ? (this
                .bgRenderWorld = customFn, this.bgRenderContainer = void 0, this
                .bgRenderName = bgName) : "function" == typeof customFn &&
              "container" === coordinate ? (this.bgRenderWorld = void 0, this
                .bgRenderContainer = customFn, this.bgRenderName = bgName) : this
              .logger.error("setCustomBackground第一个参数为函数，第二个参数为world或者container"),
              this.room.refresh()
          }
        }, {
          key: "unsetCustomBackground",
          value: function () {
            this.bgRenderContainer = void 0, this.bgRenderWorld = void 0, this
              .bgRenderName = void 0, this.room.refresh()
          }
        }, {
          key: "getBgRendererName",
          value: function () {
            return this.bgRenderName
          }
        }, {
          key: "setTool",
          value: function (e, t) {
            this.emit("op:activate", e, t)
          }
        }, {
          key: "setFontFamilies",
          value: function (e) {
            Array.isArray(e) && 0 !== e.length || this.logger.error(
              "[wb] drawPlugin.setFontFamilies: arguments must be a non empty array"
              ), this.textConfig.setFontFamilies(e)
          }
        }, {
          key: "getFontFamilies",
          value: function () {
            return this.textConfig.getFontFamilies()
          }
        }, {
          key: "setFontFamily",
          value: function () {}
        }, {
          key: "setColor",
          value: function (e) {
            this.logger.log("[wb]", "drawPlugin.setColor", e), this
              .setStrokeColor("link", e), this.setStrokeColor("pen", e), this
              .setStrokeColor("shape", e)
          }
        }, {
          key: "setStrokeColor",
          value: function (e, t) {
            if (this.logger.log("[wb]", "drawPlugin.setStrokeColor", e, t), -1 ===
              ["link", "shape", "pen"].indexOf(e)) return this.logger.error(
              "[wb] drawPlugin.setStrokeColor: argument type must be one of link, shape or pen"
              );
            "link" === e ? _drawConfig2.default.linkDef.stroke = t : "shape" ===
              e ? _drawConfig2.default.shapeDef.stroke = t : "pen" === e && (
                _drawConfig2.default.penDef.stroke = t), _drawConfig2.default
              .notify(this)
          }
        }, {
          key: "setStrokeWidth",
          value: function (e, t) {
            if (this.logger.log("[wb]", "drawPlugin.setStrokeWidth", e, t), -1 ===
              ["link", "shape", "pen"].indexOf(e)) return this.logger.error(
              "[wb] drawPlugin.setStrokeWidth: type must be one of link, shape or pen"
              );
            "link" === e ? _drawConfig2.default.linkDef.lineWidth = t :
              "shape" === e ? _drawConfig2.default.shapeDef.lineWidth = t :
              "pen" === e && (_drawConfig2.default.penDef.lineWidth = t),
              _drawConfig2.default.notify(this)
          }
        }, {
          key: "setStrokeCursor",
          value: function (e, t) {
            if (this.logger.log("[wb]", "drawPlugin.setStrokeCursor", e, t), -
              1 === ["shape", "pen"].indexOf(e)) return this.logger.error(
              "[wb] drawPlugin.setStrokeCursor: type must be one of shape or pen"
              );
            "shape" === e ? _drawConfig2.default.shapeDef.cursorImgUrl = t :
              "pen" === e && (_drawConfig2.default.penDef.cursorImgUrl = t),
              _drawConfig2.default.notify(this)
          }
        }, {
          key: "setOpacity",
          value: function () {}
        }, {
          key: "setShowCursor",
          value: function (e) {
            this.logger.log("[wb]", "drawPlugin.setShowCursor", e), this
              .showCursor = e
          }
        }, {
          key: "enableDraw",
          value: function (e) {
            this.logger.log("[wb]", "drawPlugin.enableDraw", e), _validate2
              .default.validate(this.logger, "drawPlugin.enableDraw", {
                editEnabled: e
              }, {
                editEnabled: {
                  type: "boolean",
                  isRequire: !0
                }
              }), this.editEnabled !== e && (e || (document.body.style.cursor =
                  "auto"), this.editEnabled = e, this.opsManager.hooks
                .enableDrawChange.call(e), this.emit("event:editable:change", this
                  .editable))
          }
        }, {
          key: "enableCameraTransform",
          value: function () {
            var e = !(arguments.length > 0 && void 0 !== arguments[0]) ||
              arguments[0];
            this.logger.log("[wb]", "drawPlugin.enableCameraTransform", e), this
              .setAppConfig({
                cameraTransformEnabled: e
              })
          }
        }, {
          key: "resetCamera",
          value: function () {
            var e = !(arguments.length > 0 && void 0 !== arguments[0]) ||
              arguments[0];
            this.logger.log("[wb]", "drawPlugin.resetCamera"), "follower" === this
              .vision.mode ? (0, _toast.showToast)({
                msg: (0, _lang.getMsg)("follow"),
                type: "info",
                msgType: _constant2.default
                  .NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER,
                args: {
                  broadcasterName: this.vision.broadcasterName,
                  broadcaster: this.vision.broadcaster
                }
              }) : this.emit("op:reset-camera:exec", e)
          }
        }, {
          key: "setCameraBound",
          value: function (e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[
              1];
            this.logger.log("[wb]", "drawPlugin.setCameraBound boundary: ", (0,
              _stringify2.default)(e), "animate: ", t);
            var n = _validate2.default.validate(this.logger,
              "drawPlugin.setCameraBound", e, {
                centerX: {
                  type: "number",
                  isRequire: !0
                },
                centerY: {
                  type: "number",
                  isRequire: !0
                },
                width: {
                  type: "number",
                  isRequire: !0
                },
                height: {
                  type: "number",
                  isRequire: !0
                }
              });
            n && this.emit("op:camera-bound:send", e, t)
          }
        }, {
          key: "fitToContent",
          value: function () {
            var e = !(arguments.length > 0 && void 0 !== arguments[0]) ||
              arguments[0];
            "follower" === this.vision.mode ? (0, _toast.showToast)({
              msg: (0, _lang.getMsg)("follow"),
              type: "info",
              msgType: _constant2.default
                .NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER,
              args: {
                broadcasterName: this.vision.broadcasterName,
                broadcaster: this.vision.broadcaster
              }
            }) : this.emit("op:fit-to-content:exec", e)
          }
        }, {
          key: "fitToDoc",
          value: function () {
            var e = !(arguments.length > 0 && void 0 !== arguments[0]) ||
              arguments[0];
            this.logger.log("[wb]", "drawPlugin.fitToDoc"), "follower" === this
              .vision.mode ? (0, _toast.showToast)({
                msg: (0, _lang.getMsg)("follow"),
                type: "info",
                msgType: _constant2.default
                  .NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER,
                args: {
                  broadcasterName: this.vision.broadcasterName,
                  broadcaster: this.vision.broadcaster
                }
              }) : this.emit("op:fit-to-doc:exec", e)
          }
        }, {
          key: "zoomIn",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.zoomIn"), "follower" === this
              .vision.mode ? (0, _toast.showToast)({
                msg: (0, _lang.getMsg)("follow"),
                type: "info",
                msgType: _constant2.default
                  .NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER,
                args: {
                  broadcasterName: this.vision.broadcasterName,
                  broadcaster: this.vision.broadcaster
                }
              }) : this.emit("op:zoom:in")
          }
        }, {
          key: "zoomOut",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.zoomOut"), "follower" === this
              .vision.mode ? (0, _toast.showToast)({
                msg: (0, _lang.getMsg)("follow"),
                type: "info",
                msgType: _constant2.default
                  .NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER,
                args: {
                  broadcasterName: this.vision.broadcasterName,
                  broadcaster: this.vision.broadcaster
                }
              }) : this.emit("op:zoom:out")
          }
        }, {
          key: "zoomTo",
          value: function (e) {
            var t = !(arguments.length > 1 && void 0 !== arguments[1]) ||
              arguments[1];
            this.logger.log("[wb]", "drawPlugin.zoomTo: ", e, " animate: ", t),
              "follower" === this.vision.mode ? (0, _toast.showToast)({
                msg: (0, _lang.getMsg)("follow"),
                type: "info",
                msgType: _constant2.default
                  .NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER,
                args: {
                  broadcasterName: this.vision.broadcasterName,
                  broadcaster: this.vision.broadcaster
                }
              }) : this.emit("op:zoom:to", e, t)
          }
        }, {
          key: "lockCameraWithContent",
          value: function (e) {
            this.camera.lockCameraWithContent(e)
          }
        }, {
          key: "unlockCameraWithContent",
          value: function () {
            this.camera.unlockCameraWithContent()
          }
        }, {
          key: "rotateElement",
          value: function (e) {
            _validate2.default.validate(this.logger, "drawPlugin.rotateElement",
                e, {
                  id: {
                    type: "string",
                    isRequire: !0
                  },
                  angle: {
                    type: "number",
                    isRequire: !0
                  }
                }), this.logger.log("[wb]", "drawPlugin.rotateElement"), this
              .emit("op:rotate:ele", e.id, e.angle)
          }
        }, {
          key: "setElementsVisibility",
          value: function (e) {
            return this.logger.log("[wb]", "drawPlugin.setElementsVisibility", e),
              e && "object" === (void 0 === e ? "undefined" : (0, _typeof3
                .default)(e)) ? void 0 === e.ids || Array.isArray(e.ids) && 0 !==
              e.ids.length ? "boolean" != typeof e.visible ? this.logger.error(
                "[wb]drawPlugin.setElementsVisibility参数opt.visible必须为布尔值，实际参数为: ",
                e) : void this.emit("op:visible:eles", e.ids, e.visible) : this
              .logger.error(
                "[wb]drawPlugin.setElementsVisibility参数opt.ids必须为undefined或者为长度大于1的数组，实际参数为: ",
                e) : this.logger.error(
                "[wb]drawPlugin.setElementsVisibility必须提供如下参数类型opt: {ids: string[] | undefined, visible: boolean}，实际参数为: ",
                e)
          }
        }, {
          key: "undo",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.undo"), this.emit("op:undo:exec")
          }
        }, {
          key: "redo",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.redo"), this.emit("op:redo:exec")
          }
        }, {
          key: "clear",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.clear"), this.emit(
              "op:clear:exec")
          }
        }, {
          key: "duplicate",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.duplicate"), this.emit(
              "op:duplicate:exec")
          }
        }, {
          key: "deleteSelectedElements",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.deleteSelectedElements"), this
              .emit("op:delete:exec")
          }
        }, {
          key: "deleteElementByOpIds",
          value: function (e) {
            this.logger.log("[wb]", "drawPlugin.deleteElementByOpIds", e), this
              .emit("op:delete:deleteOps", e)
          }
        }, {
          key: "addPage",
          value: function (e) {
            "object" === (void 0 === e ? "undefined" : (0, _typeof3.default)(e)) ?
            this.logger.log("[wb]", "drawPlugin.addPage", (0, _stringify2.default)
              (e)): this.logger.log("[wb]", "drawPlugin.addPage, insertAfter",
              e), "number" == typeof e ? e = {
              insertAfter: e
            } : e || (e = {}), this.emit("op:page:add", e)
          }
        }, {
          key: "deletePage",
          value: function (e) {
            var t = this.room.currBoard.getPageBuiltInIndex(e);
            this.logger.log("[wb]", "drawPlugin.deletePage: ", e, "builtInIndex",
              t), this.emit("op:page:delete", t)
          }
        }, {
          key: "gotoPage",
          value: function (e) {
            var t = this.room.currBoard.getPageBuiltInIndex(e);
            this.logger.log("[wb]", "drawPlugin.gotoPage: ", e, "buildInIndex",
              t), isNaN(t) ? this.logger.error("[wb] drawPlugin.gotoPage: page " +
                (e + 1) + " is not found，current page length is: " + this.room
                .currBoard.pageNames.length) : this.emit("op:page:goto", t)
          }
        }, {
          key: "gotoFirstPage",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.gotoFirstPage"), this.room
              .currBoard.getCurrPageIndex() > 0 && this.gotoPage(0)
          }
        }, {
          key: "gotoPrevPage",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.gotoPrevPage");
            var e = this.room.currBoard.getCurrPageIndex();
            e > 0 && this.gotoPage(e - 1)
          }
        }, {
          key: "gotoNextPage",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.gotoNextPage");
            var e = this.room.currBoard,
              t = e.getCurrPageIndex();
            t < e.pageNames.length - 1 && this.gotoPage(t + 1)
          }
        }, {
          key: "gotoLastPage",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.gotoLastPage");
            var e = this.room.currBoard;
            e.getCurrPageIndex() < e.pageNames.length - 1 && this.gotoPage(e
              .pageNames.length - 1)
          }
        }, {
          key: "gotoAnim",
          value: function (e) {
            if (!this.hasTransDoc()) return this.logger.error(
              "[wb] drawPlugin.gotoAnim: current board is not ppt board");
            this.logger.log("[wb]drawPlugin.gotoAnim", e), this.emit(
              "op:transDoc:gotoAnim", e)
          }
        }, {
          key: "nextAnim",
          value: function () {
            this.logger.log("[wb]drawPlugin.nextAnim"), this.emit(
              "op:transDoc:nextAnim")
          }
        }, {
          key: "prevAnim",
          value: function () {
            this.logger.log("[wb]drawPlugin.prevAnim"), this.emit(
              "op:transDoc:prevAnim")
          }
        }, {
          key: "gotoBoard",
          value: function (e) {
            _validate2.default.validate(this.logger, "drawPlugin.gotoBoard", {
              boardName: e
            }, {
              boardName: {
                type: "string",
                isRequire: !0
              }
            }), this.logger.log("[wb]", "drawPlugin.gotoBoard:", e), this.emit(
              "op:board:goto", e)
          }
        }, {
          key: "addBoard",
          value: function (e, t) {
            if (this.logger.log("[wb]", "drawPlugin.addBoard, displayName:", e,
                " pageCount:", t), this.appConfig.uniqueDocName && this
              .getBoardInfos().boardDisplayNames.indexOf(e) > -1) return this
              .logger.error("[wb]", "drawPlugin.addBoard", "已存在同名文档 " + e + ".");
            _validate2.default.validate(this.logger, "drawPlugin.addBoard", {
              displayName: e
            }, {
              displayName: {
                type: "string",
                isRequire: !0
              }
            });
            var n = e + "_" + (new Date).valueOf();
            return this.emit("op:board:add", e, n, t), n
          }
        }, {
          key: "deleteBoard",
          value: function (e) {
            _validate2.default.validate(this.logger, "drawPlugin.deleteBoard", {
                boardName: e
              }, {
                boardName: {
                  type: "string",
                  isRequire: !0
                }
              }), this.logger.log("[wb]", "drawPlugin.deleteBoard: ", e), this
              .emit("op:board:delete", e)
          }
        }, {
          key: "getAnimInfos",
          value: function () {
            var e = this.opsManager.opMap.transDoc.getPluginOfCurrBoard();
            if (e) {
              var t = e.data;
              return t && null !== t.animPageIndex ? {
                pageIndex: e.data.animPageIndex,
                animIndex: e.data.animIndex,
                animState: e.data.animState
              } : null
            }
            return null
          }
        }, {
          key: "getPageInfos",
          value: function (e) {
            var t = e ? this.room.boards[e] : this.room.currBoard;
            return {
              pageNames: (t = t || this.room.currBoard).pageNames.slice(),
              currPage: t.currIndex,
              activeIndex: t.getCurrPageIndex(),
              pagePayloads: t.payloadOfPages
            }
          }
        }, {
          key: "getBoardInfos",
          value: function () {
            return {
              boardNames: (0, _keys2.default)(this.room.boards),
              currBoard: this.room.currIndex,
              currBoardDisplayName: this.room.currBoard.displayName,
              boardDisplayNames: this.room.getBoardDisplayNames()
            }
          }
        }, {
          key: "bindPreviewContainer",
          value: function (e) {
            var t;
            null === (t = this.previewFactory) || void 0 === t || t
              .bindPreviewContainer(e)
          }
        }, {
          key: "preparePreview",
          value: function (e, t) {
            var n;
            null === (n = this.previewFactory) || void 0 === n || n
              .preparePreview(e, t)
          }
        }, {
          key: "emit",
          value: function (e) {
            for (var t, n = arguments.length, r = Array(n > 1 ? n - 1 : 0), A =
              1; A < n; A++) r[A - 1] = arguments[A];
            (t = this.dispatcher).emit.apply(t, [e].concat(r))
          }
        }, {
          key: "on",
          value: function (e, t) {
            this.dispatcher.on(e, t)
          }
        }, {
          key: "off",
          value: function (e, t) {
            this.dispatcher.off(e, t)
          }
        }, {
          key: "once",
          value: function (e, t) {
            this.dispatcher.once(e, t)
          }
        }, {
          key: "getOpDoc",
          value: function (e) {
            return this.opsManager.getOpDoc(e)
          }
        }, {
          key: "getCurrTool",
          value: function () {
            var e;
            return null === (e = this.opsManager.currOp) || void 0 === e ?
              void 0 : e.type
          }
        }, {
          key: "destroy",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.destroy"), this.emit(
                "event:destroy"), this.dispatcher.destroy(), this.container
              .destroy(), this.opsManager.destroy(), this.dataHub.destroy(), this
              .vision.destroy(), this.aliveManager.destroy(), this.shapeSelector
              .destroy(), this.resourceCache.destroy(), this.visHandlerUnregist(),
              this.pageVisible = !1, this.stopStream(), this.toolCollection &&
              "function" == typeof this.toolCollection.destroy && this
              .toolCollection.destroy(), this.player && this.player.destroy(),
              this.room.destroy(), this.stopWorker(), this.timeWorker = void 0,
              document.body.style.cursor = "auto", this.setIsConnected(!1), this
              .destroyed = !0
          }
        }, {
          key: "addRecordData",
          value: function (e) {
            var t;
            null === (t = this.player) || void 0 === t || t.addRecordData(e)
          }
        }, {
          key: "seekTo",
          value: function (e) {
            var t;
            null === (t = this.player) || void 0 === t || t.seekTo(e)
          }
        }, {
          key: "play",
          value: function () {
            var e;
            null === (e = this.player) || void 0 === e || e.play()
          }
        }, {
          key: "pause",
          value: function () {
            var e;
            null === (e = this.player) || void 0 === e || e.pause()
          }
        }, {
          key: "setPlaySpeed",
          value: function (e) {
            var t;
            null === (t = this.player) || void 0 === t || t.setPlaySpeed(e)
          }
        }, {
          key: "setViewer",
          value: function (e) {
            var t;
            null === (t = this.player) || void 0 === t || t.setViewer(e)
          }
        }, {
          key: "setSelfAsBroadcaster",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.setSelfAsBroadcaster"), this
              .vision.setSelfAsBroadcaster()
          }
        }, {
          key: "unsetSelfAsBroadcaster",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.unsetSelfAsBroadcaster"), this
              .vision.unsetSelfAsBroadcaster()
          }
        }, {
          key: "setSelfAsFollower",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.setSelfAsFollower"), this.vision
              .setSelfAsFollower()
          }
        }, {
          key: "setSelfAsFreeObserver",
          value: function () {
            this.logger.log("[wb]", "drawPlugin.setSelfAsFreeObserver"), this
              .vision.setSelfAsFreeObserver()
          }
        }, {
          key: "exportBoardAsStr",
          value: function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
              0] : {},
              t = arguments[1];
            return __awaiter(this, void 0, void 0, _regenerator2.default.mark((
              function n() {
                var r, A, a, i, o, s, u, l, c, d, p, h, f, g, y, v, m =
                this;
                return _regenerator2.default.wrap((function (n) {
                  for (;;) switch (n.prev = n.next) {
                    case 0:
                      return _validate2.default.validate(this
                        .logger, "drawPlugin.exportBoardAsStr",
                        e, {
                          type: {
                            type: "string"
                          },
                          quality: {
                            type: "number"
                          },
                          content: {
                            type: "string",
                            enum: ["clip", "fitToDoc",
                              "fitToContent"
                            ]
                          },
                          omitSelection: {
                            type: "boolean"
                          },
                          customBg: {
                            type: "boolean"
                          },
                          boardName: {
                            type: "string"
                          },
                          resWait: {
                            type: "number"
                          }
                        }), _validate2.default.validate(this
                        .logger, "drawPlugin.exportBoardAsStr",
                        t, {
                          onComplete: {
                            type: "function",
                            isRequire: !0
                          },
                          onResourceProgress: {
                            type: "function"
                          },
                          onImgProgress: {
                            type: "function"
                          },
                          onError: {
                            type: "function"
                          }
                        }), n.prev = 2, n.next = 5, (0, _delay
                        .delay)(50);
                    case 5:
                      for (r = this.room.currIndex, e.boardName && (
                          r = e.boardName), A = this.room.boards[r],
                        a = "number" != typeof e.resWait || isNaN(e
                          .resWait) ? 24e4 : e.resWait, a = Math
                        .max(a, 3e3), i = this.getPageInfos(r),
                        o = [], s = 0; s < i.pageNames.length; s++)(
                          u = this.room.getPage(r, i.pageNames[s])
                          ) && o.push(u);
                      return l = 0, c = o.map((function (e) {
                          return __awaiter(m, void 0, void 0,
                            _regenerator2.default.mark((
                              function n() {
                                return _regenerator2.default
                                  .wrap((function (n) {
                                    for (;;) switch (n
                                      .prev = n.next
                                      ) {
                                      case 0:
                                        return n
                                          .next = 2, e
                                          .waitTilReady();
                                      case 2:
                                        l += 1,
                                          "function" ==
                                          typeof t
                                          .onResourceProgress &&
                                          A && !A
                                          .transDocSnapshot &&
                                          t
                                          .onResourceProgress(
                                            l / o
                                            .length);
                                      case 4:
                                      case "end":
                                        return n
                                        .stop()
                                    }
                                  }), n, this)
                              })))
                        })), A && c.push(A.waitTilReady()), n.next =
                        18, _promise2.default.race([_promise2
                          .default.all(c), (0, _delay.delay)(a)
                        ]);
                    case 18:
                      return "function" == typeof t
                        .onResourceProgress && t.onResourceProgress(
                          1), n.next = 21, (0, _delay.delay)(20);
                    case 21:
                      d = [], p = [], h = [], f = 0, g = 0, y = 0;
                    case 27:
                      if (!(y < i.pageNames.length)) {
                        n.next = 36;
                        break
                      }
                      return v = this.exportAsBase64String((0,
                          _assign2.default)((0, _assign2.default)
                      ({}, e), {
                          pageIndex: y,
                          exportBoard: !0
                        })), "function" == typeof t.onImgProgress &&
                        t.onImgProgress((y + 1) / i.pageNames
                          .length), n.next = 32, (0, _delay.delay)(
                          20);
                    case 32:
                      null === v ? p.push(y) : (d.push(v.content), h
                        .push({
                          w: v.width,
                          h: v.height
                        }), f = Math.max(f, v.width), g = Math
                        .max(g, v.height));
                    case 33:
                      y++, n.next = 27;
                      break;
                    case 36:
                      t.onComplete({
                        contents: d,
                        nullPages: p,
                        maxW: f,
                        maxH: g,
                        sizes: h
                      }), n.next = 43;
                      break;
                    case 39:
                      n.prev = 39, n.t0 = n.catch(2), this.logger
                        .error("exportBoardAsStr error", n.t0),
                        "function" == typeof t.onError && t.onError(
                          n.t0);
                    case 43:
                    case "end":
                      return n.stop()
                  }
                }), n, this, [
                  [2, 39]
                ])
              })))
          }
        }, {
          key: "exportAsImage",
          value: function (e) {
            this.logger.log("[wb]", "drawPlugin.exportAsImage", e);
            var t = null == e ? void 0 : e.type,
              n = this.exportAsBase64String(e);
            if (null !== n) {
              var r = document.createElement("a");
              r.href = n.content;
              var A = t && -1 !== t.toLowerCase().indexOf("jpeg") ? "jpeg" :
              "png";
              r.download = "whiteboard." + A, r.click()
            } else this.logger.error("[wb]", "drawPlugin.exportAsImage get null")
          }
        }, {
          key: "exportAsBase64String",
          value: function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
              0] : {};
            this.logger.log("[wb]", "drawPlugin.exportAsBase64String", e),
              _validate2.default.validate(this.logger,
                "drawPlugin.exportAsBase64String", e, {
                  type: {
                    type: "string"
                  },
                  quality: {
                    type: "number"
                  },
                  content: {
                    type: "string",
                    enum: ["clip", "fitToDoc", "fitToContent", "region"]
                  },
                  omitSelection: {
                    type: "boolean"
                  },
                  customBg: {
                    type: "boolean"
                  },
                  boardName: {
                    type: "string"
                  },
                  pageIndex: {
                    type: "number"
                  }
                }), "region" === e.content && (e.regionParam && e.regionParam
                .cameraBound && e.regionParam.size || this.logger.error("[wb]",
                  "drawPlugin.exportAsBase64String",
                  "cameraBound and size is required when content equals region"));
            var t = e.type ? e.type : "image/png",
              n = e.content ? e.content : "fitToContent",
              r = "number" != typeof e.quality || isNaN(e.quality) ? .92 : e
              .quality,
              A = void 0 === e.omitSelection || e.omitSelection,
              a = void 0 === e.customBg || e.customBg,
              i = void 0 === e.boardName ? this.room.currIndex : e.boardName,
              o = this.room.currBoard.currIndex.toString();
            if (void 0 !== e.pageIndex) {
              var s = this.room.getPageNameFromIndex(i, e.pageIndex);
              void 0 === s ? this.logger.warn("[wb]",
                "drawPlugin.exportAsBase64String could not find board: " + i +
                ", pageIndex: " + e.pageIndex) : o = s
            }
            t && !t.startsWith("image") && (t = "image/" + t);
            var u = this.previewFactory.generatePreviewToDataUrl({
              pageIndex: o,
              boardName: i,
              state: "ready",
              content: n,
              omitSelection: A,
              customBg: a,
              regionParam: e.regionParam,
              exportBoard: e.exportBoard
            }, t, r);
            return u
          }
        }, {
          key: "setMemberList",
          value: function (e) {
            this.emit("event:member:change", e.slice())
          }
        }, {
          key: "dataReportUtil",
          value: function (e, t) {
            this.dataReportUrl && this.dataReportParams && !this.isRecordPlayer &&
              ("v3_run_error" === e ? t.error && !this.reportedError.has(t.error
                .message) && ((0, _dataReport2.default)(this.dataReportUrl, e,
                this.sessionId, (0, _assign2.default)((0, _assign2.default)((
                  0, _assign2.default)({}, this.dataReportParams), {
                  time: Date.now()
                }), t)), this.reportedError.add(t.error.message)) : (0,
                _dataReport2.default)(this.dataReportUrl, e, this.sessionId, (0,
                _assign2.default)((0, _assign2.default)((0, _assign2.default)
            ({}, this.dataReportParams), {
                time: Date.now()
              }), t)))
          }
        }, {
          key: "setDataReportParams",
          value: function (e, t) {
            this.dataReportUrl = e, this.dataReportParams = t
          }
        }, {
          key: "setToolCollection",
          value: function (e) {
            this.toolCollection && "function" == typeof this.toolCollection
              .destroy && this.toolCollection.destroy(), this.toolCollection = e
          }
        }, {
          key: "disableInteraction",
          value: function () {
            this.container.disableInteraction()
          }
        }, {
          key: "enableInteraction",
          value: function () {
            this.container.enableInteraction()
          }
        }, {
          key: "definePlugin",
          value: function (e) {
            "page" === e.type && this.opsManager.opMap.pagePlugin.definePlugin(e)
          }
        }, {
          key: "insertPlugin",
          value: function (e) {
            this.logger.log("[wb]", "drawPlugin.insertPlugin", e), _validate2
              .default.validate(this.logger, "drawPlugin.insertPlugin", e, {
                pluginType: {
                  type: "string",
                  isRequire: !0
                },
                cameraBound: {
                  type: "object"
                }
              });
            var t = void 0 === e.pageName ? this.room.getPageNameFromIndex(e
              .boardName, e.pageIndex) : e.pageName;
            this.emit("op:pagePlugin:insert", (0, _assign2.default)((0, _assign2
              .default)({}, e), {
              pageName: t,
              boardName: e.boardName
            }))
          }
        }, {
          key: "downloadRes",
          value: function (e) {
            var t = this.opsManager.drawOpsOfPage[e];
            if (t)
              if ("image" !== t.data.type) this.logger.error("[wb]",
                "drawPlugin.downloadRes element: " + e +
                " is not image, it is $" + t.data.type);
              else {
                var n = this.previewFactory.generateElesToDataUrl([e]);
                if (n) {
                  var r = document.createElement("a");
                  r.href = n;
                  r.download = "image.png", r.click()
                } else(0, _toast.showToast)({
                  type: "error",
                  msg: (0, _lang.getMsg)("imgDownFail")
                })
              }
            else this.logger.error("[wb]",
              "drawPlugin.downloadRes could not find element: " + e)
          }
        }, {
          key: "copySelectedElesToClipboard",
          value: function () {
            var e = this.previewFactory.generateElesToDataUrl(this.opsManager
              .selectOp.selectedOpIds);
            e ? (0, _util2.copyImgToClipBoard)(e, (function (t) {
              if (t)(0, _toast.showToast)({
                type: "success",
                msg: (0, _lang.getMsg)("cpyClipSucc")
              });
              else {
                var n = document.createElement("a");
                n.href = e;
                n.download = "image.png", n.click()
              }
            })) : (0, _toast.showToast)({
              type: "error",
              msg: (0, _lang.getMsg)("cpyClipFail")
            })
          }
        }, {
          key: "ifDeviceSupportOrientation",
          get: function () {
            return -1 !== _types.TouchPlatformArray.indexOf(this.platform
              .toLowerCase())
          }
        }, {
          key: "editable",
          get: function () {
            return this.editEnabled && !this.dataHub.isSynchronizing && this
              .isConnected
          }
        }, {
          key: "appConfig",
          get: function () {
            return this.configInstance.getAppConfig()
          }
        }, {
          key: "scale",
          get: function () {
            return this.camera.scale || 1
          }
        }, {
          key: "ShapeDesc",
          get: function () {
            return this.shapeManager.ShapeDesc
          }
        }]), App
      }(),
      DrawPlugin = {
        getInstance: function (e) {
          return e.logger.log("[wb]", "DrawPlugin.getInstance arguments:", e),
            _validate2.default.validate(e.logger, "DrawPlugin.instance", e, {
              account: {
                type: "string",
                isRequire: !0
              },
              nickname: {
                type: "string",
                isRequire: !1
              },
              container: {
                type: "dom",
                isRequire: !1
              },
              platform: {
                type: "string",
                isRequire: !0,
                enum: _types.PlatformArray
              },
              connector: {
                type: "object",
                isRequire: !0
              },
              nim: {
                type: "object",
                isRequire: !0
              }
            }), new App(e)
        }
      };
    exports.App = App, exports.default = DrawPlugin
  }, function (e, t, n) {
    var r = function () {
        return this
      }() || Function("return this")(),
      A = r.regeneratorRuntime && Object.getOwnPropertyNames(r).indexOf(
        "regeneratorRuntime") >= 0,
      a = A && r.regeneratorRuntime;
    if (r.regeneratorRuntime = void 0, e.exports = n(274), A) r.regeneratorRuntime = a;
    else try {
      delete r.regeneratorRuntime
    } catch (e) {
      r.regeneratorRuntime = void 0
    }
  }, function (e, t) {
    ! function (t) {
      "use strict";
      var n = Object.prototype,
        r = n.hasOwnProperty,
        A = "function" == typeof Symbol ? Symbol : {},
        a = A.iterator || "@@iterator",
        i = A.asyncIterator || "@@asyncIterator",
        o = A.toStringTag || "@@toStringTag",
        s = "object" == typeof e,
        u = t.regeneratorRuntime;
      if (u) s && (e.exports = u);
      else {
        (u = t.regeneratorRuntime = s ? e.exports : {}).wrap = f;
        var l = {},
          c = {};
        c[a] = function () {
          return this
        };
        var d = Object.getPrototypeOf,
          p = d && d(d(x([])));
        p && p !== n && r.call(p, a) && (c = p);
        var h = m.prototype = y.prototype = Object.create(c);
        v.prototype = h.constructor = m, m.constructor = v, m[o] = v.displayName =
          "GeneratorFunction", u.isGeneratorFunction = function (e) {
            var t = "function" == typeof e && e.constructor;
            return !!t && (t === v || "GeneratorFunction" === (t.displayName || t.name))
          }, u.mark = function (e) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(e, m) : (e.__proto__ = m,
              o in e || (e[o] = "GeneratorFunction")), e.prototype = Object.create(h), e
          }, u.awrap = function (e) {
            return {
              __await: e
            }
          }, w(B.prototype), B.prototype[i] = function () {
            return this
          }, u.AsyncIterator = B, u.async = function (e, t, n, r) {
            var A = new B(f(e, t, n, r));
            return u.isGeneratorFunction(t) ? A : A.next().then((function (e) {
              return e.done ? e.value : A.next()
            }))
          }, w(h), h[o] = "Generator", h[a] = function () {
            return this
          }, h.toString = function () {
            return "[object Generator]"
          }, u.keys = function (e) {
            var t = [];
            for (var n in e) t.push(n);
            return t.reverse(),
              function n() {
                for (; t.length;) {
                  var r = t.pop();
                  if (r in e) return n.value = r, n.done = !1, n
                }
                return n.done = !0, n
              }
          }, u.values = x, b.prototype = {
            constructor: b,
            reset: function (e) {
              if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this
                .done = !1, this.delegate = null, this.method = "next", this.arg =
                void 0, this.tryEntries.forEach(C), !e)
                for (var t in this) "t" === t.charAt(0) && r.call(this, t) && !isNaN(+t
                  .slice(1)) && (this[t] = void 0)
            },
            stop: function () {
              this.done = !0;
              var e = this.tryEntries[0].completion;
              if ("throw" === e.type) throw e.arg;
              return this.rval
            },
            dispatchException: function (e) {
              if (this.done) throw e;
              var t = this;

              function n(n, r) {
                return i.type = "throw", i.arg = e, t.next = n, r && (t.method = "next",
                  t.arg = void 0), !!r
              }
              for (var A = this.tryEntries.length - 1; A >= 0; --A) {
                var a = this.tryEntries[A],
                  i = a.completion;
                if ("root" === a.tryLoc) return n("end");
                if (a.tryLoc <= this.prev) {
                  var o = r.call(a, "catchLoc"),
                    s = r.call(a, "finallyLoc");
                  if (o && s) {
                    if (this.prev < a.catchLoc) return n(a.catchLoc, !0);
                    if (this.prev < a.finallyLoc) return n(a.finallyLoc)
                  } else if (o) {
                    if (this.prev < a.catchLoc) return n(a.catchLoc, !0)
                  } else {
                    if (!s) throw new Error("try statement without catch or finally");
                    if (this.prev < a.finallyLoc) return n(a.finallyLoc)
                  }
                }
              }
            },
            abrupt: function (e, t) {
              for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                var A = this.tryEntries[n];
                if (A.tryLoc <= this.prev && r.call(A, "finallyLoc") && this.prev < A
                  .finallyLoc) {
                  var a = A;
                  break
                }
              }
              a && ("break" === e || "continue" === e) && a.tryLoc <= t && t <= a
                .finallyLoc && (a = null);
              var i = a ? a.completion : {};
              return i.type = e, i.arg = t, a ? (this.method = "next", this.next = a
                .finallyLoc, l) : this.complete(i)
            },
            complete: function (e, t) {
              if ("throw" === e.type) throw e.arg;
              return "break" === e.type || "continue" === e.type ? this.next = e.arg :
                "return" === e.type ? (this.rval = this.arg = e.arg, this.method =
                  "return", this.next = "end") : "normal" === e.type && t && (this
                  .next = t), l
            },
            finish: function (e) {
              for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                var n = this.tryEntries[t];
                if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc),
                  C(n), l
              }
            },
            catch: function (e) {
              for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                var n = this.tryEntries[t];
                if (n.tryLoc === e) {
                  var r = n.completion;
                  if ("throw" === r.type) {
                    var A = r.arg;
                    C(n)
                  }
                  return A
                }
              }
              throw new Error("illegal catch attempt")
            },
            delegateYield: function (e, t, n) {
              return this.delegate = {
                iterator: x(e),
                resultName: t,
                nextLoc: n
              }, "next" === this.method && (this.arg = void 0), l
            }
          }
      }

      function f(e, t, n, r) {
        var A = t && t.prototype instanceof y ? t : y,
          a = Object.create(A.prototype),
          i = new b(r || []);
        return a._invoke = function (e, t, n) {
          var r = "suspendedStart";
          return function (A, a) {
            if ("executing" === r) throw new Error("Generator is already running");
            if ("completed" === r) {
              if ("throw" === A) throw a;
              return T()
            }
            for (n.method = A, n.arg = a;;) {
              var i = n.delegate;
              if (i) {
                var o = I(i, n);
                if (o) {
                  if (o === l) continue;
                  return o
                }
              }
              if ("next" === n.method) n.sent = n._sent = n.arg;
              else if ("throw" === n.method) {
                if ("suspendedStart" === r) throw r = "completed", n.arg;
                n.dispatchException(n.arg)
              } else "return" === n.method && n.abrupt("return", n.arg);
              r = "executing";
              var s = g(e, t, n);
              if ("normal" === s.type) {
                if (r = n.done ? "completed" : "suspendedYield", s.arg === l)
              continue;
                return {
                  value: s.arg,
                  done: n.done
                }
              }
              "throw" === s.type && (r = "completed", n.method = "throw", n.arg = s
                .arg)
            }
          }
        }(e, n, i), a
      }

      function g(e, t, n) {
        try {
          return {
            type: "normal",
            arg: e.call(t, n)
          }
        } catch (e) {
          return {
            type: "throw",
            arg: e
          }
        }
      }

      function y() {}

      function v() {}

      function m() {}

      function w(e) {
        ["next", "throw", "return"].forEach((function (t) {
          e[t] = function (e) {
            return this._invoke(t, e)
          }
        }))
      }

      function B(e) {
        var t;
        this._invoke = function (n, A) {
          function a() {
            return new Promise((function (t, a) {
              ! function t(n, A, a, i) {
                var o = g(e[n], e, A);
                if ("throw" !== o.type) {
                  var s = o.arg,
                    u = s.value;
                  return u && "object" == typeof u && r.call(u, "__await") ?
                    Promise.resolve(u.__await).then((function (e) {
                      t("next", e, a, i)
                    }), (function (e) {
                      t("throw", e, a, i)
                    })) : Promise.resolve(u).then((function (e) {
                      s.value = e, a(s)
                    }), i)
                }
                i(o.arg)
              }(n, A, t, a)
            }))
          }
          return t = t ? t.then(a, a) : a()
        }
      }

      function I(e, t) {
        var n = e.iterator[t.method];
        if (void 0 === n) {
          if (t.delegate = null, "throw" === t.method) {
            if (e.iterator.return && (t.method = "return", t.arg = void 0, I(e, t),
                "throw" === t.method)) return l;
            t.method = "throw", t.arg = new TypeError(
              "The iterator does not provide a 'throw' method")
          }
          return l
        }
        var r = g(n, e.iterator, t.arg);
        if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate =
          null, l;
        var A = r.arg;
        return A ? A.done ? (t[e.resultName] = A.value, t.next = e.nextLoc, "return" !== t
          .method && (t.method = "next", t.arg = void 0), t.delegate = null, l) : A : (t
          .method = "throw", t.arg = new TypeError("iterator result is not an object"),
          t.delegate = null, l)
      }

      function M(e) {
        var t = {
          tryLoc: e[0]
        };
        1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]),
          this.tryEntries.push(t)
      }

      function C(e) {
        var t = e.completion || {};
        t.type = "normal", delete t.arg, e.completion = t
      }

      function b(e) {
        this.tryEntries = [{
          tryLoc: "root"
        }], e.forEach(M, this), this.reset(!0)
      }

      function x(e) {
        if (e) {
          var t = e[a];
          if (t) return t.call(e);
          if ("function" == typeof e.next) return e;
          if (!isNaN(e.length)) {
            var n = -1,
              A = function t() {
                for (; ++n < e.length;)
                  if (r.call(e, n)) return t.value = e[n], t.done = !1, t;
                return t.value = void 0, t.done = !0, t
              };
            return A.next = A
          }
        }
        return {
          next: T
        }
      }

      function T() {
        return {
          value: void 0,
          done: !0
        }
      }
    }(function () {
      return this
    }() || Function("return this")())
  }, function (e, t, n) {
    e.exports = {
      default: n(276),
      __esModule: !0
    }
  }, function (e, t, n) {
    n(51), n(45), e.exports = n(277)
  }, function (e, t, n) {
    var r = n(73),
      A = n(18)("iterator"),
      a = n(50);
    e.exports = n(8).isIterable = function (e) {
      var t = Object(e);
      return void 0 !== t[A] || "@@iterator" in t || a.hasOwnProperty(r(t))
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.evenify = function (e) {
      return 2 * Math.ceil(e / 2)
    }, t.deltaXY = function (e, t) {
      return [(t[0] - e[0] + t[2] - e[2]) / 2, (t[1] - e[1] + t[3] - e[3]) / 2]
    }, t.fingerDiff = function (e, t) {
      return Math.abs(t[0] - e[0] - t[2] + e[2]) + Math.abs(t[1] - e[1] - t[3] + e[3])
    }, t.pinchScale = function (e, t) {
      var n = Math.abs(e[0] - e[2]) + Math.abs(e[1] - e[3]);
      return (Math.abs(t[0] - t[2]) + Math.abs(t[1] - t[3])) / n
    }, t.ptsCenter = function (e, t) {
      return [(e[0] + e[2] + t[0] + t[2]) / 4, (e[1] + e[3] + t[1] + t[3]) / 4]
    }, t.scaleProb = function (e, t, n) {
      var r = 0,
        A = [2.5, 6],
        a = 0,
        i = [.01, .05],
        o = e / t;
      if (isNaN(o)) return .5;
      r = o > A[1] ? 1 : o > A[0] ? Math.min(1, .5 + Math.sqrt((o - A[0]) / (A[1] - A[
        0])) / 2) : (1 - Math.sqrt((A[0] - o) / A[0])) / 2;
      a = n > i[1] ? 1 : n > i[0] ? Math.min(1, .5 + Math.sqrt((n - i[0]) / (i[1] - i[
        0])) / 2) : (1 - Math.sqrt((i[0] - n) / i[0])) / 2;
      return .7 * r + .3 * a
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = le(n(5)),
      A = le(n(21)),
      a = le(n(25)),
      i = le(n(0)),
      o = le(n(1)),
      s = le(n(42)),
      u = le(n(11)),
      l = n(46),
      c = n(280),
      d = le(n(294)),
      p = le(n(216)),
      h = le(n(226)),
      f = le(n(60)),
      g = le(n(303)),
      y = le(n(304)),
      v = le(n(305)),
      m = le(n(306)),
      w = le(n(307)),
      B = le(n(308)),
      I = le(n(309)),
      M = le(n(233)),
      C = le(n(234)),
      b = le(n(136)),
      x = le(n(310)),
      T = le(n(311)),
      k = le(n(312)),
      E = le(n(313)),
      N = le(n(314)),
      O = le(n(315)),
      P = le(n(316)),
      _ = le(n(317)),
      D = le(n(318)),
      Q = le(n(319)),
      S = le(n(320)),
      U = le(n(321)),
      F = le(n(322)),
      L = le(n(323)),
      j = le(n(325)),
      z = le(n(326)),
      R = le(n(327)),
      H = le(n(67)),
      Y = le(n(328)),
      G = le(n(329)),
      K = le(n(330)),
      W = le(n(344)),
      Z = le(n(346)),
      V = le(n(347)),
      X = le(n(348)),
      J = le(n(351)),
      q = n(15),
      $ = n(241),
      ee = le(n(353)),
      te = le(n(230)),
      ne = le(n(355)),
      re = le(n(356)),
      Ae = le(n(357)),
      ae = le(n(358)),
      ie = le(n(359)),
      oe = le(n(360)),
      se = le(n(361)),
      ue = le(n(362));

    function le(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var ce = function (e, t, n, r) {
        return new(n || (n = u.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      de = new s.default,
      pe = function () {
        function e(t) {
          var n = this;
          (0, i.default)(this, e), this.currOp = null, this.opMap = {}, this
            .drawOpTypes = [], this.shapeTypes = [], this.exitHandler = function () {
              if (n.selectOp.selectedOpIds.length > 0 && n.selectOp.dispatch(n.selectOp
                  .getSnapshot([]), !0), n.currOp === n.opMap.laser && n.currOp.dispatch(n
                  .currOp.getSnapshot(!1), !0), n.app.showCursor) {
                var e = n.opMap["mouse-pointer"];
                e && e.dispatch(e.getSnapshot([0, 0], !1), !0)
              }
            }, this.app = t, this.dispatcher = t.dispatcher, this.unregistExit = (0, $
              .regExitListener)(this.exitHandler, t), this.hooks = {
              scale: new c.SyncBailHook(["event", "scale", "clientX", "clientY"]),
              pan: new c.SyncBailHook(["event", "clientDx", "clientDy"]),
              mousedown: new c.SyncBailHook(["event", "mx", "my", "clientX", "clientY"]),
              mouseup: new c.SyncBailHook(["event", "mx", "my", "clientX", "clientY"]),
              mousemove: new c.SyncBailHook(["event", "mx", "my", "clientX", "clientY"]),
              mouseleave: new c.SyncBailHook(["event", "mx", "my", "clientX", "clientY"]),
              mousewheel: new c.SyncBailHook(["event", "mx", "my", "clientX", "clientY"]),
              resize: new c.SyncBailHook(["event", "width", "height"]),
              click: new c.SyncBailHook(["event", "mx", "my", "clientX", "clientY"]),
              dblClick: new c.SyncBailHook(["event", "mx", "my", "clientX", "clientY"]),
              keyup: new c.SyncBailHook(["event"]),
              keydown: new c.SyncBailHook(["event"]),
              opAdd: new c.SyncHook(["snapshot"]),
              refresh: new c.SyncHook([]),
              opChange: new c.SyncHook(["type"]),
              selectChange: new c.SyncHook(["prevSelectedOpIds", "selectedOpIds"]),
              pageChange: new c.SyncHook(["snapshot"]),
              boardChange: new c.SyncHook([]),
              pageReady: new c.SyncHook(["boardName, pageIndex"]),
              enableDrawChange: new c.SyncHook(["enable"]),
              previewWaiting: new c.SyncHook(["pageIndex"]),
              cleanNonCanvasEle: new c.SyncHook(["page"])
            }, this.dispatcher.on("op:activate", (function (e, t) {
              n.setCurrOp(e, t)
            }))
        }
        return (0, o.default)(e, [{
          key: "extendDefaultOps",
          value: function () {
            this.extendOp(ae.default), this.extendOp(re.default), this.extendOp(ne
                .default), this.extendOp(L.default), this.extendOp(J.default),
              this.extendDrawOp(p.default), this.extendDrawOp(N.default), this
              .extendDrawOp(O.default), this.extendDrawOp(h.default), this
              .extendShapeOp(ee.default), this.extendDrawOp(M.default), this
              .extendDrawOp(Y.default), this.extendDrawOp(G.default), this
              .extendDrawOp(C.default), this.extendOp(b.default), this.extendOp(_
                .default), this.extendOp(d.default), this.extendOp(f.default),
              this.extendOp(te.default), this.extendOp(y.default), this.extendOp(g
                .default), this.extendOp(v.default), this.extendOp(E.default),
              this.extendOp(m.default), this.extendOp(w.default), this.extendOp(B
                .default), this.extendOp(I.default), this.extendOp(P.default),
              this.extendOp(x.default), this.extendOp(k.default), this.extendOp(X
                .default), this.extendOp(T.default), this.extendOp(K.default),
              this.extendOp(V.default), this.extendOp(W.default), this.extendOp(Q
                .default), this.extendOp(D.default), this.extendOp(S.default),
              this.extendOp(U.default), this.extendOp(F.default), this.extendOp(j
                .default), this.extendOp(H.default), this.extendOp(z.default),
              this.extendOp(R.default), this.extendOp(Z.default), this.extendOp(Ae
                .default), this.extendOp(ie.default), this.extendOp(oe.default),
              this.extendOp(se.default), this.extendOp(ue.default), this
              .setCurrOp("pen-pressure")
          }
        }, {
          key: "addContainer",
          value: function (e) {
            this.container = e
          }
        }, {
          key: "extendDrawOp",
          value: function (e) {
            var t = this.extendOp(e);
            this.drawOpTypes.push(t.type)
          }
        }, {
          key: "extendShapeOp",
          value: function (e) {
            var t = this.extendOp(e);
            for (var n in this.drawOpTypes.push(t.type), this.app.ShapeDesc) this
              .shapeTypes.push(n)
          }
        }, {
          key: "extendOp",
          value: function (e) {
            var t, n, r = new e(this.app);
            this.opMap[r.type] = r;
            var A = r.eventsToListen();
            if ((null === (t = A.activate) || void 0 === t ? void 0 : t.value) &&
              (null === (n = A.exec) || void 0 === n ? void 0 : n.value))
            throw new Error(
                "DEV--\x3e 操作不能同时设置activate和exec为true。操作不同同时为命令类操作，及状态类操作");
            for (var a in A.activate && A.activate.value || A.exec && A.exec
                .value && this.dispatcher.on("op:" + r.type + ":exec", r
                  .execCommand.bind(r)), A) "activate" !== a && "exec" !== a &&
              this.dispatcher.on("op:" + a, A[a].value);
            return r
          }
        }, {
          key: "getOpDoc",
          value: function (e) {
            var t = [];
            if (void 0 !== e) t = this._getOpDoc(e);
            else {
              for (var n in this.opMap)(t = t.concat(this._getOpDoc(n))).push(
                "*************************************");
              t.push(
                "全局事件\n\n用法：app.on('event:add:snapshot', (data: {local: boolean, snapshot: IOPSnapshot}) => {})\n作用： 接收到新的快照时发送此事件\n"
                ), t.push("*************************************")
            }
            return t.join("\n\n")
          }
        }, {
          key: "_getOpDoc",
          value: function (e) {
            var t = [];
            if (this.opMap.hasOwnProperty(e)) {
              var n = this.opMap[e];
              n.description && t.push(n.description);
              var r = n.eventsToListen();
              for (var A in r) {
                var a = r[A].information,
                  i = "op:" + A;
                "activate" !== A && "exec" !== A || (i = "op:" + n.type + ":" +
                  A), t.push("用法：app.emit('" + i + "'" + (a.args.length > 0 ?
                    ", " + a.args : "") + ")\n作用：" + a.message)
              }
            } else this.logger.log("DEV--\x3e", "op:" + e + "不存在!!!!!!");
            return t
          }
        }, {
          key: "setCurrOp",
          value: function (e, t) {
            var n;
            return this.logger.log("[wb]", "设置当前op为：" + e, "payload: ", t), this
              .currOpPayload = t, "pen-pressure" !== e && "pen" !== e || (this
                .opMap.pen.enableIntens = "pen-pressure" === e, e = "pen"), (
                null === (n = this.currOp) || void 0 === n ? void 0 : n.type) !==
              e ? (document.body.style.cursor = "default", this.hooks.opChange
                .call(e), -1 !== this.shapeTypes.indexOf(e) ? (this.currOp = this
                  .opMap.shape, this.currOp.setSubType(e)) : this.currOp = this
                .opMap[e], this.app.emit("event:appState:change", "currTool", e),
                this.currOp.validatePayloads(), !0) : (this.currOp
                .validatePayloads(), !1)
          }
        }, {
          key: "currOpIsCamera",
          value: function () {
            var e;
            return this.currOp && -1 !== l.cameraSnapshotTypes.indexOf(null === (
              e = this.currOp) || void 0 === e ? void 0 : e.type)
          }
        }, {
          key: "resize",
          value: function (e, t, n) {
            this.hooks.resize.call(e, t, n) || this.currOp && "handleResize" in
              this.currOp && this.currOp.handleResize(e, t, n)
          }
        }, {
          key: "pan",
          value: function (e, t, n) {
            this.hooks.pan.call(e, t, n) || this.currOp && "handlePan" in this
              .currOp && this.currOp.handlePan(e, t, n)
          }
        }, {
          key: "scale",
          value: function (e, t, n, r) {
            this.hooks.scale.call(e, t, n, r) || this.currOp && "handleScale" in
              this.currOp && this.currOp.handleScale(e, t, n, r)
          }
        }, {
          key: "mousedown",
          value: function (e, t, n, r, A) {
            (this.app.editable || this.app.isRecordPlayer) && (this.hooks
              .mousedown.call(e, t, n, r, A) || this.currOp &&
              "handleMouseDown" in this.currOp && this.currOp.handleMouseDown(e,
                t, n, r, A))
          }
        }, {
          key: "mouseup",
          value: function (e, t, n, r, A) {
            (this.app.editable || this.app.isRecordPlayer) && (this.hooks.mouseup
              .call(e, t, n, r, A) || this.currOp && "handleMouseUp" in this
              .currOp && this.currOp.handleMouseUp(e, t, n, r, A))
          }
        }, {
          key: "mouseleave",
          value: function (e, t, n, r, A) {
            (this.app.editable || this.app.isRecordPlayer) && (this.hooks
              .mouseleave.call(e, t, n, r, A) || this.currOp &&
              "handleMouseLeave" in this.currOp && this.currOp.handleMouseLeave(e,
                t, n, r, A))
          }
        }, {
          key: "mousewheel",
          value: function (e, t, n, r, A) {
            this.hooks.mousewheel.call(e, t, n, r, A) || this.currOp &&
              "handleMouseWheel" in this.currOp && this.currOp.handleMouseWheel(e,
                t, n, r, A)
          }
        }, {
          key: "mousemove",
          value: function (e, t, n, r, A) {
            (this.app.editable || this.app.isRecordPlayer) && (this.hooks
              .mousemove.call(e, t, n, r, A) || this.currOp &&
              "handleMouseMove" in this.currOp && this.currOp.handleMouseMove(e,
                t, n, r, A))
          }
        }, {
          key: "pointerdown",
          value: function (e) {
            (this.app.editable || this.app.isRecordPlayer) && this.currOp &&
              "handlePointerDown" in this.currOp && this.currOp.handlePointerDown(
                e)
          }
        }, {
          key: "pointermove",
          value: function (e) {
            (this.app.editable || this.app.isRecordPlayer) && this.currOp &&
              "handlePointerMove" in this.currOp && this.currOp.handlePointerMove(
                e)
          }
        }, {
          key: "pointerup",
          value: function (e) {
            (this.app.editable || this.app.isRecordPlayer) && this.currOp &&
              "handlePointerUp" in this.currOp && this.currOp.handlePointerUp(e)
          }
        }, {
          key: "click",
          value: function (e, t, n, r, A) {
            this.app.editable && (this.hooks.click.call(e, t, n, r, A) || this
              .currOp && "handleClick" in this.currOp && this.currOp
              .handleClick(e, t, n, r, A))
          }
        }, {
          key: "dblClick",
          value: function (e, t, n, r, A) {
            this.app.editable && (this.hooks.dblClick.call(e, t, n, r, A) || this
              .currOp && "handleDblClick" in this.currOp && this.currOp
              .handleDblClick(e, t, n, r, A))
          }
        }, {
          key: "keyup",
          value: function (e) {
            this.app.editable && (this.hooks.keyup.call(e) || this.currOp &&
              "handleKeyUp" in this.currOp && this.currOp.handleKeyUp(e))
          }
        }, {
          key: "keydown",
          value: function (e) {
            this.app.editable && (this.hooks.keydown.call(e) || this.currOp &&
              "handleKeyDown" in this.currOp && this.currOp.handleKeyDown(e))
          }
        }, {
          key: "draw",
          value: function (e, t, n) {
            try {
              var r = e.data.type;
              if (this.opMap[r]) {
                e = this.opMap[r].intepSnap(e);
                var A = this.app.camera.getContainerWorldRect(),
                  a = {
                    sx: A.centerX - A.width / 2,
                    sy: A.centerY - A.height / 2,
                    w: A.width,
                    h: A.height
                  };
                if (this.snapOutBound(e, a) && -1 === ["audio", "video", "image",
                    "text"
                  ].indexOf(r)) return;
                this.opMap[r].draw(e, t, n)
              }
            } catch (e) {
              this.logger.warn("[wb] opsManager.draw error", e)
            }
          }
        }, {
          key: "snapOutBound",
          value: function (e, t) {
            if (e.data.boundary) {
              var n = (0, q.getTransformedBoundary)(this.app.scale, e.data);
              return n.sx - .5 * n.w >= t.sx + t.w || n.sx + 1.5 * n.w <= t.sx ||
                n.sy - .5 * n.h >= t.sy + t.h || n.sy + 1.5 * n.h <= t.sy
            }
            return !1
          }
        }, {
          key: "preview",
          value: function (e, t, n) {
            try {
              var r = e.data.type;
              this.opMap[r].preview(e, t, n)
            } catch (e) {
              this.logger.warn("[wb] opsManager.preview error", e)
            }
          }
        }, {
          key: "hide",
          value: function (e, t, n) {
            try {
              var r = e.data.type;
              this.opMap[r] && this.opMap[r].hide(e, t, n)
            } catch (e) {
              this.logger.warn("[wb] opsManager.hide error", e)
            }
          }
        }, {
          key: "waitTilReady",
          value: function (e) {
            return ce(this, void 0, void 0, a.default.mark((function t() {
              return a.default.wrap((function (t) {
                for (;;) switch (t.prev = t.next) {
                  case 0:
                    if (!this.opMap[e.data.type]) {
                      t.next = 4;
                      break
                    }
                    return t.abrupt("return", this.opMap[e.data
                      .type].waitTilReady(e));
                  case 4:
                    return t.abrupt("return", u.default
                  .resolve());
                  case 5:
                  case "end":
                    return t.stop()
                }
              }), t, this)
            })))
          }
        }, {
          key: "mergePartial",
          value: function (e, t) {
            var n = e.data.type;
            return this.opMap[n] ? this.opMap[n].mergePartial(e, t) : (de.has(
              n) || (this.logger.error(
                "[wb] OpsManager.mergePartial: cannot find op with type " + n,
                (0, A.default)(e)), de.add(n)), t.hasOwnProperty("category") ? t
              .time >= e.time ? t : e : (0, r.default)((0, r.default)({}, e), {
                data: (0, r.default)((0, r.default)({}, e.data), t.data)
              }))
          }
        }, {
          key: "mergeTwoPartial",
          value: function (e, t) {
            var n = {
              opId: e.opId,
              data: e.data
            };
            for (var r in t.data) Array.isArray(t.data[r]) && Array.isArray(n
                .data[r]) ? n.data[r] = n.data[r].concat(t.data[r]) : n.data[r] =
              t.data[r];
            return n
          }
        }, {
          key: "hasOpType",
          value: function (e) {
            return this.opMap.hasOwnProperty(e)
          }
        }, {
          key: "resetUndoRedoCount",
          value: function () {
            this.opMap.undo.resetCount(), this.opMap.redo.resetCount()
          }
        }, {
          key: "destroy",
          value: function () {
            for (var e in this.opMap) this.opMap[e] && "function" == typeof this
              .opMap[e].destroy && this.opMap[e].destroy();
            "function" == typeof this.unregistExit && this.unregistExit()
          }
        }, {
          key: "logger",
          get: function () {
            return this.app.logger
          }
        }, {
          key: "currPage",
          get: function () {
            return this.currBoard.pages[this.currBoard.currIndex]
          }
        }, {
          key: "currBoard",
          get: function () {
            return this.app.room.boards[this.app.room.currIndex]
          }
        }, {
          key: "drawOpsOfPage",
          get: function () {
            return this.currPage.drawOpQueue || {}
          }
        }, {
          key: "hiddenOpsOfPage",
          get: function () {
            return this.currPage.hiddenOpQueue || {}
          }
        }, {
          key: "auxiliaryOp",
          get: function () {
            return this.opMap.auxiliary
          }
        }, {
          key: "graphOp",
          get: function () {
            return this.opMap.graph
          }
        }, {
          key: "linkOp",
          get: function () {
            return this.opMap.link
          }
        }, {
          key: "textOp",
          get: function () {
            return this.opMap.text
          }
        }, {
          key: "imageOp",
          get: function () {
            return this.opMap.image
          }
        }, {
          key: "dupOp",
          get: function () {
            return this.opMap.duplicate
          }
        }, {
          key: "mouseOp",
          get: function () {
            return this.opMap.mouse
          }
        }, {
          key: "selectOp",
          get: function () {
            return this.opMap.select
          }
        }, {
          key: "modifyOp",
          get: function () {
            return this.opMap.modify
          }
        }, {
          key: "deleteOp",
          get: function () {
            return this.opMap.delete
          }
        }, {
          key: "cropOp",
          get: function () {
            return this.opMap.crop
          }
        }, {
          key: "groupOp",
          get: function () {
            return this.opMap.group
          }
        }, {
          key: "selectedOpIds",
          get: function () {
            return this.currOp !== this.opMap.select ? [] : this.selectOp
              .selectedOpIds
          }
        }]), e
      }();
    t.default = pe
  }, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.Tapable = n(281), t.SyncHook = n(284), t.SyncBailHook = n(207), t
      .SyncWaterfallHook = n(285), t.SyncLoopHook = n(286), t.AsyncParallelHook = n(287),
      t.AsyncParallelBailHook = n(288), t.AsyncSeriesHook = n(289), t
      .AsyncSeriesBailHook = n(290), t.AsyncSeriesWaterfallHook = n(291), t.HookMap = n(
        292), t.MultiHook = n(293)
  }, function (e, t, n) {
    "use strict";
    const r = n(265),
      A = n(207);

    function a() {
      this._pluginCompat = new A(["options"]), this._pluginCompat.tap({
        name: "Tapable camelCase",
        stage: 100
      }, e => {
        e.names.add(e.name.replace(/[- ]([a-z])/g, (e, t) => t.toUpperCase()))
      }), this._pluginCompat.tap({
        name: "Tapable this.hooks",
        stage: 200
      }, e => {
        let t;
        for (const n of e.names)
          if (t = this.hooks[n], void 0 !== t) break;
        if (void 0 !== t) {
          const n = {
            name: e.fn.name || "unnamed compat plugin",
            stage: e.stage || 0
          };
          return e.async ? t.tapAsync(n, e.fn) : t.tap(n, e.fn), !0
        }
      })
    }
    e.exports = a, a.addCompatLayer = function (e) {
        a.call(e), e.plugin = a.prototype.plugin, e.apply = a.prototype.apply
      }, a.prototype.plugin = r.deprecate((function (e, t) {
        if (Array.isArray(e)) return void e.forEach((function (e) {
          this.plugin(e, t)
        }), this);
        if (!this._pluginCompat.call({
            name: e,
            fn: t,
            names: new Set([e])
          })) throw new Error(
          `Plugin could not be registered at '${e}'. Hook was not found.\nBREAKING CHANGE: There need to exist a hook at 'this.hooks'. To create a compatibility layer for this hook, hook into 'this._pluginCompat'.`
          )
      }), "Tapable.plugin is deprecated. Use new API on `.hooks` instead"), a.prototype
      .apply = r.deprecate((function () {
        for (var e = 0; e < arguments.length; e++) arguments[e].apply(this)
      }), "Tapable.apply is deprecated. Call apply on the plugin directly instead")
  }, function (e, t) {
    e.exports = function (e) {
      return e && "object" == typeof e && "function" == typeof e.copy && "function" ==
        typeof e.fill && "function" == typeof e.readUInt8
    }
  }, function (e, t) {
    "function" == typeof Object.create ? e.exports = function (e, t) {
      e.super_ = t, e.prototype = Object.create(t.prototype, {
        constructor: {
          value: e,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      })
    } : e.exports = function (e, t) {
      e.super_ = t;
      var n = function () {};
      n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e
    }
  }, function (e, t, n) {
    "use strict";
    const r = n(47),
      A = n(52);
    const a = new class extends A {
      content({
        onError: e,
        onDone: t,
        rethrowIfPossible: n
      }) {
        return this.callTapsSeries({
          onError: (t, n) => e(n),
          onDone: t,
          rethrowIfPossible: n
        })
      }
    };
    e.exports = class extends r {
      tapAsync() {
        throw new Error("tapAsync is not supported on a SyncHook")
      }
      tapPromise() {
        throw new Error("tapPromise is not supported on a SyncHook")
      }
      compile(e) {
        return a.setup(this, e), a.create(e)
      }
    }
  }, function (e, t, n) {
    "use strict";
    const r = n(47),
      A = n(52);
    const a = new class extends A {
      content({
        onError: e,
        onResult: t,
        resultReturns: n,
        rethrowIfPossible: r
      }) {
        return this.callTapsSeries({
          onError: (t, n) => e(n),
          onResult: (e, t, n) => {
            let r = "";
            return r += `if(${t} !== undefined) {\n`, r +=
              `${this._args[0]} = ${t};\n`, r += "}\n", r += n(), r
          },
          onDone: () => t(this._args[0]),
          doneReturns: n,
          rethrowIfPossible: r
        })
      }
    };
    e.exports = class extends r {
      constructor(e) {
        if (super(e), e.length < 1) throw new Error(
          "Waterfall hooks must have at least one argument")
      }
      tapAsync() {
        throw new Error("tapAsync is not supported on a SyncWaterfallHook")
      }
      tapPromise() {
        throw new Error("tapPromise is not supported on a SyncWaterfallHook")
      }
      compile(e) {
        return a.setup(this, e), a.create(e)
      }
    }
  }, function (e, t, n) {
    "use strict";
    const r = n(47),
      A = n(52);
    const a = new class extends A {
      content({
        onError: e,
        onDone: t,
        rethrowIfPossible: n
      }) {
        return this.callTapsLooping({
          onError: (t, n) => e(n),
          onDone: t,
          rethrowIfPossible: n
        })
      }
    };
    e.exports = class extends r {
      tapAsync() {
        throw new Error("tapAsync is not supported on a SyncLoopHook")
      }
      tapPromise() {
        throw new Error("tapPromise is not supported on a SyncLoopHook")
      }
      compile(e) {
        return a.setup(this, e), a.create(e)
      }
    }
  }, function (e, t, n) {
    "use strict";
    const r = n(47),
      A = n(52);
    const a = new class extends A {
      content({
        onError: e,
        onDone: t
      }) {
        return this.callTapsParallel({
          onError: (t, n, r, A) => e(n) + A(!0),
          onDone: t
        })
      }
    };
    class i extends r {
      compile(e) {
        return a.setup(this, e), a.create(e)
      }
    }
    Object.defineProperties(i.prototype, {
      _call: {
        value: void 0,
        configurable: !0,
        writable: !0
      }
    }), e.exports = i
  }, function (e, t, n) {
    "use strict";
    const r = n(47),
      A = n(52);
    const a = new class extends A {
      content({
        onError: e,
        onResult: t,
        onDone: n
      }) {
        let r = "";
        return r += `var _results = new Array(${this.options.taps.length});\n`, r +=
          "var _checkDone = () => {\n", r +=
          "for(var i = 0; i < _results.length; i++) {\n", r +=
          "var item = _results[i];\n", r += "if(item === undefined) return false;\n",
          r += "if(item.result !== undefined) {\n", r += t("item.result"), r +=
          "return true;\n", r += "}\n", r += "if(item.error) {\n", r += e(
            "item.error"), r += "return true;\n", r += "}\n", r += "}\n", r +=
          "return false;\n", r += "}\n", r += this.callTapsParallel({
            onError: (e, t, n, r) => {
              let A = "";
              return A +=
                `if(${e} < _results.length && ((_results.length = ${e+1}), (_results[${e}] = { error: ${t} }), _checkDone())) {\n`,
                A += r(!0), A += "} else {\n", A += n(), A += "}\n", A
            },
            onResult: (e, t, n, r) => {
              let A = "";
              return A +=
                `if(${e} < _results.length && (${t} !== undefined && (_results.length = ${e+1}), (_results[${e}] = { result: ${t} }), _checkDone())) {\n`,
                A += r(!0), A += "} else {\n", A += n(), A += "}\n", A
            },
            onTap: (e, t, n, r) => {
              let A = "";
              return e > 0 && (A += `if(${e} >= _results.length) {\n`, A += n(),
                A += "} else {\n"), A += t(), e > 0 && (A += "}\n"), A
            },
            onDone: n
          }), r
      }
    };
    class i extends r {
      compile(e) {
        return a.setup(this, e), a.create(e)
      }
    }
    Object.defineProperties(i.prototype, {
      _call: {
        value: void 0,
        configurable: !0,
        writable: !0
      }
    }), e.exports = i
  }, function (e, t, n) {
    "use strict";
    const r = n(47),
      A = n(52);
    const a = new class extends A {
      content({
        onError: e,
        onDone: t
      }) {
        return this.callTapsSeries({
          onError: (t, n, r, A) => e(n) + A(!0),
          onDone: t
        })
      }
    };
    class i extends r {
      compile(e) {
        return a.setup(this, e), a.create(e)
      }
    }
    Object.defineProperties(i.prototype, {
      _call: {
        value: void 0,
        configurable: !0,
        writable: !0
      }
    }), e.exports = i
  }, function (e, t, n) {
    "use strict";
    const r = n(47),
      A = n(52);
    const a = new class extends A {
      content({
        onError: e,
        onResult: t,
        resultReturns: n,
        onDone: r
      }) {
        return this.callTapsSeries({
          onError: (t, n, r, A) => e(n) + A(!0),
          onResult: (e, n, r) =>
            `if(${n} !== undefined) {\n${t(n)};\n} else {\n${r()}}\n`,
          resultReturns: n,
          onDone: r
        })
      }
    };
    class i extends r {
      compile(e) {
        return a.setup(this, e), a.create(e)
      }
    }
    Object.defineProperties(i.prototype, {
      _call: {
        value: void 0,
        configurable: !0,
        writable: !0
      }
    }), e.exports = i
  }, function (e, t, n) {
    "use strict";
    const r = n(47),
      A = n(52);
    const a = new class extends A {
      content({
        onError: e,
        onResult: t,
        onDone: n
      }) {
        return this.callTapsSeries({
          onError: (t, n, r, A) => e(n) + A(!0),
          onResult: (e, t, n) => {
            let r = "";
            return r += `if(${t} !== undefined) {\n`, r +=
              `${this._args[0]} = ${t};\n`, r += "}\n", r += n(), r
          },
          onDone: () => t(this._args[0])
        })
      }
    };
    class i extends r {
      constructor(e) {
        if (super(e), e.length < 1) throw new Error(
          "Waterfall hooks must have at least one argument")
      }
      compile(e) {
        return a.setup(this, e), a.create(e)
      }
    }
    Object.defineProperties(i.prototype, {
      _call: {
        value: void 0,
        configurable: !0,
        writable: !0
      }
    }), e.exports = i
  }, function (e, t, n) {
    "use strict";
    e.exports = class {
      constructor(e) {
        this._map = new Map, this._factory = e, this._interceptors = []
      }
      get(e) {
        return this._map.get(e)
      }
      for (e) {
        const t = this.get(e);
        if (void 0 !== t) return t;
        let n = this._factory(e);
        const r = this._interceptors;
        for (let t = 0; t < r.length; t++) n = r[t].factory(e, n);
        return this._map.set(e, n), n
      }
      intercept(e) {
        this._interceptors.push(Object.assign({
          factory: (e, t) => t
        }, e))
      }
      tap(e, t, n) {
        return this.for(e).tap(t, n)
      }
      tapAsync(e, t, n) {
        return this.for(e).tapAsync(t, n)
      }
      tapPromise(e, t, n) {
        return this.for(e).tapPromise(t, n)
      }
    }
  }, function (e, t, n) {
    "use strict";
    n(47);
    class r {
      constructor(e) {
        this.hooks = e
      }
      tap(e, t) {
        for (const n of this.hooks) n.tap(e, t)
      }
      tapAsync(e, t) {
        for (const n of this.hooks) n.tapAsync(e, t)
      }
      tapPromise(e, t) {
        for (const n of this.hooks) n.tapPromise(e, t)
      }
      isUsed() {
        for (const e of this.hooks)
          if (e.isUsed()) return !0;
        return !1
      }
      intercept(e) {
        for (const t of this.hooks) t.intercept(e)
      }
      withOptions(e) {
        return new r(this.hooks.map(t => t.withOptions(e)))
      }
    }
    e.exports = r
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = s(n(2)),
      A = s(n(0)),
      a = s(n(1)),
      i = s(n(3)),
      o = s(n(4));

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var u = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "mouse", e.description = "鼠标工具", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.opChange.tap("OpChange", this.handleOpChange
            .bind(this))
        }
      }, {
        key: "handleOpChange",
        value: function (e) {
          var t;
          console.log("MouseOp:handleOpChange newType", e);
          var n = this.opsManager.opMap.url,
            r = n.mediaPlugins[n.currentUrlOpid];
          r && r.media ? "mouse" !== e && "mouse" === (null === (t = this
              .opsManager.currOp) || void 0 === t ? void 0 : t.type) ? r.media
            .style.pointerEvents = "none" : "mouse" === e && (r.media.style
              .pointerEvents = "auto") : console.log(
              "MouseOp:handleOpChange cannot find the plugin")
        }
      }]), t
    }(s(n(9)).default);
    t.default = u
  }, function (e, t, n) {
    e.exports = {
      default: n(296),
      __esModule: !0
    }
  }, function (e, t, n) {
    n(297);
    var r = n(8).Object;
    e.exports = function (e, t) {
      return r.getOwnPropertyDescriptor(e, t)
    }
  }, function (e, t, n) {
    var r = n(41),
      A = n(100).f;
    n(101)("getOwnPropertyDescriptor", (function () {
      return function (e, t) {
        return A(r(e), t)
      }
    }))
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r, A = n(299),
      a = (r = A) && r.__esModule ? r : {
        default: r
      };

    function i(e) {
      var t = "0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()_+[]{}|/<>,./";
      return e ? "0123456789" [Math.floor(Math.random() * "0123456789".length)] : t[Math
        .floor(Math.random() * t.length)]
    }
    t.getRandomIntByStr = function (e) {
      var t = (n = function (e) {
        for (var t = 0, n = 1779033703 ^ e.length; t < e.length; t++) n = (n = (0, a
          .default)(n ^ e.charCodeAt(t), 3432918353)) << 13 | n >>> 19;
        return function () {
          return n = (0, a.default)(n ^ n >>> 16, 2246822507), n = (0, a.default)(
            n ^ n >>> 13, 3266489909), (n ^= n >>> 16) >>> 0
        }
      }(function (e) {
        for (var t = "", n = 0; n < e; n++) t += i(!1);
        return t
      }(18))(), function () {
        var e = n += 1831565813;
        return e = (0, a.default)(e ^ e >>> 15, 1 | e), ((e ^= e + (0, a.default)(
          e ^ e >>> 7, 61 | e)) ^ e >>> 14) >>> 0
      })().toString().slice(0, e);
      var n;
      if (t.length < e)
        for (var r = t.length; r < e; r++) t += i(!0);
      return t
    }
  }, function (e, t, n) {
    e.exports = {
      default: n(300),
      __esModule: !0
    }
  }, function (e, t, n) {
    n(301), e.exports = n(8).Math.imul
  }, function (e, t, n) {
    var r = n(10),
      A = Math.imul;
    r(r.S + r.F * n(38)((function () {
      return -5 != A(4294967295, 5) || 2 != A.length
    })), "Math", {
      imul: function (e, t) {
        var n = +e,
          r = +t,
          A = 65535 & n,
          a = 65535 & r;
        return 0 | A * a + ((65535 & n >>> 16) * a + A * (65535 & r >>> 16) <<
          16 >>> 0)
      }
    })
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.drawCurve = void 0;
    var r, A = n(16),
      a = (r = A) && r.__esModule ? r : {
        default: r
      },
      i = n(224);
    var o = function (e, t, n, r, A) {
      var o = i.Vector2.sub(n, t),
        s = i.Vector2.normalize(new i.Vector2(o.y, -o.x));
      s && (e.moveTo.apply(e, (0, a.default)(i.Vector2.add(t, i.Vector2.scale(s, r))
        .value)), e.lineTo.apply(e, (0, a.default)(i.Vector2.add(n, i.Vector2.scale(
        s, A)).value)), e.lineTo.apply(e, (0, a.default)(i.Vector2.add(n, i.Vector2
        .scale(s, -1 * A)).value)), e.lineTo.apply(e, (0, a.default)(i.Vector2.add(
        t, i.Vector2.scale(s, -1 * r)).value)))
    };
    t.drawCurve = function (e, t, n, r, A) {
      t.beginPath();
      var i = n.length;
      if (!(i < 1))
        if (void 0 !== A) {
          var s = .5 * A + .5;
          if (2 === i) {
            var u = n[0],
              l = n[1],
              c = s * u.intensity,
              d = s * l.intensity;
            t.moveTo.apply(t, (0, a.default)(n[0].value)), t.arc(u.x, u.y, c, 0, 6.28),
              o(t, u, l, c, d), t.moveTo.apply(t, (0, a.default)(n[1].value)), t.arc(l
                .x, l.y, d, 0, 6.28)
          } else {
            var p = n[0],
              h = s * p.intensity;
            t.moveTo.apply(t, (0, a.default)(p.value)), t.arc(p.x, p.y, h, 0, 6.28);
            for (var f = 1; f < i - 1; f++) {
              var g = n[f];
              if ((Math.abs(g.x - p.x) + Math.abs(g.y - p.y)) * r > 1) {
                var y = s * g.intensity;
                o(t, p, g, h, y), t.moveTo.apply(t, (0, a.default)(g.value)), t.arc(g.x,
                  g.y, y, 0, 6.28), p = g, h = y
              }
            }
            var v = n[i - 1],
              m = s * v.intensity;
            o(t, p, v, h, m), t.moveTo.apply(t, (0, a.default)(v.value)), t.arc(v.x, v
              .y, m, 0, 6.28)
          }
        } else if (t.moveTo.apply(t, (0, a.default)(n[0].value)), 2 === i) t.lineTo
        .apply(t, (0, a.default)(n[1].value));
      else {
        for (var w = n[0], B = 1; B < i - 1; B++) {
          var I = n[B];
          (Math.abs(I.x - w.x) + Math.abs(I.y - w.y)) * r > e.appConfig.penPrecision &&
            (t.lineTo.apply(t, (0, a.default)(I.value)), w = I)
        }
        t.lineTo.apply(t, (0, a.default)(n[i - 1].value))
      }
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = y(n(5)),
      A = y(n(2)),
      a = y(n(0)),
      i = y(n(1)),
      o = y(n(3)),
      s = y(n(4)),
      u = y(n(9)),
      l = n(15),
      c = n(19),
      d = n(60),
      p = y(d),
      h = n(29),
      f = n(39),
      g = n(141);

    function y(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var v = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.type = "move", e.activate = !1, e.activateOpId = "", e.description =
          "移动操作工具。内部使用，不提供对外接口", e.idsBeenMoved = [], e.snapsBeenMoved = {}, e
          .auxLock = {
            pos: [0, 0],
            lockX: 0,
            lockY: 0,
            unlockXCount: 0,
            unlockYCount: 0,
            shiftX: 0,
            shiftY: 0,
            lastMoves: [
              [0, 0],
              [0, 0],
              [0, 0]
            ],
            lastCx: 0,
            lastCy: 0
          }, e.keyDownMoveEnd = function () {
            if (e.keyMove) {
              var t = {
                type: "move",
                sp: [0, 0],
                ep: [e.keyMove.dx, e.keyMove.dy],
                dependOn: e.keyMove.moveIds,
                inProgress: !1
              };
              e.opsManager.graphOp.handleElePosChange(e.keyMove.snaps, t, e.keyMove
                .opId, e.keyMove.opId + "_move"), clearTimeout(e.keyMove.timer)
            }
            e.keyMove = void 0
          }, e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.mousedown.tap("MousedownPlugin", this
              .handleMouseDown.bind(this)), this.opsManager.hooks.mousemove.tap(
              "MousemovePlugin", this.handleMouseMove.bind(this)), this
            .opsManager.hooks.mouseup.tap("MouseupPlugin", this.handleMouseUp
              .bind(this)), this.opsManager.hooks.keydown.tap("KeydownPlugin",
              this.handleKeyDown.bind(this))
        }
      }, {
        key: "handleMouseMove",
        value: function (e, t, n, r, A) {
          if (this.opsManager.currOp instanceof p.default) {
            if (t = Number(t.toFixed(3)), n = Number(n.toFixed(3)), this
              .activate) {
              var a = (0, g.getMoveInAuxiliaryLine)(this.app, t, n, r, A, this
                .auxLock, "move");
              if (!a) return !0;
              t = a.mx, n = a.my, this.ep = [t, n];
              var i = this.getSnapshot(!0, this.idsBeenMoved),
                o = this.opsManager.auxiliaryOp.calcAuxiliaryLine({
                  opsBeforeChange: this.snapsBeenMoved,
                  snap: i,
                  action: "move",
                  ids: this.idsBeenMoved.slice()
                });
              return (0, g.updateAuxLock)(this.auxLock, t, n, o), this
                .opsManager.graphOp.handleElePosChange(this.snapsBeenMoved, i,
                  this.activateOpId, this.activateOpId + "_move"), !0
            }
            if (!this.isMouseDown) {
              if (!(0, c.linkSelectOnly)(this.opsManager.selectedOpIds, this
                  .drawOpsOfPage) && this.mouseInSelectedEleBoundary(t, n, this
                  .opsManager.selectedOpIds)) return document.body.style
                .cursor = "move", !0;
              var s = (0, c.findOpsUnderMouse)(this.app, this.app.scale, [
                  [t, n]
                ], this.drawOpsOfPage, this.opsManager),
                u = (0, c.arrayDeduce)(s, this.opsManager.selectedOpIds);
              if ((0, c.linkSelectOnly)(u, this.drawOpsOfPage)) return void(
                document.body.style.cursor = "default");
              u.length > 0 ? document.body.style.cursor = "move" : document.body
                .style.cursor = "default"
            }
          }
        }
      }, {
        key: "handleMouseDown",
        value: function (e, t, n) {
          if (this.opsManager.currOp instanceof p.default) {
            if (t = Number(t.toFixed(3)), n = Number(n.toFixed(3)), this
              .mouseInSelectedEleBoundary(t, n, this.opsManager
              .selectedOpIds) && !(0, c.linkSelectOnly)(this.opsManager
                .selectedOpIds, this.drawOpsOfPage)) return this.beginBatch(),
              document.body.style.cursor = "move", this.idsBeenMoved = this
              .opsManager.selectedOpIds, this.sp = [t, n], this.activate = !0,
              this.activateOpId = this.opsManager.currPage.getNextOpId(!0),
              this.snapsBeenMoved = (0, f.deepCopySnapBeforeMove)(this
                .idsBeenMoved, this.drawOpsOfPage), !0;
            var r = (0, c.findOpsUnderMouse)(this.app, this.app.scale, [
              [t, n]
            ], this.drawOpsOfPage, this.opsManager);
            if ((r = this.opsManager.groupOp.getOpIdsInGroups(r)).length > 0) {
              if ((0, c.linkSelectOnly)(r, this.drawOpsOfPage)) return;
              return this.dispatch(this.opsManager.selectOp.getSnapshot([])),
                this.beginBatch(), document.body.style.cursor = "move", this
                .idsBeenMoved = this.opsManager.groupOp.getOpIdsInGroups(r
                  .slice()), this.sp = [t, n], this.activate = !0, this
                .activateOpId = this.opsManager.currPage.getNextOpId(!0), this
                .snapsBeenMoved = (0, f.deepCopySnapBeforeMove)(this
                  .idsBeenMoved, this.drawOpsOfPage), !0
            }
          }
          this.activate = !1
        }
      }, {
        key: "handleMouseUp",
        value: function () {
          if (this.auxLock.lockX = 0, this.auxLock.lockY = 0, this.auxLock
            .shiftX = 0, this.auxLock.shiftY = 0, this.auxLock.lastCx = 0, this
            .auxLock.lastCy = 0, this.auxLock.lastMoves = [
              [0, 0],
              [0, 0],
              [0, 0]
            ], this.opsManager.auxiliaryOp.clean(), this.activate && (this
              .activate = !1, this.sp && this.ep && this.isMouseMoved))
          return this.opsManager.graphOp.handleElePosChange(this
              .snapsBeenMoved, this.getSnapshot(!1, this.idsBeenMoved), this
              .activateOpId, this.activateOpId + "_move"), !0
        }
      }, {
        key: "handleKeyDown",
        value: function (e) {
          var t, n = this;
          if (this.opsManager.currOp instanceof p.default && this.opsManager
            .selectedOpIds.length > 0) {
            if ((0, c.linkSelectOnly)(this.opsManager.selectedOpIds, this
                .drawOpsOfPage)) return;
            var r = e.key.toLocaleLowerCase(),
              A = Date.now(),
              a = (this.keyMove ? A - this.keyMove.last : 120) < 110 ? 6 : 1,
              i = 0,
              o = 0;
            if ("arrowup" === r ? o = -a : "arrowdown" === r ? o = a :
              "arrowleft" === r ? i = -a : "arrowright" === r && (i = a), 0 !==
              i || 0 !== o) {
              clearTimeout(null === (t = this.keyMove) || void 0 === t ?
                void 0 : t.timer), void 0 === this.keyMove ? this.keyMove = {
                timer: null,
                dx: i,
                dy: o,
                last: A,
                opId: this.opsManager.currPage.getNextOpId(!0),
                moveIds: this.opsManager.selectedOpIds.slice(),
                snaps: (0, f.deepCopySnapBeforeMove)(this.opsManager
                  .selectedOpIds.slice(), this.drawOpsOfPage)
              } : (this.keyMove.dx += i, this.keyMove.dy += o, this.keyMove
                .last = A);
              var s = {
                type: "move",
                sp: [0, 0],
                ep: [this.keyMove.dx, this.keyMove.dy],
                dependOn: this.keyMove.moveIds,
                inProgress: !0
              };
              this.opsManager.graphOp.handleElePosChange(this.keyMove.snaps, s,
                  this.keyMove.opId, this.keyMove.opId + "_move"), this.keyMove
                .timer = setTimeout((function () {
                  n.keyDownMoveEnd()
                }), 1e3)
            }
          }
        }
      }, {
        key: "getSnapshot",
        value: function (e, t) {
          return {
            type: "move",
            sp: this.sp,
            ep: this.ep,
            dependOn: t.slice(),
            inProgress: e
          }
        }
      }, {
        key: "mouseInSelectedEleBoundary",
        value: function (e, t, n) {
          var r = this;
          if (0 === (n = n.filter((function (e) {
              return r.drawOpsOfPage.hasOwnProperty(e)
            }))).length) return !1;
          var A = d.SELECT_PAD;
          if (n.length > 1) {
            var a = n.map((function (e) {
              var t = r.drawOpsOfPage[e];
              return (0, l.getTransformedBoundary)(r.app.camera.scale, t
                .data)
            })).filter((function (e) {
              return !(isNaN(e.w) || isNaN(e.h) || isNaN(e.sx) || isNaN(e
                .sy))
            }));
            if (0 === a.length) return !1;
            var i = a.reduce((function (e, t) {
              return (0, l.combineBoundary)(e, t)
            }));
            return (0, l.pointInRect)(i, A, [e, t])
          }
          var o = this.drawOpsOfPage[n[0]],
            s = (0, l.getTransformedVertices)(o.data);
          return (0, l.pointInVertices)(s, [e, t])
        }
      }, {
        key: "transformOp",
        value: function (e, t) {
          if ("link" === e.data.type) return e;
          var n = void 0,
            A = void 0;
          return Array.isArray(t.points) ? (n = t.points[t.points.length - 1][
            0] - t.points[0][0], A = t.points[t.points.length - 1][1] - t
            .points[0][1]) : (n = t.ep[0] - t.sp[0], A = t.ep[1] - t.sp[1]), (
            0, r.default)({}, e, {
            data: (0, r.default)((0, r.default)({}, e.data), {
              mat: (0, h.panMat)(e.data.mat, n, A)
            })
          })
        }
      }]), t
    }(u.default);
    t.default = v
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = g(n(5)),
      A = g(n(2)),
      a = g(n(0)),
      i = g(n(1)),
      o = g(n(3)),
      s = g(n(4)),
      u = g(n(9)),
      l = g(n(60)),
      c = n(15),
      d = n(96),
      p = n(29),
      h = n(39),
      f = n(141);

    function g(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var y = ["text", "video", "image"],
      v = ["audio"],
      m = function (e) {
        function t() {
          (0, a.default)(this, t);
          var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
            arguments));
          return e.type = "scale", e.coordinateX = 0, e.coordinateY = 0, e.v1 = [1, 0], e
            .v2 = [0, 1], e.activate = !1, e.activateOpId = "", e.idsBeenScaled = [], e
            .snapsBeenScaled = {}, e.auxLock = {
              pos: [0, 0],
              lockX: 0,
              lockY: 0,
              unlockXCount: 0,
              unlockYCount: 0,
              shiftX: 0,
              shiftY: 0,
              lastMoves: [
                [0, 0],
                [0, 0],
                [0, 0]
              ],
              lastCx: 0,
              lastCy: 0
            }, e.description = "缩放", e
        }
        return (0, s.default)(t, e), (0, i.default)(t, [{
          key: "registerHooks",
          value: function () {
            this.opsManager.hooks.mousemove.tap("MouseMovePlugin", this
                .handleMouseMove.bind(this)), this.opsManager.hooks.mousedown.tap(
                "MouseMovePlugin", this.handleMouseDown.bind(this)), this
              .opsManager.hooks.mouseup.tap("MouseMovePlugin", this.handleMouseUp
                .bind(this))
          }
        }, {
          key: "handleMouseDown",
          value: function (e, t, n) {
            if (this.opsManager.currOp instanceof l.default) {
              var r = this.mousePosTest(t, n);
              document.body.style.cursor = r.cursorSuggestion;
              var A = this.opsManager.selectedOpIds;
              if (0 === A.length) return;
              if (!0 === r.value) {
                this.beginBatch(), this.activate = !0, this.activateOpId = this
                  .opsManager.currPage.getNextOpId(!0), this.idsBeenScaled = A,
                  this.snapsBeenScaled = (0, h.deepCopySnapBeforeMove)(this
                    .idsBeenScaled, this.drawOpsOfPage), this.coordinateX = r
                  .coordinateX, this.coordinateY = r.coordinateY;
                var a = r.angle,
                  i = r.xSign,
                  o = r.ySign;
                return this.v1 = [i * Math.cos(a) / r.w, i * Math.sin(a) / r.w],
                  this.v2 = [-o * Math.sin(a) / r.h, o * Math.cos(a) / r.h], !0
              }
            }
            this.activate = !1
          }
        }, {
          key: "handleMouseMove",
          value: function (e, t, n, r, A) {
            if (this.opsManager.currOp instanceof l.default) {
              var a = this.opsManager.selectedOpIds;
              if (this.activate) {
                var i = (0, f.getMoveInAuxiliaryLine)(this.app, t, n, r, A, this
                  .auxLock, "scale");
                if (!i) return !0;
                t = i.mx, n = i.my;
                var o = t - this.coordinateX,
                  s = n - this.coordinateY,
                  u = o * this.v1[0] + s * this.v1[1],
                  c = o * this.v2[0] + s * this.v2[1];
                this.idsBeenScaled.length > 1 && (c = u = Math.min(u, c)), this
                  .scaleInfo = {
                    scaleX: {
                      coordinate: this.coordinateX,
                      factor: u
                    },
                    scaleY: {
                      coordinate: this.coordinateY,
                      factor: c
                    }
                  };
                var d = this.getSnapshot(!0, this.idsBeenScaled),
                  p = this.opsManager.auxiliaryOp.calcAuxiliaryLine({
                    opsBeforeChange: this.snapsBeenScaled,
                    snap: d,
                    action: "scale",
                    ids: this.idsBeenScaled.slice(),
                    exclude: [{
                      dir: "h",
                      val: this.coordinateY
                    }, {
                      dir: "v",
                      val: this.coordinateX
                    }]
                  });
                return (0, f.updateAuxLock)(this.auxLock, t, n, p), this
                  .opsManager.graphOp.handleElePosChange(this.snapsBeenScaled,
                    this.getSnapshot(!0, this.idsBeenScaled), this.activateOpId,
                    this.activateOpId + "_scale"), !0
              }
              if (this.opsManager.currOp instanceof l.default && !this
                .isMouseDown && a.length > 0) {
                var h = this.mousePosTest(t, n);
                if (document.body.style.cursor = h.cursorSuggestion, "default" !==
                  h.cursorSuggestion) return !0
              } else document.body.style.cursor = "default"
            }
          }
        }, {
          key: "handleMouseUp",
          value: function () {
            if (this.auxLock.lockX = 0, this.auxLock.lockY = 0, this.auxLock
              .shiftX = 0, this.auxLock.shiftY = 0, this.auxLock.lastCx = 0, this
              .auxLock.lastCy = 0, this.auxLock.lastMoves = [
                [0, 0],
                [0, 0],
                [0, 0]
              ], this.opsManager.auxiliaryOp.clean(), this.activate && this
              .scaleInfo) return this.activate = !1, this.opsManager.graphOp
              .handleElePosChange(this.snapsBeenScaled, this.getSnapshot(!1,
                  this.idsBeenScaled), this.activateOpId, this.activateOpId +
                "_scale"), this.scaleInfo = void 0, !0;
            this.activate = !1, this.scaleInfo = void 0
          }
        }, {
          key: "mousePosTest",
          value: function (e, t) {
            var n = this,
              r = this.opsManager.opMap.select.selectInfo,
              A = this.opsManager.selectedOpIds;
            if (0 === (A = A.filter((function (e) {
                return n.drawOpsOfPage.hasOwnProperty(e)
              }))).length || !r) return {
              value: !1,
              cursorSuggestion: "default",
              coordinateX: 0,
              coordinateY: 0,
              xSign: 1,
              ySign: 1,
              angle: 0,
              w: 1,
              h: 1
            };
            var a = r.boundary,
              i = r.pad,
              o = a.isCombined ? [a.sx, a.sy] : a.p1,
              s = a.isCombined ? [a.sx + a.w, a.sy] : a.p2,
              u = a.isCombined ? [a.sx + a.w, a.sy + a.h] : a.p3,
              l = a.isCombined ? [a.sx, a.sy + a.h] : a.p4,
              p = a.isCombined ? a.w : Math.sqrt((s[0] - o[0]) * (s[0] - o[0]) + (
                s[1] - o[1]) * (s[1] - o[1])),
              h = a.isCombined ? a.h : Math.sqrt((l[0] - o[0]) * (l[0] - o[0]) + (
                l[1] - o[1]) * (l[1] - o[1]));
            p = Math.max(p, 1), h = Math.max(h, 1);
            var f = r.rotateIcon ? r.rotateIcon.angle : 0,
              g = 0,
              y = 1,
              v = 1,
              m = !0;
            if (1 === A.length) {
              var w = this.drawOpsOfPage[A[0]];
              "link" === w.data.type && (m = !1), w && w.data.xFactor && (g += w
                .data.xFactor > 0 ? 0 : Math.PI / 2, y = w.data.xFactor > 0 ?
                1 : -1), w && w.data.yFactor && (g += w.data.yFactor > 0 ? 0 : -
                Math.PI / 2, v = w.data.yFactor > 0 ? 1 : -1)
            }
            var B = 15;
            return -1 !== d.TouchPlatformArray.indexOf(this.app.platform) && (B *=
              2.2), B /= this.app.scale, m && (0, c.pointCollideWithPoint)([e,
              t], (0, c.getPointAftPad)(u, i, f, 2, y, v), B) ? {
              value: !0,
              cursorSuggestion: (0, c.getScaleCursor)(Math.PI / 4 + f + g),
              coordinateX: o[0],
              coordinateY: o[1],
              xSign: y,
              ySign: v,
              angle: f,
              w: p,
              h: h
            } : m && (0, c.pointCollideWithPoint)([e, t], (0, c.getPointAftPad)(
              l, i, f, 3, y, v), B) ? {
              value: !0,
              cursorSuggestion: (0, c.getScaleCursor)(Math.PI / 4 * 3 + f + g),
              coordinateX: s[0],
              coordinateY: s[1],
              xSign: -y,
              ySign: v,
              angle: f,
              w: p,
              h: h
            } : m && (0, c.pointCollideWithPoint)([e, t], (0, c.getPointAftPad)(
              o, i, f, 0, y, v), B) ? {
              value: !0,
              cursorSuggestion: (0, c.getScaleCursor)(Math.PI / 4 * 5 + f + g),
              coordinateX: u[0],
              coordinateY: u[1],
              xSign: -y,
              ySign: -v,
              angle: f,
              w: p,
              h: h
            } : m && (0, c.pointCollideWithPoint)([e, t], (0, c.getPointAftPad)(
              s, i, f, 1, y, v), B) ? {
              value: !0,
              cursorSuggestion: (0, c.getScaleCursor)(Math.PI / 4 * 7 + f + g),
              coordinateX: l[0],
              coordinateY: l[1],
              xSign: y,
              ySign: -v,
              angle: f,
              w: p,
              h: h
            } : {
              value: !1,
              cursorSuggestion: "default",
              coordinateX: 0,
              coordinateY: 0,
              xSign: 1,
              ySign: 1,
              angle: 0,
              w: 1,
              h: 1
            }
          }
        }, {
          key: "getSnapshot",
          value: function (e, t) {
            return {
              type: "scale",
              inProgress: e,
              scaleInfo: this._clipScaleInfo(),
              dependOn: t.slice()
            }
          }
        }, {
          key: "_clipScaleInfo",
          value: function () {
            return this.scaleInfo ? {
              scaleX: {
                coordinate: Number(this.scaleInfo.scaleX.coordinate.toFixed(3)),
                factor: Number(this.scaleInfo.scaleX.factor.toFixed(3))
              },
              scaleY: {
                coordinate: Number(this.scaleInfo.scaleY.coordinate.toFixed(3)),
                factor: Number(this.scaleInfo.scaleY.factor.toFixed(3))
              }
            } : this.scaleInfo
          }
        }, {
          key: "transformOp",
          value: function (e, t) {
            if ("link" === e.data.type) return e;
            var n = Array.isArray(t.scaleList) ? t.scaleList[t.scaleList.length -
                1] : t.scaleInfo,
              A = {
                coordinate: void 0 === n.scaleX ? 0 : n.scaleX.coordinate,
                factor: void 0 === n.scaleX ? 1 : n.scaleX.factor
              },
              a = {
                coordinate: void 0 === n.scaleY ? 0 : n.scaleY.coordinate,
                factor: void 0 === n.scaleY ? 1 : n.scaleY.factor
              };
            if (-1 !== y.indexOf(e.data.type)) {
              var i = (n.scaleX.factor || 1) / 2 + (n.scaleY.factor || 1) / 2;
              A.factor = i, a.factor = i
            } else -1 !== v.indexOf(e.data.type) && (a.factor = 1);
            return "text" !== e.data.type ? (0, r.default)({}, e, {
              data: (0, r.default)((0, r.default)({}, e.data), {
                mat: (0, p.scaleMat)(e.data.mat, e.data.rAngle, A, a),
                xFactor: (e.data.xFactor || 1) * A.factor,
                yFactor: (e.data.yFactor || 1) * a.factor
              })
            }) : (0, r.default)({}, e, {
              data: (0, r.default)((0, r.default)({}, e.data), {
                mat: (0, p.scaleMat)(e.data.mat, e.data.rAngle, A, a),
                fontSize: Math.abs(e.data.fontSize * A.factor),
                xFactor: (e.data.xFactor || 1) * A.factor,
                yFactor: (e.data.yFactor || 1) * a.factor
              })
            })
          }
        }]), t
      }(u.default);
    t.default = m
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = u(n(5)),
      A = u(n(2)),
      a = u(n(0)),
      i = u(n(1)),
      o = u(n(3)),
      s = u(n(4));

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.type = "delete", e.description = "删除元素。", e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.keydown.tap("KeydownPlugin", this.handleKeyDown
            .bind(this))
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            exec: {
              value: !0,
              information: {
                args: "",
                message: "删除当前选中的元素"
              }
            },
            "delete:deleteOps": {
              value: this.deleteOps.bind(this),
              information: {
                args: "opIds: Array<string>",
                message: "删除ops"
              }
            }
          }
        }
      }, {
        key: "handleKeyDown",
        value: function (e) {
          var t = e.key.toLocaleLowerCase();
          if (-1 !== ["backspace", "delete"].indexOf(t)) return this
            .execCommand(), !0
        }
      }, {
        key: "deleteOps",
        value: function (e) {
          Array.isArray(e) && e.length > 0 && this.dispatch(this.getSnapshot(e))
        }
      }, {
        key: "execCommand",
        value: function () {
          this.opsManager.selectedOpIds.length > 0 && this.dispatch(this
            .getSnapshot(this.opsManager.selectedOpIds))
        }
      }, {
        key: "getSnapshot",
        value: function (e) {
          for (var t in e = e.slice(), this.drawOpsOfPage) {
            var n = this.drawOpsOfPage[t];
            if ("link" === n.data.type && -1 === e.indexOf(t)) {
              if (n.data.start && n.data.start.id && -1 !== e.indexOf(n.data
                  .start.id)) {
                e.push(t);
                continue
              }
              if (n.data.end && n.data.end.id && -1 !== e.indexOf(n.data.end
                .id)) {
                e.push(t);
                continue
              }
            }
          }
          return {
            type: this.type,
            dependOn: e
          }
        }
      }, {
        key: "transformOp",
        value: function (e, t) {
          var n = (0, r.default)({}, e.data, {
            deleted: !0
          });
          return (0, r.default)({}, e, {
            data: n
          })
        }
      }]), t
    }(u(n(9)).default);
    t.default = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = d(n(7)),
      A = d(n(42)),
      a = d(n(2)),
      i = d(n(0)),
      o = d(n(1)),
      s = d(n(3)),
      u = d(n(4)),
      l = d(n(9)),
      c = n(46);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var p = function (e) {
      function t() {
        (0, i.default)(this, t);
        var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
          arguments));
        return e.type = "undo", e.description = "撤销操作", e.idsCouldUndo = new A.default,
          e
      }
      return (0, u.default)(t, e), (0, o.default)(t, [{
        key: "getCount",
        value: function () {
          return this.idsCouldUndo.size
        }
      }, {
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.opAdd.tap("OpAdd", this.onOpAdded.bind(this)),
            this.opsManager.hooks.keydown.tap("KeydownPlugin", this
              .handleKeyDown.bind(this))
        }
      }, {
        key: "handleKeyDown",
        value: function (e) {
          "z" === e.key.toLocaleLowerCase() && this.app.container
          .isCtrlPressed() && (e.preventDefault(), this.execCommand())
        }
      }, {
        key: "resetCount",
        value: function () {
          this.idsCouldUndo.clear(), this.emit("event:appState:change",
            "undoCount", 0)
        }
      }, {
        key: "onOpAdded",
        value: function (e) {
          if ("pageOp" === e.category || "boardOp" === e.category) this
            .idsCouldUndo.clear();
          else {
            if (e.data.skipUndo || e.data.inProgress || -1 !== c
              .snapshotOutOfNormalFlowTypes.indexOf(e.data.type)) return;
            if (e.uid !== this.app.account) return;
            if ("undo" === e.data.type) {
              if (e.data.undoOpId && this.idsCouldUndo.delete(e.data.undoOpId),
                Array.isArray(e.data.undoOpIds)) {
                var t = !0,
                  n = !1,
                  A = void 0;
                try {
                  for (var a, i = (0, r.default)(e.data.undoOpIds); !(t = (a = i
                      .next()).done); t = !0) {
                    var o = a.value;
                    this.idsCouldUndo.delete(o)
                  }
                } catch (e) {
                  n = !0, A = e
                } finally {
                  try {
                    !t && i.return && i.return()
                  } finally {
                    if (n) throw A
                  }
                }
              }
            } else "undo" !== e.data.type && this.idsCouldUndo.add(e.opId)
          }
          this.emit("event:appState:change", "undoCount", this.idsCouldUndo
            .size)
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            exec: {
              value: !0,
              information: {
                args: "",
                message: "执行" + this.type + "事件"
              }
            }
          }
        }
      }, {
        key: "execCommand",
        value: function () {
          0 !== this.idsCouldUndo.size && (this.getSnapshot().undoOpIds.length >
            0 && this.dispatch(this.getSnapshot()))
        }
      }, {
        key: "getSnapshot",
        value: function () {
          for (var e = this.opsOfPage, t = [], n = -1, a = new A.default, i = e
              .length - 1; i >= 0; i--) {
            var o = e[i],
              s = o.data.inProgress || o.data.skipUndo || -1 !== c
              .snapshotOutOfNormalFlowTypes.indexOf(o.data.type) || o.uid !==
              this.app.account;
            if ("undo" === o.data.type || s || a.has(o.opId)) {
              if ("undo" === o.data.type && (o.data.undoOpId && a.add(o.data
                  .undoOpId), Array.isArray(o.data.undoOpIds))) {
                var u = !0,
                  l = !1,
                  d = void 0;
                try {
                  for (var p, h = (0, r.default)(o.data.undoOpIds); !(u = (p = h
                      .next()).done); u = !0) {
                    var f = p.value;
                    a.add(f)
                  }
                } catch (e) {
                  l = !0, d = e
                } finally {
                  try {
                    !u && h.return && h.return()
                  } finally {
                    if (l) throw d
                  }
                }
              }
            } else {
              var g = o.time; - 1 === n ? (t.push(o.opId), n = g) : Math.abs(g -
                n) < 100 && t.push(o.opId)
            }
          }
          return {
            type: "undo",
            undoOpIds: t
          }
        }
      }]), t
    }(l.default);
    t.default = p
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = c(n(42)),
      A = c(n(2)),
      a = c(n(0)),
      i = c(n(1)),
      o = c(n(3)),
      s = c(n(4)),
      u = c(n(9)),
      l = n(46);

    function c(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var d = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.type = "redo", e.description = "重做操作", e.idsCouldRedo = new r.default,
          e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "getCount",
        value: function () {
          return this.idsCouldRedo.size
        }
      }, {
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.opAdd.tap("OpAdd", this.onOpAdded.bind(this)),
            this.opsManager.hooks.keydown.tap("KeydownPlugin", this
              .handleKeyDown.bind(this))
        }
      }, {
        key: "handleKeyDown",
        value: function (e) {
          "y" === e.key.toLocaleLowerCase() && this.app.container
          .isCtrlPressed() && (e.preventDefault(), this.execCommand())
        }
      }, {
        key: "resetCount",
        value: function () {
          this.idsCouldRedo.clear(), this.emit("event:appState:change",
            "redoCount", 0)
        }
      }, {
        key: "onOpAdded",
        value: function (e) {
          if ("pageOp" === e.category || "boardOp" === e.category) this
            .idsCouldRedo.clear();
          else {
            if (e.data.inProgress || e.data.skipUndo || -1 !== l
              .snapshotOutOfNormalFlowTypes.indexOf(e.data.type)) return;
            if (e.uid !== this.app.account) return;
            "redo" === e.data.type ? this.idsCouldRedo.delete(e.data.redoOpId) :
              "undo" === e.data.type ? this.idsCouldRedo.add(e.opId) : this
              .idsCouldRedo.clear()
          }
          this.emit("event:appState:change", "redoCount", this.idsCouldRedo
            .size)
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            exec: {
              value: !0,
              information: {
                args: "",
                message: "执行" + this.type + "事件"
              }
            }
          }
        }
      }, {
        key: "execCommand",
        value: function () {
          0 !== this.idsCouldRedo.size && this.dispatch(this.getSnapshot())
        }
      }, {
        key: "getSnapshot",
        value: function () {
          for (var e = this.opsOfPage, t = "", n = 0, r = e.length - 1; r >=
            0; r--) {
            var A = e[r];
            if (A.uid === this.app.account) {
              if ("undo" === A.data.type && 0 === n) {
                t = A.opId;
                break
              }
              "undo" === A.data.type ? n-- : "redo" === A.data.type ? n++ : A
                .data.skipUndo || -1 !== l.snapshotOutOfNormalFlowTypes.indexOf(
                  A.data.type) || this.logger.warn("DEV--\x3e",
                  "redo操作之前有非undo操作。请查看具体细节", e)
            }
          }
          return {
            type: this.type,
            redoOpId: t
          }
        }
      }]), t
    }(u.default);
    t.default = d
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = u(n(20)),
      A = u(n(2)),
      a = u(n(0)),
      i = u(n(1)),
      o = u(n(3)),
      s = u(n(4));

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.type = "clear", e.description = "清空操作", e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "isAvailable",
        value: function () {
          return (0, r.default)(this.drawOpsOfPage).length > 0
        }
      }, {
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.refresh.tap("RefreshPlugin", this.onRefresh
            .bind(this))
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            exec: {
              value: !0,
              information: {
                args: "",
                message: "执行" + this.type + "事件"
              }
            }
          }
        }
      }, {
        key: "execCommand",
        value: function () {
          (0, r.default)(this.drawOpsOfPage).length > 0 && this.dispatch(this
            .getSnapshot())
        }
      }, {
        key: "getSnapshot",
        value: function () {
          return {
            type: this.type
          }
        }
      }, {
        key: "onRefresh",
        value: function () {
          var e = (0, r.default)(this.drawOpsOfPage).length > 0;
          this.emit("event:appState:change", "clearAvailable", e)
        }
      }]), t
    }(u(n(9)).default);
    t.default = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = s(n(2)),
      A = s(n(0)),
      a = s(n(1)),
      i = s(n(3)),
      o = s(n(4));

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var u = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "eraser", e.eraserColor = "rgba(230, 100, 100, .4)", e.width =
          20, e.points = [], e.description = "橡皮擦", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            activate: {
              value: !0,
              information: {
                args: "",
                message: "设置工具栏状态为：" + this.type
              }
            }
          }
        }
      }, {
        key: "handleMouseMove",
        value: function (e, t, n) {
          this.isMouseDown && (this.points.push([t, n]), this.dispatch(this
            .getSnapshot()))
        }
      }, {
        key: "handleMouseDown",
        value: function (e, t, n) {
          this.beginBatch(), this.points = [], this.points.push([t, n])
        }
      }, {
        key: "handleMouseUp",
        value: function (e, t, n) {
          this.isMouseDown && (this.dispatch(this.getSnapshot()), this
            .points = [])
        }
      }, {
        key: "getSnapshot",
        value: function () {
          return {
            type: this.type,
            points: this.points.slice(),
            width: this.width
          }
        }
      }, {
        key: "draw",
        value: function (e, t) {
          t.save(), t.fillStyle = "rgb(0, 0, 0)";
          var n = e.data.points;
          t.beginPath(), t.globalCompositeOperation = "destination-out";
          for (var r = 1; r < n.length; r++) t.moveTo(n[r][0], n[r][1]), t.arc(
            n[r][0], n[r][1], this.width, 0, 2 * Math.PI, !0);
          t.fill(), t.restore(), this.drawEraserSignpost(t)
        }
      }, {
        key: "drawEraserSignpost",
        value: function (e) {
          this.opsManager.currOp instanceof t && this.isMouseDown && (e
            .beginPath(), e.arc(this.points[this.points.length - 1][0], this
              .points[this.points.length - 1][1], this.width, 0, 2 * Math.PI,
              !0), e.fillStyle = this.eraserColor, e.fill())
        }
      }]), t
    }(s(n(9)).default);
    t.default = u
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = u(n(20)),
      A = u(n(2)),
      a = u(n(0)),
      i = u(n(1)),
      o = u(n(3)),
      s = u(n(4));

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.type = "page", e.description = "页面相关操作", e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.pageChange.tap("pageChangePlugin", this
            .onPageChange.bind(this))
        }
      }, {
        key: "onPageChange",
        value: function () {
          return this.emit("event:appState:change", "page", {
            activeIndex: this.opsManager.currBoard.getCurrPageIndex(),
            pageNames: this.opsManager.currBoard.pageNames.slice(),
            currPage: this.opsManager.currBoard.currIndex,
            pagePayloads: this.opsManager.currBoard.payloadOfPages
          })
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            "page:goto": {
              value: this.goto.bind(this),
              information: {
                args: "page: number",
                message: "跳转至页面"
              }
            },
            "page:add": {
              value: this.add.bind(this),
              information: {
                args: "opt: {insertAfter?: number, payload?: any}",
                message: "添加页面。默认添加至当前board最后"
              }
            },
            "page:delete": {
              value: this.delete.bind(this),
              information: {
                args: "page: number",
                message: "删除页面。只有当页面数量大于1时可以删除页面"
              }
            }
          }
        }
      }, {
        key: "add",
        value: function (e) {
          this.dispatch({
            type: this.type,
            action: "add",
            insertAfter: e.insertAfter,
            payload: e.payload
          })
        }
      }, {
        key: "goto",
        value: function (e) {
          e !== this.opsManager.currBoard.currIndex && -1 !== this.opsManager
            .currBoard.pageNames.indexOf(e.toString()) && this.dispatch({
              type: this.type,
              action: "goto",
              page: e
            })
        }
      }, {
        key: "delete",
        value: function (e) {
          var t = this.opsManager.currBoard.pages;
          e in t && (0, r.default)(t).length > 1 && this.dispatch({
            type: this.type,
            action: "delete",
            page: e
          })
        }
      }]), t
    }(u(n(9)).default);
    t.default = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = d(n(25)),
      A = d(n(2)),
      a = d(n(0)),
      i = d(n(1)),
      o = d(n(3)),
      s = d(n(4)),
      u = d(n(11)),
      l = d(n(9)),
      c = n(142);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var p = function (e, t, n, r) {
        return new(n || (n = u.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      h = function (e) {
        function t() {
          (0, a.default)(this, t);
          var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
            arguments));
          return e.type = "image", e.description = "图片操作", e.dispatchImage = function (t,
            n, r, A) {
            var a = A.inProgress,
              i = A.page,
              o = A.pos,
              s = A.antiLeechProp,
              u = (null == o ? void 0 : o.size) ? o.size : "relative";
            n = "relative" === u ? n : n / e.app.scale, r = "relative" === u ? r : r / e
              .app.scale;
            var l = void 0,
              d = void 0;
            if (o) l = o.mx - n * o.origin.x, d = o.my - r * o.origin.y;
            else {
              var p = (0, c.getImageProperPosition)(e, n, r);
              l = p.sx, d = p.sy
            }
            i && i !== e.app.room.currBoard.currPage ? e.dispatchFromPage({
              type: e.type,
              url: t,
              antiLeechProp: s,
              boundary: {
                sx: l,
                sy: d,
                w: n,
                h: r
              }
            }, i) : e.dispatch({
              type: e.type,
              url: t,
              inProgress: a,
              antiLeechProp: s,
              boundary: {
                sx: l,
                sy: d,
                w: n,
                h: r
              }
            })
          }, e
        }
        return (0, s.default)(t, e), (0, i.default)(t, [{
          key: "eventsToListen",
          value: function () {
            return {
              "image:upload": {
                value: this.addImage.bind(this),
                information: {
                  args: "url: string, opts: {\n                        pageName?: string,\n                        boardName?: string,\n                        antiLeechProp: IAntiLeechProp\n                    }",
                  message: "上传图片"
                }
              }
            }
          }
        }, {
          key: "addImage",
          value: function (e, t) {
            return (0, c.addImage)(this.app, this, e, t)
          }
        }, {
          key: "preview",
          value: function (e, t, n) {
            var r = e.data,
              A = r.crop ? r.crop.boundary : r.boundary;
            if (console.log("图片的 preview data: ", r), t.save(), r.mat) {
              var a = r.mat;
              t.transform(a[0][0], a[1][0], a[0][1], a[1][1], a[0][2], a[1][2])
            }(0, c.draw)(this.app, t, r.url, r.boundary, {
              baseBoundary: A,
              page: n.page,
              supportToDataUrl: n.supportToDataUrl,
              preview: !0,
              antiLeechProp: r.antiLeechProp
            }), t.restore()
          }
        }, {
          key: "draw",
          value: function (e, t, n) {
            var r = e.data,
              A = r.crop ? r.crop.boundary : r.boundary;
            if (t.save(), r.mat) {
              var a = r.mat;
              t.transform(a[0][0], a[1][0], a[0][1], a[1][1], a[0][2], a[1][2])
            }(0, c.draw)(this.app, t, r.url, r.boundary, {
              antiLeechProp: r.antiLeechProp,
              cropping: !!r.crop && r.crop.inProgress,
              baseBoundary: A,
              page: n.page,
              id: e.opId,
              type: "image"
            }), r.crop && r.crop.inProgress && this.opsManager.cropOp.drawCrop(t,
              r), t.restore()
          }
        }, {
          key: "hide",
          value: function (e, t, n) {
            var r, A = n.querySelector("[id='" + e.opId + "']");
            null === (r = null == A ? void 0 : A.parentNode) || void 0 === r || r
              .removeChild(A)
          }
        }, {
          key: "waitTilReady",
          value: function (e) {
            return p(this, void 0, void 0, r.default.mark((function t() {
              var n = this;
              return r.default.wrap((function (t) {
                for (;;) switch (t.prev = t.next) {
                  case 0:
                    if (!this.app.resourceCache.resourceLoaded(e
                        .data.url)) {
                      t.next = 4;
                      break
                    }
                    return t.abrupt("return", u.default
                  .resolve());
                  case 4:
                    return t.abrupt("return", new u.default((
                      function (t) {
                        n.app.resourceCache.fetchResource({
                          urlArr: e.data.url,
                          antiLeechProp: e.data
                            .antiLeechProp,
                          cb: function () {
                            t()
                          }
                        })
                      })));
                  case 5:
                  case "end":
                    return t.stop()
                }
              }), t, this)
            })))
          }
        }]), t
      }(l.default);
    t.default = h
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = u(n(20)),
      A = u(n(2)),
      a = u(n(0)),
      i = u(n(1)),
      o = u(n(3)),
      s = u(n(4));

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.type = "board", e.description = "board相关操作", e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.boardChange.tap("boardChangePlugin", this
            .onBoardChange.bind(this))
        }
      }, {
        key: "onBoardChange",
        value: function () {
          var e = this;
          setTimeout((function () {
            return e.emit("event:appState:change", "board", {
              boardNames: (0, r.default)(e.app.room.boards),
              boardDisplayNames: e.app.room.getBoardDisplayNames(),
              currBoard: e.app.room.currIndex,
              currBoardDisplayName: e.app.room.currBoard.displayName
            })
          }), 0)
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            "board:import": {
              value: this.import.bind(this),
              information: {
                args: "url: string, boardNames?: Array<string>, overwrite?: boolean",
                message: "导入其它教学阶段导出的board"
              }
            },
            "board:goto": {
              value: this.goto.bind(this),
              information: {
                args: "boardName: string",
                message: "跳转至board。若board不存在，则创建board"
              }
            },
            "board:add": {
              value: this.add.bind(this),
              information: {
                args: "displayName: string, boardName: string, pageCount: number, opt?: {\n                        width: number,\n                        height: number,\n                        template: string,\n                        offset?: number\n                    }",
                message: "创建[pageCount]页数的board"
              }
            },
            "board:delete": {
              value: this.delete.bind(this),
              information: {
                args: "boardName: string",
                message: "删除board。只有当board数量大于1时可以删除board"
              }
            }
          }
        }
      }, {
        key: "import",
        value: function (e, t, n) {
          this.dispatch({
            type: this.type,
            action: "import",
            url: e,
            boardNames: t,
            overwrite: n
          })
        }
      }, {
        key: "goto",
        value: function (e) {
          e !== this.app.room.currIndex && this.dispatch({
            type: this.type,
            action: "goto",
            boardName: e
          })
        }
      }, {
        key: "add",
        value: function (e, t, n, r) {
          var A = Array.isArray(null == r ? void 0 : r.backupResultUrls) ?
            null == r ? void 0 : r.backupResultUrls : [];
          if (r) {
            var a = r.width,
              i = r.height;
            try {
              if (a / i > this.app.container.width / this.app.container
                .height) {
                var o = Math.max(this.app.container.width, 600);
                i = i / a * o, a = o
              } else {
                var s = Math.max(this.app.container.height, 600);
                a = a / i * s, i = s
              }
            } catch (e) {
              this.app.logger.error("[wb] add background error", e, a, i, this
                .app.container.width, this.app.container.height)
            }
            this.dispatch({
              type: this.type,
              action: "add",
              boardName: t,
              displayName: e,
              pageCount: n,
              w: a,
              h: i,
              tmpl: r.template,
              backupResultUrls: A,
              offset: r.offset ? r.offset : 0
            })
          } else this.dispatch({
            type: this.type,
            action: "add",
            boardName: t,
            displayName: e,
            pageCount: n
          })
        }
      }, {
        key: "delete",
        value: function (e) {
          var t = this.app.room.boards;
          if (e in t && (0, r.default)(t).length > 1) {
            var n = (0, r.default)(this.app.room.boards),
              A = this.app.room.currIndex;
            if (e === this.app.room.currIndex) {
              var a = n.indexOf(e);
              A = n[a === n.length - 1 ? a - 1 : a + 1]
            }
            "keepBoardCompat" === this.app.appConfig.deleteBoardBehavior ? (this
                .dispatch({
                  type: this.type,
                  action: "delete",
                  boardName: e
                }), this.dispatch({
                  type: this.type,
                  action: "goto",
                  boardName: A
                })) : "keepBoard" === this.app.appConfig.deleteBoardBehavior ?
              this.dispatch({
                type: this.type,
                action: "delete",
                boardName: e,
                nextBoard: A
              }) : this.dispatch({
                type: this.type,
                action: "delete",
                boardName: e
              })
          }
        }
      }]), t
    }(u(n(9)).default);
    t.default = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.COPY_PASTE_SHIFT = void 0;
    var r = I(n(5)),
      A = I(n(7)),
      a = I(n(2)),
      i = I(n(0)),
      o = I(n(1)),
      s = I(n(3)),
      u = I(n(4)),
      l = I(n(9)),
      c = I(n(139)),
      d = n(19),
      p = n(15),
      h = n(29),
      f = n(143),
      g = n(31),
      y = I(n(32)),
      v = I(n(22)),
      m = n(28),
      w = n(39),
      B = n(14);

    function I(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var M = t.COPY_PASTE_SHIFT = 50;

    function C(e) {
      navigator.clipboard ? navigator.clipboard.writeText(e).then((function () {
        console.log("Async: Copying to clipboard was successful!")
      }), (function (e) {
        console.error("Async: Could not copy text: ", e)
      })) : function (e) {
        var t = document.createElement("textarea");
        t.value = e, t.style.top = "0", t.style.left = "0", t.style.position = "fixed",
          document.body.appendChild(t), t.focus(), t.select();
        try {
          var n = document.execCommand("copy") ? "successful" : "unsuccessful";
          console.log("Fallback: Copying text command was " + n)
        } catch (e) {
          console.error("Fallback: Oops, unable to copy", e)
        }
        document.body.removeChild(t)
      }(e)
    }
    var b = function (e) {
      function t() {
        (0, i.default)(this, t);
        var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
          arguments));
        return e.type = "duplicate", e.description = "", e.copiedSnapshotArray = [], e
      }
      return (0, u.default)(t, e), (0, o.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            exec: {
              value: !0,
              information: {
                args: "",
                message: "复制当前选中的元素"
              }
            }
          }
        }
      }, {
        key: "copy",
        value: function (e) {
          var t = this,
            n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[
              1],
            r = (0, d.filterNonMediaOpIds)(this, this.opsManager.selectedOpIds);
          r.length > 0 && (this.copiedSnapshotArray = (0, c.default)(r.map((
              function (e) {
                return t.drawOpsOfPage[e]
              }))), n && e && (e.preventDefault(), e.stopPropagation(), C(
            "")))
        }
      }, {
        key: "paste",
        value: function (e) {
          var t, n, a, i = this,
            o = e.mx,
            s = e.my,
            u = e.fromWb,
            l = e.event,
            c = l && (l.clipboardData || window.clipboardData || l.originalEvent
              .clipboardData),
            p = c && c.items || [],
            h = c && c.getData("Text"),
            m = !1,
            w = !0,
            I = !1,
            M = void 0;
          try {
            for (var C, b = (0, A.default)(p); !(w = (C = b.next()).done); w = !
              0) {
              var x = C.value;
              if ("file" === x.kind && 0 === x.type.indexOf("image/")) {
                m = !0;
                var T = x.getAsFile();
                (0, g.showToast)({
                  type: "info",
                  msg: (0, B.getMsg)("pasteWait"),
                  time: 3,
                  msgType: y.default.PASTE_IMG_UPLOAD_WAIT
                }), (0, f.uploadMedia)(this.app, {
                  blob: T,
                  fileName: "temp.png",
                  mediaType: "image",
                  uploadprogress: function (e) {},
                  done: function (e, t) {
                    if ((0, g.hideToast)(), e) {
                      var n = (null == e ? void 0 : e.msg) || (null == e ?
                        void 0 : e.message) || (0, B.getMsg)(
                        "imgUploadFail");
                      (0, g.showToast)({
                        type: "error",
                        msg: n,
                        time: 3,
                        msgType: y.default.PASTE_IMG_UPLOAD_ERROR
                      }), i.logger.error("[wb] pasted image upload failed",
                        e)
                    } else if (!e) {
                      var A = i.dispatch((0, r.default)((0, r.default)({
                        type: "image",
                        url: t.url
                      }, i.app.appConfig.nosAntiLeech ? {
                        antiLeechProp: {
                          bucket: t.bucket,
                          object: t.object
                        }
                      } : {}), {
                        boundary: {
                          sx: (o || 0) - t.width / 2,
                          sy: (s || 0) - t.height / 2,
                          w: t.width,
                          h: t.height
                        }
                      }));
                      i.dispatch(i.opsManager.selectOp.getSnapshot([A]))
                    }
                  }
                })
              }
            }
          } catch (e) {
            I = !0, M = e
          } finally {
            try {
              !w && b.return && b.return()
            } finally {
              if (I) throw M
            }
          }
          var k = void 0;
          if (!m)
            if (u || !h) {
              if (this.copiedSnapshotArray.length > 0) {
                var E = this.getSnapshot(this.copiedSnapshotArray, o, s);
                k = E.duplicates.map((function (e) {
                  return e.opId
                }));
                var N = 0,
                  O = 0,
                  P = 0;
                for (P = 0; P < E.duplicates.length; P++) {
                  O += 700;
                  var _ = E.duplicates[P];
                  if ("pen" === _.data.type) O += 13 * (_.data.points || [])
                    .length;
                  else if ("shape" === _.data.type) O += ((null === (t = _.data
                    .text) || void 0 === t ? void 0 : t.value) || "").length;
                  else if ("text" === _.data.type) O += (_.data.text || "")
                    .length;
                  else if ("link" === _.data.type) {
                    var D = (null === (a = null === (n = _.data) || void 0 ===
                        n ? void 0 : n.text) || void 0 === a ? void 0 : a
                      .arr) || [],
                      Q = !0,
                      S = !1,
                      U = void 0;
                    try {
                      for (var F, L = (0, A.default)(D); !(Q = (F = L.next())
                          .done); Q = !0) {
                        O += (F.value.value || "").length
                      }
                    } catch (e) {
                      S = !0, U = e
                    } finally {
                      try {
                        !Q && L.return && L.return()
                      } finally {
                        if (S) throw U
                      }
                    }
                  }
                  O > 15e3 && (this.dispatch({
                    type: "duplicate",
                    duplicates: E.duplicates.slice(N, P + 1)
                  }, !0), N = P + 1, O = 0)
                }
                P > N && this.dispatch({
                  type: "duplicate",
                  duplicates: E.duplicates.slice(N, P + 1)
                }, !0)
              }
            } else if (!u && h) {
            var j = (h || "").slice(0, 1200);
            j = (0, d.convertWinTxtToUnixTxt)(j);
            var z = this.opsManager.textOp.getTextSize({
              text: j,
              fontSize: v.default.textDef.fontSize,
              fontFamily: v.default.textDef.fontFamily
            });
            k = [this.dispatch({
              boundary: {
                sx: (o || 0) - z.w / 2,
                sy: (s || 0) - z.h / 2,
                w: z.w,
                h: z.h
              },
              type: "text",
              stroke: v.default.textDef.stroke,
              fill: v.default.textDef.fill,
              text: j,
              fontSize: v.default.textDef.fontSize,
              fontFamily: v.default.textDef.fontFamily,
              textAlign: v.default.textDef.textAlign,
              inProgress: !1,
              skipUndo: !1
            })]
          }
          k && this.dispatch(this.opsManager.selectOp.getSnapshot(k))
        }
      }, {
        key: "execCommand",
        value: function () {
          this.copy(!1), this.paste({
            fromWb: !0,
            event: void 0
          })
        }
      }, {
        key: "getSnapshot",
        value: function (e, t, n) {
          var r = this,
            A = e.map((function (e) {
              return (0, p.getTransformedBoundary)(r.app.camera.scale, e
                .data)
            })).reduce((function (e, t) {
              return (0, p.combineBoundary)(e, t)
            })),
            a = M,
            i = M;
          "number" == typeof t && "number" == typeof n && (a = t - A.sx - A.w /
            2, i = n - A.sy - A.h / 2);
          var o = {};
          return (e = e.map((function (e) {
            var t = e.opId;
            return "link" !== (e = (0, c.default)(e)).data.type && (e
                .data.mat = (0, h.panMat)(e.data.mat, a, i)), e.opId = r
              .opsManager.currPage.getNextOpId(!0), o[t] = e.opId, e
          }))).forEach((function (e) {
            if ("link" === e.data.type) {
              var t = e.data;
              t.start.type === m.IEndPointType.COORD ? (t.start.x += a, t
                  .start.y += i) : o.hasOwnProperty(t.start.id) ? t.start
                .id = o[t.start.id] : t.start = {
                  type: m.IEndPointType.COORD,
                  x: (0, w.getLinkEndPos)(r.app, t.start, r).x + a,
                  y: (0, w.getLinkEndPos)(r.app, t.start, r).y + i,
                  aType: t.start.aType,
                  dir: t.start.dir
                }, t.end.type === m.IEndPointType.COORD ? (t.end.x += a, t
                  .end.y += i) : o.hasOwnProperty(t.end.id) ? t.end.id =
                o[t.end.id] : t.end = {
                  type: m.IEndPointType.COORD,
                  x: (0, w.getLinkEndPos)(r.app, t.end, r).x + a,
                  y: (0, w.getLinkEndPos)(r.app, t.end, r).y + i,
                  aType: t.end.aType,
                  dir: t.end.dir
                }, t.connPs.forEach((function (e) {
                  e.x += a, e.y += i
                }))
            }
          })), {
            type: this.type,
            duplicates: e
          }
        }
      }]), t
    }(l.default);
    t.default = b
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = p(n(16)),
      A = p(n(5)),
      a = p(n(2)),
      i = p(n(0)),
      o = p(n(1)),
      s = p(n(3)),
      u = p(n(4)),
      l = n(15),
      c = p(n(216)),
      d = p(n(22));

    function p(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var h = function (e) {
      function t() {
        (0, i.default)(this, t);
        var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
          arguments));
        return e.type = "pen-arrow", e.description =
          "带箭头的涂鸦操作工具。\n首先使用op:pen-arrow:activate设置画布为涂鸦模式。通过op:pen-arrow:lineWidth, op:pen-arrow:color设置涂鸦的宽度和颜色。然后画布会监听鼠标动作，生成涂鸦。具体用法如下：",
          e
      }
      return (0, u.default)(t, e), (0, o.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            activate: {
              value: !0,
              information: {
                args: "",
                message: "设置工具栏状态为：" + this.type
              }
            }
          }
        }
      }, {
        key: "getArrowPoints",
        value: function (e, t, n) {
          t = Number(t);
          var r = [];
          if (e.length < 3 || !e[0] || !e[1] || !e[2]) return r;
          if (e.length > 1 && n) {
            for (var A = e[e.length - 1], a = void 0, i = e.length - 2; i >=
              0 && i >= e.length - 30; i--) {
              var o = e[i];
              if (Math.abs(o[0] - A[0]) + Math.abs(o[1] - A[1]) > 1) {
                a = o;
                break
              }
            }
            void 0 === a && (a = e[i]);
            var s = [a, A],
              u = (0, l.getLineCoef)(s);
            if ((0, l.dist)(s[0], s[1]) > 1) {
              var c = s[1][0] - s[0][0] > 0 ? (0, l.getXFromCoefAndOffset)(s[1],
                  u, 1) : 2 * s[1][0] - (0, l.getXFromCoefAndOffset)(s[1], u,
                1),
                d = s[1][0] - s[0][0] == 0 ? s[1][1] + (s[1][1] - s[0][1] > 0 ?
                  1 : -1) : (0, l.getLineFromPointsY)(s, c);
              s.push([c, d])
            }
            r = (0, l.getArrowPoints)(t + 1, s)
          }
          return r
        }
      }, {
        key: "getSnapshot",
        value: function (e) {
          var t = this.points,
            n = !e && t.length > 2,
            r = this.getArrowPoints(t, d.default.penDef.lineWidth, n),
            a = this.opsManager.currPage.getOpId(),
            i = this.app.room.opIdSnapshotMap[a];
          if (!i || !i.snapshot.hasOwnProperty("category")) return (0, A
            .default)({
            points: t.slice(),
            arrowPoints: r,
            total: t.length
          }, this.getFreeDrawCommonProperty({
            inProgress: e
          }));
          var o = {
            boundary: this.getBoundaryRectOfFreeDraw()
          };
          return this.sampleSeq > 0 && e ? (0, A.default)((0, A.default)({},
          o), {
            points: t.slice(t.length - d.default.pointsPerBatch),
            total: t.length
          }) : this.sampleSeq > 0 ? (0, A.default)((0, A.default)({}, o), {
            points: t.slice(t.length - d.default.pointsPerBatch),
            arrowPoints: r,
            inProgress: e,
            total: t.length
          }) : (0, A.default)({
            points: t.slice(),
            arrowPoints: r,
            total: t.length
          }, this.getFreeDrawCommonProperty({
            inProgress: e
          }))
        }
      }, {
        key: "draw",
        value: function (e, t) {
          t.save();
          var n = e.data,
            A = this._draw(e, t);
          if (t.strokeStyle = n.stroke || n.color, t.lineWidth = n.lineWidth,
            "number" == typeof n.opacity && (t.globalAlpha = n.opacity), t
            .stroke(), 3 === n.arrowPoints.length) {
            var a = this.getArrowPoints(A, n.lineWidth, !0);
            3 === a.length && (t.beginPath(), t.moveTo.apply(t, (0, r.default)(
                a[0])), t.lineTo.apply(t, (0, r.default)(a[1])), t.lineTo
              .apply(t, (0, r.default)(a[2])), t.fillStyle = n.stroke || n
              .color, t.fill())
          }
          t.restore()
        }
      }]), t
    }(c.default);
    t.default = h
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = h(n(16)),
      A = h(n(5)),
      a = h(n(2)),
      i = h(n(0)),
      o = h(n(1)),
      s = h(n(3)),
      u = h(n(4)),
      l = n(15),
      c = h(n(226)),
      d = n(29),
      p = h(n(22));

    function h(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var f = function (e) {
      function t() {
        (0, i.default)(this, t);
        var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
          arguments));
        return e.type = "line-arrow", e.description =
          "绘制带箭头线段。\n首先使用op:line-arrow:activate设置画布为线段模式。通过op:line-arrow:lineWidth, op:line-arrow:color设置线段的宽度和颜色。然后画布会监听鼠标动作，生成线段。具体用法如下：",
          e
      }
      return (0, u.default)(t, e), (0, o.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            activate: {
              value: !0,
              information: {
                args: "",
                message: "设置工具栏状态为：" + this.type
              }
            }
          }
        }
      }, {
        key: "getSnapshot",
        value: function (e) {
          var t = !e && this.points.length > 2,
            n = [];
          if (this.points.length > 1 && t) {
            var r = [this.sp, this.ep];
            n = (0, l.getArrowPoints)(p.default.penDef.lineWidth + 1, r)
          }
          return (0, A.default)({
            arrowPoints: n
          }, this.getTwoPointShapeCommonProperty({
            inProgress: e
          }))
        }
      }, {
        key: "draw",
        value: function (e, t) {
          t.save();
          var n = e.data,
            A = this.getStartEndPointFromSnapshot(n),
            a = A.sp,
            i = A.ep,
            o = (0, d.getTransPoint)(a, n.mat),
            s = (0, d.getTransPoint)(i, n.mat);
          if (t.beginPath(), t.moveTo.apply(t, (0, r.default)(o)), t.lineTo
            .apply(t, (0, r.default)(s)), t.strokeStyle = n.stroke || n.color, t
            .lineWidth = n.lineWidth, "number" == typeof n.opacity && (t
              .globalAlpha = n.opacity), t.stroke(), 3 === n.arrowPoints.length
            ) {
            var u = (0, l.getArrowPoints)(Number(n.lineWidth) + 1, [o, s]);
            t.beginPath(), t.moveTo.apply(t, (0, r.default)(u[0])), t.lineTo
              .apply(t, (0, r.default)(u[1])), t.lineTo.apply(t, (0, r.default)(
                u[2])), t.fillStyle = n.stroke || n.color, t.fill()
          }
          t.restore()
        }
      }]), t
    }(c.default);
    t.default = f
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = u(n(5)),
      A = u(n(2)),
      a = u(n(0)),
      i = u(n(1)),
      o = u(n(3)),
      s = u(n(4));

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.type = "element-eraser", e.description = "删除元素。", e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            activate: {
              value: !0,
              information: {
                args: "",
                message: "设置工具栏状态为：" + this.type
              }
            }
          }
        }
      }, {
        key: "postMouseMove",
        value: function (e) {
          this.app.container.isTargetOnContainer(e.target) ? document.body.style
            .cursor = "url(" + n(235) + ") 2 13, auto" : document.body.style
            .cursor = "auto"
        }
      }, {
        key: "postMouseUp",
        value: function (e) {
          this.postClick(e)
        }
      }, {
        key: "postClick",
        value: function (e) {
          this.dispatch(this.getSelectionSnapshot(!1, []));
          var t = this.filterMediaIds(e);
          t.length > 0 && this.dispatch(this.opsManager.deleteOp.getSnapshot(t))
        }
      }, {
        key: "filterMediaIds",
        value: function (e) {
          var t = this;
          return e.filter((function (e) {
            var n = t.opsManager.drawOpsOfPage[e];
            return !n || !n.data || "audio" !== n.data.type && "video" !==
              n.data.type
          }))
        }
      }, {
        key: "getSnapshot",
        value: function (e) {
          return {
            type: "element-eraser",
            dependOn: e.slice()
          }
        }
      }, {
        key: "transformOp",
        value: function (e, t) {
          var n = (0, r.default)({}, e.data, {
            deleted: !0
          });
          return (0, r.default)({}, e, {
            data: n
          })
        }
      }]), t
    }(u(n(229)).default);
    t.default = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = p(n(2)),
      A = p(n(0)),
      a = p(n(1)),
      i = p(n(3)),
      o = p(n(4)),
      s = p(n(9)),
      u = p(n(22)),
      l = n(19),
      c = n(134),
      d = p(c);

    function p(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var h = (0, c.pointInterpFn)("point"),
      f = function (e) {
        function t() {
          (0, A.default)(this, t);
          var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
            arguments));
          return e.type = "laser", e.description = "镭射灯", e
        }
        return (0, o.default)(t, e), (0, a.default)(t, [{
          key: "eventsToListen",
          value: function () {
            return {
              activate: {
                value: !0,
                information: {
                  args: "",
                  message: "设置工具栏状态为：" + this.type
                }
              }
            }
          }
        }, {
          key: "registerHooks",
          value: function () {
            this.opsManager.hooks.opChange.tap("OpChange", this.handleOpChange
              .bind(this))
          }
        }, {
          key: "handleOpChange",
          value: function (e) {
            var t;
            "laser" !== e && "laser" === (null === (t = this.opsManager.currOp) ||
              void 0 === t ? void 0 : t.type) && (document.body.style.cursor =
              "default", this.dispatch(this.getSnapshot(!1)))
          }
        }, {
          key: "handleMouseLeave",
          value: function (e, t, n) {
            this.dispatch(this.getSnapshot(!1))
          }
        }, {
          key: "handleMouseMove",
          value: function (e, t, n) {
            var r = !0;
            this.app.container.isTargetOnContainer(e.target) ? document.body.style
              .cursor = "none" : (document.body.style.cursor = "auto", r = !1),
              this.dispatch(this.getSnapshot(r, [t, n]))
          }
        }, {
          key: "getSnapshot",
          value: function (e, t) {
            return {
              type: "laser",
              point: t,
              inProgress: e,
              skipUndo: !0,
              reuseOpType: "laser",
              color: u.default.penDef.stroke,
              nickname: this.app.nickname
            }
          }
        }, {
          key: "intepSnap",
          value: function (e) {
            return d.default.getSmootherSnapshot({
              app: this.app,
              snapshot: e,
              now: Date.now() + this.app.ntpTimeDiff,
              interpolateFn: h
            })
          }
        }, {
          key: "draw",
          value: function (e, t) {
            var n, r = e.data,
              A = Date.now() + this.app.ntpTimeDiff;
            if (this.app.isRecordPlayer) {
              if (this.app.player && (null === (n = this.app.player) || void 0 ===
                  n ? void 0 : n.lastTime) - e.data.recordTime > 9e4) return
            } else if (A - e.time > 9e4) return;
            var a = 6 / this.app.scale;
            e.data.inProgress && r.point && (t.save(), t.beginPath(), t.arc(r
                .point[0], r.point[1], a, 0, 2 * Math.PI, !0), t.shadowColor =
              "rgba(255, 0, 0, 0.5)", t.shadowBlur = 8, t.fillStyle = "#ff0000",
              t.fill(), t.restore(), e.uid !== this.app.account && this.app
              .appConfig.showLaserNickname && (0, l.drawUserName)({
                ctx: t,
                account: r.nickname || e.uid,
                scale: this.app.scale,
                px: r.point[0],
                py: r.point[1],
                bgColor: r.color
              }))
          }
        }]), t
      }(s.default);
    t.default = f
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = u(n(5)),
      A = u(n(2)),
      a = u(n(0)),
      i = u(n(1)),
      o = u(n(3)),
      s = u(n(4));

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.type = "lock", e.description = "锁定元素。", e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            lock: {
              value: this.lockOps.bind(this),
              information: {
                args: "opIds",
                message: "锁定元素"
              }
            },
            unlock: {
              value: this.unlockOps.bind(this),
              information: {
                args: "opIds",
                message: "解锁元素"
              }
            }
          }
        }
      }, {
        key: "lockOps",
        value: function (e) {
          this.dispatch(this.getSnapshot(e, "lock"))
        }
      }, {
        key: "unlockOps",
        value: function (e) {
          this.dispatch(this.getSnapshot(e, "unlock"))
        }
      }, {
        key: "getSnapshot",
        value: function (e, t) {
          return {
            type: this.type,
            action: t,
            dependOn: e.slice()
          }
        }
      }, {
        key: "transformOp",
        value: function (e, t) {
          var n = (0, r.default)({}, e.data, {
            locked: "lock" === t.action
          });
          return (0, r.default)({}, e, {
            data: n
          })
        }
      }]), t
    }(u(n(9)).default);
    t.default = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = d(n(25)),
      A = d(n(2)),
      a = d(n(0)),
      i = d(n(1)),
      o = d(n(3)),
      s = d(n(4)),
      u = d(n(11)),
      l = d(n(9)),
      c = n(142);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var p = function (e, t, n, r) {
        return new(n || (n = u.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      h = function (e) {
        function t() {
          (0, a.default)(this, t);
          var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
            arguments));
          return e.type = "background", e.description = "设置背景操作", e
            .getBoundaryFromSnapshot = function (t) {
              var n = void 0;
              if (t.data.hasOwnProperty("imgWidth")) {
                var r = (0, c.getImageProperPosition)(e, t.data.imgWidth, t.data
                  .imgHeight);
                n = {
                  sx: r.sx,
                  sy: r.sy,
                  w: width,
                  h: height
                }
              } else n = t.data.boundary;
              return n
            }, e.dispatchImage = function (t, n, r, A) {
              var a = (0, c.getBackgroundImagePorperPosition)(e, n, r),
                i = a.sx,
                o = a.sy,
                s = a.width,
                u = a.height,
                l = A.page,
                d = A.antiLeechProp;
              l ? e.dispatchFromPage({
                type: e.type,
                url: t,
                antiLeechProp: d,
                boundary: {
                  sx: i,
                  sy: o,
                  w: s,
                  h: u
                }
              }, l) : e.dispatch({
                type: e.type,
                url: t,
                antiLeechProp: d,
                boundary: {
                  sx: i,
                  sy: o,
                  w: s,
                  h: u
                }
              })
            }, e
        }
        return (0, s.default)(t, e), (0, i.default)(t, [{
          key: "eventsToListen",
          value: function () {
            return {
              "background:imageUpload": {
                value: this.addImage.bind(this),
                information: {
                  args: "url: string, opts?: {\n                        width?: number,\n                        height?: number,\n                        pageName?: string,\n                        boardName?: string\n                        antiLeechProp?: IAntiLeechProp\n                    }",
                  message: "上传背景图片"
                }
              }
            }
          }
        }, {
          key: "addImage",
          value: function (e, t) {
            return (0, c.addImage)(this.app, this, e, t)
          }
        }, {
          key: "preview",
          value: function (e, t, n) {
            var r = e.data;
            return (0, c.draw)(this.app, t, r.url, this.getBoundaryFromSnapshot(
              e), {
                page: n.page,
                supportToDataUrl: n.supportToDataUrl,
                preview: !0,
                backupUrls: e.data.backupUrls || [],
                antiLeechProp: r.antiLeechProp
              })
          }
        }, {
          key: "draw",
          value: function (e, t, n) {
            var r = e.data;
            return (0, c.draw)(this.app, t, r.url, this.getBoundaryFromSnapshot(
              e), {
                page: n.page,
                id: e.opId,
                type: "background",
                backupUrls: e.data.backupUrls || [],
                antiLeechProp: r.antiLeechProp
              })
          }
        }, {
          key: "waitTilReady",
          value: function (e) {
            return p(this, void 0, void 0, r.default.mark((function t() {
              var n = this;
              return r.default.wrap((function (t) {
                for (;;) switch (t.prev = t.next) {
                  case 0:
                    if (!this.app.resourceCache.resourceLoaded(e
                        .data.url)) {
                      t.next = 4;
                      break
                    }
                    return t.abrupt("return", u.default
                  .resolve());
                  case 4:
                    return t.abrupt("return", new u.default((
                      function (t) {
                        n.app.resourceCache.fetchResource({
                          urlArr: e.data.url,
                          antiLeechProp: e.data
                            .antiLeechProp,
                          cb: function () {
                            t()
                          }
                        })
                      })));
                  case 5:
                  case "end":
                    return t.stop()
                }
              }), t, this)
            })))
          }
        }]), t
      }(l.default);
    t.default = h
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = h(n(2)),
      A = h(n(0)),
      a = h(n(1)),
      i = h(n(3)),
      o = h(n(4)),
      s = h(n(9)),
      u = n(67),
      l = n(98),
      c = n(31),
      d = h(n(32)),
      p = n(14);

    function h(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var f = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "pan", e.activate = !1, e.description = "平移操作", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.pan.tap("pan", this.handlePan.bind(this))
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            activate: {
              value: !0,
              information: {
                args: "",
                message: "设置工具栏状态为：" + this.type
              }
            }
          }
        }
      }, {
        key: "handleMouseMove",
        value: function (e, t, n, r, A) {
          if (this.app.appConfig.cameraTransformEnabled && (0, l.shouldDispatch)
            (this.app)) {
            if (this.activate) document.body.style.cursor = "grabbing";
            else {
              if (this.app.container.isTargetOnContainer(e.target))
              return document.body.style.cursor = "grab", !0;
              document.body.style.cursor = "auto"
            }
            return this.activate && this.lastPoint ? (this.dispatch(this
                .getSnapshot(r - this.lastPoint[0], A - this.lastPoint[1])),
              this.lastPoint = [r, A], !0) : void 0
          }
        }
      }, {
        key: "handlePan",
        value: function (e, t, n) {
          if (this.app.appConfig.cameraTransformEnabled) {
            if ((0, l.shouldDispatch)(this.app) || (0, l.shouldDispatch)(this
                .app)) return this.dispatch(this.getSnapshot(t, n)), !0;
            (0, c.showToast)({
              msg: (0, p.getMsg)("follow"),
              type: "info",
              msgType: d.default
                .NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER,
              args: {
                broadcasterName: this.app.vision.broadcasterName,
                broadcaster: this.app.vision.broadcaster
              }
            })
          }
        }
      }, {
        key: "handleMouseDown",
        value: function (e, t, n, r, A) {
          this.app.appConfig.cameraTransformEnabled && ((0, l.shouldDispatch)(
            this.app) ? (this.activate = !0, this.beginBatch(), this
            .lastPoint = [r, A]) : (0, c.showToast)({
            msg: (0, p.getMsg)("follow"),
            type: "info",
            msgType: d.default
              .NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER,
            args: {
              broadcasterName: this.app.vision.broadcasterName,
              broadcaster: this.app.vision.broadcaster
            }
          }))
        }
      }, {
        key: "handleMouseUp",
        value: function (e, t, n, r, A) {
          this.app.appConfig.cameraTransformEnabled && (0, l.shouldDispatch)(
            this.app) && (this.activate && this.lastPoint && (this.dispatch(
            this.getSnapshot(r - this.lastPoint[0], A - this.lastPoint[1])
            ), this.lastPoint = void 0), this.activate = !1)
        }
      }, {
        key: "getSnapshot",
        value: function (e, t) {
          return (0, u.convertToCameraBoundSnapshot)(this.app.camera, {
            type: "pan",
            dx: -e,
            dy: -t,
            animate: !1
          })
        }
      }]), t
    }(s.default);
    t.default = f
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = h(n(2)),
      A = h(n(0)),
      a = h(n(1)),
      i = h(n(3)),
      o = h(n(4)),
      s = h(n(9)),
      u = n(67),
      l = n(98),
      c = n(31),
      d = h(n(32)),
      p = n(14);

    function h(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var f = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "zoom", e.sp = [0, 0], e.description = "缩放操作", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.mousewheel.tap("MousewheelPlugin", this
            .handleMouseWheel.bind(this)), this.opsManager.hooks.scale.tap(
            "Scale", this.handleScale.bind(this))
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            "zoom:in": {
              value: this.zoomIn.bind(this),
              information: {
                args: "",
                message: "缩放"
              }
            },
            "zoom:out": {
              value: this.zoomOut.bind(this),
              information: {
                args: "",
                message: "缩放"
              }
            },
            "zoom:to": {
              value: this.zoomTo.bind(this),
              information: {
                args: "scale: number, animate: boolean",
                message: "缩放"
              }
            }
          }
        }
      }, {
        key: "handleScale",
        value: function (e, t, n, r) {
          if (this.app.appConfig.cameraTransformEnabled)
            if ((0, l.shouldDispatch)(this.app)) {
              var A = this.getProperScale(t);
              null !== A && (this.beginBatch(), this.dispatch(this.getSnapshot(
                A, !1, [n, r])))
            } else(0, c.showToast)({
              msg: (0, p.getMsg)("follow"),
              type: "info",
              msgType: d.default
                .NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER,
              args: {
                broadcasterName: this.app.vision.broadcasterName,
                broadcaster: this.app.vision.broadcaster
              }
            })
        }
      }, {
        key: "handleMouseWheel",
        value: function (e, t, n, r, A) {
          if (this.app.appConfig.cameraTransformEnabled)
            if ((0, l.shouldDispatch)(this.app)) {
              var a = void 0,
                i = this.app.appConfig.zoomSensitivity;
              if ("gesturestart" !== e.type)
                if ("gestureend" !== e.type) {
                  if ("gesturechange" === e.type) {
                    if (void 0 === this.gestureLastScale) return void(this
                      .gestureLastScale = e.scale);
                    a = e.scale / this.gestureLastScale, this.gestureLastScale =
                      e.scale
                  } else i = (1 - ("DOMMouseScroll" === e.type ? 1.1 : Math.abs(
                      e.deltaY) < 20 ? Math.max(Math.min(Math.pow(Math.abs(e
                      .deltaY) / 4, 2), .8), .1) : Math.max(Math.min(Math
                      .pow(Math.abs(e.deltaY) / 150, 2), 1), .5))) * (1 - i) +
                    i, a = "DOMMouseScroll" === e.type ? e.detail > 0 ? i : 1 /
                    i : e.deltaY > 0 ? i : 1 / i;
                  var o = this.getProperScale(a);
                  null !== o && (this.isMouseDown || this.app.container
                    .isTargetOnContainer(e.target) && (this.beginBatch(), this
                      .dispatch(this.getSnapshot(o, !1, [r, A]))))
                } else this.gestureLastScale = void 0;
              else this.gestureLastScale = e.scale
            } else(0, c.showToast)({
              msg: (0, p.getMsg)("follow"),
              type: "info",
              msgType: d.default
                .NOT_ALLOWED_SET_CAMERA_WHILE_FOLLOW_BROADCASTER,
              args: {
                broadcasterName: this.app.vision.broadcasterName,
                broadcaster: this.app.vision.broadcaster
              }
            })
        }
      }, {
        key: "zoomIn",
        value: function () {
          if ((0, l.shouldDispatch)(this.app)) {
            var e = this.getProperScale(1 / this.app.appConfig.zoomSensitivity);
            if (null !== e) return this.beginBatch(), this.dispatch(this
              .getSnapshot(e, !1))
          }
        }
      }, {
        key: "zoomOut",
        value: function () {
          if ((0, l.shouldDispatch)(this.app)) {
            var e = this.getProperScale(this.app.appConfig.zoomSensitivity);
            if (null !== e) return this.beginBatch(), this.dispatch(this
              .getSnapshot(e, !1))
          }
        }
      }, {
        key: "zoomTo",
        value: function (e, t) {
          if ((0, l.shouldDispatch)(this.app)) return this.beginBatch(), this
            .dispatch(this.getSnapshot(e / this.app.scale, t))
        }
      }, {
        key: "getSnapshot",
        value: function (e, t, n) {
          return (0, u.convertToCameraBoundSnapshot)(this.app.camera, {
            type: "zoom",
            animate: t,
            center: n,
            scale: e
          })
        }
      }, {
        key: "getProperScale",
        value: function (e) {
          return e > 1 ? this.app.camera.zoomFactor >= this.app.appConfig
            .cameraMaxZoom ? null : this.app.camera.zoomFactor * e >= this.app
            .appConfig.cameraMaxZoom ? this.app.appConfig.cameraMaxZoom / this
            .app.camera.zoomFactor : e : e < 1 ? this.app.camera.zoomFactor <=
            this.app.appConfig.cameraMinZoom ? null : this.app.camera
            .zoomFactor * e <= this.app.appConfig.cameraMinZoom ? this.app
            .appConfig.cameraMinZoom / this.app.camera.zoomFactor : e : e
        }
      }]), t
    }(s.default);
    t.default = f
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = c(n(2)),
      A = c(n(0)),
      a = c(n(1)),
      i = c(n(3)),
      o = c(n(4)),
      s = c(n(9)),
      u = n(67),
      l = n(98);

    function c(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var d = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "reset-camera", e.description = "重置视角", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            exec: {
              value: !0,
              information: {
                args: "",
                message: "执行" + this.type + "事件"
              }
            }
          }
        }
      }, {
        key: "execCommand",
        value: function () {
          var e = !(arguments.length > 0 && void 0 !== arguments[0]) ||
            arguments[0];
          if ((0, l.shouldDispatch)(this.app)) return this.dispatch(this
            .getSnapshot(e))
        }
      }, {
        key: "getSnapshot",
        value: function (e) {
          return (0, u.convertToCameraBoundSnapshot)(this.app.camera, {
            type: "reset-camera",
            animate: e
          })
        }
      }]), t
    }(s.default);
    t.default = d
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = y(n(36)),
      A = y(n(2)),
      a = y(n(0)),
      i = y(n(1)),
      o = y(n(3)),
      s = y(n(4)),
      u = y(n(9)),
      l = y(n(225)),
      c = y(n(235)),
      d = y(n(324)),
      p = y(n(22)),
      h = n(19),
      f = n(134),
      g = y(f);

    function y(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var v = new Image,
      m = new Image,
      w = new Image;
    v.src = l.default, m.src = c.default, w.src = d.default;
    var B = (0, f.pointInterpFn)("point"),
      I = function (e) {
        function t() {
          (0, a.default)(this, t);
          var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
            arguments));
          return e.type = "mouse-pointer", e.description = "展示鼠标位置", e.sampleSeq = 0, e
        }
        return (0, s.default)(t, e), (0, i.default)(t, [{
          key: "registerHooks",
          value: function () {
            this.opsManager.hooks.mousemove.tap("MousemovePlugin", this
                .handleMouseMove.bind(this)), this.opsManager.hooks.mouseleave
              .tap("MousemovePlugin", this.handleMouseLeave.bind(this))
          }
        }, {
          key: "handleMouseMove",
          value: function (e, t, n) {
            var r;
            if (this.app.showCursor && "laser" !== (null === (r = this.opsManager
                .currOp) || void 0 === r ? void 0 : r.type)) {
              var A = this.app.container.isTargetOnContainer(e.target);
              this.sampleSeq % 6 == 0 && this.dispatch(this.getSnapshot([t, n],
                A)), this.sampleSeq += 1
            }
          }
        }, {
          key: "handleMouseLeave",
          value: function (e, t, n) {
            var r;
            this.app.showCursor && "laser" !== (null === (r = this.opsManager
              .currOp) || void 0 === r ? void 0 : r.type) && (this.dispatch(this
              .getSnapshot([t, n], !1)), this.sampleSeq = 0)
          }
        }, {
          key: "getSnapshot",
          value: function (e, t) {
            return {
              type: "mouse-pointer",
              point: [Number(e[0].toFixed(1)), Number(e[1].toFixed(1))],
              c: p.default.penDef.stroke,
              show: t ? 1 : 0,
              op: this.opsManager.currOp ? this.opsManager.currOp.type : "",
              reuseOpType: "mouse-pointer",
              nickname: this.app.nickname,
              inProgress: !0
            }
          }
        }, {
          key: "preview",
          value: function () {}
        }, {
          key: "intepSnap",
          value: function (e) {
            return g.default.getSmootherSnapshot({
              app: this.app,
              snapshot: e,
              now: Date.now() + this.app.ntpTimeDiff,
              interpolateFn: B
            })
          }
        }, {
          key: "draw",
          value: function (e, t) {
            var n, A = (new Date).valueOf();
            if (this.app.isRecordPlayer) {
              if (this.app.player && (null === (n = this.app.player) || void 0 ===
                  n ? void 0 : n.lastTime) - e.data.recordTime > 5e3) return
            } else if (A - e.time > 5e3) return;
            var a = e.data;
            if (e.uid !== this.app.account && a.show && a.point) {
              var i = this.getImageByOpType(a.op),
                o = this.mapPointInsideContainer(a.point[0], a.point[1]),
                s = (0, r.default)(o, 2),
                u = s[0],
                l = s[1]; - 1 !== this.opsManager.drawOpTypes.indexOf(a.op) && (
                u -= 1 / this.app.scale, l -= 27 / this.app.scale);
              var c = 32 / this.app.scale;
              t.drawImage(i, u, l, c, c), this.app.appConfig.showCursorNickname &&
                (0, h.drawUserName)({
                  ctx: t,
                  account: a.nickname || e.uid,
                  scale: this.app.scale,
                  px: u,
                  py: l,
                  bgColor: a.c
                })
            }
          }
        }, {
          key: "mapPointInsideContainer",
          value: function (e, t) {
            var n = this.app.camera.convertToPointInWorld(0, 0),
              A = (0, r.default)(n, 2),
              a = A[0],
              i = A[1],
              o = this.app.camera.convertToPointInWorld(this.app.container.width,
                this.app.container.height),
              s = (0, r.default)(o, 2),
              u = s[0],
              l = s[1];
            return e < a + 30 ? e = a + 30 : e > u - 25 && (e = u - 25), t < i +
              30 ? t = i + 30 : t > l - 15 && (t = l - 15), [e, t]
          }
        }, {
          key: "getImageByOpType",
          value: function (e) {
            return "element-eraser" === e ? m : -1 !== this.opsManager.drawOpTypes
              .indexOf(e) ? v : w
          }
        }]), t
      }(u.default);
    t.default = I
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjE0MzA2MTkyNDQ5IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIwOTYiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMjU2IDBsNjEyLjY1MDY2NyA1NzMuODI0LTI1MC4yODI2NjcgMjIuNzQxMzMzLTQ1LjQ0IDQuMDk2IDE4LjkwMTMzMyA0MS41NTczMzMgMTUxLjg1MDY2NyAzMzIuNTQ0TDYzMS42OCAxMDI0bC0xNDQuODk2LTMzNi4xMjgtMTguMTc2LTQyLjM2OC0zMy41Nzg2NjcgMzEuNTMwNjY3LTE3Ny43OTIgMTY2Ljc0MTMzM0wyNTYgMCIgcC1pZD0iMjA5NyI+PC9wYXRoPjwvc3ZnPg=="
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = l(n(2)),
      A = l(n(0)),
      a = l(n(1)),
      i = l(n(3)),
      o = l(n(4)),
      s = l(n(9)),
      u = n(67);

    function l(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var c = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "resize-camera", e.description = "重置视角", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.resize.tap("ResizePlugin", this.handleResize
            .bind(this))
        }
      }, {
        key: "handleResize",
        value: function (e, t, n) {
          if (t && n)
            if ("follower" === this.app.vision.mode) this.app.camera
              .updateTransParamAndRefresh();
            else {
              var r = this.app.camera,
                A = this.app.camera.getNextCameraBound({
                  type: "resize-camera",
                  width: t,
                  height: n,
                  animate: !1
                });
              Math.abs(A.centerX - r.centerX), Math.abs(A.centerY - r.centerY),
                Math.abs(A.width - r.width), Math.abs(A.height - r.height);
              this.dispatch(this.getSnapshot(t, n))
            }
          else this.logger.warn("[wb] resize 宽高无效", t, n)
        }
      }, {
        key: "getSnapshot",
        value: function (e, t) {
          return (0, u.convertToCameraBoundSnapshot)(this.app.camera, {
            type: "resize-camera",
            width: e,
            height: t,
            animate: !1
          })
        }
      }]), t
    }(s.default);
    t.default = c
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = c(n(2)),
      A = c(n(0)),
      a = c(n(1)),
      i = c(n(3)),
      o = c(n(4)),
      s = c(n(9)),
      u = n(67),
      l = n(98);

    function c(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var d = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "fit-to-content", e.description = "缩放至完全包含内容", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            exec: {
              value: !0,
              information: {
                args: "",
                message: "执行" + this.type + "事件"
              }
            }
          }
        }
      }, {
        key: "execCommand",
        value: function () {
          var e = !(arguments.length > 0 && void 0 !== arguments[0]) ||
            arguments[0];
          if ((0, l.shouldDispatch)(this.app)) return this.dispatch(this
            .getSnapshot(e))
        }
      }, {
        key: "getSnapshot",
        value: function (e) {
          return (0, u.convertToCameraBoundSnapshot)(this.app.camera, {
            type: "fit-to-content",
            animate: e
          })
        }
      }]), t
    }(s.default);
    t.default = d
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = c(n(2)),
      A = c(n(0)),
      a = c(n(1)),
      i = c(n(3)),
      o = c(n(4)),
      s = c(n(9)),
      u = n(67),
      l = n(98);

    function c(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var d = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "fit-to-doc", e.description = "缩放至完全包含文档", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            exec: {
              value: !0,
              information: {
                args: "",
                message: "执行" + this.type + "事件"
              }
            }
          }
        }
      }, {
        key: "execCommand",
        value: function () {
          var e = !(arguments.length > 0 && void 0 !== arguments[0]) ||
            arguments[0];
          if ((0, l.shouldDispatch)(this.app) && (this.app.room.currBoard
              .currPage.backgroundSnapshot || this.app.room.currBoard
              .transDocSnapshot)) return this.dispatch(this.getSnapshot(e))
        }
      }, {
        key: "getSnapshot",
        value: function (e) {
          return (0, u.convertToCameraBoundSnapshot)(this.app.camera, {
            type: "fit-to-doc",
            animate: e
          })
        }
      }]), t
    }(s.default);
    t.default = d
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = s(n(2)),
      A = s(n(0)),
      a = s(n(1)),
      i = s(n(3)),
      o = s(n(4));

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var u = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "rect-fill", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "getSnapshot",
        value: function (e) {
          return this.getTwoPointShapeCommonProperty({
            inProgress: e
          })
        }
      }]), t
    }(s(n(233)).default);
    t.default = u
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = s(n(2)),
      A = s(n(0)),
      a = s(n(1)),
      i = s(n(3)),
      o = s(n(4));

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var u = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "ellipse-fill", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "getSnapshot",
        value: function (e) {
          return this.getTwoPointShapeCommonProperty({
            inProgress: e
          })
        }
      }]), t
    }(s(n(234)).default);
    t.default = u
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = s(n(2)),
      A = s(n(0)),
      a = s(n(1)),
      i = s(n(3)),
      o = s(n(4));

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var u = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "video", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            "video:insert": {
              value: this.addMedia.bind(this),
              information: {
                args: "url: string, opts: {\n                        width: number,\n                        sourceType: string,\n                        title?: string\n                        pageName?: string\n                        boardName?: string\n                        antiLeechProp?: IAntiLeechProp\n                    }",
                message: "上传视频"
              }
            }
          }
        }
      }, {
        key: "preview",
        value: function (e, t, n) {
          var r = e.data;
          if (t.save(), r.mat) {
            var A = r.mat;
            t.transform(A[0][0], A[1][0], A[0][1], A[1][1], A[0][2], A[1][2])
          }
          var a = r.boundary;
          try {
            this.app.resourceCache.mediaResourceLoaded(r.url, "video") && !n
              .supportToDataUrl ? t.drawImage(this.app.resourceCache
                .getMediaResource(r.url), a.sx, a.sy, a.w, a.h) : this.app
              .resourceCache.mediaResourceLoaded(r.url, this.type) || (n.page
                .addWaitingResource(r.url), this.app.resourceCache
                .fetchMediaResource({
                  antiLeechProp: r.antiLeechProp,
                  url: r.url,
                  sourceType: r.sourceType,
                  type: this.type,
                  cb: function () {
                    n.page.removeWaitingResource(r.url)
                  }
                }))
          } catch (e) {
            this.app.logger.error("[wb] video preview error:", e.message)
          }
          t.restore()
        }
      }]), t
    }(s(n(144)).default);
    t.default = u
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = s(n(25)),
      A = s(n(5)),
      a = s(n(0)),
      i = s(n(1)),
      o = s(n(11));

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var u = function (e, t, n, r) {
        return new(n || (n = o.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      l = function () {
        function e(t, n, r) {
          (0, a.default)(this, e), this.recordTime = 0, this.destroyed = !1, this
            .ifreamLoaded = !1, this.opId = t.opId, this.boardName = t.board, this
            .pageName = t.page.toString(), this.mediaOwner = t.uid, this.app = n, this
            .operation = r, this.type = r.type, this.title = t.data.title, this
            .ifreamLoaded = !1, this.app.on("event:prePageChange", this
              .handlePrePageChange)
        }
        return (0, i.default)(e, [{
          key: "handlePrePageChange",
          value: function (e) {
            this.app && this.app.room.getPage(this.boardName, this.pageName) &&
              this.boardName === this.app.room.currIndex && this.pageName === this
              .app.room.currBoard.currIndex.toString() && "delete" !== e.data
              .action && this.onPrePageChange(e.uid)
          }
        }, {
          key: "mountElement",
          value: function (e, t) {
            var n;
            try {
              var r = document.createElement("div");
              r.style.position = "relative", r.style.width = "100%", r.style
                .height = this.app.container.canvas.clientHeight + "px", e
                .appendChild(r);
              var a = this.app.resourceCache.getMediaResource(t).cloneNode(!0);
              r.appendChild(a), (0, A.default)(a.style, {
                  webkitUserSelect: "none",
                  userSelect: "none",
                  width: "100%",
                  height: "100%",
                  pointerEvents: "none"
                }), this.media = a, a.allowFullscreen = !0, a.allow =
                "autoplay; microphone; camera", "mouse" === (null === (n = this
                  .app.opsManager.currOp) || void 0 === n ? void 0 : n.type) ? a
                .style.pointerEvents = "auto" : a.style.pointerEvents = "none",
                this.mediaDiv = e, this.addMediaListener()
            } catch (e) {
              console.log("[UrlOp] iframe mountElement: ", e)
            }
          }
        }, {
          key: "refreshElementStyle",
          value: function (e) {
            if (console.log("[UrlOp] iframe refreshElementStyle: ", e), this
              .media) {
              var t = e.containerWidth / e.boundaryWidth,
                n = e.containerHeight / e.boundaryHeight;
              this.media.style.width = e.boundaryWidth + "px", this.media.style
                .height = e.boundaryHeight + "px", this.media.style.transform =
                "scale(" + t + ", " + n + ")", this.media.style.transformOrigin =
                "0 0"
            }
          }
        }, {
          key: "addMediaListener",
          value: function () {
            var e = this;
            this.media && (this.media.addEventListener("load", (function (t) {
              console.log("[UrlOp] iframe load: ", t), e.ifreamLoaded = !0
            })), this.media.addEventListener("error", (function (e) {
              console.log("[UrlOp] iframe error: ", e)
            })))
          }
        }, {
          key: "replaySeekDiff",
          value: function () {
            return this.app.player ? (this.app.player.lastTime - this
              .recordTime) / 1e3 : 0
          }
        }, {
          key: "destroy",
          value: function () {
            var e;
            console.log("urlPlugin destroy()"), this.app.enableCameraTransform(!
              0), this.app.off("event:prePageChange", this.handlePrePageChange),
              this.onPluginWillDestroy();
            var t = this.app.container.el.querySelector("[id='" + this.opId +
              "']");
            null === (e = null == t ? void 0 : t.parentNode) || void 0 === e || e
              .removeChild(t), this.destroyed = !0, this.ifreamLoaded = !1
          }
        }, {
          key: "onReceiveAttributes",
          value: function (e) {
            return u(this, void 0, void 0, r.default.mark((function t() {
              return r.default.wrap((function (t) {
                for (;;) switch (t.prev = t.next) {
                  case 0:
                    ({
                      play: !1,
                      seek: 0,
                      ended: !1
                    }), console.log(
                      "UrlPlugin onReceiveAttributes() 接收到来自于其他用户的iframe属性更新: ",
                      e);
                  case 2:
                  case "end":
                    return t.stop()
                }
              }), t, this)
            })))
          }
        }, {
          key: "onSizeChange",
          value: function (e) {
            console.log("UrlPlugin onSizeChange() width: ", e.width, "height: ", e
              .height)
          }
        }, {
          key: "setIframePointer",
          value: function (e) {
            console.log("UrlPlugin setIframePointerEvents() value: ", e), this
              .media && (0, A.default)(this.media.style, {
                pointerEvents: e
              })
          }
        }, {
          key: "onAttributeUpdated",
          value: function (e) {}
        }, {
          key: "onPlaySpeedChange",
          value: function (e) {}
        }, {
          key: "onPrePageChange",
          value: function (e) {}
        }, {
          key: "onPluginWillDestroy",
          value: function () {}
        }], [{
          key: "getElementWidth",
          value: function (e) {
            return 1280
          }
        }, {
          key: "getElementHeight",
          value: function (e) {
            return 720
          }
        }]), e
      }();
    t.default = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = h(n(5)),
      A = h(n(2)),
      a = h(n(0)),
      i = h(n(1)),
      o = h(n(3)),
      s = h(n(4)),
      u = h(n(237)),
      l = h(n(238)),
      c = h(n(342)),
      d = n(240),
      p = n(14);

    function h(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var f = function (e) {
      function t() {
        return (0, a.default)(this, t), (0, o.default)(this, (t.__proto__ || (0, A
          .default)(t)).apply(this, arguments))
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "onSizeChange",
        value: function (e) {
          this.headerWidget && this.controlWidget && (this.headerWidget.style
            .visibility = e.height > 130 && e.width > 180 ? "visible" :
            "hidden", this.controlWidget.style.visibility = e.height > 130 &&
            e.width > 180 ? "visible" : "hidden")
        }
      }, {
        key: "getTitle",
        value: function () {
          return this.title ? this.title : "视频文件"
        }
      }, {
        key: "createControllor",
        value: function () {
          var e = document.createElement("div");
          this.progressController = new u.default(this.app, 0, {
            emitEvent: this.allowControl()
          });
          var t = this.createControlContainer(),
            n = this.createPlayWidget(),
            r = this.createTimeIndicator(),
            A = this.createVolumeWidget(),
            a = this.createFullWidget(),
            i = this.createC2pWidget();
          return e.appendChild(this.progressController.widget), e.appendChild(
            t), t.appendChild(n), t.appendChild(r), t.appendChild(A), t
            .appendChild(i), t.appendChild(a), e.style.userSelect = "none", e
            .style.webkitUserSelect = "none", e.className = "media-control",
            this.controlWidget = e, e
        }
      }, {
        key: "createFullWidget",
        value: function () {
          var e = document.createElement("div");
          (0, r.default)(e.style, {
            display: "inline-flex",
            height: "40px",
            color: "white",
            flexDirection: "row",
            alignItems: "center",
            verticalAlign: "top",
            marginRight: "16px",
            marginLeft: "auto"
          });
          var t = document.createElement("div");
          return (0, d.appendTooltip)(e, (0, p.getMsg)("Maximize")), (0, r
            .default)(t.style, {
            display: "inline-block",
            height: "20px",
            width: "20px",
            backgroundImage: "url(" + c.default+")",
            backgroundSize: "contain",
            pointerEvents: "auto",
            cursor: "pointer",
            marginLeft: "10px"
          }), e.appendChild(t), this.fullIcon = t, e
        }
      }], [{
        key: "getElementWidth",
        value: function (e) {
          return 550
        }
      }, {
        key: "getElementHeight",
        value: function (e) {
          var t = e;
          return t.videoWidth && t.videoHeight ? 550 * t.videoHeight / t
            .videoWidth : 250
        }
      }]), t
    }(l.default);
    t.default = f
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = s(n(25)),
      A = s(n(5)),
      a = s(n(0)),
      i = s(n(1)),
      o = s(n(11));

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var u = function (e, t, n, r) {
        return new(n || (n = o.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      l = function () {
        function e(t, n, r) {
          var A = this;
          (0, a.default)(this, e), this.recordTime = 0, this.handlePrePageChange =
            function (e) {
              A.app.room.getPage(A.boardName, A.pageName) && A.boardName === A.app.room
                .currIndex && A.pageName === A.app.room.currBoard.currIndex.toString() &&
                "delete" !== e.data.action && A.onPrePageChange(e.uid)
            }, this.handlePlayerPlay = function () {
              A.boardName === A.app.room.currIndex && A.pageName === A.app.room.currBoard
                .currIndex.toString() && A.onAttributeUpdated(A.data)
            }, this.handlePlayerPause = function () {
              A.boardName === A.app.room.currIndex && A.pageName === A.app.room.currBoard
                .currIndex.toString() && A.onAttributeUpdated(A.data)
            }, this.handlePlayerSeekTo = function () {
              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
              clearTimeout(A.seekToTimer), e > 30 || A.boardName === A.app.room
                .currIndex && A.pageName === A.app.room.currBoard.currIndex.toString() &&
                (A.media ? A.onAttributeUpdated(A.data) : A.seekToTimer = setTimeout((
                  function () {
                    A.handlePlayerSeekTo(e + 1)
                  }), 100))
            }, this.handlePlayerPlaySpeed = function (e) {
              A.onPlaySpeedChange(e)
            }, this.opId = t.opId, this.boardName = t.board, this.pageName = t.page
            .toString(), this.mediaOwner = t.uid, this.app = n, this.operation = r, this
            .type = r.type, this.title = t.data.title, this.data = t.data.mediaData || {
              play: !1,
              seek: 0,
              ended: !1
            }, this.app.player && (this.app.on("event:player:play", this
              .handlePlayerPlay), this.app.on("event:player:pause", this
                .handlePlayerPause), this.app.on("event:player:seekTo", this
                .handlePlayerSeekTo), this.app.on("event:player:playSpeed", this
                .handlePlayerPlaySpeed)), this.app.on("event:prePageChange", this
              .handlePrePageChange)
        }
        return (0, i.default)(e, [{
          key: "allowControl",
          value: function () {
            return !0
          }
        }, {
          key: "isInReplay",
          value: function () {
            return this.app.isRecordPlayer
          }
        }, {
          key: "replayMode",
          value: function () {
            return this.app.player ? this.app.player.state : "pause"
          }
        }, {
          key: "replaySeekDiff",
          value: function () {
            return this.app.player ? (this.app.player.lastTime - this
              .recordTime) / 1e3 : 0
          }
        }, {
          key: "destroy",
          value: function () {
            var e;
            this.app.off("event:prePageChange", this.handlePrePageChange), this
              .app.player && (this.app.off("event:player:play", this
                .handlePlayerPlay), this.app.off("event:player:pause", this
                .handlePlayerPause), this.app.off("event:player:seekTo", this
                .handlePlayerSeekTo), this.app.off("event:player:playSpeed",
                this.handlePlayerPlaySpeed)), this.onPluginWillDestroy();
            var t = this.app.container.el.querySelector("[id='" + this.opId +
              "']");
            null === (e = null == t ? void 0 : t.parentNode) || void 0 === e || e
              .removeChild(t)
          }
        }, {
          key: "putAttributes",
          value: function (e) {
            var t = this.app.room.getPage(this.boardName, this.pageName);
            t && this.operation.dispatchFromPage({
              dependOn: this.opId,
              skipUndo: !0,
              type: this.type,
              reuseOpType: this.opId + "-" + this.type + "-action",
              mediaData: (0, A.default)((0, A.default)({}, this.data), e)
            }, t)
          }
        }, {
          key: "onReceiveAttributes",
          value: function (e) {
            return u(this, void 0, void 0, r.default.mark((function t() {
              var n, A;
              return r.default.wrap((function (t) {
                for (;;) switch (t.prev = t.next) {
                  case 0:
                    if (n = {
                        play: !1,
                        seek: 0,
                        ended: !1
                      }, e.data.hasOwnProperty("mediaData"))
                      for (A in n = e.data.mediaData || {}, this
                        .data) n.hasOwnProperty(A) || (n[A] = this
                        .data[A]);
                    return this.recordTime = e.data.recordTime ||
                      0, t.next = 5, this.onAttributeUpdated(n);
                  case 5:
                    this.data = n;
                  case 6:
                  case "end":
                    return t.stop()
                }
              }), t, this)
            })))
          }
        }], [{
          key: "getElementWidth",
          value: function (e) {
            return 600
          }
        }, {
          key: "getElementHeight",
          value: function (e) {
            return 340
          }
        }]), e
      }();
    t.default = l
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjE0MTUxOTUxOTYxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iLTYwMCAtNjAwIDIyMjQgMjIyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI5MDgiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMjU5Ljk0NzkyOTA5IDEzMy45MjE4OTNoMTI2LjAyNjAzNDgxYzIzLjMzODE1NDczIDAgNDIuMDA4Njc4MjcgMTguNjcwNTIzNTMgNDIuMDA4Njc5NTcgNDIuMDA4Njc4MjZ2NjcyLjEzODg1NzQ4YzAgMjMuMzM4MTU0NzMtMTguNjcwNTIzNTMgNDIuMDA4Njc4MjctNDIuMDA4Njc5NTcgNDIuMDA4Njc4MjZIMjU5Ljk0NzkyOTA5Yy0yMy4zMzgxNTQ3MyAwLTQyLjAwODY3ODI3LTE4LjY3MDUyMzUzLTQyLjAwODY3OTU2LTQyLjAwODY3ODI2VjE3NS45MzA1NzEyNmMwLTIzLjMzODE1NDczIDE4LjY3MDUyMzUzLTQyLjAwODY3ODI3IDQyLjAwODY3OTU2LTQyLjAwODY3ODI2ek02MzguMDI2MDM2MSAxMzMuOTIxODkzaDEyNi4wMjYwMzQ4MWMyMy4zMzgxNTQ3MyAwIDQyLjAwODY3ODI3IDE4LjY3MDUyMzUzIDQyLjAwODY3OTU2IDQyLjAwODY3ODI2djY3Mi4xMzg4NTc0OGMwIDIzLjMzODE1NDczLTE4LjY3MDUyMzUzIDQyLjAwODY3ODI3LTQyLjAwODY3OTU2IDQyLjAwODY3ODI2aC0xMjYuMDI2MDM0ODFjLTIzLjMzODE1NDczIDAtNDIuMDA4Njc4MjctMTguNjcwNTIzNTMtNDIuMDA4Njc5NTctNDIuMDA4Njc4MjZWMTc1LjkzMDU3MTI2YzAtMjMuMzM4MTU0NzMgMTguNjcwNTIzNTMtNDIuMDA4Njc4MjcgNDIuMDA4Njc5NTctNDIuMDA4Njc4MjZ6IiBmaWxsPSIjZmZmZmZmIiBwLWlkPSIyOTA5Ij48L3BhdGg+PC9zdmc+"
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyBmaWxsPScjZmZmZmZmJyB0PSIxNjIwODcxNDY4NTkwIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIwMzEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTU2OS44OTg2NjcgMjc1LjJjLTIuMTMzMzMzLTIwLjczNi00LjM5NDY2Ny00Mi4yNC05Ljg5ODY2Ny02My43NDRDNTQ1LjA2NjY2NyAxNjAuMDg1MzMzIDUwMy41MDkzMzMgMTI4IDQ1OS4wMDggMTI4Yy0yNC44MzItMC4wODUzMzMtNTYuMjM0NjY3IDE1LjE4OTMzMy03NC4wNjkzMzMgMzAuNzJsLTE0Ny42MjY2NjcgMTIzLjYwNTMzM2gtNzcuMjI2NjY3Yy01Ni44NzQ2NjcgMC0xMDIuNTcwNjY3IDQzLjgxODY2Ny0xMTEuMjMyIDEwNy4wOTMzMzQtNy4zMzg2NjcgNjAuNzU3MzMzLTkuMTMwNjY3IDE3NS4zNiAwIDI0Mi4yMTg2NjYgNy45MzYgNjYuODU4NjY3IDUxLjYyNjY2NyAxMTAuMDM3MzMzIDExMS4yMzIgMTEwLjAzNzMzNGg3Ny4yMjY2NjdsMTUwLjQ4NTMzMyAxMjUuNDRjMTUuNDQ1MzMzIDEzLjQ0IDQyLjY2NjY2NyAyOC44NDI2NjcgNjcuNzU0NjY3IDI4Ljg0MjY2Nmw0LjQ4IDAuMDQyNjY3YzQ1LjM1NDY2NyAwIDg1LjMzMzMzMy0zMy4yOCAxMDAuMjY2NjY3LTg0LjQ4IDUuNjc0NjY3LTIxLjcxNzMzMyA3LjY4LTQyLjAyNjY2NyA5LjU1NzMzMy02MS42NTMzMzNsMC4wNDI2NjctMC4zNDEzMzQgMi4wMDUzMzMtMTkuNTg0YzcuNjgtNjMuNDQ1MzMzIDcuNjgtMzcyLjg2NCAwLTQzNS44NGwtMi4wMDUzMzMtMTguODU4NjY2eiBtMTcyLjggMS45MmEzOC42OTg2NjcgMzguNjk4NjY3IDAgMCAwLTU0LjU3MDY2Ny0xMC4xMTIgNDAuODMyIDQwLjgzMiAwIDAgMC05LjcyOCA1NS44MDhjMzQuMjE4NjY3IDUwLjQzMiA1My4wMzQ2NjcgMTE3LjU4OTMzMyA1My4wMzQ2NjcgMTg5LjE4NCAwIDcxLjU1Mi0xOC44MTYgMTM4Ljc1Mi01My4wMzQ2NjcgMTg5LjE4NGE0MC43ODkzMzMgNDAuNzg5MzMzIDAgMCAwIDkuODEzMzMzIDU1LjgwOCAzOC42MTMzMzMgMzguNjEzMzMzIDAgMCAwIDU0LjQ4NTMzNC0xMC4xMTJjNDMuMTc4NjY3LTYzLjY1ODY2NyA2Ny4wMjkzMzMtMTQ3LjA3MiA2Ny4wMjkzMzMtMjM0Ljg4cy0yMy44NTA2NjctMTcxLjIyMTMzMy02Ny4wMjkzMzMtMjM0Ljg4ek04MjMuMDQgMTM3LjM4NjY2N2EzOC42MTMzMzMgMzguNjEzMzMzIDAgMCAxIDU0LjQ4NTMzMyAxMC4wNjkzMzNDOTQ0LjQ2OTMzMyAyNDYuMDU4NjY3IDk4MS4zMzMzMzMgMzc1LjU1MiA5ODEuMzMzMzMzIDUxMmMwIDEzNi41MzMzMzMtMzYuODY0IDI2NS45ODQtMTAzLjgwOCAzNjQuNTQ0YTM4LjQ4NTMzMyAzOC40ODUzMzMgMCAwIDEtNTQuNDQyNjY2IDEwLjA2OTMzMyA0MC44MzIgNDAuODMyIDAgMCAxLTkuODEzMzM0LTU1LjgwOGM1Ny44NTYtODUuMjkwNjY3IDg5Ljc3MDY2Ny0xOTguNTI4IDg5Ljc3MDY2Ny0zMTguODA1MzMzIDAtMTIwLjIzNDY2Ny0zMS45MTQ2NjctMjMzLjQ3Mi04OS44MTMzMzMtMzE4Ljc2MjY2N2E0MC44NzQ2NjcgNDAuODc0NjY3IDAgMCAxIDkuODEzMzMzLTU1LjgwOHoiIGZpbGw9IiNmZmZmZmYiIHAtaWQ9IjIwMzIiPjwvcGF0aD48L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjIwODkxOTY3ODE0IiBmaWxsPScjZmZmZmZmJyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE4NzQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTg5OS42NDggNTMzLjk1MmwxMDIuNC0xMDIuNGMxNC42MjQtMTQuNjI0IDE0LjYyNC0zNi41NzYgMC01MS4ycy0zNi41NzYtMTQuNjI0LTUxLjIgMGwtMTAyLjQgMTAyLjQtMTA5LjcyOC0xMDkuNzI4Yy03LjMyOC03LjMyOC0yOS4yNDgtMjEuOTUyLTUxLjIgMGEzNS4zNiAzNS4zNiAwIDAgMCAwIDUxLjJsMTAyLjQgMTAyLjQtMTAyLjQgMTA5LjcyOGMtMTQuNjI0IDE0LjYyNC0xNC42MjQgMzYuNTc2IDAgNTEuMnMzNi41NzYgMTQuNjI0IDUxLjIgMGwxMDkuNzI4LTEwMi40IDEwMi40IDEwMi40YzE0LjYyNCAxNC42MjQgMzYuNTc2IDE0LjYyNCA1MS4yIDBzMTQuNjI0LTM2LjU3NiAwLTUxLjJsLTEwMi40LTEwMi40eiBtLTQwMi4yNzItNDYwLjhjLTcuMzI4IDAtMTQuNjI0IDAtMjEuOTUyIDcuMzI4TDE1My42IDM1MS4xMDRINzMuMTUyYy0yOS4yNDgtNy4zMjgtNTEuMiAyMS45NTItNTEuMiA1MS4ydjIxOS40MjRjMCAyOS4yNDggMjEuOTUyIDU4LjUyOCA1MS4yIDU4LjUyOCAwIDAgODcuNzc2IDAgOTUuMDcyIDcuMzI4bDMwNy4yIDI2My4zMjhoMjEuOTUyYzIxLjk1MiAwIDM2LjU3Ni0yMS45NTIgMzYuNTc2LTUxLjJWMTI0LjM4NGMwLTI5LjI0OC0xNC42MjQtNTEuMi0zNi41NzYtNTEuMnoiIHAtaWQ9IjE4NzUiPjwvcGF0aD48L3N2Zz4="
  }, function (e, t, n) {
    var r = n(338);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    t = e.exports = n(12)(!1);
    var r = n(64),
      A = r(n(339)),
      a = r(n(239));
    t.push([e.i,
      ".neteaseyunxin-wb-media-container {\n    position: fixed;\n    pointer-events: auto;\n}\n    .neteaseyunxin-wb-media-container .header {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 32px;\n        background-color: rgba(0,0,0,.7);\n        align-items: center;\n    }\n    .neteaseyunxin-wb-media-container .header .title {\n            flex: 1;\n            color: white;\n            margin-left: 8px;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            font-size: 18px;\n        }\n    .neteaseyunxin-wb-media-container .header .close.icon {\n            width: 20px;\n            height: 20px;\n            background-image: url(" +
      A +
      ");\n            background-size: contain;\n            margin-right: 8px\n        }\n    .neteaseyunxin-wb-media-container .header .close.icon:hover {\n                cursor: pointer;\n            }\n    .neteaseyunxin-wb-media-container .media-control {\n        width: 100%;\n        position: absolute;\n        display: block;\n        bottom: 0;\n        background: rgba(0,0,0,.7);\n        padding-top: 3px;\n    }\n    .neteaseyunxin-wb-media-container .media-control .control-container {\n            display: flex;\n            height: 40px;\n            width: 100%;\n        }\n    .neteaseyunxin-wb-media-container .media-control .play-icon {\n            display: inline-block;\n            height: 100%;\n            width: 40px;\n            background-image: url(" +
      a +
      ");\n            background-size: contain;\n        }\n    .neteaseyunxin-wb-media-container .media-control .time-container {\n            display: inline-block;\n            height: 40px;\n            color: white;\n            vertical-align: top;\n            margin: 0 16px 0 0;\n        }\n    .neteaseyunxin-wb-media-container .media-control .time-text {\n            line-height: 40px;\n            height: 40px;\n            vertical-align: middle;\n            font-size: 14px;\n        }",
      ""
    ])
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHQ9IjE2MjA4OTY3NjEwNjEiIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNSAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTg2MyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIzMi4wMzEyNSIgaGVpZ2h0PSIzMiI+CjxkZWZzPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwvc3R5bGU+PC9kZWZzPgo8cGF0aCBkPSJNNTEzLjM0NCAwYTUxMiA1MTIgMCAxIDAgMCAxMDI0IDUxMiA1MTIgMCAwIDAgMC0xMDI0eiBtMjI2LjA0OCA2NzQuNjI0bC01NC41MjggNTYuODk2LTE3MS41Mi0xNjQuOTI4LTE3MS4zOTIgMTY0LjkyOC01NC41OTItNTYuODk2TDQ1Ni41NzYgNTEyIDI4Ny4zNiAzNDkuMzEybDU0LjU5Mi01Ni43NjggMTcxLjM5MiAxNjQuOCAxNzEuNTItMTY0LjggNTQuNTI4IDU2Ljc2OEw1NzAuMTc2IDUxMmwxNjkuMjE2IDE2Mi42MjR6IiBmaWxsPSIjZDgzZjIzIiBwLWlkPSIxODY0Ij48L3BhdGg+Cjwvc3ZnPg=="
  }, function (e, t, n) {
    var r = n(341);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".neteaseyunxin-wb-tooltip {\n    position: relative;\n    display: inline-block;\n}\n\n    \n    .neteaseyunxin-wb-tooltip .tooltiptext {\n        visibility: hidden;\n        width: 120px;\n        background-color: black;\n        color: #fff;\n        text-align: center;\n        border-radius: 6px;\n        padding: 5px 0;\n      \n        /* Position the tooltip */\n        position: absolute;\n        z-index: 1;\n        bottom: 30px;\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    \n.neteaseyunxin-wb-tooltip.visible .tooltiptext {\n        visibility: visible;\n    }",
      ""
    ])
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY5MDM2MDM0NTU0NSIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIxNTAgMTUwIDcyNCA3MjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSIyMjkzIgogICAgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0yOTguNjY2NjY3IDU5Ny4zMzMzMzNoLTg1LjMzMzMzNHYyMTMuMzMzMzM0aDIxMy4zMzMzMzR2LTg1LjMzMzMzNGgtMTI4di0xMjh6IG0tODUuMzMzMzM0LTE3MC42NjY2NjZoODUuMzMzMzM0di0xMjhoMTI4di04NS4zMzMzMzRIMjEzLjMzMzMzM3YyMTMuMzMzMzM0eiBtNTEyIDI5OC42NjY2NjZoLTEyOHY4NS4zMzMzMzRoMjEzLjMzMzMzNFY1OTcuMzMzMzMzaC04NS4zMzMzMzR2MTI4eiBtLTEyOC01MTJ2ODUuMzMzMzM0aDEyOHYxMjhoODUuMzMzMzM0VjIxMy4zMzMzMzNINTk3LjMzMzMzM3oiCiAgICAgICAgcC1pZD0iMjI5NCIgZmlsbD0id2hpdGUiPjwvcGF0aD4KPC9zdmc+"
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = l(n(5)),
      A = l(n(2)),
      a = l(n(0)),
      i = l(n(1)),
      o = l(n(3)),
      s = l(n(4)),
      u = l(n(237));

    function l(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var c = function (e) {
      function t() {
        return (0, a.default)(this, t), (0, o.default)(this, (t.__proto__ || (0, A
          .default)(t)).apply(this, arguments))
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "onSizeChange",
        value: function (e) {
          this.playWidget && this.timeWidget && this.selfMuteIcon && this
            .progressController && (this.playWidget.style.display = e.width >
              140 ? "inline-block" : "none", this.progressController.widget
              .style.display = e.width > 140 ? "inline-block" : "none", this
              .timeWidget.style.display = e.width > 260 ? "inline-block" :
              "none", this.selfMuteIcon.style.display = e.width > 140 ?
              "inline-block" : "none")
        }
      }, {
        key: "getTitle",
        value: function () {
          return this.title ? this.title : "音频文件"
        }
      }, {
        key: "createControllor",
        value: function () {
          var e = document.createElement("div");
          this.progressController = new u.default(this.app, 0, {
            emitEvent: this.allowControl()
          });
          var t = this.createControlContainer(),
            n = this.createPlayWidget(),
            A = this.createTimeIndicator(),
            a = this.createVolumeWidget();
          e.appendChild(t), t.appendChild(n), t.appendChild(A);
          var i = this.createC2pWidget(),
            o = document.createElement("div");
          return (0, r.default)(o.style, {
              height: "40px",
              lineHeight: "40px",
              display: "inline-flex",
              alignItems: "center",
              flex: 1,
              marginRight: "16px"
            }), o.appendChild(this.progressController.widget), t.appendChild(o),
            t.appendChild(a), t.appendChild(i), e.style.userSelect = "none", e
            .style.webkitUserSelect = "none", e.className = "media-control",
            this.controlWidget = e, e
        }
      }], [{
        key: "getElementWidth",
        value: function () {
          return 320
        }
      }, {
        key: "getElementHeight",
        value: function () {
          return 75
        }
      }]), t
    }(l(n(238)).default);
    t.default = c
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = l(n(2)),
      A = l(n(0)),
      a = l(n(1)),
      i = l(n(3)),
      o = l(n(4)),
      s = l(n(144)),
      u = l(n(345));

    function l(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var c = void 0,
      d = function (e) {
        function t() {
          (0, A.default)(this, t);
          var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
            arguments));
          return e.type = "url", e.urlCanvas = void 0, e.getStreaming = !1, e
            .isStopped = !1, e.html2canvascopy = u.default, e.urlRefreshTimerInterval = e
            .app.appConfig.urlRefreshTimerInterval, e._delayedHtml2canvas = function () {
              c || (clearTimeout(c), c = setTimeout((function () {
                e.html2canvas(), c = null
              }), e.urlRefreshTimerInterval))
            }, e
        }
        return (0, o.default)(t, e), (0, a.default)(t, [{
          key: "registerHooks",
          value: function () {
            this.opsManager.hooks.cleanNonCanvasEle.tap("cleanNonCanvasElePlugin",
              this.handleCleanEle.bind(this))
          }
        }, {
          key: "eventsToListen",
          value: function () {
            return {
              "url:insert": {
                value: this.newUrl.bind(this),
                information: {
                  args: "url: string, opts: {\n                        width: number,\n                        sourceType: string,\n                        title?: string\n                        pageName?: string\n                        boardName?: string\n                    }",
                  message: "上传视频"
                }
              }
            }
          }
        }, {
          key: "handleCleanEle",
          value: function (e) {
            this.logger.log("[wb] UrlOp handleCleanEle() page: ", e);
            var t = this.mediaPlugins[this.currentUrlOpid];
            t && t.boardName === e.boardName && t.pageName === e.pageIndex && this
              .destroyUrlOp(t)
          }
        }, {
          key: "destroyUrlOp",
          value: function (e) {
            this.logger.log("[wb] UrlOp destroyUrlOp()"), this.app
              .unsetSelfAsBroadcaster(), this.app.enableCameraTransform(!0), this
              .stopStream(), e.destroy()
          }
        }, {
          key: "newUrl",
          value: function (e, t) {
            this.logger.log("[wb] UrlOp 使用newUrl页面: ", e), this.stopStream(), this
              .addUrl(e, t)
          }
        }, {
          key: "html2canvasReason",
          value: function (e) {
            if (1 === e.length)
              if (e[0].removedNodes.length) {
                if (-1 !== e[0].removedNodes[0].className.indexOf("html2canvas"))
                  return !0
              } else if (e[0].addedNodes.length) {
              if (-1 !== e[0].addedNodes[0].className.indexOf("html2canvas"))
                return !0
            }
            return !1
          }
        }, {
          key: "getStream",
          value: function () {
            var e = this;
            try {
              this.logger.log("[wb] UrlOP getStream()"), this._ro && this
                .stopStream();
              var t = this.mediaPlugins[this.currentUrlOpid],
                n = t.media,
                r = n && n.contentWindow && n.contentWindow.document;
              r && console.log("[UrlOP] getStream() iframeDocument.readyState: ",
                  null == r ? void 0 : r.readyState), console.log(
                  "[UrlOP] getStream() ifreamLoaded: ", t.ifreamLoaded), t
                .ifreamLoaded && r && (this.getStreaming = !0, this.html2canvas(),
                  this._ro = new MutationObserver((function (t) {
                    console.log(
                        "[UrlOP] getStream() 监听到iframe MutationObserver:", t),
                      t.length > 0 && e.getStreaming && !e.html2canvasReason(
                        t) && (console.log(
                        "[UrlOP] getStream() 监听到iframe内容发生变化,需要刷新canvas:", t
                        ), e._delayedHtml2canvas())
                  })), this._ro.observe(r, {
                    childList: !0,
                    subtree: !0,
                    attributes: !0,
                    characterData: !0,
                    attributeOldValue: !0,
                    characterDataOldValue: !0
                  }))
            } catch (e) {
              this.logger.error("[wb] UrlOP getStream() error: ", e)
            }
          }
        }, {
          key: "stopStream",
          value: function () {
            var e;
            this.logger.log("[wb] UrlOP stopStream()"), null === (e = this._ro) ||
              void 0 === e || e.disconnect(), this._ro = void 0, this
              .getStreaming = !1, this.isStopped = !0, this.urlCanvas = void 0,
              c && clearTimeout(c)
          }
        }, {
          key: "renderVideoElement",
          value: function (e) {
            var t = this.mediaPlugins[this.currentUrlOpid].media,
              n = t && t.contentWindow && t.contentWindow.document;
            n && (n.querySelectorAll("video") || []).forEach((function (t) {
              var n = t.getBoundingClientRect();
              e.drawImage(t, 0, 0, t.videoWidth, t.videoHeight, n.left, n
                .top, n.width, n.height)
            }))
          }
        }, {
          key: "html2canvas",
          value: function (e) {
            var t = this;
            try {
              var n = this.mediaPlugins[this.currentUrlOpid].media;
              this.logger.log("[wb] UrlOp iframe"), n && n.contentWindow && n
                .contentWindow.document && (this.logger.log(
                  "[wb] UrlOp iframetocanvas"), (0, u.default)(n.contentWindow
                  .document.body).then((function (n) {
                  if (t.logger.log("[wb] UrlOp canvas width: ", n.width), t
                    .urlCanvas = n, e) {
                    e.save(), e.resetTransform(), t.renderVideoElement(t
                      .urlCanvas.getContext("2d"));
                    var r = document.createElement("canvas");
                    r.width = e.canvas.width, r.height = e.canvas.height;
                    var A = r.getContext("2d");
                    null == A || A.drawImage(t.urlCanvas, 0, 0, t.urlCanvas
                      .width, t.urlCanvas.height, 0, 0, e.canvas.width, e
                      .canvas.height), null == A || A.drawImage(e.canvas,
                      0, 0), A && e.drawImage(null == A ? void 0 : A
                      .canvas, 0, 0), e.restore()
                  }
                })).catch((function (e) {
                  t.logger.log("[wb] UrlOp iframetocanvas failed: ", e
                    .message)
                })))
            } catch (e) {
              this.logger.warn("[wb] UrlOp html2canvas failed: ", e.message)
            }
          }
        }, {
          key: "preview",
          value: function (e, t, n) {
            this.logger.log("[wb] UrlOp preview supportToDataUrl: ", n
              .supportToDataUrl), null == n.supportToDataUrl ? this.html2canvas(
              t) : n.supportToDataUrl && this.urlCanvas && (t.save(), t
              .resetTransform(), t.drawImage(this.urlCanvas, 0, 0, this
                .urlCanvas.width, this.urlCanvas.height), this
              .renderVideoElement(t), t.restore())
          }
        }]), t
      }(s.default);
    t.default = d
  }, function (e, t, n) {
    /*!
     * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
     * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
     * Released under MIT License
     */
    e.exports = function () {
      "use strict";
      /*! *****************************************************************************
          Copyright (c) Microsoft Corporation.

          Permission to use, copy, modify, and/or distribute this software for any
          purpose with or without fee is hereby granted.

          THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
          REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
          AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
          INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
          LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
          OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
          PERFORMANCE OF THIS SOFTWARE.
          ***************************************************************************** */
      var e = function (t, n) {
        return (e = Object.setPrototypeOf || {
            __proto__: []
          }
          instanceof Array && function (e, t) {
            e.__proto__ = t
          } || function (e, t) {
            for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] =
              t[n])
          })(t, n)
      };

      function t(t, n) {
        if ("function" != typeof n && null !== n) throw new TypeError(
          "Class extends value " + String(n) + " is not a constructor or null");

        function r() {
          this.constructor = t
        }
        e(t, n), t.prototype = null === n ? Object.create(n) : (r.prototype = n
          .prototype, new r)
      }
      var n = function () {
        return (n = Object.assign || function (e) {
          for (var t, n = 1, r = arguments.length; n < r; n++)
            for (var A in t = arguments[n]) Object.prototype.hasOwnProperty.call(
              t, A) && (e[A] = t[A]);
          return e
        }).apply(this, arguments)
      };

      function r(e, t, n, r) {
        return new(n || (n = Promise))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      }

      function A(e, t) {
        var n, r, A, a, i = {
          label: 0,
          sent: function () {
            if (1 & A[0]) throw A[1];
            return A[1]
          },
          trys: [],
          ops: []
        };
        return a = {
          next: o(0),
          throw: o(1),
          return: o(2)
        }, "function" == typeof Symbol && (a[Symbol.iterator] = function () {
          return this
        }), a;

        function o(a) {
          return function (o) {
            return function (a) {
              if (n) throw new TypeError("Generator is already executing.");
              for (; i;) try {
                if (n = 1, r && (A = 2 & a[0] ? r.return : a[0] ? r.throw || ((A =
                    r.return) && A.call(r), 0) : r.next) && !(A = A.call(r, a[1]))
                  .done) return A;
                switch (r = 0, A && (a = [2 & a[0], A.value]), a[0]) {
                  case 0:
                  case 1:
                    A = a;
                    break;
                  case 4:
                    return i.label++, {
                      value: a[1],
                      done: !1
                    };
                  case 5:
                    i.label++, r = a[1], a = [0];
                    continue;
                  case 7:
                    a = i.ops.pop(), i.trys.pop();
                    continue;
                  default:
                    if (!((A = (A = i.trys).length > 0 && A[A.length - 1]) ||
                        6 !== a[0] && 2 !== a[0])) {
                      i = 0;
                      continue
                    }
                    if (3 === a[0] && (!A || a[1] > A[0] && a[1] < A[3])) {
                      i.label = a[1];
                      break
                    }
                    if (6 === a[0] && i.label < A[1]) {
                      i.label = A[1], A = a;
                      break
                    }
                    if (A && i.label < A[2]) {
                      i.label = A[2], i.ops.push(a);
                      break
                    }
                    A[2] && i.ops.pop(), i.trys.pop();
                    continue
                }
                a = t.call(e, i)
              } catch (e) {
                a = [6, e], r = 0
              } finally {
                n = A = 0
              }
              if (5 & a[0]) throw a[1];
              return {
                value: a[0] ? a[1] : void 0,
                done: !0
              }
            }([a, o])
          }
        }
      }

      function a(e, t, n) {
        if (n || 2 === arguments.length)
          for (var r, A = 0, a = t.length; A < a; A++) !r && A in t || (r || (r = Array
            .prototype.slice.call(t, 0, A)), r[A] = t[A]);
        return e.concat(r || t)
      }
      for (var i = function () {
            function e(e, t, n, r) {
              this.left = e, this.top = t, this.width = n, this.height = r
            }
            return e.prototype.add = function (t, n, r, A) {
              return new e(this.left + t, this.top + n, this.width + r, this.height +
                A)
            }, e.fromClientRect = function (t, n) {
              return new e(n.left + t.windowBounds.left, n.top + t.windowBounds.top, n
                .width, n.height)
            }, e.fromDOMRectList = function (t, n) {
              var r = Array.from(n).find((function (e) {
                return 0 !== e.width
              }));
              return r ? new e(r.left + t.windowBounds.left, r.top + t.windowBounds
                .top, r.width, r.height) : e.EMPTY
            }, e.EMPTY = new e(0, 0, 0, 0), e
          }(), o = function (e, t) {
            return i.fromClientRect(e, t.getBoundingClientRect())
          }, s = function (e) {
            for (var t = [], n = 0, r = e.length; n < r;) {
              var A = e.charCodeAt(n++);
              if (A >= 55296 && A <= 56319 && n < r) {
                var a = e.charCodeAt(n++);
                56320 == (64512 & a) ? t.push(((1023 & A) << 10) + (1023 & a) + 65536) :
                  (t.push(A), n--)
              } else t.push(A)
            }
            return t
          }, u = function () {
            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            if (String.fromCodePoint) return String.fromCodePoint.apply(String, e);
            var n = e.length;
            if (!n) return "";
            for (var r = [], A = -1, a = ""; ++A < n;) {
              var i = e[A];
              i <= 65535 ? r.push(i) : (i -= 65536, r.push(55296 + (i >> 10), i % 1024 +
                56320)), (A + 1 === n || r.length > 16384) && (a += String
                .fromCharCode.apply(String, r), r.length = 0)
            }
            return a
          }, l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", c =
          "undefined" == typeof Uint8Array ? [] : new Uint8Array(256), d = 0; d < l
        .length; d++) c[l.charCodeAt(d)] = d;
      for (var p = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
          h = "undefined" == typeof Uint8Array ? [] : new Uint8Array(256), f = 0; f < p
        .length; f++) h[p.charCodeAt(f)] = f;
      for (var g = function (e, t, n) {
            return e.slice ? e.slice(t, n) : new Uint16Array(Array.prototype.slice.call(
              e, t, n))
          }, y = function () {
            function e(e, t, n, r, A, a) {
              this.initialValue = e, this.errorValue = t, this.highStart = n, this
                .highValueIndex = r, this.index = A, this.data = a
            }
            return e.prototype.get = function (e) {
              var t;
              if (e >= 0) {
                if (e < 55296 || e > 56319 && e <= 65535) return t = ((t = this.index[
                  e >> 5]) << 2) + (31 & e), this.data[t];
                if (e <= 65535) return t = ((t = this.index[2048 + (e - 55296 >>
                  5)]) << 2) + (31 & e), this.data[t];
                if (e < this.highStart) return t = 2080 + (e >> 11), t = this.index[
                  t], t += e >> 5 & 63, t = ((t = this.index[t]) << 2) + (31 & e),
                  this.data[t];
                if (e <= 1114111) return this.data[this.highValueIndex]
              }
              return this.errorValue
            }, e
          }(), v = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
          m = "undefined" == typeof Uint8Array ? [] : new Uint8Array(256), w = 0; w < v
        .length; w++) m[v.charCodeAt(w)] = w;
      var B = 10,
        I = 13,
        M = 15,
        C = 17,
        b = 18,
        x = 19,
        T = 20,
        k = 21,
        E = 22,
        N = 24,
        O = 25,
        P = 26,
        _ = 27,
        D = 28,
        Q = 30,
        S = 32,
        U = 33,
        F = 34,
        L = 35,
        j = 37,
        z = 38,
        R = 39,
        H = 40,
        Y = 42,
        G = [9001, 65288],
        K = function (e, t) {
          var n, r, A, a = function (e) {
              var t, n, r, A, a, i = .75 * e.length,
                o = e.length,
                s = 0;
              "=" === e[e.length - 1] && (i--, "=" === e[e.length - 2] && i--);
              var u = "undefined" != typeof ArrayBuffer && "undefined" !=
                typeof Uint8Array && void 0 !== Uint8Array.prototype.slice ?
                new ArrayBuffer(i) : new Array(i),
                l = Array.isArray(u) ? u : new Uint8Array(u);
              for (t = 0; t < o; t += 4) n = h[e.charCodeAt(t)], r = h[e.charCodeAt(t +
                  1)], A = h[e.charCodeAt(t + 2)], a = h[e.charCodeAt(t + 3)], l[s++] =
                n << 2 | r >> 4, l[s++] = (15 & r) << 4 | A >> 2, l[s++] = (3 & A) <<
                6 | 63 & a;
              return u
            }(e),
            i = Array.isArray(a) ? function (e) {
              for (var t = e.length, n = [], r = 0; r < t; r += 4) n.push(e[r + 3] <<
                24 | e[r + 2] << 16 | e[r + 1] << 8 | e[r]);
              return n
            }(a) : new Uint32Array(a),
            o = Array.isArray(a) ? function (e) {
              for (var t = e.length, n = [], r = 0; r < t; r += 2) n.push(e[r + 1] <<
                8 | e[r]);
              return n
            }(a) : new Uint16Array(a),
            s = g(o, 12, i[4] / 2),
            u = 2 === i[5] ? g(o, (24 + i[4]) / 2) : (n = i, r = Math.ceil((24 + i[4]) /
              4), n.slice ? n.slice(r, A) : new Uint32Array(Array.prototype.slice
              .call(n, r, A)));
          return new y(i[0], i[1], i[2], i[3], s, u)
        }(
          "KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),
        W = [Q, 36],
        Z = [1, 2, 3, 5],
        V = [B, 8],
        X = [_, P],
        J = Z.concat(V),
        q = [z, R, H, F, L],
        $ = [M, I],
        ee = function (e, t, n, r) {
          var A = r[n];
          if (Array.isArray(e) ? -1 !== e.indexOf(A) : e === A)
            for (var a = n; a <= r.length;) {
              if ((s = r[++a]) === t) return !0;
              if (s !== B) break
            }
          if (A === B)
            for (a = n; a > 0;) {
              var i = r[--a];
              if (Array.isArray(e) ? -1 !== e.indexOf(i) : e === i)
                for (var o = n; o <= r.length;) {
                  var s;
                  if ((s = r[++o]) === t) return !0;
                  if (s !== B) break
                }
              if (i !== B) break
            }
          return !1
        },
        te = function (e, t) {
          for (var n = e; n >= 0;) {
            var r = t[n];
            if (r !== B) return r;
            n--
          }
          return 0
        },
        ne = function (e, t, n, r, A) {
          if (0 === n[r]) return "×";
          var a = r - 1;
          if (Array.isArray(A) && !0 === A[a]) return "×";
          var i = a - 1,
            o = a + 1,
            s = t[a],
            u = i >= 0 ? t[i] : 0,
            l = t[o];
          if (2 === s && 3 === l) return "×";
          if (-1 !== Z.indexOf(s)) return "!";
          if (-1 !== Z.indexOf(l)) return "×";
          if (-1 !== V.indexOf(l)) return "×";
          if (8 === te(a, t)) return "÷";
          if (11 === K.get(e[a])) return "×";
          if ((s === S || s === U) && 11 === K.get(e[o])) return "×";
          if (7 === s || 7 === l) return "×";
          if (9 === s) return "×";
          if (-1 === [B, I, M].indexOf(s) && 9 === l) return "×";
          if (-1 !== [C, b, x, N, D].indexOf(l)) return "×";
          if (te(a, t) === E) return "×";
          if (ee(23, E, a, t)) return "×";
          if (ee([C, b], k, a, t)) return "×";
          if (ee(12, 12, a, t)) return "×";
          if (s === B) return "÷";
          if (23 === s || 23 === l) return "×";
          if (16 === l || 16 === s) return "÷";
          if (-1 !== [I, M, k].indexOf(l) || 14 === s) return "×";
          if (36 === u && -1 !== $.indexOf(s)) return "×";
          if (s === D && 36 === l) return "×";
          if (l === T) return "×";
          if (-1 !== W.indexOf(l) && s === O || -1 !== W.indexOf(s) && l === O)
          return "×";
          if (s === _ && -1 !== [j, S, U].indexOf(l) || -1 !== [j, S, U].indexOf(s) &&
            l === P) return "×";
          if (-1 !== W.indexOf(s) && -1 !== X.indexOf(l) || -1 !== X.indexOf(s) && -
            1 !== W.indexOf(l)) return "×";
          if (-1 !== [_, P].indexOf(s) && (l === O || -1 !== [E, M].indexOf(l) && t[o +
              1] === O) || -1 !== [E, M].indexOf(s) && l === O || s === O && -1 !== [O,
              D, N
            ].indexOf(l)) return "×";
          if (-1 !== [O, D, N, C, b].indexOf(l))
            for (var c = a; c >= 0;) {
              if ((d = t[c]) === O) return "×";
              if (-1 === [D, N].indexOf(d)) break;
              c--
            }
          if (-1 !== [_, P].indexOf(l))
            for (c = -1 !== [C, b].indexOf(s) ? i : a; c >= 0;) {
              var d;
              if ((d = t[c]) === O) return "×";
              if (-1 === [D, N].indexOf(d)) break;
              c--
            }
          if (z === s && -1 !== [z, R, F, L].indexOf(l) || -1 !== [R, F].indexOf(s) && -
            1 !== [R, H].indexOf(l) || -1 !== [H, L].indexOf(s) && l === H) return "×";
          if (-1 !== q.indexOf(s) && -1 !== [T, P].indexOf(l) || -1 !== q.indexOf(l) &&
            s === _) return "×";
          if (-1 !== W.indexOf(s) && -1 !== W.indexOf(l)) return "×";
          if (s === N && -1 !== W.indexOf(l)) return "×";
          if (-1 !== W.concat(O).indexOf(s) && l === E && -1 === G.indexOf(e[o]) || -
            1 !== W.concat(O).indexOf(l) && s === b) return "×";
          if (41 === s && 41 === l) {
            for (var p = n[a], h = 1; p > 0 && 41 === t[--p];) h++;
            if (h % 2 != 0) return "×"
          }
          return s === S && l === U ? "×" : "÷"
        },
        re = function (e, t) {
          t || (t = {
            lineBreak: "normal",
            wordBreak: "normal"
          });
          var n = function (e, t) {
              void 0 === t && (t = "strict");
              var n = [],
                r = [],
                A = [];
              return e.forEach((function (e, a) {
                var i = K.get(e);
                if (i > 50 ? (A.push(!0), i -= 50) : A.push(!1), -1 !== ["normal",
                    "auto", "loose"
                  ].indexOf(t) && -1 !== [8208, 8211, 12316, 12448].indexOf(e))
                  return r.push(a), n.push(16);
                if (4 === i || 11 === i) {
                  if (0 === a) return r.push(a), n.push(Q);
                  var o = n[a - 1];
                  return -1 === J.indexOf(o) ? (r.push(r[a - 1]), n.push(o)) : (r
                    .push(a), n.push(Q))
                }
                return r.push(a), 31 === i ? n.push("strict" === t ? k : j) :
                  i === Y || 29 === i ? n.push(Q) : 43 === i ? e >= 131072 && e <=
                  196605 || e >= 196608 && e <= 262141 ? n.push(j) : n.push(Q) :
                  void n.push(i)
              })), [r, n, A]
            }(e, t.lineBreak),
            r = n[0],
            A = n[1],
            a = n[2];
          return "break-all" !== t.wordBreak && "break-word" !== t.wordBreak || (A = A
            .map((function (e) {
              return -1 !== [O, Q, Y].indexOf(e) ? j : e
            }))), [r, A, "keep-all" === t.wordBreak ? a.map((function (t, n) {
            return t && e[n] >= 19968 && e[n] <= 40959
          })) : void 0]
        },
        Ae = function () {
          function e(e, t, n, r) {
            this.codePoints = e, this.required = "!" === t, this.start = n, this.end = r
          }
          return e.prototype.slice = function () {
            return u.apply(void 0, this.codePoints.slice(this.start, this.end))
          }, e
        }(),
        ae = function (e) {
          return e >= 48 && e <= 57
        },
        ie = function (e) {
          return ae(e) || e >= 65 && e <= 70 || e >= 97 && e <= 102
        },
        oe = function (e) {
          return 10 === e || 9 === e || 32 === e
        },
        se = function (e) {
          return function (e) {
            return function (e) {
              return e >= 97 && e <= 122
            }(e) || function (e) {
              return e >= 65 && e <= 90
            }(e)
          }(e) || function (e) {
            return e >= 128
          }(e) || 95 === e
        },
        ue = function (e) {
          return se(e) || ae(e) || 45 === e
        },
        le = function (e) {
          return e >= 0 && e <= 8 || 11 === e || e >= 14 && e <= 31 || 127 === e
        },
        ce = function (e, t) {
          return 92 === e && 10 !== t
        },
        de = function (e, t, n) {
          return 45 === e ? se(t) || ce(t, n) : !!se(e) || !(92 !== e || !ce(e, t))
        },
        pe = function (e, t, n) {
          return 43 === e || 45 === e ? !!ae(t) || 46 === t && ae(n) : ae(46 === e ? t :
            e)
        },
        he = function (e) {
          var t = 0,
            n = 1;
          43 !== e[t] && 45 !== e[t] || (45 === e[t] && (n = -1), t++);
          for (var r = []; ae(e[t]);) r.push(e[t++]);
          var A = r.length ? parseInt(u.apply(void 0, r), 10) : 0;
          46 === e[t] && t++;
          for (var a = []; ae(e[t]);) a.push(e[t++]);
          var i = a.length,
            o = i ? parseInt(u.apply(void 0, a), 10) : 0;
          69 !== e[t] && 101 !== e[t] || t++;
          var s = 1;
          43 !== e[t] && 45 !== e[t] || (45 === e[t] && (s = -1), t++);
          for (var l = []; ae(e[t]);) l.push(e[t++]);
          var c = l.length ? parseInt(u.apply(void 0, l), 10) : 0;
          return n * (A + o * Math.pow(10, -i)) * Math.pow(10, s * c)
        },
        fe = {
          type: 2
        },
        ge = {
          type: 3
        },
        ye = {
          type: 4
        },
        ve = {
          type: 13
        },
        me = {
          type: 8
        },
        we = {
          type: 21
        },
        Be = {
          type: 9
        },
        Ie = {
          type: 10
        },
        Me = {
          type: 11
        },
        Ce = {
          type: 12
        },
        be = {
          type: 14
        },
        xe = {
          type: 23
        },
        Te = {
          type: 1
        },
        ke = {
          type: 25
        },
        Ee = {
          type: 24
        },
        Ne = {
          type: 26
        },
        Oe = {
          type: 27
        },
        Pe = {
          type: 28
        },
        _e = {
          type: 29
        },
        De = {
          type: 31
        },
        Qe = {
          type: 32
        },
        Se = function () {
          function e() {
            this._value = []
          }
          return e.prototype.write = function (e) {
            this._value = this._value.concat(s(e))
          }, e.prototype.read = function () {
            for (var e = [], t = this.consumeToken(); t !== Qe;) e.push(t), t = this
              .consumeToken();
            return e
          }, e.prototype.consumeToken = function () {
            var e = this.consumeCodePoint();
            switch (e) {
              case 34:
                return this.consumeStringToken(34);
              case 35:
                var t = this.peekCodePoint(0),
                  n = this.peekCodePoint(1),
                  r = this.peekCodePoint(2);
                if (ue(t) || ce(n, r)) {
                  var A = de(t, n, r) ? 2 : 1;
                  return {
                    type: 5,
                    value: this.consumeName(),
                    flags: A
                  }
                }
                break;
              case 36:
                if (61 === this.peekCodePoint(0)) return this.consumeCodePoint(), ve;
                break;
              case 39:
                return this.consumeStringToken(39);
              case 40:
                return fe;
              case 41:
                return ge;
              case 42:
                if (61 === this.peekCodePoint(0)) return this.consumeCodePoint(), be;
                break;
              case 43:
                if (pe(e, this.peekCodePoint(0), this.peekCodePoint(1))) return this
                  .reconsumeCodePoint(e), this.consumeNumericToken();
                break;
              case 44:
                return ye;
              case 45:
                var a = e,
                  i = this.peekCodePoint(0),
                  o = this.peekCodePoint(1);
                if (pe(a, i, o)) return this.reconsumeCodePoint(e), this
                  .consumeNumericToken();
                if (de(a, i, o)) return this.reconsumeCodePoint(e), this
                  .consumeIdentLikeToken();
                if (45 === i && 62 === o) return this.consumeCodePoint(), this
                  .consumeCodePoint(), Ee;
                break;
              case 46:
                if (pe(e, this.peekCodePoint(0), this.peekCodePoint(1))) return this
                  .reconsumeCodePoint(e), this.consumeNumericToken();
                break;
              case 47:
                if (42 === this.peekCodePoint(0))
                  for (this.consumeCodePoint();;) {
                    var s = this.consumeCodePoint();
                    if (42 === s && 47 === (s = this.consumeCodePoint())) return this
                      .consumeToken();
                    if (-1 === s) return this.consumeToken()
                  }
                break;
              case 58:
                return Ne;
              case 59:
                return Oe;
              case 60:
                if (33 === this.peekCodePoint(0) && 45 === this.peekCodePoint(1) &&
                  45 === this.peekCodePoint(2)) return this.consumeCodePoint(), this
                  .consumeCodePoint(), ke;
                break;
              case 64:
                var l = this.peekCodePoint(0),
                  c = this.peekCodePoint(1),
                  d = this.peekCodePoint(2);
                if (de(l, c, d)) return {
                  type: 7,
                  value: this.consumeName()
                };
                break;
              case 91:
                return Pe;
              case 92:
                if (ce(e, this.peekCodePoint(0))) return this.reconsumeCodePoint(e),
                  this.consumeIdentLikeToken();
                break;
              case 93:
                return _e;
              case 61:
                if (61 === this.peekCodePoint(0)) return this.consumeCodePoint(), me;
                break;
              case 123:
                return Me;
              case 125:
                return Ce;
              case 117:
              case 85:
                var p = this.peekCodePoint(0),
                  h = this.peekCodePoint(1);
                return 43 !== p || !ie(h) && 63 !== h || (this.consumeCodePoint(),
                    this.consumeUnicodeRangeToken()), this.reconsumeCodePoint(e), this
                  .consumeIdentLikeToken();
              case 124:
                if (61 === this.peekCodePoint(0)) return this.consumeCodePoint(), Be;
                if (124 === this.peekCodePoint(0)) return this.consumeCodePoint(), we;
                break;
              case 126:
                if (61 === this.peekCodePoint(0)) return this.consumeCodePoint(), Ie;
                break;
              case -1:
                return Qe
            }
            return oe(e) ? (this.consumeWhiteSpace(), De) : ae(e) ? (this
              .reconsumeCodePoint(e), this.consumeNumericToken()) : se(e) ? (this
              .reconsumeCodePoint(e), this.consumeIdentLikeToken()) : {
              type: 6,
              value: u(e)
            }
          }, e.prototype.consumeCodePoint = function () {
            var e = this._value.shift();
            return void 0 === e ? -1 : e
          }, e.prototype.reconsumeCodePoint = function (e) {
            this._value.unshift(e)
          }, e.prototype.peekCodePoint = function (e) {
            return e >= this._value.length ? -1 : this._value[e]
          }, e.prototype.consumeUnicodeRangeToken = function () {
            for (var e = [], t = this.consumeCodePoint(); ie(t) && e.length < 6;) e
              .push(t), t = this.consumeCodePoint();
            for (var n = !1; 63 === t && e.length < 6;) e.push(t), t = this
              .consumeCodePoint(), n = !0;
            if (n) return {
              type: 30,
              start: parseInt(u.apply(void 0, e.map((function (e) {
                return 63 === e ? 48 : e
              }))), 16),
              end: parseInt(u.apply(void 0, e.map((function (e) {
                return 63 === e ? 70 : e
              }))), 16)
            };
            var r = parseInt(u.apply(void 0, e), 16);
            if (45 === this.peekCodePoint(0) && ie(this.peekCodePoint(1))) {
              this.consumeCodePoint(), t = this.consumeCodePoint();
              for (var A = []; ie(t) && A.length < 6;) A.push(t), t = this
                .consumeCodePoint();
              return {
                type: 30,
                start: r,
                end: parseInt(u.apply(void 0, A), 16)
              }
            }
            return {
              type: 30,
              start: r,
              end: r
            }
          }, e.prototype.consumeIdentLikeToken = function () {
            var e = this.consumeName();
            return "url" === e.toLowerCase() && 40 === this.peekCodePoint(0) ? (this
                .consumeCodePoint(), this.consumeUrlToken()) : 40 === this
              .peekCodePoint(0) ? (this.consumeCodePoint(), {
                type: 19,
                value: e
              }) : {
                type: 20,
                value: e
              }
          }, e.prototype.consumeUrlToken = function () {
            var e = [];
            if (this.consumeWhiteSpace(), -1 === this.peekCodePoint(0)) return {
              type: 22,
              value: ""
            };
            var t = this.peekCodePoint(0);
            if (39 === t || 34 === t) {
              var n = this.consumeStringToken(this.consumeCodePoint());
              return 0 === n.type && (this.consumeWhiteSpace(), -1 === this
                .peekCodePoint(0) || 41 === this.peekCodePoint(0)) ? (this
                .consumeCodePoint(), {
                  type: 22,
                  value: n.value
                }) : (this.consumeBadUrlRemnants(), xe)
            }
            for (;;) {
              var r = this.consumeCodePoint();
              if (-1 === r || 41 === r) return {
                type: 22,
                value: u.apply(void 0, e)
              };
              if (oe(r)) return this.consumeWhiteSpace(), -1 === this.peekCodePoint(
                0) || 41 === this.peekCodePoint(0) ? (this.consumeCodePoint(), {
                  type: 22,
                  value: u.apply(void 0, e)
                }) : (this.consumeBadUrlRemnants(), xe);
              if (34 === r || 39 === r || 40 === r || le(r)) return this
                .consumeBadUrlRemnants(), xe;
              if (92 === r) {
                if (!ce(r, this.peekCodePoint(0))) return this
                .consumeBadUrlRemnants(), xe;
                e.push(this.consumeEscapedCodePoint())
              } else e.push(r)
            }
          }, e.prototype.consumeWhiteSpace = function () {
            for (; oe(this.peekCodePoint(0));) this.consumeCodePoint()
          }, e.prototype.consumeBadUrlRemnants = function () {
            for (;;) {
              var e = this.consumeCodePoint();
              if (41 === e || -1 === e) return;
              ce(e, this.peekCodePoint(0)) && this.consumeEscapedCodePoint()
            }
          }, e.prototype.consumeStringSlice = function (e) {
            for (var t = ""; e > 0;) {
              var n = Math.min(5e4, e);
              t += u.apply(void 0, this._value.splice(0, n)), e -= n
            }
            return this._value.shift(), t
          }, e.prototype.consumeStringToken = function (e) {
            for (var t = "", n = 0;;) {
              var r = this._value[n];
              if (-1 === r || void 0 === r || r === e) return {
                type: 0,
                value: t += this.consumeStringSlice(n)
              };
              if (10 === r) return this._value.splice(0, n), Te;
              if (92 === r) {
                var A = this._value[n + 1]; - 1 !== A && void 0 !== A && (10 === A ? (
                    t += this.consumeStringSlice(n), n = -1, this._value.shift()) :
                  ce(r, A) && (t += this.consumeStringSlice(n), t += u(this
                    .consumeEscapedCodePoint()), n = -1))
              }
              n++
            }
          }, e.prototype.consumeNumber = function () {
            var e = [],
              t = 4,
              n = this.peekCodePoint(0);
            for (43 !== n && 45 !== n || e.push(this.consumeCodePoint()); ae(this
                .peekCodePoint(0));) e.push(this.consumeCodePoint());
            n = this.peekCodePoint(0);
            var r = this.peekCodePoint(1);
            if (46 === n && ae(r))
              for (e.push(this.consumeCodePoint(), this.consumeCodePoint()), t =
                8; ae(this.peekCodePoint(0));) e.push(this.consumeCodePoint());
            n = this.peekCodePoint(0), r = this.peekCodePoint(1);
            var A = this.peekCodePoint(2);
            if ((69 === n || 101 === n) && ((43 === r || 45 === r) && ae(A) || ae(r)))
              for (e.push(this.consumeCodePoint(), this.consumeCodePoint()), t =
                8; ae(this.peekCodePoint(0));) e.push(this.consumeCodePoint());
            return [he(e), t]
          }, e.prototype.consumeNumericToken = function () {
            var e = this.consumeNumber(),
              t = e[0],
              n = e[1],
              r = this.peekCodePoint(0),
              A = this.peekCodePoint(1),
              a = this.peekCodePoint(2);
            return de(r, A, a) ? {
              type: 15,
              number: t,
              flags: n,
              unit: this.consumeName()
            } : 37 === r ? (this.consumeCodePoint(), {
              type: 16,
              number: t,
              flags: n
            }) : {
              type: 17,
              number: t,
              flags: n
            }
          }, e.prototype.consumeEscapedCodePoint = function () {
            var e = this.consumeCodePoint();
            if (ie(e)) {
              for (var t = u(e); ie(this.peekCodePoint(0)) && t.length < 6;) t += u(
                this.consumeCodePoint());
              oe(this.peekCodePoint(0)) && this.consumeCodePoint();
              var n = parseInt(t, 16);
              return 0 === n || function (e) {
                return e >= 55296 && e <= 57343
              }(n) || n > 1114111 ? 65533 : n
            }
            return -1 === e ? 65533 : e
          }, e.prototype.consumeName = function () {
            for (var e = "";;) {
              var t = this.consumeCodePoint();
              if (ue(t)) e += u(t);
              else {
                if (!ce(t, this.peekCodePoint(0))) return this.reconsumeCodePoint(t),
                  e;
                e += u(this.consumeEscapedCodePoint())
              }
            }
          }, e
        }(),
        Ue = function () {
          function e(e) {
            this._tokens = e
          }
          return e.create = function (t) {
            var n = new Se;
            return n.write(t), new e(n.read())
          }, e.parseValue = function (t) {
            return e.create(t).parseComponentValue()
          }, e.parseValues = function (t) {
            return e.create(t).parseComponentValues()
          }, e.prototype.parseComponentValue = function () {
            for (var e = this.consumeToken(); 31 === e.type;) e = this.consumeToken();
            if (32 === e.type) throw new SyntaxError(
              "Error parsing CSS component value, unexpected EOF");
            this.reconsumeToken(e);
            var t = this.consumeComponentValue();
            do {
              e = this.consumeToken()
            } while (31 === e.type);
            if (32 === e.type) return t;
            throw new SyntaxError(
              "Error parsing CSS component value, multiple values found when expecting only one"
              )
          }, e.prototype.parseComponentValues = function () {
            for (var e = [];;) {
              var t = this.consumeComponentValue();
              if (32 === t.type) return e;
              e.push(t), e.push()
            }
          }, e.prototype.consumeComponentValue = function () {
            var e = this.consumeToken();
            switch (e.type) {
              case 11:
              case 28:
              case 2:
                return this.consumeSimpleBlock(e.type);
              case 19:
                return this.consumeFunction(e)
            }
            return e
          }, e.prototype.consumeSimpleBlock = function (e) {
            for (var t = {
                type: e,
                values: []
              }, n = this.consumeToken();;) {
              if (32 === n.type || Ke(n, e)) return t;
              this.reconsumeToken(n), t.values.push(this.consumeComponentValue()), n =
                this.consumeToken()
            }
          }, e.prototype.consumeFunction = function (e) {
            for (var t = {
                name: e.value,
                values: [],
                type: 18
              };;) {
              var n = this.consumeToken();
              if (32 === n.type || 3 === n.type) return t;
              this.reconsumeToken(n), t.values.push(this.consumeComponentValue())
            }
          }, e.prototype.consumeToken = function () {
            var e = this._tokens.shift();
            return void 0 === e ? Qe : e
          }, e.prototype.reconsumeToken = function (e) {
            this._tokens.unshift(e)
          }, e
        }(),
        Fe = function (e) {
          return 15 === e.type
        },
        Le = function (e) {
          return 17 === e.type
        },
        je = function (e) {
          return 20 === e.type
        },
        ze = function (e) {
          return 0 === e.type
        },
        Re = function (e, t) {
          return je(e) && e.value === t
        },
        He = function (e) {
          return 31 !== e.type
        },
        Ye = function (e) {
          return 31 !== e.type && 4 !== e.type
        },
        Ge = function (e) {
          var t = [],
            n = [];
          return e.forEach((function (e) {
            if (4 === e.type) {
              if (0 === n.length) throw new Error(
                "Error parsing function args, zero tokens for arg");
              return t.push(n), void(n = [])
            }
            31 !== e.type && n.push(e)
          })), n.length && t.push(n), t
        },
        Ke = function (e, t) {
          return 11 === t && 12 === e.type || 28 === t && 29 === e.type || 2 === t &&
            3 === e.type
        },
        We = function (e) {
          return 17 === e.type || 15 === e.type
        },
        Ze = function (e) {
          return 16 === e.type || We(e)
        },
        Ve = function (e) {
          return e.length > 1 ? [e[0], e[1]] : [e[0]]
        },
        Xe = {
          type: 17,
          number: 0,
          flags: 4
        },
        Je = {
          type: 16,
          number: 50,
          flags: 4
        },
        qe = {
          type: 16,
          number: 100,
          flags: 4
        },
        $e = function (e, t, n) {
          var r = e[0],
            A = e[1];
          return [et(r, t), et(void 0 !== A ? A : r, n)]
        },
        et = function (e, t) {
          if (16 === e.type) return e.number / 100 * t;
          if (Fe(e)) switch (e.unit) {
            case "rem":
            case "em":
              return 16 * e.number;
            case "px":
            default:
              return e.number
          }
          return e.number
        },
        tt = function (e, t) {
          if (15 === t.type) switch (t.unit) {
            case "deg":
              return Math.PI * t.number / 180;
            case "grad":
              return Math.PI / 200 * t.number;
            case "rad":
              return t.number;
            case "turn":
              return 2 * Math.PI * t.number
          }
          throw new Error("Unsupported angle type")
        },
        nt = function (e) {
          return 15 === e.type && ("deg" === e.unit || "grad" === e.unit || "rad" === e
            .unit || "turn" === e.unit)
        },
        rt = function (e) {
          switch (e.filter(je).map((function (e) {
            return e.value
          })).join(" ")) {
            case "to bottom right":
            case "to right bottom":
            case "left top":
            case "top left":
              return [Xe, Xe];
            case "to top":
            case "bottom":
              return At(0);
            case "to bottom left":
            case "to left bottom":
            case "right top":
            case "top right":
              return [Xe, qe];
            case "to right":
            case "left":
              return At(90);
            case "to top left":
            case "to left top":
            case "right bottom":
            case "bottom right":
              return [qe, qe];
            case "to bottom":
            case "top":
              return At(180);
            case "to top right":
            case "to right top":
            case "left bottom":
            case "bottom left":
              return [qe, Xe];
            case "to left":
            case "right":
              return At(270)
          }
          return 0
        },
        At = function (e) {
          return Math.PI * e / 180
        },
        at = function (e, t) {
          if (18 === t.type) {
            var n = ht[t.name];
            if (void 0 === n) throw new Error(
              'Attempting to parse an unsupported color function "' + t.name + '"');
            return n(e, t.values)
          }
          if (5 === t.type) {
            if (3 === t.value.length) {
              var r = t.value.substring(0, 1),
                A = t.value.substring(1, 2),
                a = t.value.substring(2, 3);
              return st(parseInt(r + r, 16), parseInt(A + A, 16), parseInt(a + a, 16),
                1)
            }
            if (4 === t.value.length) {
              r = t.value.substring(0, 1), A = t.value.substring(1, 2), a = t.value
                .substring(2, 3);
              var i = t.value.substring(3, 4);
              return st(parseInt(r + r, 16), parseInt(A + A, 16), parseInt(a + a, 16),
                parseInt(i + i, 16) / 255)
            }
            if (6 === t.value.length) return r = t.value.substring(0, 2), A = t.value
              .substring(2, 4), a = t.value.substring(4, 6), st(parseInt(r, 16),
                parseInt(A, 16), parseInt(a, 16), 1);
            if (8 === t.value.length) return r = t.value.substring(0, 2), A = t.value
              .substring(2, 4), a = t.value.substring(4, 6), i = t.value.substring(6,
                8), st(parseInt(r, 16), parseInt(A, 16), parseInt(a, 16), parseInt(i,
                16) / 255)
          }
          if (20 === t.type) {
            var o = gt[t.value.toUpperCase()];
            if (void 0 !== o) return o
          }
          return gt.TRANSPARENT
        },
        it = function (e) {
          return 0 == (255 & e)
        },
        ot = function (e) {
          var t = 255 & e,
            n = 255 & e >> 8,
            r = 255 & e >> 16,
            A = 255 & e >> 24;
          return t < 255 ? "rgba(" + A + "," + r + "," + n + "," + t / 255 + ")" :
            "rgb(" + A + "," + r + "," + n + ")"
        },
        st = function (e, t, n, r) {
          return (e << 24 | t << 16 | n << 8 | Math.round(255 * r) << 0) >>> 0
        },
        ut = function (e, t) {
          if (17 === e.type) return e.number;
          if (16 === e.type) {
            var n = 3 === t ? 1 : 255;
            return 3 === t ? e.number / 100 * n : Math.round(e.number / 100 * n)
          }
          return 0
        },
        lt = function (e, t) {
          var n = t.filter(Ye);
          if (3 === n.length) {
            var r = n.map(ut),
              A = r[0],
              a = r[1],
              i = r[2];
            return st(A, a, i, 1)
          }
          if (4 === n.length) {
            var o = n.map(ut),
              s = (A = o[0], a = o[1], i = o[2], o[3]);
            return st(A, a, i, s)
          }
          return 0
        };

      function ct(e, t, n) {
        return n < 0 && (n += 1), n >= 1 && (n -= 1), n < 1 / 6 ? (t - e) * n * 6 + e :
          n < .5 ? t : n < 2 / 3 ? 6 * (t - e) * (2 / 3 - n) + e : e
      }
      var dt, pt = function (e, t) {
          var n = t.filter(Ye),
            r = n[0],
            A = n[1],
            a = n[2],
            i = n[3],
            o = (17 === r.type ? At(r.number) : tt(e, r)) / (2 * Math.PI),
            s = Ze(A) ? A.number / 100 : 0,
            u = Ze(a) ? a.number / 100 : 0,
            l = void 0 !== i && Ze(i) ? et(i, 1) : 1;
          if (0 === s) return st(255 * u, 255 * u, 255 * u, 1);
          var c = u <= .5 ? u * (s + 1) : u + s - u * s,
            d = 2 * u - c,
            p = ct(d, c, o + 1 / 3),
            h = ct(d, c, o),
            f = ct(d, c, o - 1 / 3);
          return st(255 * p, 255 * h, 255 * f, l)
        },
        ht = {
          hsl: pt,
          hsla: pt,
          rgb: lt,
          rgba: lt
        },
        ft = function (e, t) {
          return at(e, Ue.create(t).parseComponentValue())
        },
        gt = {
          ALICEBLUE: 4042850303,
          ANTIQUEWHITE: 4209760255,
          AQUA: 16777215,
          AQUAMARINE: 2147472639,
          AZURE: 4043309055,
          BEIGE: 4126530815,
          BISQUE: 4293182719,
          BLACK: 255,
          BLANCHEDALMOND: 4293643775,
          BLUE: 65535,
          BLUEVIOLET: 2318131967,
          BROWN: 2771004159,
          BURLYWOOD: 3736635391,
          CADETBLUE: 1604231423,
          CHARTREUSE: 2147418367,
          CHOCOLATE: 3530104575,
          CORAL: 4286533887,
          CORNFLOWERBLUE: 1687547391,
          CORNSILK: 4294499583,
          CRIMSON: 3692313855,
          CYAN: 16777215,
          DARKBLUE: 35839,
          DARKCYAN: 9145343,
          DARKGOLDENROD: 3095837695,
          DARKGRAY: 2846468607,
          DARKGREEN: 6553855,
          DARKGREY: 2846468607,
          DARKKHAKI: 3182914559,
          DARKMAGENTA: 2332068863,
          DARKOLIVEGREEN: 1433087999,
          DARKORANGE: 4287365375,
          DARKORCHID: 2570243327,
          DARKRED: 2332033279,
          DARKSALMON: 3918953215,
          DARKSEAGREEN: 2411499519,
          DARKSLATEBLUE: 1211993087,
          DARKSLATEGRAY: 793726975,
          DARKSLATEGREY: 793726975,
          DARKTURQUOISE: 13554175,
          DARKVIOLET: 2483082239,
          DEEPPINK: 4279538687,
          DEEPSKYBLUE: 12582911,
          DIMGRAY: 1768516095,
          DIMGREY: 1768516095,
          DODGERBLUE: 512819199,
          FIREBRICK: 2988581631,
          FLORALWHITE: 4294635775,
          FORESTGREEN: 579543807,
          FUCHSIA: 4278255615,
          GAINSBORO: 3705462015,
          GHOSTWHITE: 4177068031,
          GOLD: 4292280575,
          GOLDENROD: 3668254975,
          GRAY: 2155905279,
          GREEN: 8388863,
          GREENYELLOW: 2919182335,
          GREY: 2155905279,
          HONEYDEW: 4043305215,
          HOTPINK: 4285117695,
          INDIANRED: 3445382399,
          INDIGO: 1258324735,
          IVORY: 4294963455,
          KHAKI: 4041641215,
          LAVENDER: 3873897215,
          LAVENDERBLUSH: 4293981695,
          LAWNGREEN: 2096890111,
          LEMONCHIFFON: 4294626815,
          LIGHTBLUE: 2916673279,
          LIGHTCORAL: 4034953471,
          LIGHTCYAN: 3774873599,
          LIGHTGOLDENRODYELLOW: 4210742015,
          LIGHTGRAY: 3553874943,
          LIGHTGREEN: 2431553791,
          LIGHTGREY: 3553874943,
          LIGHTPINK: 4290167295,
          LIGHTSALMON: 4288707327,
          LIGHTSEAGREEN: 548580095,
          LIGHTSKYBLUE: 2278488831,
          LIGHTSLATEGRAY: 2005441023,
          LIGHTSLATEGREY: 2005441023,
          LIGHTSTEELBLUE: 2965692159,
          LIGHTYELLOW: 4294959359,
          LIME: 16711935,
          LIMEGREEN: 852308735,
          LINEN: 4210091775,
          MAGENTA: 4278255615,
          MAROON: 2147483903,
          MEDIUMAQUAMARINE: 1724754687,
          MEDIUMBLUE: 52735,
          MEDIUMORCHID: 3126187007,
          MEDIUMPURPLE: 2473647103,
          MEDIUMSEAGREEN: 1018393087,
          MEDIUMSLATEBLUE: 2070474495,
          MEDIUMSPRINGGREEN: 16423679,
          MEDIUMTURQUOISE: 1221709055,
          MEDIUMVIOLETRED: 3340076543,
          MIDNIGHTBLUE: 421097727,
          MINTCREAM: 4127193855,
          MISTYROSE: 4293190143,
          MOCCASIN: 4293178879,
          NAVAJOWHITE: 4292783615,
          NAVY: 33023,
          OLDLACE: 4260751103,
          OLIVE: 2155872511,
          OLIVEDRAB: 1804477439,
          ORANGE: 4289003775,
          ORANGERED: 4282712319,
          ORCHID: 3664828159,
          PALEGOLDENROD: 4008225535,
          PALEGREEN: 2566625535,
          PALETURQUOISE: 2951671551,
          PALEVIOLETRED: 3681588223,
          PAPAYAWHIP: 4293907967,
          PEACHPUFF: 4292524543,
          PERU: 3448061951,
          PINK: 4290825215,
          PLUM: 3718307327,
          POWDERBLUE: 2967529215,
          PURPLE: 2147516671,
          REBECCAPURPLE: 1714657791,
          RED: 4278190335,
          ROSYBROWN: 3163525119,
          ROYALBLUE: 1097458175,
          SADDLEBROWN: 2336560127,
          SALMON: 4202722047,
          SANDYBROWN: 4104413439,
          SEAGREEN: 780883967,
          SEASHELL: 4294307583,
          SIENNA: 2689740287,
          SILVER: 3233857791,
          SKYBLUE: 2278484991,
          SLATEBLUE: 1784335871,
          SLATEGRAY: 1887473919,
          SLATEGREY: 1887473919,
          SNOW: 4294638335,
          SPRINGGREEN: 16744447,
          STEELBLUE: 1182971135,
          TAN: 3535047935,
          TEAL: 8421631,
          THISTLE: 3636451583,
          TOMATO: 4284696575,
          TRANSPARENT: 0,
          TURQUOISE: 1088475391,
          VIOLET: 4001558271,
          WHEAT: 4125012991,
          WHITE: 4294967295,
          WHITESMOKE: 4126537215,
          YELLOW: 4294902015,
          YELLOWGREEN: 2597139199
        },
        yt = {
          name: "background-clip",
          initialValue: "border-box",
          prefix: !1,
          type: 1,
          parse: function (e, t) {
            return t.map((function (e) {
              if (je(e)) switch (e.value) {
                case "padding-box":
                  return 1;
                case "content-box":
                  return 2
              }
              return 0
            }))
          }
        },
        vt = {
          name: "background-color",
          initialValue: "transparent",
          prefix: !1,
          type: 3,
          format: "color"
        },
        mt = function (e, t) {
          var n = at(e, t[0]),
            r = t[1];
          return r && Ze(r) ? {
            color: n,
            stop: r
          } : {
            color: n,
            stop: null
          }
        },
        wt = function (e, t) {
          var n = e[0],
            r = e[e.length - 1];
          null === n.stop && (n.stop = Xe), null === r.stop && (r.stop = qe);
          for (var A = [], a = 0, i = 0; i < e.length; i++) {
            var o = e[i].stop;
            if (null !== o) {
              var s = et(o, t);
              s > a ? A.push(s) : A.push(a), a = s
            } else A.push(null)
          }
          var u = null;
          for (i = 0; i < A.length; i++) {
            var l = A[i];
            if (null === l) null === u && (u = i);
            else if (null !== u) {
              for (var c = i - u, d = (l - A[u - 1]) / (c + 1), p = 1; p <= c; p++) A[
                u + p - 1] = d * p;
              u = null
            }
          }
          return e.map((function (e, n) {
            return {
              color: e.color,
              stop: Math.max(Math.min(1, A[n] / t), 0)
            }
          }))
        },
        Bt = function (e, t, n) {
          var r = "number" == typeof e ? e : function (e, t, n) {
              var r = t / 2,
                A = n / 2,
                a = et(e[0], t) - r,
                i = A - et(e[1], n);
              return (Math.atan2(i, a) + 2 * Math.PI) % (2 * Math.PI)
            }(e, t, n),
            A = Math.abs(t * Math.sin(r)) + Math.abs(n * Math.cos(r)),
            a = t / 2,
            i = n / 2,
            o = A / 2,
            s = Math.sin(r - Math.PI / 2) * o,
            u = Math.cos(r - Math.PI / 2) * o;
          return [A, a - u, a + u, i - s, i + s]
        },
        It = function (e, t) {
          return Math.sqrt(e * e + t * t)
        },
        Mt = function (e, t, n, r, A) {
          return [
            [0, 0],
            [0, t],
            [e, 0],
            [e, t]
          ].reduce((function (e, t) {
            var a = t[0],
              i = t[1],
              o = It(n - a, r - i);
            return (A ? o < e.optimumDistance : o > e.optimumDistance) ? {
              optimumCorner: t,
              optimumDistance: o
            } : e
          }), {
            optimumDistance: A ? 1 / 0 : -1 / 0,
            optimumCorner: null
          }).optimumCorner
        },
        Ct = function (e, t) {
          var n = At(180),
            r = [];
          return Ge(t).forEach((function (t, A) {
            if (0 === A) {
              var a = t[0];
              if (20 === a.type && -1 !== ["top", "left", "right", "bottom"]
                .indexOf(a.value)) return void(n = rt(t));
              if (nt(a)) return void(n = (tt(e, a) + At(270)) % At(360))
            }
            var i = mt(e, t);
            r.push(i)
          })), {
            angle: n,
            stops: r,
            type: 1
          }
        },
        bt = function (e, t) {
          var n = 0,
            r = 3,
            A = [],
            a = [];
          return Ge(t).forEach((function (t, i) {
            var o = !0;
            if (0 === i ? o = t.reduce((function (e, t) {
                if (je(t)) switch (t.value) {
                  case "center":
                    return a.push(Je), !1;
                  case "top":
                  case "left":
                    return a.push(Xe), !1;
                  case "right":
                  case "bottom":
                    return a.push(qe), !1
                } else if (Ze(t) || We(t)) return a.push(t), !1;
                return e
              }), o) : 1 === i && (o = t.reduce((function (e, t) {
                if (je(t)) switch (t.value) {
                  case "circle":
                    return n = 0, !1;
                  case "ellipse":
                    return n = 1, !1;
                  case "contain":
                  case "closest-side":
                    return r = 0, !1;
                  case "farthest-side":
                    return r = 1, !1;
                  case "closest-corner":
                    return r = 2, !1;
                  case "cover":
                  case "farthest-corner":
                    return r = 3, !1
                } else if (We(t) || Ze(t)) return Array.isArray(r) || (
                  r = []), r.push(t), !1;
                return e
              }), o)), o) {
              var s = mt(e, t);
              A.push(s)
            }
          })), {
            size: r,
            shape: n,
            stops: A,
            position: a,
            type: 2
          }
        },
        xt = function (e, t) {
          if (22 === t.type) {
            var n = {
              url: t.value,
              type: 0
            };
            return e.cache.addImage(t.value), n
          }
          if (18 === t.type) {
            var r = Tt[t.name];
            if (void 0 === r) throw new Error(
              'Attempting to parse an unsupported image function "' + t.name + '"');
            return r(e, t.values)
          }
          throw new Error("Unsupported image type " + t.type)
        },
        Tt = {
          "linear-gradient": function (e, t) {
            var n = At(180),
              r = [];
            return Ge(t).forEach((function (t, A) {
              if (0 === A) {
                var a = t[0];
                if (20 === a.type && "to" === a.value) return void(n = rt(t));
                if (nt(a)) return void(n = tt(e, a))
              }
              var i = mt(e, t);
              r.push(i)
            })), {
              angle: n,
              stops: r,
              type: 1
            }
          },
          "-moz-linear-gradient": Ct,
          "-ms-linear-gradient": Ct,
          "-o-linear-gradient": Ct,
          "-webkit-linear-gradient": Ct,
          "radial-gradient": function (e, t) {
            var n = 0,
              r = 3,
              A = [],
              a = [];
            return Ge(t).forEach((function (t, i) {
              var o = !0;
              if (0 === i) {
                var s = !1;
                o = t.reduce((function (e, t) {
                  if (s)
                    if (je(t)) switch (t.value) {
                      case "center":
                        return a.push(Je), e;
                      case "top":
                      case "left":
                        return a.push(Xe), e;
                      case "right":
                      case "bottom":
                        return a.push(qe), e
                    } else(Ze(t) || We(t)) && a.push(t);
                    else if (je(t)) switch (t.value) {
                    case "circle":
                      return n = 0, !1;
                    case "ellipse":
                      return n = 1, !1;
                    case "at":
                      return s = !0, !1;
                    case "closest-side":
                      return r = 0, !1;
                    case "cover":
                    case "farthest-side":
                      return r = 1, !1;
                    case "contain":
                    case "closest-corner":
                      return r = 2, !1;
                    case "farthest-corner":
                      return r = 3, !1
                  } else if (We(t) || Ze(t)) return Array.isArray(r) ||
                    (r = []), r.push(t), !1;
                  return e
                }), o)
              }
              if (o) {
                var u = mt(e, t);
                A.push(u)
              }
            })), {
              size: r,
              shape: n,
              stops: A,
              position: a,
              type: 2
            }
          },
          "-moz-radial-gradient": bt,
          "-ms-radial-gradient": bt,
          "-o-radial-gradient": bt,
          "-webkit-radial-gradient": bt,
          "-webkit-gradient": function (e, t) {
            var n = At(180),
              r = [],
              A = 1;
            return Ge(t).forEach((function (t, n) {
              var a = t[0];
              if (0 === n) {
                if (je(a) && "linear" === a.value) return void(A = 1);
                if (je(a) && "radial" === a.value) return void(A = 2)
              }
              if (18 === a.type)
                if ("from" === a.name) {
                  var i = at(e, a.values[0]);
                  r.push({
                    stop: Xe,
                    color: i
                  })
                } else if ("to" === a.name) i = at(e, a.values[0]), r.push({
                stop: qe,
                color: i
              });
              else if ("color-stop" === a.name) {
                var o = a.values.filter(Ye);
                if (2 === o.length) {
                  i = at(e, o[1]);
                  var s = o[0];
                  Le(s) && r.push({
                    stop: {
                      type: 16,
                      number: 100 * s.number,
                      flags: s.flags
                    },
                    color: i
                  })
                }
              }
            })), 1 === A ? {
              angle: (n + At(180)) % At(360),
              stops: r,
              type: A
            } : {
              size: 3,
              shape: 0,
              stops: r,
              position: [],
              type: A
            }
          }
        },
        kt = {
          name: "background-image",
          initialValue: "none",
          type: 1,
          prefix: !1,
          parse: function (e, t) {
            if (0 === t.length) return [];
            var n = t[0];
            return 20 === n.type && "none" === n.value ? [] : t.filter((function (e) {
              return Ye(e) && function (e) {
                return !(20 === e.type && "none" === e.value || 18 === e
                  .type && !Tt[e.name])
              }(e)
            })).map((function (t) {
              return xt(e, t)
            }))
          }
        },
        Et = {
          name: "background-origin",
          initialValue: "border-box",
          prefix: !1,
          type: 1,
          parse: function (e, t) {
            return t.map((function (e) {
              if (je(e)) switch (e.value) {
                case "padding-box":
                  return 1;
                case "content-box":
                  return 2
              }
              return 0
            }))
          }
        },
        Nt = {
          name: "background-position",
          initialValue: "0% 0%",
          type: 1,
          prefix: !1,
          parse: function (e, t) {
            return Ge(t).map((function (e) {
              return e.filter(Ze)
            })).map(Ve)
          }
        },
        Ot = {
          name: "background-repeat",
          initialValue: "repeat",
          prefix: !1,
          type: 1,
          parse: function (e, t) {
            return Ge(t).map((function (e) {
              return e.filter(je).map((function (e) {
                return e.value
              })).join(" ")
            })).map(Pt)
          }
        },
        Pt = function (e) {
          switch (e) {
            case "no-repeat":
              return 1;
            case "repeat-x":
            case "repeat no-repeat":
              return 2;
            case "repeat-y":
            case "no-repeat repeat":
              return 3;
            case "repeat":
            default:
              return 0
          }
        };
      ! function (e) {
        e.AUTO = "auto", e.CONTAIN = "contain", e.COVER = "cover"
      }(dt || (dt = {}));
      var _t, Dt = {
          name: "background-size",
          initialValue: "0",
          prefix: !1,
          type: 1,
          parse: function (e, t) {
            return Ge(t).map((function (e) {
              return e.filter(Qt)
            }))
          }
        },
        Qt = function (e) {
          return je(e) || Ze(e)
        },
        St = function (e) {
          return {
            name: "border-" + e + "-color",
            initialValue: "transparent",
            prefix: !1,
            type: 3,
            format: "color"
          }
        },
        Ut = St("top"),
        Ft = St("right"),
        Lt = St("bottom"),
        jt = St("left"),
        zt = function (e) {
          return {
            name: "border-radius-" + e,
            initialValue: "0 0",
            prefix: !1,
            type: 1,
            parse: function (e, t) {
              return Ve(t.filter(Ze))
            }
          }
        },
        Rt = zt("top-left"),
        Ht = zt("top-right"),
        Yt = zt("bottom-right"),
        Gt = zt("bottom-left"),
        Kt = function (e) {
          return {
            name: "border-" + e + "-style",
            initialValue: "solid",
            prefix: !1,
            type: 2,
            parse: function (e, t) {
              switch (t) {
                case "none":
                  return 0;
                case "dashed":
                  return 2;
                case "dotted":
                  return 3;
                case "double":
                  return 4
              }
              return 1
            }
          }
        },
        Wt = Kt("top"),
        Zt = Kt("right"),
        Vt = Kt("bottom"),
        Xt = Kt("left"),
        Jt = function (e) {
          return {
            name: "border-" + e + "-width",
            initialValue: "0",
            type: 0,
            prefix: !1,
            parse: function (e, t) {
              return Fe(t) ? t.number : 0
            }
          }
        },
        qt = Jt("top"),
        $t = Jt("right"),
        en = Jt("bottom"),
        tn = Jt("left"),
        nn = {
          name: "color",
          initialValue: "transparent",
          prefix: !1,
          type: 3,
          format: "color"
        },
        rn = {
          name: "direction",
          initialValue: "ltr",
          prefix: !1,
          type: 2,
          parse: function (e, t) {
            switch (t) {
              case "rtl":
                return 1;
              case "ltr":
              default:
                return 0
            }
          }
        },
        An = {
          name: "display",
          initialValue: "inline-block",
          prefix: !1,
          type: 1,
          parse: function (e, t) {
            return t.filter(je).reduce((function (e, t) {
              return e | an(t.value)
            }), 0)
          }
        },
        an = function (e) {
          switch (e) {
            case "block":
            case "-webkit-box":
              return 2;
            case "inline":
              return 4;
            case "run-in":
              return 8;
            case "flow":
              return 16;
            case "flow-root":
              return 32;
            case "table":
              return 64;
            case "flex":
            case "-webkit-flex":
              return 128;
            case "grid":
            case "-ms-grid":
              return 256;
            case "ruby":
              return 512;
            case "subgrid":
              return 1024;
            case "list-item":
              return 2048;
            case "table-row-group":
              return 4096;
            case "table-header-group":
              return 8192;
            case "table-footer-group":
              return 16384;
            case "table-row":
              return 32768;
            case "table-cell":
              return 65536;
            case "table-column-group":
              return 131072;
            case "table-column":
              return 262144;
            case "table-caption":
              return 524288;
            case "ruby-base":
              return 1048576;
            case "ruby-text":
              return 2097152;
            case "ruby-base-container":
              return 4194304;
            case "ruby-text-container":
              return 8388608;
            case "contents":
              return 16777216;
            case "inline-block":
              return 33554432;
            case "inline-list-item":
              return 67108864;
            case "inline-table":
              return 134217728;
            case "inline-flex":
              return 268435456;
            case "inline-grid":
              return 536870912
          }
          return 0
        },
        on = {
          name: "float",
          initialValue: "none",
          prefix: !1,
          type: 2,
          parse: function (e, t) {
            switch (t) {
              case "left":
                return 1;
              case "right":
                return 2;
              case "inline-start":
                return 3;
              case "inline-end":
                return 4
            }
            return 0
          }
        },
        sn = {
          name: "letter-spacing",
          initialValue: "0",
          prefix: !1,
          type: 0,
          parse: function (e, t) {
            return 20 === t.type && "normal" === t.value ? 0 : 17 === t.type || 15 ===
              t.type ? t.number : 0
          }
        };
      ! function (e) {
        e.NORMAL = "normal", e.STRICT = "strict"
      }(_t || (_t = {}));
      var un, ln = {
          name: "line-break",
          initialValue: "normal",
          prefix: !1,
          type: 2,
          parse: function (e, t) {
            switch (t) {
              case "strict":
                return _t.STRICT;
              case "normal":
              default:
                return _t.NORMAL
            }
          }
        },
        cn = {
          name: "line-height",
          initialValue: "normal",
          prefix: !1,
          type: 4
        },
        dn = function (e, t) {
          return je(e) && "normal" === e.value ? 1.2 * t : 17 === e.type ? t * e
            .number : Ze(e) ? et(e, t) : t
        },
        pn = {
          name: "list-style-image",
          initialValue: "none",
          type: 0,
          prefix: !1,
          parse: function (e, t) {
            return 20 === t.type && "none" === t.value ? null : xt(e, t)
          }
        },
        hn = {
          name: "list-style-position",
          initialValue: "outside",
          prefix: !1,
          type: 2,
          parse: function (e, t) {
            switch (t) {
              case "inside":
                return 0;
              case "outside":
              default:
                return 1
            }
          }
        },
        fn = {
          name: "list-style-type",
          initialValue: "none",
          prefix: !1,
          type: 2,
          parse: function (e, t) {
            switch (t) {
              case "disc":
                return 0;
              case "circle":
                return 1;
              case "square":
                return 2;
              case "decimal":
                return 3;
              case "cjk-decimal":
                return 4;
              case "decimal-leading-zero":
                return 5;
              case "lower-roman":
                return 6;
              case "upper-roman":
                return 7;
              case "lower-greek":
                return 8;
              case "lower-alpha":
                return 9;
              case "upper-alpha":
                return 10;
              case "arabic-indic":
                return 11;
              case "armenian":
                return 12;
              case "bengali":
                return 13;
              case "cambodian":
                return 14;
              case "cjk-earthly-branch":
                return 15;
              case "cjk-heavenly-stem":
                return 16;
              case "cjk-ideographic":
                return 17;
              case "devanagari":
                return 18;
              case "ethiopic-numeric":
                return 19;
              case "georgian":
                return 20;
              case "gujarati":
                return 21;
              case "gurmukhi":
              case "hebrew":
                return 22;
              case "hiragana":
                return 23;
              case "hiragana-iroha":
                return 24;
              case "japanese-formal":
                return 25;
              case "japanese-informal":
                return 26;
              case "kannada":
                return 27;
              case "katakana":
                return 28;
              case "katakana-iroha":
                return 29;
              case "khmer":
                return 30;
              case "korean-hangul-formal":
                return 31;
              case "korean-hanja-formal":
                return 32;
              case "korean-hanja-informal":
                return 33;
              case "lao":
                return 34;
              case "lower-armenian":
                return 35;
              case "malayalam":
                return 36;
              case "mongolian":
                return 37;
              case "myanmar":
                return 38;
              case "oriya":
                return 39;
              case "persian":
                return 40;
              case "simp-chinese-formal":
                return 41;
              case "simp-chinese-informal":
                return 42;
              case "tamil":
                return 43;
              case "telugu":
                return 44;
              case "thai":
                return 45;
              case "tibetan":
                return 46;
              case "trad-chinese-formal":
                return 47;
              case "trad-chinese-informal":
                return 48;
              case "upper-armenian":
                return 49;
              case "disclosure-open":
                return 50;
              case "disclosure-closed":
                return 51;
              case "none":
              default:
                return -1
            }
          }
        },
        gn = function (e) {
          return {
            name: "margin-" + e,
            initialValue: "0",
            prefix: !1,
            type: 4
          }
        },
        yn = gn("top"),
        vn = gn("right"),
        mn = gn("bottom"),
        wn = gn("left"),
        Bn = {
          name: "overflow",
          initialValue: "visible",
          prefix: !1,
          type: 1,
          parse: function (e, t) {
            return t.filter(je).map((function (e) {
              switch (e.value) {
                case "hidden":
                  return 1;
                case "scroll":
                  return 2;
                case "clip":
                  return 3;
                case "auto":
                  return 4;
                case "visible":
                default:
                  return 0
              }
            }))
          }
        },
        In = {
          name: "overflow-wrap",
          initialValue: "normal",
          prefix: !1,
          type: 2,
          parse: function (e, t) {
            switch (t) {
              case "break-word":
                return "break-word";
              case "normal":
              default:
                return "normal"
            }
          }
        },
        Mn = function (e) {
          return {
            name: "padding-" + e,
            initialValue: "0",
            prefix: !1,
            type: 3,
            format: "length-percentage"
          }
        },
        Cn = Mn("top"),
        bn = Mn("right"),
        xn = Mn("bottom"),
        Tn = Mn("left"),
        kn = {
          name: "text-align",
          initialValue: "left",
          prefix: !1,
          type: 2,
          parse: function (e, t) {
            switch (t) {
              case "right":
                return 2;
              case "center":
              case "justify":
                return 1;
              case "left":
              default:
                return 0
            }
          }
        },
        En = {
          name: "position",
          initialValue: "static",
          prefix: !1,
          type: 2,
          parse: function (e, t) {
            switch (t) {
              case "relative":
                return 1;
              case "absolute":
                return 2;
              case "fixed":
                return 3;
              case "sticky":
                return 4
            }
            return 0
          }
        },
        Nn = {
          name: "text-shadow",
          initialValue: "none",
          type: 1,
          prefix: !1,
          parse: function (e, t) {
            return 1 === t.length && Re(t[0], "none") ? [] : Ge(t).map((function (t) {
              for (var n = {
                  color: gt.TRANSPARENT,
                  offsetX: Xe,
                  offsetY: Xe,
                  blur: Xe
                }, r = 0, A = 0; A < t.length; A++) {
                var a = t[A];
                We(a) ? (0 === r ? n.offsetX = a : 1 === r ? n.offsetY = a : n
                  .blur = a, r++) : n.color = at(e, a)
              }
              return n
            }))
          }
        },
        On = {
          name: "text-transform",
          initialValue: "none",
          prefix: !1,
          type: 2,
          parse: function (e, t) {
            switch (t) {
              case "uppercase":
                return 2;
              case "lowercase":
                return 1;
              case "capitalize":
                return 3
            }
            return 0
          }
        },
        Pn = {
          name: "transform",
          initialValue: "none",
          prefix: !0,
          type: 0,
          parse: function (e, t) {
            if (20 === t.type && "none" === t.value) return null;
            if (18 === t.type) {
              var n = _n[t.name];
              if (void 0 === n) throw new Error(
                'Attempting to parse an unsupported transform function "' + t
                .name + '"');
              return n(t.values)
            }
            return null
          }
        },
        _n = {
          matrix: function (e) {
            var t = e.filter((function (e) {
              return 17 === e.type
            })).map((function (e) {
              return e.number
            }));
            return 6 === t.length ? t : null
          },
          matrix3d: function (e) {
            var t = e.filter((function (e) {
                return 17 === e.type
              })).map((function (e) {
                return e.number
              })),
              n = t[0],
              r = t[1];
            t[2], t[3];
            var A = t[4],
              a = t[5];
            t[6], t[7], t[8], t[9], t[10], t[11];
            var i = t[12],
              o = t[13];
            return t[14], t[15], 16 === t.length ? [n, r, A, a, i, o] : null
          }
        },
        Dn = {
          type: 16,
          number: 50,
          flags: 4
        },
        Qn = [Dn, Dn],
        Sn = {
          name: "transform-origin",
          initialValue: "50% 50%",
          prefix: !0,
          type: 1,
          parse: function (e, t) {
            var n = t.filter(Ze);
            return 2 !== n.length ? Qn : [n[0], n[1]]
          }
        },
        Un = {
          name: "visible",
          initialValue: "none",
          prefix: !1,
          type: 2,
          parse: function (e, t) {
            switch (t) {
              case "hidden":
                return 1;
              case "collapse":
                return 2;
              case "visible":
              default:
                return 0
            }
          }
        };
      ! function (e) {
        e.NORMAL = "normal", e.BREAK_ALL = "break-all", e.KEEP_ALL = "keep-all"
      }(un || (un = {}));
      for (var Fn = {
            name: "word-break",
            initialValue: "normal",
            prefix: !1,
            type: 2,
            parse: function (e, t) {
              switch (t) {
                case "break-all":
                  return un.BREAK_ALL;
                case "keep-all":
                  return un.KEEP_ALL;
                case "normal":
                default:
                  return un.NORMAL
              }
            }
          }, Ln = {
            name: "z-index",
            initialValue: "auto",
            prefix: !1,
            type: 0,
            parse: function (e, t) {
              if (20 === t.type) return {
                auto: !0,
                order: 0
              };
              if (Le(t)) return {
                auto: !1,
                order: t.number
              };
              throw new Error("Invalid z-index number parsed")
            }
          }, jn = function (e, t) {
            if (15 === t.type) switch (t.unit.toLowerCase()) {
              case "s":
                return 1e3 * t.number;
              case "ms":
                return t.number
            }
            throw new Error("Unsupported time type")
          }, zn = {
            name: "opacity",
            initialValue: "1",
            type: 0,
            prefix: !1,
            parse: function (e, t) {
              return Le(t) ? t.number : 1
            }
          }, Rn = {
            name: "text-decoration-color",
            initialValue: "transparent",
            prefix: !1,
            type: 3,
            format: "color"
          }, Hn = {
            name: "text-decoration-line",
            initialValue: "none",
            prefix: !1,
            type: 1,
            parse: function (e, t) {
              return t.filter(je).map((function (e) {
                switch (e.value) {
                  case "underline":
                    return 1;
                  case "overline":
                    return 2;
                  case "line-through":
                    return 3;
                  case "none":
                    return 4
                }
                return 0
              })).filter((function (e) {
                return 0 !== e
              }))
            }
          }, Yn = {
            name: "font-family",
            initialValue: "",
            prefix: !1,
            type: 1,
            parse: function (e, t) {
              var n = [],
                r = [];
              return t.forEach((function (e) {
                switch (e.type) {
                  case 20:
                  case 0:
                    n.push(e.value);
                    break;
                  case 17:
                    n.push(e.number.toString());
                    break;
                  case 4:
                    r.push(n.join(" ")), n.length = 0
                }
              })), n.length && r.push(n.join(" ")), r.map((function (e) {
                return -1 === e.indexOf(" ") ? e : "'" + e + "'"
              }))
            }
          }, Gn = {
            name: "font-size",
            initialValue: "0",
            prefix: !1,
            type: 3,
            format: "length"
          }, Kn = {
            name: "font-weight",
            initialValue: "normal",
            type: 0,
            prefix: !1,
            parse: function (e, t) {
              if (Le(t)) return t.number;
              if (je(t)) switch (t.value) {
                case "bold":
                  return 700;
                case "normal":
                default:
                  return 400
              }
              return 400
            }
          }, Wn = {
            name: "font-variant",
            initialValue: "none",
            type: 1,
            prefix: !1,
            parse: function (e, t) {
              return t.filter(je).map((function (e) {
                return e.value
              }))
            }
          }, Zn = {
            name: "font-style",
            initialValue: "normal",
            prefix: !1,
            type: 2,
            parse: function (e, t) {
              switch (t) {
                case "oblique":
                  return "oblique";
                case "italic":
                  return "italic";
                case "normal":
                default:
                  return "normal"
              }
            }
          }, Vn = function (e, t) {
            return 0 != (e & t)
          }, Xn = {
            name: "content",
            initialValue: "none",
            type: 1,
            prefix: !1,
            parse: function (e, t) {
              if (0 === t.length) return [];
              var n = t[0];
              return 20 === n.type && "none" === n.value ? [] : t
            }
          }, Jn = {
            name: "counter-increment",
            initialValue: "none",
            prefix: !0,
            type: 1,
            parse: function (e, t) {
              if (0 === t.length) return null;
              var n = t[0];
              if (20 === n.type && "none" === n.value) return null;
              for (var r = [], A = t.filter(He), a = 0; a < A.length; a++) {
                var i = A[a],
                  o = A[a + 1];
                if (20 === i.type) {
                  var s = o && Le(o) ? o.number : 1;
                  r.push({
                    counter: i.value,
                    increment: s
                  })
                }
              }
              return r
            }
          }, qn = {
            name: "counter-reset",
            initialValue: "none",
            prefix: !0,
            type: 1,
            parse: function (e, t) {
              if (0 === t.length) return [];
              for (var n = [], r = t.filter(He), A = 0; A < r.length; A++) {
                var a = r[A],
                  i = r[A + 1];
                if (je(a) && "none" !== a.value) {
                  var o = i && Le(i) ? i.number : 0;
                  n.push({
                    counter: a.value,
                    reset: o
                  })
                }
              }
              return n
            }
          }, $n = {
            name: "duration",
            initialValue: "0s",
            prefix: !1,
            type: 1,
            parse: function (e, t) {
              return t.filter(Fe).map((function (t) {
                return jn(e, t)
              }))
            }
          }, er = {
            name: "quotes",
            initialValue: "none",
            prefix: !0,
            type: 1,
            parse: function (e, t) {
              if (0 === t.length) return null;
              var n = t[0];
              if (20 === n.type && "none" === n.value) return null;
              var r = [],
                A = t.filter(ze);
              if (A.length % 2 != 0) return null;
              for (var a = 0; a < A.length; a += 2) {
                var i = A[a].value,
                  o = A[a + 1].value;
                r.push({
                  open: i,
                  close: o
                })
              }
              return r
            }
          }, tr = function (e, t, n) {
            if (!e) return "";
            var r = e[Math.min(t, e.length - 1)];
            return r ? n ? r.open : r.close : ""
          }, nr = {
            name: "box-shadow",
            initialValue: "none",
            type: 1,
            prefix: !1,
            parse: function (e, t) {
              return 1 === t.length && Re(t[0], "none") ? [] : Ge(t).map((function (
              t) {
                for (var n = {
                    color: 255,
                    offsetX: Xe,
                    offsetY: Xe,
                    blur: Xe,
                    spread: Xe,
                    inset: !1
                  }, r = 0, A = 0; A < t.length; A++) {
                  var a = t[A];
                  Re(a, "inset") ? n.inset = !0 : We(a) ? (0 === r ? n.offsetX =
                    a : 1 === r ? n.offsetY = a : 2 === r ? n.blur = a : n
                    .spread = a, r++) : n.color = at(e, a)
                }
                return n
              }))
            }
          }, rr = {
            name: "paint-order",
            initialValue: "normal",
            prefix: !1,
            type: 1,
            parse: function (e, t) {
              var n = [];
              return t.filter(je).forEach((function (e) {
                switch (e.value) {
                  case "stroke":
                    n.push(1);
                    break;
                  case "fill":
                    n.push(0);
                    break;
                  case "markers":
                    n.push(2)
                }
              })), [0, 1, 2].forEach((function (e) {
                -1 === n.indexOf(e) && n.push(e)
              })), n
            }
          }, Ar = {
            name: "-webkit-text-stroke-color",
            initialValue: "currentcolor",
            prefix: !1,
            type: 3,
            format: "color"
          }, ar = {
            name: "-webkit-text-stroke-width",
            initialValue: "0",
            type: 0,
            prefix: !1,
            parse: function (e, t) {
              return Fe(t) ? t.number : 0
            }
          }, ir = function () {
            function e(e, t) {
              var n, r;
              this.animationDuration = ur(e, $n, t.animationDuration), this
                .backgroundClip = ur(e, yt, t.backgroundClip), this.backgroundColor =
                ur(e, vt, t.backgroundColor), this.backgroundImage = ur(e, kt, t
                  .backgroundImage), this.backgroundOrigin = ur(e, Et, t
                  .backgroundOrigin), this.backgroundPosition = ur(e, Nt, t
                  .backgroundPosition), this.backgroundRepeat = ur(e, Ot, t
                  .backgroundRepeat), this.backgroundSize = ur(e, Dt, t.backgroundSize),
                this.borderTopColor = ur(e, Ut, t.borderTopColor), this
                .borderRightColor = ur(e, Ft, t.borderRightColor), this
                .borderBottomColor = ur(e, Lt, t.borderBottomColor), this
                .borderLeftColor = ur(e, jt, t.borderLeftColor), this
                .borderTopLeftRadius = ur(e, Rt, t.borderTopLeftRadius), this
                .borderTopRightRadius = ur(e, Ht, t.borderTopRightRadius), this
                .borderBottomRightRadius = ur(e, Yt, t.borderBottomRightRadius), this
                .borderBottomLeftRadius = ur(e, Gt, t.borderBottomLeftRadius), this
                .borderTopStyle = ur(e, Wt, t.borderTopStyle), this.borderRightStyle =
                ur(e, Zt, t.borderRightStyle), this.borderBottomStyle = ur(e, Vt, t
                  .borderBottomStyle), this.borderLeftStyle = ur(e, Xt, t
                  .borderLeftStyle), this.borderTopWidth = ur(e, qt, t.borderTopWidth),
                this.borderRightWidth = ur(e, $t, t.borderRightWidth), this
                .borderBottomWidth = ur(e, en, t.borderBottomWidth), this
                .borderLeftWidth = ur(e, tn, t.borderLeftWidth), this.boxShadow = ur(e,
                  nr, t.boxShadow), this.color = ur(e, nn, t.color), this.direction =
                ur(e, rn, t.direction), this.display = ur(e, An, t.display), this
                .float = ur(e, on, t.cssFloat), this.fontFamily = ur(e, Yn, t
                  .fontFamily), this.fontSize = ur(e, Gn, t.fontSize), this.fontStyle =
                ur(e, Zn, t.fontStyle), this.fontVariant = ur(e, Wn, t.fontVariant),
                this.fontWeight = ur(e, Kn, t.fontWeight), this.letterSpacing = ur(e,
                  sn, t.letterSpacing), this.lineBreak = ur(e, ln, t.lineBreak), this
                .lineHeight = ur(e, cn, t.lineHeight), this.listStyleImage = ur(e, pn, t
                  .listStyleImage), this.listStylePosition = ur(e, hn, t
                  .listStylePosition), this.listStyleType = ur(e, fn, t.listStyleType),
                this.marginTop = ur(e, yn, t.marginTop), this.marginRight = ur(e, vn, t
                  .marginRight), this.marginBottom = ur(e, mn, t.marginBottom), this
                .marginLeft = ur(e, wn, t.marginLeft), this.opacity = ur(e, zn, t
                  .opacity);
              var A = ur(e, Bn, t.overflow);
              this.overflowX = A[0], this.overflowY = A[A.length > 1 ? 1 : 0], this
                .overflowWrap = ur(e, In, t.overflowWrap), this.paddingTop = ur(e, Cn, t
                  .paddingTop), this.paddingRight = ur(e, bn, t.paddingRight), this
                .paddingBottom = ur(e, xn, t.paddingBottom), this.paddingLeft = ur(e,
                  Tn, t.paddingLeft), this.paintOrder = ur(e, rr, t.paintOrder), this
                .position = ur(e, En, t.position), this.textAlign = ur(e, kn, t
                  .textAlign), this.textDecorationColor = ur(e, Rn, null !== (n = t
                  .textDecorationColor) && void 0 !== n ? n : t.color), this
                .textDecorationLine = ur(e, Hn, null !== (r = t.textDecorationLine) &&
                  void 0 !== r ? r : t.textDecoration), this.textShadow = ur(e, Nn, t
                  .textShadow), this.textTransform = ur(e, On, t.textTransform), this
                .transform = ur(e, Pn, t.transform), this.transformOrigin = ur(e, Sn, t
                  .transformOrigin), this.visibility = ur(e, Un, t.visibility), this
                .webkitTextStrokeColor = ur(e, Ar, t.webkitTextStrokeColor), this
                .webkitTextStrokeWidth = ur(e, ar, t.webkitTextStrokeWidth), this
                .wordBreak = ur(e, Fn, t.wordBreak), this.zIndex = ur(e, Ln, t.zIndex)
            }
            return e.prototype.isVisible = function () {
              return this.display > 0 && this.opacity > 0 && 0 === this.visibility
            }, e.prototype.isTransparent = function () {
              return it(this.backgroundColor)
            }, e.prototype.isTransformed = function () {
              return null !== this.transform
            }, e.prototype.isPositioned = function () {
              return 0 !== this.position
            }, e.prototype.isPositionedWithZIndex = function () {
              return this.isPositioned() && !this.zIndex.auto
            }, e.prototype.isFloating = function () {
              return 0 !== this.float
            }, e.prototype.isInlineLevel = function () {
              return Vn(this.display, 4) || Vn(this.display, 33554432) || Vn(this
                .display, 268435456) || Vn(this.display, 536870912) || Vn(this
                .display, 67108864) || Vn(this.display, 134217728)
            }, e
          }(), or = function (e, t) {
            this.content = ur(e, Xn, t.content), this.quotes = ur(e, er, t.quotes)
          }, sr = function (e, t) {
            this.counterIncrement = ur(e, Jn, t.counterIncrement), this.counterReset =
              ur(e, qn, t.counterReset)
          }, ur = function (e, t, n) {
            var r = new Se,
              A = null != n ? n.toString() : t.initialValue;
            r.write(A);
            var a = new Ue(r.read());
            switch (t.type) {
              case 2:
                var i = a.parseComponentValue();
                return t.parse(e, je(i) ? i.value : t.initialValue);
              case 0:
                return t.parse(e, a.parseComponentValue());
              case 1:
                return t.parse(e, a.parseComponentValues());
              case 4:
                return a.parseComponentValue();
              case 3:
                switch (t.format) {
                  case "angle":
                    return tt(e, a.parseComponentValue());
                  case "color":
                    return at(e, a.parseComponentValue());
                  case "image":
                    return xt(e, a.parseComponentValue());
                  case "length":
                    var o = a.parseComponentValue();
                    return We(o) ? o : Xe;
                  case "length-percentage":
                    var s = a.parseComponentValue();
                    return Ze(s) ? s : Xe;
                  case "time":
                    return jn(e, a.parseComponentValue())
                }
            }
          }, lr = function (e, t) {
            var n = function (e) {
              switch (e.getAttribute("data-html2canvas-debug")) {
                case "all":
                  return 1;
                case "clone":
                  return 2;
                case "parse":
                  return 3;
                case "render":
                  return 4;
                default:
                  return 0
              }
            }(e);
            return 1 === n || t === n
          }, cr = function (e, t) {
            this.context = e, this.textNodes = [], this.elements = [], this.flags = 0,
              lr(t, 3), this.styles = new ir(e, window.getComputedStyle(t, null)), cA(
              t) && (this.styles.animationDuration.some((function (e) {
                  return e > 0
                })) && (t.style.animationDuration = "0s"), null !== this.styles
                .transform && (t.style.transform = "none")), this.bounds = o(this
                .context, t), lr(t, 4) && (this.flags |= 16)
          }, dr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
          pr = "undefined" == typeof Uint8Array ? [] : new Uint8Array(256), hr = 0; hr <
        dr.length; hr++) pr[dr.charCodeAt(hr)] = hr;
      for (var fr = function (e, t, n) {
            return e.slice ? e.slice(t, n) : new Uint16Array(Array.prototype.slice.call(
              e, t, n))
          }, gr = function () {
            function e(e, t, n, r, A, a) {
              this.initialValue = e, this.errorValue = t, this.highStart = n, this
                .highValueIndex = r, this.index = A, this.data = a
            }
            return e.prototype.get = function (e) {
              var t;
              if (e >= 0) {
                if (e < 55296 || e > 56319 && e <= 65535) return t = ((t = this.index[
                  e >> 5]) << 2) + (31 & e), this.data[t];
                if (e <= 65535) return t = ((t = this.index[2048 + (e - 55296 >>
                  5)]) << 2) + (31 & e), this.data[t];
                if (e < this.highStart) return t = 2080 + (e >> 11), t = this.index[
                  t], t += e >> 5 & 63, t = ((t = this.index[t]) << 2) + (31 & e),
                  this.data[t];
                if (e <= 1114111) return this.data[this.highValueIndex]
              }
              return this.errorValue
            }, e
          }(), yr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
          vr = "undefined" == typeof Uint8Array ? [] : new Uint8Array(256), mr = 0; mr <
        yr.length; mr++) vr[yr.charCodeAt(mr)] = mr;
      var wr, Br = 8,
        Ir = 9,
        Mr = 11,
        Cr = 12,
        br = function () {
          for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
          if (String.fromCodePoint) return String.fromCodePoint.apply(String, e);
          var n = e.length;
          if (!n) return "";
          for (var r = [], A = -1, a = ""; ++A < n;) {
            var i = e[A];
            i <= 65535 ? r.push(i) : (i -= 65536, r.push(55296 + (i >> 10), i % 1024 +
              56320)), (A + 1 === n || r.length > 16384) && (a += String.fromCharCode
              .apply(String, r), r.length = 0)
          }
          return a
        },
        xr = function (e, t) {
          var n, r, A, a = function (e) {
              var t, n, r, A, a, i = .75 * e.length,
                o = e.length,
                s = 0;
              "=" === e[e.length - 1] && (i--, "=" === e[e.length - 2] && i--);
              var u = "undefined" != typeof ArrayBuffer && "undefined" !=
                typeof Uint8Array && void 0 !== Uint8Array.prototype.slice ?
                new ArrayBuffer(i) : new Array(i),
                l = Array.isArray(u) ? u : new Uint8Array(u);
              for (t = 0; t < o; t += 4) n = pr[e.charCodeAt(t)], r = pr[e.charCodeAt(
                t + 1)], A = pr[e.charCodeAt(t + 2)], a = pr[e.charCodeAt(t + 3)], l[
                s++] = n << 2 | r >> 4, l[s++] = (15 & r) << 4 | A >> 2, l[s++] = (3 &
                A) << 6 | 63 & a;
              return u
            }(e),
            i = Array.isArray(a) ? function (e) {
              for (var t = e.length, n = [], r = 0; r < t; r += 4) n.push(e[r + 3] <<
                24 | e[r + 2] << 16 | e[r + 1] << 8 | e[r]);
              return n
            }(a) : new Uint32Array(a),
            o = Array.isArray(a) ? function (e) {
              for (var t = e.length, n = [], r = 0; r < t; r += 2) n.push(e[r + 1] <<
                8 | e[r]);
              return n
            }(a) : new Uint16Array(a),
            s = fr(o, 12, i[4] / 2),
            u = 2 === i[5] ? fr(o, (24 + i[4]) / 2) : (n = i, r = Math.ceil((24 + i[
              4]) / 4), n.slice ? n.slice(r, A) : new Uint32Array(Array.prototype
              .slice.call(n, r, A)));
          return new gr(i[0], i[1], i[2], i[3], s, u)
        }(
          "AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),
        Tr = function (e) {
          return xr.get(e)
        },
        kr = function (e, t, n) {
          var r = n - 2,
            A = t[r],
            a = t[n - 1],
            i = t[n];
          if (2 === a && 3 === i) return "×";
          if (2 === a || 3 === a || 4 === a) return "÷";
          if (2 === i || 3 === i || 4 === i) return "÷";
          if (a === Br && -1 !== [Br, Ir, Mr, Cr].indexOf(i)) return "×";
          if (!(a !== Mr && a !== Ir || i !== Ir && 10 !== i)) return "×";
          if ((a === Cr || 10 === a) && 10 === i) return "×";
          if (13 === i || 5 === i) return "×";
          if (7 === i) return "×";
          if (1 === a) return "×";
          if (13 === a && 14 === i) {
            for (; 5 === A;) A = t[--r];
            if (14 === A) return "×"
          }
          if (15 === a && 15 === i) {
            for (var o = 0; 15 === A;) o++, A = t[--r];
            if (o % 2 == 0) return "×"
          }
          return "÷"
        },
        Er = function (e) {
          var t = function (e) {
              for (var t = [], n = 0, r = e.length; n < r;) {
                var A = e.charCodeAt(n++);
                if (A >= 55296 && A <= 56319 && n < r) {
                  var a = e.charCodeAt(n++);
                  56320 == (64512 & a) ? t.push(((1023 & A) << 10) + (1023 & a) +
                    65536) : (t.push(A), n--)
                } else t.push(A)
              }
              return t
            }(e),
            n = t.length,
            r = 0,
            A = 0,
            a = t.map(Tr);
          return {
            next: function () {
              if (r >= n) return {
                done: !0,
                value: null
              };
              for (var e = "×"; r < n && "×" === (e = kr(0, a, ++r)););
              if ("×" !== e || r === n) {
                var i = br.apply(null, t.slice(A, r));
                return A = r, {
                  value: i,
                  done: !1
                }
              }
              return {
                done: !0,
                value: null
              }
            }
          }
        },
        Nr = function (e) {
          return 0 === e[0] && 255 === e[1] && 0 === e[2] && 255 === e[3]
        },
        Or = function (e, t, n, r, A) {
          var a = "http://www.w3.org/2000/svg",
            i = document.createElementNS(a, "svg"),
            o = document.createElementNS(a, "foreignObject");
          return i.setAttributeNS(null, "width", e.toString()), i.setAttributeNS(null,
              "height", t.toString()), o.setAttributeNS(null, "width", "100%"), o
            .setAttributeNS(null, "height", "100%"), o.setAttributeNS(null, "x", n
              .toString()), o.setAttributeNS(null, "y", r.toString()), o.setAttributeNS(
              null, "externalResourcesRequired", "true"), i.appendChild(o), o
            .appendChild(A), i
        },
        Pr = function (e) {
          return new Promise((function (t, n) {
            var r = new Image;
            r.onload = function () {
                return t(r)
              }, r.onerror = n, r.src = "data:image/svg+xml;charset=utf-8," +
              encodeURIComponent((new XMLSerializer).serializeToString(e))
          }))
        },
        _r = {
          get SUPPORT_RANGE_BOUNDS() {
            var e = function (e) {
              if (e.createRange) {
                var t = e.createRange();
                if (t.getBoundingClientRect) {
                  var n = e.createElement("boundtest");
                  n.style.height = "123px", n.style.display = "block", e.body
                    .appendChild(n), t.selectNode(n);
                  var r = t.getBoundingClientRect(),
                    A = Math.round(r.height);
                  if (e.body.removeChild(n), 123 === A) return !0
                }
              }
              return !1
            }(document);
            return Object.defineProperty(_r, "SUPPORT_RANGE_BOUNDS", {
              value: e
            }), e
          },
          get SUPPORT_WORD_BREAKING() {
            var e = _r.SUPPORT_RANGE_BOUNDS && function (e) {
              var t = e.createElement("boundtest");
              t.style.width = "50px", t.style.display = "block", t.style.fontSize =
                "12px", t.style.letterSpacing = "0px", t.style.wordSpacing = "0px",
                e.body.appendChild(t);
              var n = e.createRange();
              t.innerHTML = "function" == typeof "".repeat ? "&#128104;".repeat(
                10) : "";
              var r = t.firstChild,
                A = s(r.data).map((function (e) {
                  return u(e)
                })),
                a = 0,
                i = {},
                o = A.every((function (e, t) {
                  n.setStart(r, a), n.setEnd(r, a + e.length);
                  var A = n.getBoundingClientRect();
                  a += e.length;
                  var o = A.x > i.x || A.y > i.y;
                  return i = A, 0 === t || o
                }));
              return e.body.removeChild(t), o
            }(document);
            return Object.defineProperty(_r, "SUPPORT_WORD_BREAKING", {
              value: e
            }), e
          },
          get SUPPORT_SVG_DRAWING() {
            var e = function (e) {
              var t = new Image,
                n = e.createElement("canvas"),
                r = n.getContext("2d");
              if (!r) return !1;
              t.src =
                "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";
              try {
                r.drawImage(t, 0, 0), n.toDataURL()
              } catch (e) {
                return !1
              }
              return !0
            }(document);
            return Object.defineProperty(_r, "SUPPORT_SVG_DRAWING", {
              value: e
            }), e
          },
          get SUPPORT_FOREIGNOBJECT_DRAWING() {
            var e = "function" == typeof Array.from && "function" == typeof window
              .fetch ? function (e) {
                var t = e.createElement("canvas");
                t.width = 100, t.height = 100;
                var n = t.getContext("2d");
                if (!n) return Promise.reject(!1);
                n.fillStyle = "rgb(0, 255, 0)", n.fillRect(0, 0, 100, 100);
                var r = new Image,
                  A = t.toDataURL();
                r.src = A;
                var a = Or(100, 100, 0, 0, r);
                return n.fillStyle = "red", n.fillRect(0, 0, 100, 100), Pr(a).then((
                  function (t) {
                    n.drawImage(t, 0, 0);
                    var r = n.getImageData(0, 0, 100, 100).data;
                    n.fillStyle = "red", n.fillRect(0, 0, 100, 100);
                    var a = e.createElement("div");
                    return a.style.backgroundImage = "url(" + A + ")", a.style
                      .height = "100px", Nr(r) ? Pr(Or(100, 100, 0, 0, a)) :
                      Promise.reject(!1)
                  })).then((function (e) {
                  return n.drawImage(e, 0, 0), Nr(n.getImageData(0, 0, 100, 100)
                    .data)
                })).catch((function () {
                  return !1
                }))
              }(document) : Promise.resolve(!1);
            return Object.defineProperty(_r, "SUPPORT_FOREIGNOBJECT_DRAWING", {
              value: e
            }), e
          },
          get SUPPORT_CORS_IMAGES() {
            var e = void 0 !== (new Image).crossOrigin;
            return Object.defineProperty(_r, "SUPPORT_CORS_IMAGES", {
              value: e
            }), e
          },
          get SUPPORT_RESPONSE_TYPE() {
            var e = "string" == typeof (new XMLHttpRequest).responseType;
            return Object.defineProperty(_r, "SUPPORT_RESPONSE_TYPE", {
              value: e
            }), e
          },
          get SUPPORT_CORS_XHR() {
            var e = "withCredentials" in new XMLHttpRequest;
            return Object.defineProperty(_r, "SUPPORT_CORS_XHR", {
              value: e
            }), e
          },
          get SUPPORT_NATIVE_TEXT_SEGMENTATION() {
            var e = !("undefined" == typeof Intl || !Intl.Segmenter);
            return Object.defineProperty(_r, "SUPPORT_NATIVE_TEXT_SEGMENTATION", {
              value: e
            }), e
          }
        },
        Dr = function (e, t) {
          this.text = e, this.bounds = t
        },
        Qr = function (e, t) {
          var n = t.ownerDocument;
          if (n) {
            var r = n.createElement("html2canvaswrapper");
            r.appendChild(t.cloneNode(!0));
            var A = t.parentNode;
            if (A) {
              A.replaceChild(r, t);
              var a = o(e, r);
              return r.firstChild && A.replaceChild(r.firstChild, r), a
            }
          }
          return i.EMPTY
        },
        Sr = function (e, t, n) {
          var r = e.ownerDocument;
          if (!r) throw new Error("Node has no owner document");
          var A = r.createRange();
          return A.setStart(e, t), A.setEnd(e, t + n), A
        },
        Ur = function (e) {
          if (_r.SUPPORT_NATIVE_TEXT_SEGMENTATION) {
            var t = new Intl.Segmenter(void 0, {
              granularity: "grapheme"
            });
            return Array.from(t.segment(e)).map((function (e) {
              return e.segment
            }))
          }
          return function (e) {
            for (var t, n = Er(e), r = []; !(t = n.next()).done;) t.value && r.push(t
              .value.slice());
            return r
          }(e)
        },
        Fr = function (e, t) {
          return 0 !== t.letterSpacing ? Ur(e) : function (e, t) {
            if (_r.SUPPORT_NATIVE_TEXT_SEGMENTATION) {
              var n = new Intl.Segmenter(void 0, {
                granularity: "word"
              });
              return Array.from(n.segment(e)).map((function (e) {
                return e.segment
              }))
            }
            return jr(e, t)
          }(e, t)
        },
        Lr = [32, 160, 4961, 65792, 65793, 4153, 4241],
        jr = function (e, t) {
          for (var n, r = function (e, t) {
              var n = s(e),
                r = re(n, t),
                A = r[0],
                a = r[1],
                i = r[2],
                o = n.length,
                u = 0,
                l = 0;
              return {
                next: function () {
                  if (l >= o) return {
                    done: !0,
                    value: null
                  };
                  for (var e = "×"; l < o && "×" === (e = ne(n, a, A, ++l, i)););
                  if ("×" !== e || l === o) {
                    var t = new Ae(n, e, u, l);
                    return u = l, {
                      value: t,
                      done: !1
                    }
                  }
                  return {
                    done: !0,
                    value: null
                  }
                }
              }
            }(e, {
              lineBreak: t.lineBreak,
              wordBreak: "break-word" === t.overflowWrap ? "break-word" : t
                .wordBreak
            }), A = [], a = function () {
              if (n.value) {
                var e = n.value.slice(),
                  t = s(e),
                  r = "";
                t.forEach((function (e) {
                  -1 === Lr.indexOf(e) ? r += u(e) : (r.length && A.push(r), A
                    .push(u(e)), r = "")
                })), r.length && A.push(r)
              }
            }; !(n = r.next()).done;) a();
          return A
        },
        zr = function (e, t, n) {
          this.text = Rr(t.data, n.textTransform), this.textBounds = function (e, t, n,
            r) {
            var A = Fr(t, n),
              a = [],
              o = 0;
            return A.forEach((function (t) {
              if (n.textDecorationLine.length || t.trim().length > 0)
                if (_r.SUPPORT_RANGE_BOUNDS) {
                  var A = Sr(r, o, t.length).getClientRects();
                  if (A.length > 1) {
                    var s = Ur(t),
                      u = 0;
                    s.forEach((function (t) {
                      a.push(new Dr(t, i.fromDOMRectList(e, Sr(r, u + o, t
                        .length).getClientRects()))), u += t.length
                    }))
                  } else a.push(new Dr(t, i.fromDOMRectList(e, A)))
                } else {
                  var l = r.splitText(t.length);
                  a.push(new Dr(t, Qr(e, r))), r = l
                }
              else _r.SUPPORT_RANGE_BOUNDS || (r = r.splitText(t.length));
              o += t.length
            })), a
          }(e, this.text, n, t)
        },
        Rr = function (e, t) {
          switch (t) {
            case 1:
              return e.toLowerCase();
            case 3:
              return e.replace(Hr, Yr);
            case 2:
              return e.toUpperCase();
            default:
              return e
          }
        },
        Hr = /(^|\s|:|-|\(|\))([a-z])/g,
        Yr = function (e, t, n) {
          return e.length > 0 ? t + n.toUpperCase() : e
        },
        Gr = function (e) {
          function n(t, n) {
            var r = e.call(this, t, n) || this;
            return r.src = n.currentSrc || n.src, r.intrinsicWidth = n.naturalWidth, r
              .intrinsicHeight = n.naturalHeight, r.context.cache.addImage(r.src), r
          }
          return t(n, e), n
        }(cr),
        Kr = function (e) {
          function n(t, n) {
            var r = e.call(this, t, n) || this;
            return r.canvas = n, r.intrinsicWidth = n.width, r.intrinsicHeight = n
              .height, r
          }
          return t(n, e), n
        }(cr),
        Wr = function (e) {
          function n(t, n) {
            var r = e.call(this, t, n) || this,
              A = new XMLSerializer,
              a = o(t, n);
            return n.setAttribute("width", a.width + "px"), n.setAttribute("height", a
                .height + "px"), r.svg = "data:image/svg+xml," + encodeURIComponent(A
                .serializeToString(n)), r.intrinsicWidth = n.width.baseVal.value, r
              .intrinsicHeight = n.height.baseVal.value, r.context.cache.addImage(r
              .svg), r
          }
          return t(n, e), n
        }(cr),
        Zr = function (e) {
          function n(t, n) {
            var r = e.call(this, t, n) || this;
            return r.value = n.value, r
          }
          return t(n, e), n
        }(cr),
        Vr = function (e) {
          function n(t, n) {
            var r = e.call(this, t, n) || this;
            return r.start = n.start, r.reversed = "boolean" == typeof n.reversed && !
              0 === n.reversed, r
          }
          return t(n, e), n
        }(cr),
        Xr = [{
          type: 15,
          flags: 0,
          unit: "px",
          number: 3
        }],
        Jr = [{
          type: 16,
          flags: 0,
          number: 50
        }],
        qr = "password",
        $r = function (e) {
          function n(t, n) {
            var r, A, a, o = e.call(this, t, n) || this;
            switch (o.type = n.type.toLowerCase(), o.checked = n.checked, o.value =
              0 === (A = (r = n).type === qr ? new Array(r.value.length + 1).join("•") :
                r.value).length ? r.placeholder || "" : A, "checkbox" !== o.type &&
              "radio" !== o.type || (o.styles.backgroundColor = 3739148031, o.styles
                .borderTopColor = o.styles.borderRightColor = o.styles
                .borderBottomColor = o.styles.borderLeftColor = 2779096575, o.styles
                .borderTopWidth = o.styles.borderRightWidth = o.styles
                .borderBottomWidth = o.styles.borderLeftWidth = 1, o.styles
                .borderTopStyle = o.styles.borderRightStyle = o.styles
                .borderBottomStyle = o.styles.borderLeftStyle = 1, o.styles
                .backgroundClip = [0], o.styles.backgroundOrigin = [0], o.bounds = (a =
                  o.bounds).width > a.height ? new i(a.left + (a.width - a.height) / 2,
                  a.top, a.height, a.height) : a.width < a.height ? new i(a.left, a
                  .top + (a.height - a.width) / 2, a.width, a.width) : a), o.type) {
              case "checkbox":
                o.styles.borderTopRightRadius = o.styles.borderTopLeftRadius = o.styles
                  .borderBottomRightRadius = o.styles.borderBottomLeftRadius = Xr;
                break;
              case "radio":
                o.styles.borderTopRightRadius = o.styles.borderTopLeftRadius = o.styles
                  .borderBottomRightRadius = o.styles.borderBottomLeftRadius = Jr
            }
            return o
          }
          return t(n, e), n
        }(cr),
        eA = function (e) {
          function n(t, n) {
            var r = e.call(this, t, n) || this,
              A = n.options[n.selectedIndex || 0];
            return r.value = A && A.text || "", r
          }
          return t(n, e), n
        }(cr),
        tA = function (e) {
          function n(t, n) {
            var r = e.call(this, t, n) || this;
            return r.value = n.value, r
          }
          return t(n, e), n
        }(cr),
        nA = function (e) {
          function n(t, n) {
            var r = e.call(this, t, n) || this;
            r.src = n.src, r.width = parseInt(n.width, 10) || 0, r.height = parseInt(n
              .height, 10) || 0, r.backgroundColor = r.styles.backgroundColor;
            try {
              if (n.contentWindow && n.contentWindow.document && n.contentWindow
                .document.documentElement) {
                r.tree = iA(t, n.contentWindow.document.documentElement);
                var A = n.contentWindow.document.documentElement ? ft(t,
                    getComputedStyle(n.contentWindow.document.documentElement)
                    .backgroundColor) : gt.TRANSPARENT,
                  a = n.contentWindow.document.body ? ft(t, getComputedStyle(n
                    .contentWindow.document.body).backgroundColor) : gt.TRANSPARENT;
                r.backgroundColor = it(A) ? it(a) ? r.styles.backgroundColor : a : A
              }
            } catch (e) {}
            return r
          }
          return t(n, e), n
        }(cr),
        rA = ["OL", "UL", "MENU"],
        AA = function (e, t, n, r) {
          for (var A = t.firstChild, a = void 0; A; A = a)
            if (a = A.nextSibling, uA(A) && A.data.trim().length > 0) n.textNodes.push(
              new zr(e, A, n.styles));
            else if (lA(A))
            if (bA(A) && A.assignedNodes) A.assignedNodes().forEach((function (t) {
              return AA(e, t, n, r)
            }));
            else {
              var i = aA(e, A);
              i.styles.isVisible() && (oA(A, i, r) ? i.flags |= 4 : sA(i.styles) && (i
                  .flags |= 2), -1 !== rA.indexOf(A.tagName) && (i.flags |= 8), n
                .elements.push(i), A.slot, A.shadowRoot ? AA(e, A.shadowRoot, i, r) :
                MA(A) || gA(A) || CA(A) || AA(e, A, i, r))
            }
        },
        aA = function (e, t) {
          return wA(t) ? new Gr(e, t) : vA(t) ? new Kr(e, t) : gA(t) ? new Wr(e, t) :
            pA(t) ? new Zr(e, t) : hA(t) ? new Vr(e, t) : fA(t) ? new $r(e, t) : CA(t) ?
            new eA(e, t) : MA(t) ? new tA(e, t) : BA(t) ? new nA(e, t) : new cr(e, t)
        },
        iA = function (e, t) {
          var n = aA(e, t);
          return n.flags |= 4, AA(e, t, n, n), n
        },
        oA = function (e, t, n) {
          return t.styles.isPositionedWithZIndex() || t.styles.opacity < 1 || t.styles
            .isTransformed() || yA(e) && n.styles.isTransparent()
        },
        sA = function (e) {
          return e.isPositioned() || e.isFloating()
        },
        uA = function (e) {
          return e.nodeType === Node.TEXT_NODE
        },
        lA = function (e) {
          return e.nodeType === Node.ELEMENT_NODE
        },
        cA = function (e) {
          return lA(e) && void 0 !== e.style && !dA(e)
        },
        dA = function (e) {
          return "object" == typeof e.className
        },
        pA = function (e) {
          return "LI" === e.tagName
        },
        hA = function (e) {
          return "OL" === e.tagName
        },
        fA = function (e) {
          return "INPUT" === e.tagName
        },
        gA = function (e) {
          return "svg" === e.tagName
        },
        yA = function (e) {
          return "BODY" === e.tagName
        },
        vA = function (e) {
          return "CANVAS" === e.tagName
        },
        mA = function (e) {
          return "VIDEO" === e.tagName
        },
        wA = function (e) {
          return "IMG" === e.tagName
        },
        BA = function (e) {
          return "IFRAME" === e.tagName
        },
        IA = function (e) {
          return "STYLE" === e.tagName
        },
        MA = function (e) {
          return "TEXTAREA" === e.tagName
        },
        CA = function (e) {
          return "SELECT" === e.tagName
        },
        bA = function (e) {
          return "SLOT" === e.tagName
        },
        xA = function (e) {
          return e.tagName.indexOf("-") > 0
        },
        TA = function () {
          function e() {
            this.counters = {}
          }
          return e.prototype.getCounterValue = function (e) {
            var t = this.counters[e];
            return t && t.length ? t[t.length - 1] : 1
          }, e.prototype.getCounterValues = function (e) {
            var t = this.counters[e];
            return t || []
          }, e.prototype.pop = function (e) {
            var t = this;
            e.forEach((function (e) {
              return t.counters[e].pop()
            }))
          }, e.prototype.parse = function (e) {
            var t = this,
              n = e.counterIncrement,
              r = e.counterReset,
              A = !0;
            null !== n && n.forEach((function (e) {
              var n = t.counters[e.counter];
              n && 0 !== e.increment && (A = !1, n.length || n.push(1), n[Math
                .max(0, n.length - 1)] += e.increment)
            }));
            var a = [];
            return A && r.forEach((function (e) {
              var n = t.counters[e.counter];
              a.push(e.counter), n || (n = t.counters[e.counter] = []), n.push(e
                .reset)
            })), a
          }, e
        }(),
        kA = {
          integers: [1e3, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],
          values: ["M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV",
            "I"]
        },
        EA = {
          integers: [9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 900, 800, 700, 600,
            500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6,
            5, 4, 3, 2, 1
          ],
          values: ["Ք", "Փ", "Ւ", "Ց", "Ր", "Տ", "Վ", "Ս", "Ռ", "Ջ", "Պ", "Չ", "Ո", "Շ",
            "Ն", "Յ", "Մ", "Ճ", "Ղ", "Ձ", "Հ", "Կ", "Ծ", "Խ", "Լ", "Ի", "Ժ", "Թ", "Ը",
            "Է", "Զ", "Ե", "Դ", "Գ", "Բ", "Ա"
          ]
        },
        NA = {
          integers: [1e4, 9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 400, 300, 200,
            100, 90, 80, 70, 60, 50, 40, 30, 20, 19, 18, 17, 16, 15, 10, 9, 8, 7, 6,
            5, 4, 3, 2, 1
          ],
          values: ["י׳", "ט׳", "ח׳", "ז׳", "ו׳", "ה׳", "ד׳", "ג׳", "ב׳", "א׳", "ת", "ש",
            "ר", "ק", "צ", "פ", "ע", "ס", "נ", "מ", "ל", "כ", "יט", "יח", "יז", "טז",
            "טו", "י", "ט", "ח", "ז", "ו", "ה", "ד", "ג", "ב", "א"
          ]
        },
        OA = {
          integers: [1e4, 9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 900, 800, 700,
            600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7,
            6, 5, 4, 3, 2, 1
          ],
          values: ["ჵ", "ჰ", "ჯ", "ჴ", "ხ", "ჭ", "წ", "ძ", "ც", "ჩ", "შ", "ყ", "ღ", "ქ",
            "ფ", "ჳ", "ტ", "ს", "რ", "ჟ", "პ", "ო", "ჲ", "ნ", "მ", "ლ", "კ", "ი", "თ",
            "ჱ", "ზ", "ვ", "ე", "დ", "გ", "ბ", "ა"
          ]
        },
        PA = function (e, t, n, r, A, a) {
          return e < t || e > n ? UA(e, A, a.length > 0) : r.integers.reduce((function (
            t, n, A) {
            for (; e >= n;) e -= n, t += r.values[A];
            return t
          }), "") + a
        },
        _A = function (e, t, n, r) {
          var A = "";
          do {
            n || e--, A = r(e) + A, e /= t
          } while (e * t >= t);
          return A
        },
        DA = function (e, t, n, r, A) {
          var a = n - t + 1;
          return (e < 0 ? "-" : "") + (_A(Math.abs(e), a, r, (function (e) {
            return u(Math.floor(e % a) + t)
          })) + A)
        },
        QA = function (e, t, n) {
          void 0 === n && (n = ". ");
          var r = t.length;
          return _A(Math.abs(e), r, !1, (function (e) {
            return t[Math.floor(e % r)]
          })) + n
        },
        SA = function (e, t, n, r, A, a) {
          if (e < -9999 || e > 9999) return UA(e, 4, A.length > 0);
          var i = Math.abs(e),
            o = A;
          if (0 === i) return t[0] + o;
          for (var s = 0; i > 0 && s <= 4; s++) {
            var u = i % 10;
            0 === u && Vn(a, 1) && "" !== o ? o = t[u] + o : u > 1 || 1 === u && 0 ===
              s || 1 === u && 1 === s && Vn(a, 2) || 1 === u && 1 === s && Vn(a, 4) &&
              e > 100 || 1 === u && s > 1 && Vn(a, 8) ? o = t[u] + (s > 0 ? n[s - 1] :
                "") + o : 1 === u && s > 0 && (o = n[s - 1] + o), i = Math.floor(i / 10)
          }
          return (e < 0 ? r : "") + o
        },
        UA = function (e, t, n) {
          var r = n ? ". " : "",
            A = n ? "、" : "",
            a = n ? ", " : "",
            i = n ? " " : "";
          switch (t) {
            case 0:
              return "•" + i;
            case 1:
              return "◦" + i;
            case 2:
              return "◾" + i;
            case 5:
              var o = DA(e, 48, 57, !0, r);
              return o.length < 4 ? "0" + o : o;
            case 4:
              return QA(e, "〇一二三四五六七八九", A);
            case 6:
              return PA(e, 1, 3999, kA, 3, r).toLowerCase();
            case 7:
              return PA(e, 1, 3999, kA, 3, r);
            case 8:
              return DA(e, 945, 969, !1, r);
            case 9:
              return DA(e, 97, 122, !1, r);
            case 10:
              return DA(e, 65, 90, !1, r);
            case 11:
              return DA(e, 1632, 1641, !0, r);
            case 12:
            case 49:
              return PA(e, 1, 9999, EA, 3, r);
            case 35:
              return PA(e, 1, 9999, EA, 3, r).toLowerCase();
            case 13:
              return DA(e, 2534, 2543, !0, r);
            case 14:
            case 30:
              return DA(e, 6112, 6121, !0, r);
            case 15:
              return QA(e, "子丑寅卯辰巳午未申酉戌亥", A);
            case 16:
              return QA(e, "甲乙丙丁戊己庚辛壬癸", A);
            case 17:
            case 48:
              return SA(e, "零一二三四五六七八九", "十百千萬", "負", A, 14);
            case 47:
              return SA(e, "零壹貳參肆伍陸柒捌玖", "拾佰仟萬", "負", A, 15);
            case 42:
              return SA(e, "零一二三四五六七八九", "十百千萬", "负", A, 14);
            case 41:
              return SA(e, "零壹贰叁肆伍陆柒捌玖", "拾佰仟萬", "负", A, 15);
            case 26:
              return SA(e, "〇一二三四五六七八九", "十百千万", "マイナス", A, 0);
            case 25:
              return SA(e, "零壱弐参四伍六七八九", "拾百千万", "マイナス", A, 7);
            case 31:
              return SA(e, "영일이삼사오육칠팔구", "십백천만", "마이너스", a, 7);
            case 33:
              return SA(e, "零一二三四五六七八九", "十百千萬", "마이너스", a, 0);
            case 32:
              return SA(e, "零壹貳參四五六七八九", "拾百千", "마이너스", a, 7);
            case 18:
              return DA(e, 2406, 2415, !0, r);
            case 20:
              return PA(e, 1, 19999, OA, 3, r);
            case 21:
              return DA(e, 2790, 2799, !0, r);
            case 22:
              return DA(e, 2662, 2671, !0, r);
            case 22:
              return PA(e, 1, 10999, NA, 3, r);
            case 23:
              return QA(e, "あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");
            case 24:
              return QA(e, "いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");
            case 27:
              return DA(e, 3302, 3311, !0, r);
            case 28:
              return QA(e, "アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン", A);
            case 29:
              return QA(e, "イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス", A);
            case 34:
              return DA(e, 3792, 3801, !0, r);
            case 37:
              return DA(e, 6160, 6169, !0, r);
            case 38:
              return DA(e, 4160, 4169, !0, r);
            case 39:
              return DA(e, 2918, 2927, !0, r);
            case 40:
              return DA(e, 1776, 1785, !0, r);
            case 43:
              return DA(e, 3046, 3055, !0, r);
            case 44:
              return DA(e, 3174, 3183, !0, r);
            case 45:
              return DA(e, 3664, 3673, !0, r);
            case 46:
              return DA(e, 3872, 3881, !0, r);
            case 3:
            default:
              return DA(e, 48, 57, !0, r)
          }
        },
        FA = function () {
          function e(e, t, n) {
            if (this.context = e, this.options = n, this.scrolledElements = [], this
              .referenceElement = t, this.counters = new TA, this.quoteDepth = 0, !t
              .ownerDocument) throw new Error(
              "Cloned element does not have an owner document");
            this.documentElement = this.cloneNode(t.ownerDocument.documentElement, !1)
          }
          return e.prototype.toIFrame = function (e, t) {
            var n = this,
              a = jA(e, t);
            if (!a.contentWindow) return Promise.reject(
              "Unable to find iframe window");
            var i = e.defaultView.pageXOffset,
              o = e.defaultView.pageYOffset,
              s = a.contentWindow,
              u = s.document,
              l = HA(a).then((function () {
                return r(n, void 0, void 0, (function () {
                  var e, n;
                  return A(this, (function (r) {
                    switch (r.label) {
                      case 0:
                        return this.scrolledElements.forEach(ZA), s &&
                          (s.scrollTo(t.left, t.top), !
                            /(iPad|iPhone|iPod)/g.test(navigator
                              .userAgent) || s.scrollY === t.top && s
                            .scrollX === t.left || (this.context
                              .logger.warn(
                                "Unable to restore scroll position for cloned document"
                                ), this.context.windowBounds = this
                              .context.windowBounds.add(s.scrollX - t
                                .left, s.scrollY - t.top, 0, 0))), e =
                          this.options.onclone, void 0 === (n = this
                            .clonedReferenceElement) ? [2, Promise
                            .reject("Error finding the " + this
                              .referenceElement.nodeName +
                              " in the cloned document")
                          ] : u.fonts && u.fonts.ready ? [4, u.fonts
                            .ready
                          ] : [3, 2];
                      case 1:
                        r.sent(), r.label = 2;
                      case 2:
                        return /(AppleWebKit)/g.test(navigator
                          .userAgent) ? [4, RA(u)] : [3, 4];
                      case 3:
                        r.sent(), r.label = 4;
                      case 4:
                        return "function" == typeof e ? [2, Promise
                          .resolve().then((function () {
                            return e(u, n)
                          })).then((function () {
                            return a
                          }))
                        ] : [2, a]
                    }
                  }))
                }))
              }));
            return u.open(), u.write(KA(document.doctype) + "<html></html>"), WA(this
              .referenceElement.ownerDocument, i, o), u.replaceChild(u.adoptNode(
              this.documentElement), u.documentElement), u.close(), l
          }, e.prototype.createElementClone = function (e) {
            if (lr(e, 2), vA(e)) return this.createCanvasClone(e);
            if (mA(e)) return this.createVideoClone(e);
            if (IA(e)) return this.createStyleClone(e);
            var t = e.cloneNode(!1);
            return wA(t) && (wA(e) && e.currentSrc && e.currentSrc !== e.src && (t
              .src = e.currentSrc, t.srcset = ""), "lazy" === t.loading && (t
              .loading = "eager")), xA(t) ? this.createCustomElementClone(t) : t
          }, e.prototype.createCustomElementClone = function (e) {
            var t = document.createElement("html2canvascustomelement");
            return GA(e.style, t), t
          }, e.prototype.createStyleClone = function (e) {
            try {
              var t = e.sheet;
              if (t && t.cssRules) {
                var n = [].slice.call(t.cssRules, 0).reduce((function (e, t) {
                    return t && "string" == typeof t.cssText ? e + t.cssText : e
                  }), ""),
                  r = e.cloneNode(!1);
                return r.textContent = n, r
              }
            } catch (e) {
              if (this.context.logger.error("Unable to access cssRules property", e),
                "SecurityError" !== e.name) throw e
            }
            return e.cloneNode(!1)
          }, e.prototype.createCanvasClone = function (e) {
            var t;
            if (this.options.inlineImages && e.ownerDocument) {
              var n = e.ownerDocument.createElement("img");
              try {
                return n.src = e.toDataURL(), n
              } catch (t) {
                this.context.logger.info(
                  "Unable to inline canvas contents, canvas is tainted", e)
              }
            }
            var r = e.cloneNode(!1);
            try {
              r.width = e.width, r.height = e.height;
              var A = e.getContext("2d"),
                a = r.getContext("2d");
              if (a)
                if (!this.options.allowTaint && A) a.putImageData(A.getImageData(0, 0,
                  e.width, e.height), 0, 0);
                else {
                  var i = null !== (t = e.getContext("webgl2")) && void 0 !== t ? t :
                    e.getContext("webgl");
                  if (i) {
                    var o = i.getContextAttributes();
                    !1 === (null == o ? void 0 : o.preserveDrawingBuffer) && this
                      .context.logger.warn(
                        "Unable to clone WebGL context as it has preserveDrawingBuffer=false",
                        e)
                  }
                  a.drawImage(e, 0, 0)
                } return r
            } catch (t) {
              this.context.logger.info("Unable to clone canvas as it is tainted", e)
            }
            return r
          }, e.prototype.createVideoClone = function (e) {
            var t = e.ownerDocument.createElement("canvas");
            t.width = e.offsetWidth, t.height = e.offsetHeight;
            var n = t.getContext("2d");
            try {
              return n && (n.drawImage(e, 0, 0, t.width, t.height), this.options
                .allowTaint || n.getImageData(0, 0, t.width, t.height)), t
            } catch (t) {
              this.context.logger.info("Unable to clone video as it is tainted", e)
            }
            var r = e.ownerDocument.createElement("canvas");
            return r.width = e.offsetWidth, r.height = e.offsetHeight, r
          }, e.prototype.appendChildNode = function (e, t, n) {
            lA(t) && ("SCRIPT" === t.tagName || t.hasAttribute(
                  "data-html2canvas-ignore") || "function" == typeof this.options
                .ignoreElements && this.options.ignoreElements(t)) || this.options
              .copyStyles && lA(t) && IA(t) || e.appendChild(this.cloneNode(t, n))
          }, e.prototype.cloneChildNodes = function (e, t, n) {
            for (var r = this, A = e.shadowRoot ? e.shadowRoot.firstChild : e
                .firstChild; A; A = A.nextSibling)
              if (lA(A) && bA(A) && "function" == typeof A.assignedNodes) {
                var a = A.assignedNodes();
                a.length && a.forEach((function (e) {
                  return r.appendChildNode(t, e, n)
                }))
              } else this.appendChildNode(t, A, n)
          }, e.prototype.cloneNode = function (e, t) {
            if (uA(e)) return document.createTextNode(e.data);
            if (!e.ownerDocument) return e.cloneNode(!1);
            var n = e.ownerDocument.defaultView;
            if (n && lA(e) && (cA(e) || dA(e))) {
              var r = this.createElementClone(e);
              r.style.transitionProperty = "none";
              var A = n.getComputedStyle(e),
                a = n.getComputedStyle(e, ":before"),
                i = n.getComputedStyle(e, ":after");
              this.referenceElement === e && cA(r) && (this.clonedReferenceElement =
                r), yA(r) && JA(r);
              var o = this.counters.parse(new sr(this.context, A)),
                s = this.resolvePseudoContent(e, r, a, wr.BEFORE);
              xA(e) && (t = !0), mA(e) || this.cloneChildNodes(e, r, t), s && r
                .insertBefore(s, r.firstChild);
              var u = this.resolvePseudoContent(e, r, i, wr.AFTER);
              return u && r.appendChild(u), this.counters.pop(o), (A && (this.options
                  .copyStyles || dA(e)) && !BA(e) || t) && GA(A, r), 0 === e
                .scrollTop && 0 === e.scrollLeft || this.scrolledElements.push([r, e
                  .scrollLeft, e.scrollTop
                ]), (MA(e) || CA(e)) && (MA(r) || CA(r)) && (r.value = e.value), r
            }
            return e.cloneNode(!1)
          }, e.prototype.resolvePseudoContent = function (e, t, n, r) {
            var A = this;
            if (n) {
              var a = n.content,
                i = t.ownerDocument;
              if (i && a && "none" !== a && "-moz-alt-content" !== a && "none" !== n
                .display) {
                this.counters.parse(new sr(this.context, n));
                var o = new or(this.context, n),
                  s = i.createElement("html2canvaspseudoelement");
                GA(n, s), o.content.forEach((function (t) {
                  if (0 === t.type) s.appendChild(i.createTextNode(t.value));
                  else if (22 === t.type) {
                    var n = i.createElement("img");
                    n.src = t.value, n.style.opacity = "1", s.appendChild(n)
                  } else if (18 === t.type) {
                    if ("attr" === t.name) {
                      var r = t.values.filter(je);
                      r.length && s.appendChild(i.createTextNode(e.getAttribute(
                        r[0].value) || ""))
                    } else if ("counter" === t.name) {
                      var a = t.values.filter(Ye),
                        u = a[0],
                        l = a[1];
                      if (u && je(u)) {
                        var c = A.counters.getCounterValue(u.value),
                          d = l && je(l) ? fn.parse(A.context, l.value) : 3;
                        s.appendChild(i.createTextNode(UA(c, d, !1)))
                      }
                    } else if ("counters" === t.name) {
                      var p = t.values.filter(Ye),
                        h = (u = p[0], p[1]);
                      if (l = p[2], u && je(u)) {
                        var f = A.counters.getCounterValues(u.value),
                          g = l && je(l) ? fn.parse(A.context, l.value) : 3,
                          y = h && 0 === h.type ? h.value : "",
                          v = f.map((function (e) {
                            return UA(e, g, !1)
                          })).join(y);
                        s.appendChild(i.createTextNode(v))
                      }
                    }
                  } else if (20 === t.type) switch (t.value) {
                    case "open-quote":
                      s.appendChild(i.createTextNode(tr(o.quotes, A
                        .quoteDepth++, !0)));
                      break;
                    case "close-quote":
                      s.appendChild(i.createTextNode(tr(o.quotes, --A
                        .quoteDepth, !1)));
                      break;
                    default:
                      s.appendChild(i.createTextNode(t.value))
                  }
                })), s.className = VA + " " + XA;
                var u = r === wr.BEFORE ? " " + VA : " " + XA;
                return dA(t) ? t.className.baseValue += u : t.className += u, s
              }
            }
          }, e.destroy = function (e) {
            return !!e.parentNode && (e.parentNode.removeChild(e), !0)
          }, e
        }();
      ! function (e) {
        e[e.BEFORE = 0] = "BEFORE", e[e.AFTER = 1] = "AFTER"
      }(wr || (wr = {}));
      var LA, jA = function (e, t) {
          var n = e.createElement("iframe");
          return n.className = "html2canvas-container", n.style.visibility = "hidden", n
            .style.position = "fixed", n.style.left = "-10000px", n.style.top = "0px", n
            .style.border = "0", n.width = t.width.toString(), n.height = t.height
            .toString(), n.scrolling = "no", n.setAttribute("data-html2canvas-ignore",
              "true"), e.body.appendChild(n), n
        },
        zA = function (e) {
          return new Promise((function (t) {
            e.complete ? t() : e.src ? (e.onload = t, e.onerror = t) : t()
          }))
        },
        RA = function (e) {
          return Promise.all([].slice.call(e.images, 0).map(zA))
        },
        HA = function (e) {
          return new Promise((function (t, n) {
            var r = e.contentWindow;
            if (!r) return n("No window assigned for iframe");
            var A = r.document;
            r.onload = e.onload = function () {
              r.onload = e.onload = null;
              var n = setInterval((function () {
                A.body.childNodes.length > 0 && "complete" === A
                  .readyState && (clearInterval(n), t(e))
              }), 50)
            }
          }))
        },
        YA = ["all", "d", "content"],
        GA = function (e, t) {
          for (var n = e.length - 1; n >= 0; n--) {
            var r = e.item(n); - 1 === YA.indexOf(r) && t.style.setProperty(r, e
              .getPropertyValue(r))
          }
          return t
        },
        KA = function (e) {
          var t = "";
          return e && (t += "<!DOCTYPE ", e.name && (t += e.name), e.internalSubset && (
              t += e.internalSubset), e.publicId && (t += '"' + e.publicId + '"'), e
            .systemId && (t += '"' + e.systemId + '"'), t += ">"), t
        },
        WA = function (e, t, n) {
          e && e.defaultView && (t !== e.defaultView.pageXOffset || n !== e.defaultView
            .pageYOffset) && e.defaultView.scrollTo(t, n)
        },
        ZA = function (e) {
          var t = e[0],
            n = e[1],
            r = e[2];
          t.scrollLeft = n, t.scrollTop = r
        },
        VA = "___html2canvas___pseudoelement_before",
        XA = "___html2canvas___pseudoelement_after",
        JA = function (e) {
          qA(e, "." + VA +
            ':before{\n    content: "" !important;\n    display: none !important;\n}\n         .' +
            XA +
            ':after{\n    content: "" !important;\n    display: none !important;\n}')
        },
        qA = function (e, t) {
          var n = e.ownerDocument;
          if (n) {
            var r = n.createElement("style");
            r.textContent = t, e.appendChild(r)
          }
        },
        $A = function () {
          function e() {}
          return e.getOrigin = function (t) {
            var n = e._link;
            return n ? (n.href = t, n.href = n.href, n.protocol + n.hostname + n
              .port) : "about:blank"
          }, e.isSameOrigin = function (t) {
            return e.getOrigin(t) === e._origin
          }, e.setContext = function (t) {
            e._link = t.document.createElement("a"), e._origin = e.getOrigin(t
              .location.href)
          }, e._origin = "about:blank", e
        }(),
        ea = function () {
          function e(e, t) {
            this.context = e, this._options = t, this._cache = {}
          }
          return e.prototype.addImage = function (e) {
            var t = Promise.resolve();
            return this.has(e) ? t : oa(e) || Aa(e) ? ((this._cache[e] = this
              .loadImage(e)).catch((function () {})), t) : t
          }, e.prototype.match = function (e) {
            return this._cache[e]
          }, e.prototype.loadImage = function (e) {
            return r(this, void 0, void 0, (function () {
              var t, n, r, a, i = this;
              return A(this, (function (A) {
                switch (A.label) {
                  case 0:
                    return t = $A.isSameOrigin(e), n = !aa(e) && !0 ===
                      this._options.useCORS && _r.SUPPORT_CORS_IMAGES && !
                      t, r = !aa(e) && !t && !oa(e) && "string" ==
                      typeof this._options.proxy && _r.SUPPORT_CORS_XHR &&
                      !n, t || !1 !== this._options.allowTaint || aa(e) ||
                      oa(e) || r || n ? (a = e, r ? [4, this.proxy(a)] : [
                        3, 2
                      ]) : [2];
                  case 1:
                    a = A.sent(), A.label = 2;
                  case 2:
                    return this.context.logger.debug("Added image " + e
                      .substring(0, 256)), [4, new Promise((function (e,
                      t) {
                      var r = new Image;
                      r.onload = function () {
                          return e(r)
                        }, r.onerror = t, (ia(a) || n) && (r
                          .crossOrigin = "anonymous"), r.src = a,
                        !0 === r.complete && setTimeout((
                          function () {
                            return e(r)
                          }), 500), i._options.imageTimeout > 0 &&
                        setTimeout((function () {
                          return t("Timed out (" + i._options
                            .imageTimeout +
                            "ms) loading image")
                        }), i._options.imageTimeout)
                    }))];
                  case 3:
                    return [2, A.sent()]
                }
              }))
            }))
          }, e.prototype.has = function (e) {
            return void 0 !== this._cache[e]
          }, e.prototype.keys = function () {
            return Promise.resolve(Object.keys(this._cache))
          }, e.prototype.proxy = function (e) {
            var t = this,
              n = this._options.proxy;
            if (!n) throw new Error("No proxy defined");
            var r = e.substring(0, 256);
            return new Promise((function (A, a) {
              var i = _r.SUPPORT_RESPONSE_TYPE ? "blob" : "text",
                o = new XMLHttpRequest;
              o.onload = function () {
                if (200 === o.status)
                  if ("text" === i) A(o.response);
                  else {
                    var e = new FileReader;
                    e.addEventListener("load", (function () {
                      return A(e.result)
                    }), !1), e.addEventListener("error", (function (e) {
                      return a(e)
                    }), !1), e.readAsDataURL(o.response)
                  }
                else a("Failed to proxy resource " + r +
                  " with status code " + o.status)
              }, o.onerror = a;
              var s = n.indexOf("?") > -1 ? "&" : "?";
              if (o.open("GET", "" + n + s + "url=" + encodeURIComponent(e) +
                  "&responseType=" + i), "text" !== i &&
                o instanceof XMLHttpRequest && (o.responseType = i), t._options
                .imageTimeout) {
                var u = t._options.imageTimeout;
                o.timeout = u, o.ontimeout = function () {
                  return a("Timed out (" + u + "ms) proxying " + r)
                }
              }
              o.send()
            }))
          }, e
        }(),
        ta = /^data:image\/svg\+xml/i,
        na = /^data:image\/.*;base64,/i,
        ra = /^data:image\/.*/i,
        Aa = function (e) {
          return _r.SUPPORT_SVG_DRAWING || !sa(e)
        },
        aa = function (e) {
          return ra.test(e)
        },
        ia = function (e) {
          return na.test(e)
        },
        oa = function (e) {
          return "blob" === e.substr(0, 4)
        },
        sa = function (e) {
          return "svg" === e.substr(-3).toLowerCase() || ta.test(e)
        },
        ua = function () {
          function e(e, t) {
            this.type = 0, this.x = e, this.y = t
          }
          return e.prototype.add = function (t, n) {
            return new e(this.x + t, this.y + n)
          }, e
        }(),
        la = function (e, t, n) {
          return new ua(e.x + (t.x - e.x) * n, e.y + (t.y - e.y) * n)
        },
        ca = function () {
          function e(e, t, n, r) {
            this.type = 1, this.start = e, this.startControl = t, this.endControl = n,
              this.end = r
          }
          return e.prototype.subdivide = function (t, n) {
            var r = la(this.start, this.startControl, t),
              A = la(this.startControl, this.endControl, t),
              a = la(this.endControl, this.end, t),
              i = la(r, A, t),
              o = la(A, a, t),
              s = la(i, o, t);
            return n ? new e(this.start, r, i, s) : new e(s, o, a, this.end)
          }, e.prototype.add = function (t, n) {
            return new e(this.start.add(t, n), this.startControl.add(t, n), this
              .endControl.add(t, n), this.end.add(t, n))
          }, e.prototype.reverse = function () {
            return new e(this.end, this.endControl, this.startControl, this.start)
          }, e
        }(),
        da = function (e) {
          return 1 === e.type
        },
        pa = function (e) {
          var t = e.styles,
            n = e.bounds,
            r = $e(t.borderTopLeftRadius, n.width, n.height),
            A = r[0],
            a = r[1],
            i = $e(t.borderTopRightRadius, n.width, n.height),
            o = i[0],
            s = i[1],
            u = $e(t.borderBottomRightRadius, n.width, n.height),
            l = u[0],
            c = u[1],
            d = $e(t.borderBottomLeftRadius, n.width, n.height),
            p = d[0],
            h = d[1],
            f = [];
          f.push((A + o) / n.width), f.push((p + l) / n.width), f.push((a + h) / n
            .height), f.push((s + c) / n.height);
          var g = Math.max.apply(Math, f);
          g > 1 && (A /= g, a /= g, o /= g, s /= g, l /= g, c /= g, p /= g, h /= g);
          var y = n.width - o,
            v = n.height - c,
            m = n.width - l,
            w = n.height - h,
            B = t.borderTopWidth,
            I = t.borderRightWidth,
            M = t.borderBottomWidth,
            C = t.borderLeftWidth,
            b = et(t.paddingTop, e.bounds.width),
            x = et(t.paddingRight, e.bounds.width),
            T = et(t.paddingBottom, e.bounds.width),
            k = et(t.paddingLeft, e.bounds.width);
          this.topLeftBorderDoubleOuterBox = A > 0 || a > 0 ? ha(n.left + C / 3, n.top +
              B / 3, A - C / 3, a - B / 3, LA.TOP_LEFT) : new ua(n.left + C / 3, n.top +
              B / 3), this.topRightBorderDoubleOuterBox = A > 0 || a > 0 ? ha(n.left +
              y, n.top + B / 3, o - I / 3, s - B / 3, LA.TOP_RIGHT) : new ua(n.left + n
              .width - I / 3, n.top + B / 3), this.bottomRightBorderDoubleOuterBox = l >
            0 || c > 0 ? ha(n.left + m, n.top + v, l - I / 3, c - M / 3, LA
              .BOTTOM_RIGHT) : new ua(n.left + n.width - I / 3, n.top + n.height - M /
              3), this.bottomLeftBorderDoubleOuterBox = p > 0 || h > 0 ? ha(n.left + C /
              3, n.top + w, p - C / 3, h - M / 3, LA.BOTTOM_LEFT) : new ua(n.left + C /
              3, n.top + n.height - M / 3), this.topLeftBorderDoubleInnerBox = A > 0 ||
            a > 0 ? ha(n.left + 2 * C / 3, n.top + 2 * B / 3, A - 2 * C / 3, a - 2 * B /
              3, LA.TOP_LEFT) : new ua(n.left + 2 * C / 3, n.top + 2 * B / 3), this
            .topRightBorderDoubleInnerBox = A > 0 || a > 0 ? ha(n.left + y, n.top + 2 *
              B / 3, o - 2 * I / 3, s - 2 * B / 3, LA.TOP_RIGHT) : new ua(n.left + n
              .width - 2 * I / 3, n.top + 2 * B / 3), this
            .bottomRightBorderDoubleInnerBox = l > 0 || c > 0 ? ha(n.left + m, n.top +
              v, l - 2 * I / 3, c - 2 * M / 3, LA.BOTTOM_RIGHT) : new ua(n.left + n
              .width - 2 * I / 3, n.top + n.height - 2 * M / 3), this
            .bottomLeftBorderDoubleInnerBox = p > 0 || h > 0 ? ha(n.left + 2 * C / 3, n
              .top + w, p - 2 * C / 3, h - 2 * M / 3, LA.BOTTOM_LEFT) : new ua(n.left +
              2 * C / 3, n.top + n.height - 2 * M / 3), this.topLeftBorderStroke = A >
            0 || a > 0 ? ha(n.left + C / 2, n.top + B / 2, A - C / 2, a - B / 2, LA
              .TOP_LEFT) : new ua(n.left + C / 2, n.top + B / 2), this
            .topRightBorderStroke = A > 0 || a > 0 ? ha(n.left + y, n.top + B / 2, o -
              I / 2, s - B / 2, LA.TOP_RIGHT) : new ua(n.left + n.width - I / 2, n.top +
              B / 2), this.bottomRightBorderStroke = l > 0 || c > 0 ? ha(n.left + m, n
              .top + v, l - I / 2, c - M / 2, LA.BOTTOM_RIGHT) : new ua(n.left + n
              .width - I / 2, n.top + n.height - M / 2), this.bottomLeftBorderStroke =
            p > 0 || h > 0 ? ha(n.left + C / 2, n.top + w, p - C / 2, h - M / 2, LA
              .BOTTOM_LEFT) : new ua(n.left + C / 2, n.top + n.height - M / 2), this
            .topLeftBorderBox = A > 0 || a > 0 ? ha(n.left, n.top, A, a, LA.TOP_LEFT) :
            new ua(n.left, n.top), this.topRightBorderBox = o > 0 || s > 0 ? ha(n.left +
              y, n.top, o, s, LA.TOP_RIGHT) : new ua(n.left + n.width, n.top), this
            .bottomRightBorderBox = l > 0 || c > 0 ? ha(n.left + m, n.top + v, l, c, LA
              .BOTTOM_RIGHT) : new ua(n.left + n.width, n.top + n.height), this
            .bottomLeftBorderBox = p > 0 || h > 0 ? ha(n.left, n.top + w, p, h, LA
              .BOTTOM_LEFT) : new ua(n.left, n.top + n.height), this.topLeftPaddingBox =
            A > 0 || a > 0 ? ha(n.left + C, n.top + B, Math.max(0, A - C), Math.max(0,
              a - B), LA.TOP_LEFT) : new ua(n.left + C, n.top + B), this
            .topRightPaddingBox = o > 0 || s > 0 ? ha(n.left + Math.min(y, n.width - I),
              n.top + B, y > n.width + I ? 0 : Math.max(0, o - I), Math.max(0, s - B),
              LA.TOP_RIGHT) : new ua(n.left + n.width - I, n.top + B), this
            .bottomRightPaddingBox = l > 0 || c > 0 ? ha(n.left + Math.min(m, n.width -
              C), n.top + Math.min(v, n.height - M), Math.max(0, l - I), Math.max(0,
              c - M), LA.BOTTOM_RIGHT) : new ua(n.left + n.width - I, n.top + n.height -
              M), this.bottomLeftPaddingBox = p > 0 || h > 0 ? ha(n.left + C, n.top +
              Math.min(w, n.height - M), Math.max(0, p - C), Math.max(0, h - M), LA
              .BOTTOM_LEFT) : new ua(n.left + C, n.top + n.height - M), this
            .topLeftContentBox = A > 0 || a > 0 ? ha(n.left + C + k, n.top + B + b, Math
              .max(0, A - (C + k)), Math.max(0, a - (B + b)), LA.TOP_LEFT) : new ua(n
              .left + C + k, n.top + B + b), this.topRightContentBox = o > 0 || s > 0 ?
            ha(n.left + Math.min(y, n.width + C + k), n.top + B + b, y > n.width + C +
              k ? 0 : o - C + k, s - (B + b), LA.TOP_RIGHT) : new ua(n.left + n.width -
              (I + x), n.top + B + b), this.bottomRightContentBox = l > 0 || c > 0 ? ha(
              n.left + Math.min(m, n.width - (C + k)), n.top + Math.min(v, n.height +
                B + b), Math.max(0, l - (I + x)), c - (M + T), LA.BOTTOM_RIGHT) :
            new ua(n.left + n.width - (I + x), n.top + n.height - (M + T)), this
            .bottomLeftContentBox = p > 0 || h > 0 ? ha(n.left + C + k, n.top + w, Math
              .max(0, p - (C + k)), h - (M + T), LA.BOTTOM_LEFT) : new ua(n.left + C +
              k, n.top + n.height - (M + T))
        };
      ! function (e) {
        e[e.TOP_LEFT = 0] = "TOP_LEFT", e[e.TOP_RIGHT = 1] = "TOP_RIGHT", e[e
          .BOTTOM_RIGHT = 2] = "BOTTOM_RIGHT", e[e.BOTTOM_LEFT = 3] = "BOTTOM_LEFT"
      }(LA || (LA = {}));
      var ha = function (e, t, n, r, A) {
          var a = (Math.sqrt(2) - 1) / 3 * 4,
            i = n * a,
            o = r * a,
            s = e + n,
            u = t + r;
          switch (A) {
            case LA.TOP_LEFT:
              return new ca(new ua(e, u), new ua(e, u - o), new ua(s - i, t), new ua(s,
                t));
            case LA.TOP_RIGHT:
              return new ca(new ua(e, t), new ua(e + i, t), new ua(s, u - o), new ua(s,
                u));
            case LA.BOTTOM_RIGHT:
              return new ca(new ua(s, t), new ua(s, t + o), new ua(e + i, u), new ua(e,
                u));
            case LA.BOTTOM_LEFT:
            default:
              return new ca(new ua(s, u), new ua(s - i, u), new ua(e, t + o), new ua(e,
                t))
          }
        },
        fa = function (e) {
          return [e.topLeftBorderBox, e.topRightBorderBox, e.bottomRightBorderBox, e
            .bottomLeftBorderBox
          ]
        },
        ga = function (e) {
          return [e.topLeftPaddingBox, e.topRightPaddingBox, e.bottomRightPaddingBox, e
            .bottomLeftPaddingBox
          ]
        },
        ya = function (e, t, n) {
          this.offsetX = e, this.offsetY = t, this.matrix = n, this.type = 0, this
            .target = 6
        },
        va = function (e, t) {
          this.path = e, this.target = t, this.type = 1
        },
        ma = function (e) {
          this.opacity = e, this.type = 2, this.target = 6
        },
        wa = function (e) {
          return 1 === e.type
        },
        Ba = function (e, t) {
          return e.length === t.length && e.some((function (e, n) {
            return e === t[n]
          }))
        },
        Ia = function (e) {
          this.element = e, this.inlineLevel = [], this.nonInlineLevel = [], this
            .negativeZIndex = [], this.zeroOrAutoZIndexOrTransformedOrOpacity = [], this
            .positiveZIndex = [], this.nonPositionedFloats = [], this
            .nonPositionedInlineLevel = []
        },
        Ma = function () {
          function e(e, t) {
            if (this.container = e, this.parent = t, this.effects = [], this.curves =
              new pa(this.container), this.container.styles.opacity < 1 && this.effects
              .push(new ma(this.container.styles.opacity)), null !== this.container
              .styles.transform) {
              var n = this.container.bounds.left + this.container.styles
                .transformOrigin[0].number,
                r = this.container.bounds.top + this.container.styles.transformOrigin[1]
                .number,
                A = this.container.styles.transform;
              this.effects.push(new ya(n, r, A))
            }
            if (0 !== this.container.styles.overflowX) {
              var a = fa(this.curves),
                i = ga(this.curves);
              Ba(a, i) ? this.effects.push(new va(a, 6)) : (this.effects.push(new va(a,
                2)), this.effects.push(new va(i, 4)))
            }
          }
          return e.prototype.getEffects = function (e) {
            for (var t = -1 === [2, 3].indexOf(this.container.styles.position), n =
                this.parent, r = this.effects.slice(0); n;) {
              var A = n.effects.filter((function (e) {
                return !wa(e)
              }));
              if (t || 0 !== n.container.styles.position || !n.parent) {
                if (r.unshift.apply(r, A), t = -1 === [2, 3].indexOf(n.container
                    .styles.position), 0 !== n.container.styles.overflowX) {
                  var a = fa(n.curves),
                    i = ga(n.curves);
                  Ba(a, i) || r.unshift(new va(i, 6))
                }
              } else r.unshift.apply(r, A);
              n = n.parent
            }
            return r.filter((function (t) {
              return Vn(t.target, e)
            }))
          }, e
        }(),
        Ca = function (e, t, n, r) {
          e.container.elements.forEach((function (A) {
            var a = Vn(A.flags, 4),
              i = Vn(A.flags, 2),
              o = new Ma(A, e);
            Vn(A.styles.display, 2048) && r.push(o);
            var s = Vn(A.flags, 8) ? [] : r;
            if (a || i) {
              var u = a || A.styles.isPositioned() ? n : t,
                l = new Ia(o);
              if (A.styles.isPositioned() || A.styles.opacity < 1 || A.styles
                .isTransformed()) {
                var c = A.styles.zIndex.order;
                if (c < 0) {
                  var d = 0;
                  u.negativeZIndex.some((function (e, t) {
                    return c > e.element.container.styles.zIndex.order ? (
                      d = t, !1) : d > 0
                  })), u.negativeZIndex.splice(d, 0, l)
                } else if (c > 0) {
                  var p = 0;
                  u.positiveZIndex.some((function (e, t) {
                    return c >= e.element.container.styles.zIndex.order ? (
                      p = t + 1, !1) : p > 0
                  })), u.positiveZIndex.splice(p, 0, l)
                } else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)
              } else A.styles.isFloating() ? u.nonPositionedFloats.push(l) : u
                .nonPositionedInlineLevel.push(l);
              Ca(o, l, a ? l : n, s)
            } else A.styles.isInlineLevel() ? t.inlineLevel.push(o) : t
              .nonInlineLevel.push(o), Ca(o, t, n, s);
            Vn(A.flags, 8) && ba(A, s)
          }))
        },
        ba = function (e, t) {
          for (var n = e instanceof Vr ? e.start : 1, r = e instanceof Vr && e.reversed,
              A = 0; A < t.length; A++) {
            var a = t[A];
            a.container instanceof Zr && "number" == typeof a.container.value && 0 !== a
              .container.value && (n = a.container.value), a.listValue = UA(n, a
                .container.styles.listStyleType, !0), n += r ? -1 : 1
          }
        },
        xa = function (e, t) {
          switch (t) {
            case 0:
              return ka(e.topLeftBorderBox, e.topLeftPaddingBox, e.topRightBorderBox, e
                .topRightPaddingBox);
            case 1:
              return ka(e.topRightBorderBox, e.topRightPaddingBox, e
                .bottomRightBorderBox, e.bottomRightPaddingBox);
            case 2:
              return ka(e.bottomRightBorderBox, e.bottomRightPaddingBox, e
                .bottomLeftBorderBox, e.bottomLeftPaddingBox);
            case 3:
            default:
              return ka(e.bottomLeftBorderBox, e.bottomLeftPaddingBox, e
                .topLeftBorderBox, e.topLeftPaddingBox)
          }
        },
        Ta = function (e, t) {
          var n = [];
          return da(e) ? n.push(e.subdivide(.5, !1)) : n.push(e), da(t) ? n.push(t
            .subdivide(.5, !0)) : n.push(t), n
        },
        ka = function (e, t, n, r) {
          var A = [];
          return da(e) ? A.push(e.subdivide(.5, !1)) : A.push(e), da(n) ? A.push(n
              .subdivide(.5, !0)) : A.push(n), da(r) ? A.push(r.subdivide(.5, !0)
              .reverse()) : A.push(r), da(t) ? A.push(t.subdivide(.5, !1).reverse()) : A
            .push(t), A
        },
        Ea = function (e) {
          var t = e.bounds,
            n = e.styles;
          return t.add(n.borderLeftWidth, n.borderTopWidth, -(n.borderRightWidth + n
            .borderLeftWidth), -(n.borderTopWidth + n.borderBottomWidth))
        },
        Na = function (e) {
          var t = e.styles,
            n = e.bounds,
            r = et(t.paddingLeft, n.width),
            A = et(t.paddingRight, n.width),
            a = et(t.paddingTop, n.width),
            i = et(t.paddingBottom, n.width);
          return n.add(r + t.borderLeftWidth, a + t.borderTopWidth, -(t
            .borderRightWidth + t.borderLeftWidth + r + A), -(t.borderTopWidth + t
            .borderBottomWidth + a + i))
        },
        Oa = function (e, t, n) {
          var r = function (e, t) {
              return 0 === e ? t.bounds : 2 === e ? Na(t) : Ea(t)
            }(Qa(e.styles.backgroundOrigin, t), e),
            A = function (e, t) {
              return 0 === e ? t.bounds : 2 === e ? Na(t) : Ea(t)
            }(Qa(e.styles.backgroundClip, t), e),
            a = Da(Qa(e.styles.backgroundSize, t), n, r),
            i = a[0],
            o = a[1],
            s = $e(Qa(e.styles.backgroundPosition, t), r.width - i, r.height - o);
          return [Sa(Qa(e.styles.backgroundRepeat, t), s, a, r, A), Math.round(r.left +
            s[0]), Math.round(r.top + s[1]), i, o]
        },
        Pa = function (e) {
          return je(e) && e.value === dt.AUTO
        },
        _a = function (e) {
          return "number" == typeof e
        },
        Da = function (e, t, n) {
          var r = t[0],
            A = t[1],
            a = t[2],
            i = e[0],
            o = e[1];
          if (!i) return [0, 0];
          if (Ze(i) && o && Ze(o)) return [et(i, n.width), et(o, n.height)];
          var s = _a(a);
          if (je(i) && (i.value === dt.CONTAIN || i.value === dt.COVER)) return _a(a) ?
            n.width / n.height < a != (i.value === dt.COVER) ? [n.width, n.width /
            a] : [n.height * a, n.height] : [n.width, n.height];
          var u = _a(r),
            l = _a(A),
            c = u || l;
          if (Pa(i) && (!o || Pa(o))) return u && l ? [r, A] : s || c ? c && s ? [u ?
            r : A * a, l ? A : r / a
          ] : [u ? r : n.width, l ? A : n.height] : [n.width, n.height];
          if (s) {
            var d = 0,
              p = 0;
            return Ze(i) ? d = et(i, n.width) : Ze(o) && (p = et(o, n.height)), Pa(i) ?
              d = p * a : o && !Pa(o) || (p = d / a), [d, p]
          }
          var h = null,
            f = null;
          if (Ze(i) ? h = et(i, n.width) : o && Ze(o) && (f = et(o, n.height)), null ===
            h || o && !Pa(o) || (f = u && l ? h / r * A : n.height), null !== f && Pa(
            i) && (h = u && l ? f / A * r : n.width), null !== h && null !== f) return [
            h, f
          ];
          throw new Error("Unable to calculate background-size for element")
        },
        Qa = function (e, t) {
          var n = e[t];
          return void 0 === n ? e[0] : n
        },
        Sa = function (e, t, n, r, A) {
          var a = t[0],
            i = t[1],
            o = n[0],
            s = n[1];
          switch (e) {
            case 2:
              return [new ua(Math.round(r.left), Math.round(r.top + i)), new ua(Math
                .round(r.left + r.width), Math.round(r.top + i)), new ua(Math.round(
                r.left + r.width), Math.round(s + r.top + i)), new ua(Math.round(r
                .left), Math.round(s + r.top + i))];
            case 3:
              return [new ua(Math.round(r.left + a), Math.round(r.top)), new ua(Math
                .round(r.left + a + o), Math.round(r.top)), new ua(Math.round(r
                .left + a + o), Math.round(r.height + r.top)), new ua(Math.round(r
                .left + a), Math.round(r.height + r.top))];
            case 1:
              return [new ua(Math.round(r.left + a), Math.round(r.top + i)), new ua(Math
                .round(r.left + a + o), Math.round(r.top + i)), new ua(Math.round(r
                .left + a + o), Math.round(r.top + i + s)), new ua(Math.round(r
                .left + a), Math.round(r.top + i + s))];
            default:
              return [new ua(Math.round(A.left), Math.round(A.top)), new ua(Math.round(A
                .left + A.width), Math.round(A.top)), new ua(Math.round(A.left + A
                .width), Math.round(A.height + A.top)), new ua(Math.round(A.left),
                Math.round(A.height + A.top))]
          }
        },
        Ua = function () {
          function e(e) {
            this._data = {}, this._document = e
          }
          return e.prototype.parseMetrics = function (e, t) {
            var n = this._document.createElement("div"),
              r = this._document.createElement("img"),
              A = this._document.createElement("span"),
              a = this._document.body;
            n.style.visibility = "hidden", n.style.fontFamily = e, n.style.fontSize =
              t, n.style.margin = "0", n.style.padding = "0", n.style.whiteSpace =
              "nowrap", a.appendChild(n), r.src =
              "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
              r.width = 1, r.height = 1, r.style.margin = "0", r.style.padding = "0",
              r.style.verticalAlign = "baseline", A.style.fontFamily = e, A.style
              .fontSize = t, A.style.margin = "0", A.style.padding = "0", A
              .appendChild(this._document.createTextNode("Hidden Text")), n
              .appendChild(A), n.appendChild(r);
            var i = r.offsetTop - A.offsetTop + 2;
            n.removeChild(A), n.appendChild(this._document.createTextNode(
                "Hidden Text")), n.style.lineHeight = "normal", r.style
              .verticalAlign = "super";
            var o = r.offsetTop - n.offsetTop + 2;
            return a.removeChild(n), {
              baseline: i,
              middle: o
            }
          }, e.prototype.getMetrics = function (e, t) {
            var n = e + " " + t;
            return void 0 === this._data[n] && (this._data[n] = this.parseMetrics(e,
              t)), this._data[n]
          }, e
        }(),
        Fa = function (e, t) {
          this.context = e, this.options = t
        },
        La = function (e) {
          function n(t, n) {
            var r = e.call(this, t, n) || this;
            return r._activeEffects = [], r.canvas = n.canvas ? n.canvas : document
              .createElement("canvas"), r.ctx = r.canvas.getContext("2d"), n.canvas || (
                r.canvas.width = Math.floor(n.width * n.scale), r.canvas.height = Math
                .floor(n.height * n.scale), r.canvas.style.width = n.width + "px", r
                .canvas.style.height = n.height + "px"), r.fontMetrics = new Ua(
                document), r.ctx.scale(r.options.scale, r.options.scale), r.ctx
              .translate(-n.x, -n.y), r.ctx.textBaseline = "bottom", r
              ._activeEffects = [], r.context.logger.debug(
                "Canvas renderer initialized (" + n.width + "x" + n.height +
                ") with scale " + n.scale), r
          }
          return t(n, e), n.prototype.applyEffects = function (e) {
            for (var t = this; this._activeEffects.length;) this.popEffect();
            e.forEach((function (e) {
              return t.applyEffect(e)
            }))
          }, n.prototype.applyEffect = function (e) {
            this.ctx.save(),
              function (e) {
                return 2 === e.type
              }(e) && (this.ctx.globalAlpha = e.opacity),
              function (e) {
                return 0 === e.type
              }(e) && (this.ctx.translate(e.offsetX, e.offsetY), this.ctx.transform(e
                .matrix[0], e.matrix[1], e.matrix[2], e.matrix[3], e.matrix[4], e
                .matrix[5]), this.ctx.translate(-e.offsetX, -e.offsetY)), wa(e) && (
                this.path(e.path), this.ctx.clip()), this._activeEffects.push(e)
          }, n.prototype.popEffect = function () {
            this._activeEffects.pop(), this.ctx.restore()
          }, n.prototype.renderStack = function (e) {
            return r(this, void 0, void 0, (function () {
              return A(this, (function (t) {
                switch (t.label) {
                  case 0:
                    return e.element.container.styles.isVisible() ? [4,
                      this.renderStackContent(e)
                    ] : [3, 2];
                  case 1:
                    t.sent(), t.label = 2;
                  case 2:
                    return [2]
                }
              }))
            }))
          }, n.prototype.renderNode = function (e) {
            return r(this, void 0, void 0, (function () {
              return A(this, (function (t) {
                switch (t.label) {
                  case 0:
                    return Vn(e.container.flags, 16), e.container.styles
                      .isVisible() ? [4, this
                        .renderNodeBackgroundAndBorders(e)
                      ] : [3, 3];
                  case 1:
                    return t.sent(), [4, this.renderNodeContent(e)];
                  case 2:
                    t.sent(), t.label = 3;
                  case 3:
                    return [2]
                }
              }))
            }))
          }, n.prototype.renderTextWithLetterSpacing = function (e, t, n) {
            var r = this;
            0 === t ? this.ctx.fillText(e.text, e.bounds.left, e.bounds.top + n) : Ur(
              e.text).reduce((function (t, A) {
              return r.ctx.fillText(A, t, e.bounds.top + n), t + r.ctx
                .measureText(A).width
            }), e.bounds.left)
          }, n.prototype.createFontStyle = function (e) {
            var t = e.fontVariant.filter((function (e) {
                return "normal" === e || "small-caps" === e
              })).join(""),
              n = Ya(e.fontFamily).join(", "),
              r = Fe(e.fontSize) ? "" + e.fontSize.number + e.fontSize.unit : e
              .fontSize.number + "px";
            return [
              [e.fontStyle, t, e.fontWeight, r, n].join(" "), n, r
            ]
          }, n.prototype.renderTextNode = function (e, t) {
            return r(this, void 0, void 0, (function () {
              var n, r, a, i, o, s, u, l, c = this;
              return A(this, (function (A) {
                return n = this.createFontStyle(t), r = n[0], a = n[1],
                  i = n[2], this.ctx.font = r, this.ctx.direction = 1 ===
                  t.direction ? "rtl" : "ltr", this.ctx.textAlign =
                  "left", this.ctx.textBaseline = "alphabetic", o = this
                  .fontMetrics.getMetrics(a, i), s = o.baseline, u = o
                  .middle, l = t.paintOrder, e.textBounds.forEach((
                    function (e) {
                      l.forEach((function (n) {
                        switch (n) {
                          case 0:
                            c.ctx.fillStyle = ot(t.color), c
                              .renderTextWithLetterSpacing(e, t
                                .letterSpacing, s);
                            var r = t.textShadow;
                            r.length && e.text.trim().length && (r
                                .slice(0).reverse().forEach((
                                  function (n) {
                                    c.ctx.shadowColor = ot(n
                                        .color), c.ctx
                                      .shadowOffsetX = n.offsetX
                                      .number * c.options.scale,
                                      c.ctx.shadowOffsetY = n
                                      .offsetY.number * c
                                      .options.scale, c.ctx
                                      .shadowBlur = n.blur
                                      .number, c
                                      .renderTextWithLetterSpacing(
                                        e, t.letterSpacing, s)
                                  })), c.ctx.shadowColor = "", c
                                .ctx.shadowOffsetX = 0, c.ctx
                                .shadowOffsetY = 0, c.ctx
                                .shadowBlur = 0), t
                              .textDecorationLine.length && (c.ctx
                                .fillStyle = ot(t
                                  .textDecorationColor || t.color
                                  ), t.textDecorationLine.forEach(
                                  (function (t) {
                                    switch (t) {
                                      case 1:
                                        c.ctx.fillRect(e.bounds
                                          .left, Math.round(e
                                            .bounds.top + s),
                                          e.bounds.width, 1);
                                        break;
                                      case 2:
                                        c.ctx.fillRect(e.bounds
                                          .left, Math.round(e
                                            .bounds.top), e
                                          .bounds.width, 1);
                                        break;
                                      case 3:
                                        c.ctx.fillRect(e.bounds
                                          .left, Math.ceil(e
                                            .bounds.top + u),
                                          e.bounds.width, 1)
                                    }
                                  })));
                            break;
                          case 1:
                            t.webkitTextStrokeWidth && e.text
                              .trim().length && (c.ctx
                                .strokeStyle = ot(t
                                  .webkitTextStrokeColor), c.ctx
                                .lineWidth = t
                                .webkitTextStrokeWidth, c.ctx
                                .lineJoin = window.chrome ?
                                "miter" : "round", c.ctx
                                .strokeText(e.text, e.bounds.left,
                                  e.bounds.top + s)), c.ctx
                              .strokeStyle = "", c.ctx.lineWidth =
                              0, c.ctx.lineJoin = "miter"
                        }
                      }))
                    })), [2]
              }))
            }))
          }, n.prototype.renderReplacedElement = function (e, t, n) {
            if (n && e.intrinsicWidth > 0 && e.intrinsicHeight > 0) {
              var r = Na(e),
                A = ga(t);
              this.path(A), this.ctx.save(), this.ctx.clip(), this.ctx.drawImage(n, 0,
                0, e.intrinsicWidth, e.intrinsicHeight, r.left, r.top, r.width, r
                .height), this.ctx.restore()
            }
          }, n.prototype.renderNodeContent = function (e) {
            return r(this, void 0, void 0, (function () {
              var t, r, a, o, s, u, l, c, d, p, h, f, g, y, v, m, w, B;
              return A(this, (function (A) {
                switch (A.label) {
                  case 0:
                    this.applyEffects(e.getEffects(4)), t = e.container,
                      r = e.curves, a = t.styles, o = 0, s = t.textNodes,
                      A.label = 1;
                  case 1:
                    return o < s.length ? (u = s[o], [4, this
                      .renderTextNode(u, a)
                    ]) : [3, 4];
                  case 2:
                    A.sent(), A.label = 3;
                  case 3:
                    return o++, [3, 1];
                  case 4:
                    if (!(t instanceof Gr)) return [3, 8];
                    A.label = 5;
                  case 5:
                    return A.trys.push([5, 7, , 8]), [4, this.context
                      .cache.match(t.src)
                    ];
                  case 6:
                    return v = A.sent(), this.renderReplacedElement(t, r,
                      v), [3, 8];
                  case 7:
                    return A.sent(), this.context.logger.error(
                      "Error loading image " + t.src), [3, 8];
                  case 8:
                    if (t instanceof Kr && this.renderReplacedElement(t,
                        r, t.canvas), !(t instanceof Wr)) return [3, 12];
                    A.label = 9;
                  case 9:
                    return A.trys.push([9, 11, , 12]), [4, this.context
                      .cache.match(t.svg)
                    ];
                  case 10:
                    return v = A.sent(), this.renderReplacedElement(t, r,
                      v), [3, 12];
                  case 11:
                    return A.sent(), this.context.logger.error(
                      "Error loading svg " + t.svg.substring(0, 255)), [
                      3, 12
                    ];
                  case 12:
                    return t instanceof nA && t.tree ? [4, new n(this
                      .context, {
                        scale: this.options.scale,
                        backgroundColor: t.backgroundColor,
                        x: 0,
                        y: 0,
                        width: t.width,
                        height: t.height
                      }).render(t.tree)] : [3, 14];
                  case 13:
                    l = A.sent(), t.width && t.height && this.ctx
                      .drawImage(l, 0, 0, t.width, t.height, t.bounds
                        .left, t.bounds.top, t.bounds.width, t.bounds
                        .height), A.label = 14;
                  case 14:
                    if (t instanceof $r && (c = Math.min(t.bounds.width, t
                          .bounds.height), "checkbox" === t.type ? t
                        .checked && (this.ctx.save(), this.path([new ua(t
                              .bounds.left + .39363 * c, t.bounds.top +
                              .79 * c), new ua(t.bounds.left + .16 * c,
                              t.bounds.top + .5549 * c), new ua(t.bounds
                              .left + .27347 * c, t.bounds.top +
                              .44071 * c), new ua(t.bounds.left +
                              .39694 * c, t.bounds.top + .5649 * c),
                            new ua(t.bounds.left + .72983 * c, t.bounds
                              .top + .23 * c), new ua(t.bounds.left +
                              .84 * c, t.bounds.top + .34085 * c),
                            new ua(t.bounds.left + .39363 * c, t.bounds
                              .top + .79 * c)
                          ]), this.ctx.fillStyle = ot(707406591), this.ctx
                          .fill(), this.ctx.restore()) : "radio" === t
                        .type && t.checked && (this.ctx.save(), this.ctx
                          .beginPath(), this.ctx.arc(t.bounds.left + c /
                            2, t.bounds.top + c / 2, c / 4, 0, 2 * Math
                            .PI, !0), this.ctx.fillStyle = ot(707406591),
                          this.ctx.fill(), this.ctx.restore())), ja(t) &&
                      t.value.length) {
                      switch (d = this.createFontStyle(a), w = d[0], p =
                        d[1], h = this.fontMetrics.getMetrics(w, p)
                        .baseline, this.ctx.font = w, this.ctx.fillStyle =
                        ot(a.color), this.ctx.textBaseline = "alphabetic",
                        this.ctx.textAlign = Ra(t.styles.textAlign), B =
                        Na(t), f = 0, t.styles.textAlign) {
                        case 1:
                          f += B.width / 2;
                          break;
                        case 2:
                          f += B.width
                      }
                      g = B.add(f, 0, 0, -B.height / 2 + 1), this.ctx
                        .save(), this.path([new ua(B.left, B.top), new ua(
                          B.left + B.width, B.top), new ua(B.left + B
                          .width, B.top + B.height), new ua(B.left, B
                          .top + B.height)]), this.ctx.clip(), this
                        .renderTextWithLetterSpacing(new Dr(t.value, g), a
                          .letterSpacing, h), this.ctx.restore(), this.ctx
                        .textBaseline = "alphabetic", this.ctx.textAlign =
                        "left"
                    }
                    if (!Vn(t.styles.display, 2048)) return [3, 20];
                    if (null === t.styles.listStyleImage) return [3, 19];
                    if (0 !== (y = t.styles.listStyleImage).type) return [
                      3, 18
                    ];
                    v = void 0, m = y.url, A.label = 15;
                  case 15:
                    return A.trys.push([15, 17, , 18]), [4, this.context
                      .cache.match(m)
                    ];
                  case 16:
                    return v = A.sent(), this.ctx.drawImage(v, t.bounds
                      .left - (v.width + 10), t.bounds.top), [3, 18];
                  case 17:
                    return A.sent(), this.context.logger.error(
                      "Error loading list-style-image " + m), [3, 18];
                  case 18:
                    return [3, 20];
                  case 19:
                    e.listValue && -1 !== t.styles.listStyleType && (w =
                      this.createFontStyle(a)[0], this.ctx.font = w,
                      this.ctx.fillStyle = ot(a.color), this.ctx
                      .textBaseline = "middle", this.ctx.textAlign =
                      "right", B = new i(t.bounds.left, t.bounds.top +
                        et(t.styles.paddingTop, t.bounds.width), t
                        .bounds.width, dn(a.lineHeight, a.fontSize
                          .number) / 2 + 1), this
                      .renderTextWithLetterSpacing(new Dr(e.listValue,
                        B), a.letterSpacing, dn(a.lineHeight, a
                        .fontSize.number) / 2 + 2), this.ctx
                      .textBaseline = "bottom", this.ctx.textAlign =
                      "left"), A.label = 20;
                  case 20:
                    return [2]
                }
              }))
            }))
          }, n.prototype.renderStackContent = function (e) {
            return r(this, void 0, void 0, (function () {
              var t, n, r, a, i, o, s, u, l, c, d, p, h, f, g;
              return A(this, (function (A) {
                switch (A.label) {
                  case 0:
                    return Vn(e.element.container.flags, 16), [4, this
                      .renderNodeBackgroundAndBorders(e.element)
                    ];
                  case 1:
                    A.sent(), t = 0, n = e.negativeZIndex, A.label = 2;
                  case 2:
                    return t < n.length ? (g = n[t], [4, this.renderStack(
                      g)]) : [3, 5];
                  case 3:
                    A.sent(), A.label = 4;
                  case 4:
                    return t++, [3, 2];
                  case 5:
                    return [4, this.renderNodeContent(e.element)];
                  case 6:
                    A.sent(), r = 0, a = e.nonInlineLevel, A.label = 7;
                  case 7:
                    return r < a.length ? (g = a[r], [4, this.renderNode(
                      g)]) : [3, 10];
                  case 8:
                    A.sent(), A.label = 9;
                  case 9:
                    return r++, [3, 7];
                  case 10:
                    i = 0, o = e.nonPositionedFloats, A.label = 11;
                  case 11:
                    return i < o.length ? (g = o[i], [4, this.renderStack(
                      g)]) : [3, 14];
                  case 12:
                    A.sent(), A.label = 13;
                  case 13:
                    return i++, [3, 11];
                  case 14:
                    s = 0, u = e.nonPositionedInlineLevel, A.label = 15;
                  case 15:
                    return s < u.length ? (g = u[s], [4, this.renderStack(
                      g)]) : [3, 18];
                  case 16:
                    A.sent(), A.label = 17;
                  case 17:
                    return s++, [3, 15];
                  case 18:
                    l = 0, c = e.inlineLevel, A.label = 19;
                  case 19:
                    return l < c.length ? (g = c[l], [4, this.renderNode(
                      g)]) : [3, 22];
                  case 20:
                    A.sent(), A.label = 21;
                  case 21:
                    return l++, [3, 19];
                  case 22:
                    d = 0, p = e.zeroOrAutoZIndexOrTransformedOrOpacity, A
                      .label = 23;
                  case 23:
                    return d < p.length ? (g = p[d], [4, this.renderStack(
                      g)]) : [3, 26];
                  case 24:
                    A.sent(), A.label = 25;
                  case 25:
                    return d++, [3, 23];
                  case 26:
                    h = 0, f = e.positiveZIndex, A.label = 27;
                  case 27:
                    return h < f.length ? (g = f[h], [4, this.renderStack(
                      g)]) : [3, 30];
                  case 28:
                    A.sent(), A.label = 29;
                  case 29:
                    return h++, [3, 27];
                  case 30:
                    return [2]
                }
              }))
            }))
          }, n.prototype.mask = function (e) {
            this.ctx.beginPath(), this.ctx.moveTo(0, 0), this.ctx.lineTo(this.canvas
                .width, 0), this.ctx.lineTo(this.canvas.width, this.canvas.height),
              this.ctx.lineTo(0, this.canvas.height), this.ctx.lineTo(0, 0), this
              .formatPath(e.slice(0).reverse()), this.ctx.closePath()
          }, n.prototype.path = function (e) {
            this.ctx.beginPath(), this.formatPath(e), this.ctx.closePath()
          }, n.prototype.formatPath = function (e) {
            var t = this;
            e.forEach((function (e, n) {
              var r = da(e) ? e.start : e;
              0 === n ? t.ctx.moveTo(r.x, r.y) : t.ctx.lineTo(r.x, r.y), da(
                e) && t.ctx.bezierCurveTo(e.startControl.x, e.startControl.y, e
                  .endControl.x, e.endControl.y, e.end.x, e.end.y)
            }))
          }, n.prototype.renderRepeat = function (e, t, n, r) {
            this.path(e), this.ctx.fillStyle = t, this.ctx.translate(n, r), this.ctx
              .fill(), this.ctx.translate(-n, -r)
          }, n.prototype.resizeImage = function (e, t, n) {
            var r;
            if (e.width === t && e.height === n) return e;
            var A = (null !== (r = this.canvas.ownerDocument) && void 0 !== r ? r :
              document).createElement("canvas");
            return A.width = Math.max(1, t), A.height = Math.max(1, n), A.getContext(
              "2d").drawImage(e, 0, 0, e.width, e.height, 0, 0, t, n), A
          }, n.prototype.renderBackgroundImage = function (e) {
            return r(this, void 0, void 0, (function () {
              var t, n, r, a, i, o;
              return A(this, (function (s) {
                switch (s.label) {
                  case 0:
                    t = e.styles.backgroundImage.length - 1, n =
                      function (n) {
                        var a, i, o, s, u, l, c, d, p, h, f, g, y, v, m,
                          w, B, I, M, C, b, x, T, k, E, N, O, P, _, D, Q;
                        return A(this, (function (A) {
                          switch (A.label) {
                            case 0:
                              if (0 !== n.type) return [3, 5];
                              a = void 0, i = n.url, A.label = 1;
                            case 1:
                              return A.trys.push([1, 3, , 4]), [4, r
                                .context.cache.match(i)
                              ];
                            case 2:
                              return a = A.sent(), [3, 4];
                            case 3:
                              return A.sent(), r.context.logger
                                .error(
                                  "Error loading background-image " +
                                  i), [3, 4];
                            case 4:
                              return a && (o = Oa(e, t, [a.width, a
                                  .height, a.width / a.height
                                ]), w = o[0], x = o[1], T = o[2],
                                M = o[3], C = o[4], v = r.ctx
                                .createPattern(r.resizeImage(a, M,
                                  C), "repeat"), r.renderRepeat(w,
                                  v, x, T)), [3, 6];
                            case 5:
                              1 === n.type ? (s = Oa(e, t, [null,
                                    null, null
                                  ]), w = s[0], x = s[1], T = s[2],
                                  M = s[3], C = s[4], u = Bt(n
                                    .angle, M, C), l = u[0], c = u[
                                    1], d = u[2], p = u[3], h = u[
                                  4], (f = document.createElement(
                                    "canvas")).width = M, f.height =
                                  C, g = f.getContext("2d"), y = g
                                  .createLinearGradient(c, p, d, h),
                                  wt(n.stops, l).forEach((function (
                                    e) {
                                    return y.addColorStop(e
                                      .stop, ot(e.color))
                                  })), g.fillStyle = y, g.fillRect(
                                    0, 0, M, C), M > 0 && C > 0 && (
                                    v = r.ctx.createPattern(f,
                                      "repeat"), r.renderRepeat(w,
                                      v, x, T))) : function (e) {
                                  return 2 === e.type
                                }(n) && (m = Oa(e, t, [null, null,
                                    null
                                  ]), w = m[0], B = m[1], I = m[2],
                                  M = m[3], C = m[4], b = 0 === n
                                  .position.length ? [Je] : n
                                  .position, x = et(b[0], M), T =
                                  et(b[b.length - 1], C), k =
                                  function (e, t, n, r, A) {
                                    var a = 0,
                                      i = 0;
                                    switch (e.size) {
                                      case 0:
                                        0 === e.shape ? a = i = Math
                                          .min(Math.abs(t), Math
                                            .abs(t - r), Math.abs(
                                            n), Math.abs(n - A)) :
                                          1 === e.shape && (a = Math
                                            .min(Math.abs(t), Math
                                              .abs(t - r)), i = Math
                                            .min(Math.abs(n), Math
                                              .abs(n - A)));
                                        break;
                                      case 2:
                                        if (0 === e.shape) a = i =
                                          Math.min(It(t, n), It(t,
                                              n - A), It(t - r, n),
                                            It(t - r, n - A));
                                        else if (1 === e.shape) {
                                          var o = Math.min(Math.abs(
                                              n), Math.abs(n - A)) /
                                            Math.min(Math.abs(t),
                                              Math.abs(t - r)),
                                            s = Mt(r, A, t, n, !0),
                                            u = s[0],
                                            l = s[1];
                                          i = o * (a = It(u - t, (
                                            l - n) / o))
                                        }
                                        break;
                                      case 1:
                                        0 === e.shape ? a = i = Math
                                          .max(Math.abs(t), Math
                                            .abs(t - r), Math.abs(
                                            n), Math.abs(n - A)) :
                                          1 === e.shape && (a = Math
                                            .max(Math.abs(t), Math
                                              .abs(t - r)), i = Math
                                            .max(Math.abs(n), Math
                                              .abs(n - A)));
                                        break;
                                      case 3:
                                        if (0 === e.shape) a = i =
                                          Math.max(It(t, n), It(t,
                                              n - A), It(t - r, n),
                                            It(t - r, n - A));
                                        else if (1 === e.shape) {
                                          o = Math.max(Math.abs(n),
                                              Math.abs(n - A)) /
                                            Math.max(Math.abs(t),
                                              Math.abs(t - r));
                                          var c = Mt(r, A, t, n, !
                                          1);
                                          u = c[0], l = c[1], i =
                                            o * (a = It(u - t, (l -
                                              n) / o))
                                        }
                                    }
                                    return Array.isArray(e.size) &&
                                      (a = et(e.size[0], r), i =
                                        2 === e.size.length ? et(e
                                          .size[1], A) : a), [a, i]
                                  }(n, x, T, M, C), E = k[0], N = k[
                                    1], E > 0 && N > 0 && (O = r.ctx
                                    .createRadialGradient(B + x, I +
                                      T, 0, B + x, I + T, E), wt(n
                                      .stops, 2 * E).forEach((
                                      function (e) {
                                        return O.addColorStop(e
                                          .stop, ot(e.color))
                                      })), r.path(w), r.ctx
                                    .fillStyle = O, E !== N ? (P = e
                                      .bounds.left + .5 * e.bounds
                                      .width, _ = e.bounds.top +
                                      .5 * e.bounds.height, Q = 1 /
                                      (D = N / E), r.ctx.save(), r
                                      .ctx.translate(P, _), r.ctx
                                      .transform(1, 0, 0, D, 0, 0),
                                      r.ctx.translate(-P, -_), r.ctx
                                      .fillRect(B, Q * (I - _) + _,
                                        M, C * Q), r.ctx.restore()
                                      ) : r.ctx.fill())), A.label =
                                6;
                            case 6:
                              return t--, [2]
                          }
                        }))
                      }, r = this, a = 0, i = e.styles.backgroundImage
                      .slice(0).reverse(), s.label = 1;
                  case 1:
                    return a < i.length ? (o = i[a], [5, n(o)]) : [3, 4];
                  case 2:
                    s.sent(), s.label = 3;
                  case 3:
                    return a++, [3, 1];
                  case 4:
                    return [2]
                }
              }))
            }))
          }, n.prototype.renderSolidBorder = function (e, t, n) {
            return r(this, void 0, void 0, (function () {
              return A(this, (function (r) {
                return this.path(xa(n, t)), this.ctx.fillStyle = ot(e),
                  this.ctx.fill(), [2]
              }))
            }))
          }, n.prototype.renderDoubleBorder = function (e, t, n, a) {
            return r(this, void 0, void 0, (function () {
              var r, i;
              return A(this, (function (A) {
                switch (A.label) {
                  case 0:
                    return t < 3 ? [4, this.renderSolidBorder(e, n, a)] :
                      [3, 2];
                  case 1:
                    return A.sent(), [2];
                  case 2:
                    return r = function (e, t) {
                        switch (t) {
                          case 0:
                            return ka(e.topLeftBorderBox, e
                              .topLeftBorderDoubleOuterBox, e
                              .topRightBorderBox, e
                              .topRightBorderDoubleOuterBox);
                          case 1:
                            return ka(e.topRightBorderBox, e
                              .topRightBorderDoubleOuterBox, e
                              .bottomRightBorderBox, e
                              .bottomRightBorderDoubleOuterBox);
                          case 2:
                            return ka(e.bottomRightBorderBox, e
                              .bottomRightBorderDoubleOuterBox, e
                              .bottomLeftBorderBox, e
                              .bottomLeftBorderDoubleOuterBox);
                          case 3:
                          default:
                            return ka(e.bottomLeftBorderBox, e
                              .bottomLeftBorderDoubleOuterBox, e
                              .topLeftBorderBox, e
                              .topLeftBorderDoubleOuterBox)
                        }
                      }(a, n), this.path(r), this.ctx.fillStyle = ot(e),
                      this.ctx.fill(), i = function (e, t) {
                        switch (t) {
                          case 0:
                            return ka(e.topLeftBorderDoubleInnerBox, e
                              .topLeftPaddingBox, e
                              .topRightBorderDoubleInnerBox, e
                              .topRightPaddingBox);
                          case 1:
                            return ka(e.topRightBorderDoubleInnerBox, e
                              .topRightPaddingBox, e
                              .bottomRightBorderDoubleInnerBox, e
                              .bottomRightPaddingBox);
                          case 2:
                            return ka(e.bottomRightBorderDoubleInnerBox, e
                              .bottomRightPaddingBox, e
                              .bottomLeftBorderDoubleInnerBox, e
                              .bottomLeftPaddingBox);
                          case 3:
                          default:
                            return ka(e.bottomLeftBorderDoubleInnerBox, e
                              .bottomLeftPaddingBox, e
                              .topLeftBorderDoubleInnerBox, e
                              .topLeftPaddingBox)
                        }
                      }(a, n), this.path(i), this.ctx.fill(), [2]
                }
              }))
            }))
          }, n.prototype.renderNodeBackgroundAndBorders = function (e) {
            return r(this, void 0, void 0, (function () {
              var t, n, r, a, i, o, s, u, l = this;
              return A(this, (function (A) {
                switch (A.label) {
                  case 0:
                    return this.applyEffects(e.getEffects(2)), t = e
                      .container.styles, n = !it(t.backgroundColor) || t
                      .backgroundImage.length, r = [{
                        style: t.borderTopStyle,
                        color: t.borderTopColor,
                        width: t.borderTopWidth
                      }, {
                        style: t.borderRightStyle,
                        color: t.borderRightColor,
                        width: t.borderRightWidth
                      }, {
                        style: t.borderBottomStyle,
                        color: t.borderBottomColor,
                        width: t.borderBottomWidth
                      }, {
                        style: t.borderLeftStyle,
                        color: t.borderLeftColor,
                        width: t.borderLeftWidth
                      }], a = za(Qa(t.backgroundClip, 0), e.curves), n ||
                      t.boxShadow.length ? (this.ctx.save(), this.path(a),
                        this.ctx.clip(), it(t.backgroundColor) || (this
                          .ctx.fillStyle = ot(t.backgroundColor), this.ctx
                          .fill()), [4, this.renderBackgroundImage(e
                          .container)]) : [3, 2];
                  case 1:
                    A.sent(), this.ctx.restore(), t.boxShadow.slice(0)
                      .reverse().forEach((function (t) {
                        l.ctx.save();
                        var n, r, A, a, i, o = fa(e.curves),
                          s = t.inset ? 0 : 1e4,
                          u = (n = o, r = -s + (t.inset ? 1 : -1) * t
                            .spread.number, A = (t.inset ? 1 : -1) * t
                            .spread.number, a = t.spread.number * (t
                              .inset ? -2 : 2), i = t.spread.number *
                            (t.inset ? -2 : 2), n.map((function (e,
                            t) {
                              switch (t) {
                                case 0:
                                  return e.add(r, A);
                                case 1:
                                  return e.add(r + a, A);
                                case 2:
                                  return e.add(r + a, A + i);
                                case 3:
                                  return e.add(r, A + i)
                              }
                              return e
                            })));
                        t.inset ? (l.path(o), l.ctx.clip(), l.mask(
                          u)) : (l.mask(o), l.ctx.clip(), l.path(u)),
                          l.ctx.shadowOffsetX = t.offsetX.number + s,
                          l.ctx.shadowOffsetY = t.offsetY.number, l
                          .ctx.shadowColor = ot(t.color), l.ctx
                          .shadowBlur = t.blur.number, l.ctx
                          .fillStyle = t.inset ? ot(t.color) :
                          "rgba(0,0,0,1)", l.ctx.fill(), l.ctx
                          .restore()
                      })), A.label = 2;
                  case 2:
                    i = 0, o = 0, s = r, A.label = 3;
                  case 3:
                    return o < s.length ? 0 !== (u = s[o]).style && !it(u
                        .color) && u.width > 0 ? 2 !== u.style ? [3, 5] :
                      [4, this.renderDashedDottedBorder(u.color, u.width,
                        i, e.curves, 2)] : [3, 11] : [3, 13];
                  case 4:
                    return A.sent(), [3, 11];
                  case 5:
                    return 3 !== u.style ? [3, 7] : [4, this
                      .renderDashedDottedBorder(u.color, u.width, i, e
                        .curves, 3)
                    ];
                  case 6:
                    return A.sent(), [3, 11];
                  case 7:
                    return 4 !== u.style ? [3, 9] : [4, this
                      .renderDoubleBorder(u.color, u.width, i, e.curves)
                    ];
                  case 8:
                    return A.sent(), [3, 11];
                  case 9:
                    return [4, this.renderSolidBorder(u.color, i, e
                      .curves)];
                  case 10:
                    A.sent(), A.label = 11;
                  case 11:
                    i++, A.label = 12;
                  case 12:
                    return o++, [3, 3];
                  case 13:
                    return [2]
                }
              }))
            }))
          }, n.prototype.renderDashedDottedBorder = function (e, t, n, a, i) {
            return r(this, void 0, void 0, (function () {
              var r, o, s, u, l, c, d, p, h, f, g, y, v, m, w, B;
              return A(this, (function (A) {
                return this.ctx.save(), r = function (e, t) {
                    switch (t) {
                      case 0:
                        return Ta(e.topLeftBorderStroke, e
                          .topRightBorderStroke);
                      case 1:
                        return Ta(e.topRightBorderStroke, e
                          .bottomRightBorderStroke);
                      case 2:
                        return Ta(e.bottomRightBorderStroke, e
                          .bottomLeftBorderStroke);
                      case 3:
                      default:
                        return Ta(e.bottomLeftBorderStroke, e
                          .topLeftBorderStroke)
                    }
                  }(a, n), o = xa(a, n), 2 === i && (this.path(o), this
                    .ctx.clip()), da(o[0]) ? (s = o[0].start.x, u = o[0]
                    .start.y) : (s = o[0].x, u = o[0].y), da(o[1]) ? (l =
                    o[1].end.x, c = o[1].end.y) : (l = o[1].x, c = o[1]
                  .y), d = 0 === n || 2 === n ? Math.abs(s - l) : Math
                  .abs(u - c), this.ctx.beginPath(), 3 === i ? this
                  .formatPath(r) : this.formatPath(o.slice(0, 2)), p = t <
                  3 ? 3 * t : 2 * t, h = t < 3 ? 2 * t : t, 3 === i && (
                    p = t, h = t), f = !0, d <= 2 * p ? f = !1 : d <= 2 *
                  p + h ? (p *= g = d / (2 * p + h), h *= g) : (y = Math
                    .floor((d + h) / (p + h)), v = (d - y * p) / (y - 1),
                    h = (m = (d - (y + 1) * p) / y) <= 0 || Math.abs(h -
                      v) < Math.abs(h - m) ? v : m), f && (3 === i ? this
                    .ctx.setLineDash([0, p + h]) : this.ctx.setLineDash([
                      p, h
                    ])), 3 === i ? (this.ctx.lineCap = "round", this.ctx
                    .lineWidth = t) : this.ctx.lineWidth = 2 * t + 1.1,
                  this.ctx.strokeStyle = ot(e), this.ctx.stroke(), this
                  .ctx.setLineDash([]), 2 === i && (da(o[0]) && (w = o[3],
                    B = o[0], this.ctx.beginPath(), this.formatPath([
                      new ua(w.end.x, w.end.y), new ua(B.start.x, B
                        .start.y)
                    ]), this.ctx.stroke()), da(o[1]) && (w = o[1], B =
                    o[2], this.ctx.beginPath(), this.formatPath([new ua(
                      w.end.x, w.end.y), new ua(B.start.x, B.start
                      .y)]), this.ctx.stroke())), this.ctx.restore(), [2]
              }))
            }))
          }, n.prototype.render = function (e) {
            return r(this, void 0, void 0, (function () {
              var t;
              return A(this, (function (n) {
                switch (n.label) {
                  case 0:
                    return this.options.backgroundColor && (this.ctx
                        .fillStyle = ot(this.options.backgroundColor),
                        this.ctx.fillRect(this.options.x, this.options.y,
                          this.options.width, this.options.height)), r =
                      new Ma(e, null), A = new Ia(r), Ca(r, A, A, a = []),
                      ba(r.container, a), t = A, [4, this.renderStack(t)];
                  case 1:
                    return n.sent(), this.applyEffects([]), [2, this
                      .canvas
                    ]
                }
                var r, A, a
              }))
            }))
          }, n
        }(Fa),
        ja = function (e) {
          return e instanceof tA || e instanceof eA || e instanceof $r && "radio" !== e
            .type && "checkbox" !== e.type
        },
        za = function (e, t) {
          switch (e) {
            case 0:
              return fa(t);
            case 2:
              return function (e) {
                return [e.topLeftContentBox, e.topRightContentBox, e
                  .bottomRightContentBox, e.bottomLeftContentBox
                ]
              }(t);
            case 1:
            default:
              return ga(t)
          }
        },
        Ra = function (e) {
          switch (e) {
            case 1:
              return "center";
            case 2:
              return "right";
            case 0:
            default:
              return "left"
          }
        },
        Ha = ["-apple-system", "system-ui"],
        Ya = function (e) {
          return /iPhone OS 15_(0|1)/.test(window.navigator.userAgent) ? e.filter((
            function (e) {
              return -1 === Ha.indexOf(e)
            })) : e
        },
        Ga = function (e) {
          function n(t, n) {
            var r = e.call(this, t, n) || this;
            return r.canvas = n.canvas ? n.canvas : document.createElement("canvas"), r
              .ctx = r.canvas.getContext("2d"), r.options = n, r.canvas.width = Math
              .floor(n.width * n.scale), r.canvas.height = Math.floor(n.height * n
                .scale), r.canvas.style.width = n.width + "px", r.canvas.style.height =
              n.height + "px", r.ctx.scale(r.options.scale, r.options.scale), r.ctx
              .translate(-n.x, -n.y), r.context.logger.debug(
                "EXPERIMENTAL ForeignObject renderer initialized (" + n.width + "x" + n
                .height + " at " + n.x + "," + n.y + ") with scale " + n.scale), r
          }
          return t(n, e), n.prototype.render = function (e) {
            return r(this, void 0, void 0, (function () {
              var t, n;
              return A(this, (function (r) {
                switch (r.label) {
                  case 0:
                    return t = Or(this.options.width * this.options.scale,
                      this.options.height * this.options.scale, this
                      .options.scale, this.options.scale, e), [4, Ka(t)];
                  case 1:
                    return n = r.sent(), this.options.backgroundColor && (
                        this.ctx.fillStyle = ot(this.options
                          .backgroundColor), this.ctx.fillRect(0, 0, this
                          .options.width * this.options.scale, this
                          .options.height * this.options.scale)), this.ctx
                      .drawImage(n, -this.options.x * this.options.scale,
                        -this.options.y * this.options.scale), [2, this
                        .canvas
                      ]
                }
              }))
            }))
          }, n
        }(Fa),
        Ka = function (e) {
          return new Promise((function (t, n) {
            var r = new Image;
            r.onload = function () {
                t(r)
              }, r.onerror = n, r.src = "data:image/svg+xml;charset=utf-8," +
              encodeURIComponent((new XMLSerializer).serializeToString(e))
          }))
        },
        Wa = function () {
          function e(e) {
            var t = e.id,
              n = e.enabled;
            this.id = t, this.enabled = n, this.start = Date.now()
          }
          return e.prototype.debug = function () {
            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            this.enabled && ("undefined" != typeof window && window.console &&
              "function" == typeof console.debug ? console.debug.apply(console, a([
                this.id, this.getTime() + "ms"
              ], e)) : this.info.apply(this, e))
          }, e.prototype.getTime = function () {
            return Date.now() - this.start
          }, e.prototype.info = function () {
            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            this.enabled && "undefined" != typeof window && window.console &&
              "function" == typeof console.info && console.info.apply(console, a([this
                .id, this.getTime() + "ms"
              ], e))
          }, e.prototype.warn = function () {
            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            this.enabled && ("undefined" != typeof window && window.console &&
              "function" == typeof console.warn ? console.warn.apply(console, a([
                this.id, this.getTime() + "ms"
              ], e)) : this.info.apply(this, e))
          }, e.prototype.error = function () {
            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            this.enabled && ("undefined" != typeof window && window.console &&
              "function" == typeof console.error ? console.error.apply(console, a([
                this.id, this.getTime() + "ms"
              ], e)) : this.info.apply(this, e))
          }, e.instances = {}, e
        }(),
        Za = function () {
          function e(t, n) {
            var r;
            this.windowBounds = n, this.instanceName = "#" + e.instanceCount++, this
              .logger = new Wa({
                id: this.instanceName,
                enabled: t.logging
              }), this.cache = null !== (r = t.cache) && void 0 !== r ? r : new ea(this,
                t)
          }
          return e.instanceCount = 1, e
        }();
      "undefined" != typeof window && $A.setContext(window);
      var Va = function (e, t) {
          return r(void 0, void 0, void 0, (function () {
            var r, a, s, u, l, c, d, p, h, f, g, y, v, m, w, B, I, M, C, b, x, T,
              k, E, N, O, P, _, D, Q, S, U, F, L, j, z, R, H;
            return A(this, (function (A) {
              switch (A.label) {
                case 0:
                  if (!e || "object" != typeof e) return [2, Promise.reject(
                    "Invalid element provided as first argument")];
                  if (!(r = e.ownerDocument)) throw new Error(
                    "Element is not attached to a Document");
                  if (!(a = r.defaultView)) throw new Error(
                    "Document is not attached to a Window");
                  return s = {
                    allowTaint: null !== (T = t.allowTaint) && void 0 !==
                      T && T,
                    imageTimeout: null !== (k = t.imageTimeout) &&
                      void 0 !== k ? k : 15e3,
                    proxy: t.proxy,
                    useCORS: null !== (E = t.useCORS) && void 0 !== E && E
                  }, u = n({
                    logging: null === (N = t.logging) || void 0 === N ||
                      N,
                    cache: t.cache
                  }, s), l = {
                    windowWidth: null !== (O = t.windowWidth) &&
                      void 0 !== O ? O : a.innerWidth,
                    windowHeight: null !== (P = t.windowHeight) &&
                      void 0 !== P ? P : a.innerHeight,
                    scrollX: null !== (_ = t.scrollX) && void 0 !== _ ?
                      _ : a.pageXOffset,
                    scrollY: null !== (D = t.scrollY) && void 0 !== D ?
                      D : a.pageYOffset
                  }, c = new i(l.scrollX, l.scrollY, l.windowWidth, l
                    .windowHeight), d = new Za(u, c), p = null !== (Q = t
                    .foreignObjectRendering) && void 0 !== Q && Q, h = {
                    allowTaint: null !== (S = t.allowTaint) && void 0 !==
                      S && S,
                    onclone: t.onclone,
                    ignoreElements: t.ignoreElements,
                    inlineImages: p,
                    copyStyles: p
                  }, d.logger.debug("Starting document clone with size " +
                    c.width + "x" + c.height + " scrolled to " + -c.left +
                    "," + -c.top), f = new FA(d, e, h), (g = f
                    .clonedReferenceElement) ? [4, f.toIFrame(r, c)] : [2,
                    Promise.reject(
                      "Unable to find element in cloned iframe")
                  ];
                case 1:
                  return y = A.sent(), v = yA(g) || "HTML" === g.tagName ?
                    function (e) {
                      var t = e.body,
                        n = e.documentElement;
                      if (!t || !n) throw new Error(
                        "Unable to get document size");
                      var r = Math.max(Math.max(t.scrollWidth, n
                          .scrollWidth), Math.max(t.offsetWidth, n
                          .offsetWidth), Math.max(t.clientWidth, n
                          .clientWidth)),
                        A = Math.max(Math.max(t.scrollHeight, n
                          .scrollHeight), Math.max(t.offsetHeight, n
                          .offsetHeight), Math.max(t.clientHeight, n
                          .clientHeight));
                      return new i(0, 0, r, A)
                    }(g.ownerDocument) : o(d, g), m = v.width, w = v.height,
                    B = v.left, I = v.top, M = Xa(d, g, t.backgroundColor),
                    C = {
                      canvas: t.canvas,
                      backgroundColor: M,
                      scale: null !== (F = null !== (U = t.scale) &&
                          void 0 !== U ? U : a.devicePixelRatio) &&
                        void 0 !== F ? F : 1,
                      x: (null !== (L = t.x) && void 0 !== L ? L : 0) + B,
                      y: (null !== (j = t.y) && void 0 !== j ? j : 0) + I,
                      width: null !== (z = t.width) && void 0 !== z ? z :
                        Math.ceil(m),
                      height: null !== (R = t.height) && void 0 !== R ? R :
                        Math.ceil(w)
                    }, p ? (d.logger.debug(
                        "Document cloned, using foreign object rendering"),
                      [4, new Ga(d, C).render(g)]) : [3, 3];
                case 2:
                  return b = A.sent(), [3, 5];
                case 3:
                  return d.logger.debug(
                      "Document cloned, element located at " + B + "," + I +
                      " with size " + m + "x" + w +
                      " using computed rendering"), d.logger.debug(
                      "Starting DOM parsing"), x = iA(d, g), M === x.styles
                    .backgroundColor && (x.styles.backgroundColor = gt
                      .TRANSPARENT), d.logger.debug(
                      "Starting renderer for element at " + C.x + "," + C
                      .y + " with size " + C.width + "x" + C.height), [4,
                      new La(d, C).render(x)
                    ];
                case 4:
                  b = A.sent(), A.label = 5;
                case 5:
                  return (null === (H = t.removeContainer) || void 0 ===
                    H || H) && (FA.destroy(y) || d.logger.error(
                    "Cannot detach cloned iframe as it is not in the DOM anymore"
                    )), d.logger.debug("Finished rendering"), [2, b]
              }
            }))
          }))
        },
        Xa = function (e, t, n) {
          var r = t.ownerDocument,
            A = r.documentElement ? ft(e, getComputedStyle(r.documentElement)
              .backgroundColor) : gt.TRANSPARENT,
            a = r.body ? ft(e, getComputedStyle(r.body).backgroundColor) : gt
            .TRANSPARENT,
            i = "string" == typeof n ? ft(e, n) : null === n ? gt.TRANSPARENT :
            4294967295;
          return t === r.documentElement ? it(A) ? it(a) ? i : a : A : i
        };
      return function (e, t) {
        return void 0 === t && (t = {}), Va(e, t)
      }
    }()
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = m(n(5)),
      A = m(n(33)),
      a = m(n(7)),
      i = m(n(94)),
      o = m(n(2)),
      s = m(n(0)),
      u = m(n(1)),
      l = m(n(3)),
      c = m(n(4)),
      d = m(n(9)),
      p = m(n(22)),
      h = n(65),
      f = n(15),
      g = n(136),
      y = n(28),
      v = n(39);

    function m(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var w = function (e) {
      function t() {
        (0, s.default)(this, t);
        var e = (0, l.default)(this, (t.__proto__ || (0, o.default)(t)).apply(this,
          arguments));
        return e.type = "modify", e.description = "移动操作工具。内部使用，不提供对外接口", e
          .modifyHandler = function (t, n, r) {
            if (!((t = t.filter((function (t) {
                return e.drawOpsOfPage[t]
              }))).length < 1) && n) {
              p.default.updateDefAttr(e.app, t.map((function (t) {
                return e.drawOpsOfPage[t]
              })), n);
              var A = e.getAttrs(t, n);
              if (A && A.updateGraph) {
                var a = {
                    type: "modify",
                    dependOn: t,
                    attrs: A.attrs,
                    inProgress: r
                  },
                  i = e.opsManager.currPage.getNextOpId(!0),
                  o = (0, v.deepCopySnapBeforeMove)(t, e.drawOpsOfPage);
                e.opsManager.graphOp.handleElePosChange(o, a, i, i + "_modify")
              } else A && e.dispatch({
                type: "modify",
                dependOn: t,
                attrs: A.attrs,
                inProgress: r
              })
            }
          }, e
      }
      return (0, c.default)(t, e), (0, u.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            "modify:change": {
              value: this.modifyHandler,
              information: {
                args: "ids: Array<string>, attrs:{key:string, value: any}[], inProgress: boolean",
                message: "更改选中元素的属性"
              }
            }
          }
        }
      }, {
        key: "getAttrs",
        value: function (e, t) {
          for (var n, r, A, o, s, u = this, l = !1, c = {
              common: [],
              sub: []
            }, d = e.map((function (e) {
              return u.drawOpsOfPage[e]
            })).filter((function (e) {
              return e
            })), v = d.filter((function (e) {
              return "text" === e.data.type
            })).map((function (e) {
              return e.opId
            })), m = d.filter((function (e) {
              return "shape" === e.data.type
            })).map((function (e) {
              return e.opId
            })), w = d.filter((function (e) {
              return "link" === e.data.type
            })).map((function (e) {
              return e.opId
            })), B = 0; B < t.length; B++) {
            var I = t[B];
            if (-1 !== ["fontStroke", "fontFill", "textAlign", "verticalAlign"]
              .indexOf(I.k)) {
              var M = -1 !== ["fontStroke", "fontFill"].indexOf(I.k) ? I.k
                .slice(4).toLowerCase() : I.k;
              v.length > 0 && c.sub.push({
                ids: v,
                attrs: [{
                  k: M,
                  v: I.v
                }]
              }), (m.length > 0 || w.length > 0) && c.sub.push({
                ids: m.concat(w),
                attrs: [{
                  k: "text",
                  v: (0, i.default)({}, M, I.v)
                }]
              })
            } else if ("fontSize" === I.k || "fontFamily" === I.k) {
              if (v.length > 0) {
                var C = !0,
                  b = !1,
                  x = void 0;
                try {
                  for (var T, k = (0, a.default)(v); !(C = (T = k.next())
                    .done); C = !0) {
                    var E = T.value,
                      N = null === (n = this.drawOpsOfPage[E]) || void 0 === n ?
                      void 0 : n.data;
                    if (N) {
                      var O = void 0;
                      if ("fontFamily" === I.k) O = this.opsManager.textOp
                        .getUpdatedTxtBoundary(N, (0, i.default)({}, I.k, I.v));
                      else {
                        var P = I.v / N.fontSize || 1;
                        O = {
                          sx: N.boundary.sx,
                          sy: N.boundary.sy,
                          w: N.boundary.w * P,
                          h: N.boundary.h * P
                        }
                      }
                      c.sub.push({
                        ids: [E],
                        attrs: [{
                          k: I.k,
                          v: I.v
                        }, {
                          k: "boundary",
                          v: O
                        }]
                      })
                    }
                  }
                } catch (e) {
                  b = !0, x = e
                } finally {
                  try {
                    !C && k.return && k.return()
                  } finally {
                    if (b) throw x
                  }
                }
                l = !0
              }
              var _ = !0,
                D = !1,
                Q = void 0;
              try {
                for (var S, U = (0, a.default)(w); !(_ = (S = U.next())
                  .done); _ = !0) {
                  var F = S.value,
                    L = this.app.opsManager.linkOp.getUpdatedTxtProps(this
                      .drawOpsOfPage[F].data, (0, i.default)({}, I.k, I.v));
                  L && c.sub.push({
                    ids: [F],
                    attrs: [{
                      k: "text",
                      v: L
                    }]
                  })
                }
              } catch (e) {
                D = !0, Q = e
              } finally {
                try {
                  !_ && U.return && U.return()
                } finally {
                  if (D) throw Q
                }
              }
              m.length > 0 && c.sub.push({
                ids: m,
                attrs: [{
                  k: "text",
                  v: (0, i.default)({}, I.k, I.v)
                }]
              })
            } else if ("linkType" === I.k) {
              c.common.push(I);
              var j = !0,
                z = !1,
                R = void 0;
              try {
                for (var H, Y = (0, a.default)(d); !(j = (H = Y.next())
                  .done); j = !0) {
                  var G = H.value,
                    K = (0, h.graphAftTypeM)({
                      data: G.data,
                      type: I.v,
                      op: this
                    });
                  K && c.sub.push({
                    ids: [G.opId],
                    attrs: [{
                      k: "connPs",
                      v: K.connPs
                    }, {
                      k: "linkType",
                      v: I.v
                    }, {
                      k: "start",
                      v: {
                        dir: K.start.dir
                      }
                    }, {
                      k: "end",
                      v: {
                        dir: K.end.dir
                      }
                    }]
                  })
                }
              } catch (e) {
                z = !0, R = e
              } finally {
                try {
                  !j && Y.return && Y.return()
                } finally {
                  if (z) throw R
                }
              }
            } else {
              if ("typeChange" !== I.k) {
                c.common.push(I);
                continue
              }
              if ("text" === d[0].data.type && "text" !== I.v) {
                var W = d[0].data,
                  Z = this.opsManager.textOp.getTextActualBound(W),
                  V = this.app.shapeManager.getShapeBoundByTextBound(I.v, Z);
                c.common.push({
                  k: "_reset",
                  v: {
                    type: "shape",
                    shape: I.v,
                    boundary: V,
                    rAngle: W.rAngle || 0,
                    mat: W.mat,
                    xFactor: W.xFactor,
                    yFactor: W.yFactor,
                    lineWidth: p.default.shapeDef.lineWidth,
                    stroke: p.default.shapeDef.stroke,
                    fill: p.default.shapeDef.fill,
                    dash: y.IDashType.Solid,
                    text: {
                      value: W.text,
                      stroke: W.stroke,
                      fontSize: W.fontSize,
                      fill: W.fill,
                      textAlign: W.textAlign,
                      verticalAlign: p.default.shapeDef.text.verticalAlign,
                      fontFamily: W.fontFamily
                    },
                    inProgress: !1
                  }
                }), l = !0
              } else if ("shape" === d[0].data.type && "text" === I.v) {
                var X = d[0].data,
                  J = ((null === (r = X.text) || void 0 === r ? void 0 : r
                    .value) || "").trim();
                J = J || g.DefaultText;
                var q = (null === (A = X.text) || void 0 === A ? void 0 : A
                    .value) ? (null === (o = X.text) || void 0 === o ? void 0 :
                    o.fontSize) || p.default.textDef.fontSize : 16,
                  $ = (null === (s = X.text) || void 0 === s ? void 0 : s
                    .fontFamily) || p.default.textDef.fontFamily,
                  ee = X.boundary,
                  te = (0, f.getTransformedSize)(X),
                  ne = this.opsManager.textOp.getTextSize({
                    text: J,
                    fontSize: q,
                    fontFamily: $,
                    width: te.w
                  }),
                  re = ee.h * ne.h / te.h;
                c.common.push({
                  k: "_reset",
                  v: {
                    type: "text",
                    boundary: {
                      sx: ee.sx,
                      sy: ee.sy + ee.h / 2 - re / 2,
                      w: ee.w,
                      h: re
                    },
                    fixW: ee.w,
                    rAngle: X.rAngle || 0,
                    mat: X.mat,
                    xFactor: X.xFactor,
                    yFactor: X.yFactor,
                    text: X.text ? X.text.value : " ",
                    stroke: X.text ? X.text.stroke : p.default.textDef
                      .stroke,
                    textAlign: X.text ? X.text.textAlign : p.default.textDef
                      .textAlign,
                    fill: X.text ? X.text.fill : p.default.textDef.fill,
                    fontSize: q,
                    fontFamily: X.text ? X.text.fontFamily : p.default
                      .textDef.fontFamily,
                    inProgress: !1
                  }
                }), l = !0
              } else {
                if ("shape" !== d[0].data.type || d[0].data.shape === I.v)
                  return this.logger.log("转换类型不能相同，当前类型：" + d[0].data.type +
                    "-" + d[0].data.shape + "，目标类型：" + I.v), null;
                c.common.push({
                  k: "shape",
                  v: I.v
                })
              }
            }
          }
          return {
            updateGraph: l,
            attrs: c
          }
        }
      }, {
        key: "getSnapshot",
        value: function (e, t, n) {
          return {
            type: "modify",
            dependOn: e,
            attrs: this.getAttrs(e, t).attrs,
            inProgress: n
          }
        }
      }, {
        key: "transformOp",
        value: function (e, t) {
          var n = e.data.boundary ? {
              boundary: e.data.boundary
            } : {},
            i = e.data.text && "object" === (0, A.default)(e.data.text) ? {
              text: (0, r.default)({}, e.data.text)
            } : {},
            o = (0, r.default)((0, r.default)((0, r.default)({}, e.data), n),
            i),
            s = t.attrs;
          if (o = B(s.common, o), Array.isArray(s.sub)) {
            var u = !0,
              l = !1,
              c = void 0;
            try {
              for (var d, p = (0, a.default)(s.sub); !(u = (d = p.next())
                .done); u = !0) {
                var h = d.value,
                  f = h.ids,
                  g = h.attrs; - 1 !== f.indexOf(e.opId) && (o = B(g, o))
              }
            } catch (e) {
              l = !0, c = e
            } finally {
              try {
                !u && p.return && p.return()
              } finally {
                if (l) throw c
              }
            }
          }
          return (0, r.default)((0, r.default)({}, e), {
            data: o
          })
        }
      }]), t
    }(d.default);

    function B(e, t) {
      return Array.isArray(e) ? (e.forEach((function (e) {
        var n = e.k,
          a = e.v;
        "_reset" === n ? t = (0, r.default)({}, a) : a && "object" === (void 0 ===
            a ? "undefined" : (0, A.default)(a)) && !Array.isArray(a) ? a.reset ?
          t[n] = a : t[n] = (0, r.default)((0, r.default)({}, t[n] || {}), a) : t[
            n] = a, "boundary" === n && a.reset && (t.dx = 0, t.dy = 0, t
          .scaleX = {
            coordinate: 0,
            factor: 1
          }, t.scaleY = {
            coordinate: 0,
            factor: 1
          }, t.xFactor = 1, t.yFactor = 1, t.rAngle = 0, t.mat = void 0)
      })), t) : t
    }
    t.default = w
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = s(n(2)),
      A = s(n(0)),
      a = s(n(1)),
      i = s(n(3)),
      o = s(n(4));

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var u = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "audio", e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            "audio:insert": {
              value: this.addMedia.bind(this),
              information: {
                args: "url: string, opts: {\n                         width: number,\n                         sourceType: string,\n                         title?: string\n                         pageName?: string\n                         boardName?: string\n                         antiLeechProp?: IAntiLeechProp\n                     }",
                message: "上传视频"
              }
            }
          }
        }
      }, {
        key: "preview",
        value: function (e, t, n) {
          t.save();
          var r = void 0,
            A = void 0;
          if (n.boundary) {
            var a = t.canvas.width / t.canvas.height,
              i = void 0,
              o = void 0;
            a > n.boundary.width / n.boundary.height ? (i = n.boundary.height *
              a, o = n.boundary.height) : (o = n.boundary.width / a, i = n
              .boundary.width);
            var s = Math.min(i, o) / 6;
            r = [n.boundary.centerX - i / 2, n.boundary.centerY + o / 2 - s],
              A = [n.boundary.centerX - i / 2 + s, n.boundary.centerY + o / 2]
          } else {
            var u = void 0,
              l = void 0,
              c = this.app.container.width,
              d = this.app.container.height,
              p = t.canvas.width / t.canvas.height,
              h = c,
              f = d;
            p > c / d ? (u = (c - (h = d * p)) / 2, l = d) : (u = 0, l = ((f =
              c / p) + d) / 2);
            var g = Math.min(h, f) / 6;
            r = this.app.camera.convertToPointInWorld(u, l - g), A = this.app
              .camera.convertToPointInWorld(u + g, l)
          }
          try {
            this.app.resourceCache.resourceLoaded("audio") && !n
              .supportToDataUrl && t.drawImage(this.app.resourceCache
                .getResource("audio"), r[0], r[1], A[0] - r[0], A[1] - r[1])
          } catch (e) {
            this.logger.error("error", e)
          }
          t.restore()
        }
      }]), t
    }(s(n(144)).default);
    t.default = u
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = f(n(20)),
      A = f(n(25)),
      a = f(n(2)),
      i = f(n(0)),
      o = f(n(1)),
      s = f(n(3)),
      u = f(n(4)),
      l = f(n(11)),
      c = n(15),
      d = f(n(9)),
      p = n(19),
      h = f(n(349));

    function f(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var g = function (e, t, n, r) {
        return new(n || (n = l.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      y = void 0,
      v = function (e) {
        function t() {
          (0, i.default)(this, t);
          var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
            arguments));
          return e.type = "transDoc", e.description = "转码相关的操作汇聚地", e.transDocPlugin = {},
            e.boardLastSnapshot = {}, e
        }
        return (0, u.default)(t, e), (0, o.default)(t, [{
          key: "registerHooks",
          value: function () {
            this.opsManager.hooks.boardChange.tap("boardChangePlugin", this
              .onBoardChange.bind(this))
          }
        }, {
          key: "getPluginOfCurrBoard",
          value: function () {
            var e = this.app.room.currBoard.transDocSnapshot,
              t = e && e.opId || "";
            return this.transDocPlugin[t]
          }
        }, {
          key: "eventsToListen",
          value: function () {
            return {
              "transDoc:add": {
                value: this.addTransDoc.bind(this),
                information: {
                  args: "opt",
                  message: "添加ppt转码文档页面"
                }
              },
              "transDoc:nextAnim": {
                value: this.nextAnim.bind(this),
                information: {
                  args: "",
                  message: "播放下一个动画"
                }
              },
              "transDoc:prevAnim": {
                value: this.prevAnim.bind(this),
                information: {
                  args: "",
                  message: "跳到上一个动画"
                }
              },
              "transDoc:gotoAnim": {
                value: this.gotoAnim.bind(this),
                information: {
                  args: "",
                  message: "跳到指定位置"
                }
              }
            }
          }
        }, {
          key: "addTransDoc",
          value: function (e) {
            var t = Array.isArray(e.backupResultUrls) ? e.backupResultUrls : [];
            this.dispatch({
              type: this.type,
              action: "addTransDoc",
              boardName: e.boardName,
              displayName: e.displayName,
              pageCount: e.pageCount,
              transDocUrl: e.url,
              backupResultUrls: t,
              boundary: {
                sx: -e.width / 2,
                sy: -e.height / 2,
                w: e.width,
                h: e.height
              },
              transDocData: {
                animIndex: 0,
                animState: "start",
                animPageIndex: 0
              }
            })
          }
        }, {
          key: "waitTilReady",
          value: function (e) {
            return g(this, void 0, void 0, A.default.mark((function t() {
              var n;
              return A.default.wrap((function (t) {
                for (;;) switch (t.prev = t.next) {
                  case 0:
                    if (!(n = this.transDocPlugin[e.opId])) {
                      t.next = 4;
                      break
                    }
                    return t.next = 4, n.waitTilReady();
                  case 4:
                  case "end":
                    return t.stop()
                }
              }), t, this)
            })))
          }
        }, {
          key: "nextAnim",
          value: function () {
            var e = this.getPluginOfCurrBoard();
            if (e) return e.nextAnim()
          }
        }, {
          key: "prevAnim",
          value: function () {
            var e = this.getPluginOfCurrBoard();
            if (e) return e.prevAnim()
          }
        }, {
          key: "gotoAnim",
          value: function (e) {
            var t = this.getPluginOfCurrBoard();
            if (t) return t.gotoAnim(e)
          }
        }, {
          key: "onBoardChange",
          value: function () {
            var e = (0, r.default)(this.app.room.boards);
            for (var t in this.transDocPlugin) {
              var n = this.transDocPlugin[t]; - 1 === e.indexOf(n.boardName) ?
                this.destroyPlugin(n) : n.boardName !== this.app.room.currIndex &&
                n.hide()
            }
            var A = this.app.room.currIndex;
            this.boardLastSnapshot.hasOwnProperty(A) && this.apply(this
              .boardLastSnapshot[A], {
                fromBatch: !0
              })
          }
        }, {
          key: "destroy",
          value: function () {
            for (var e in this.transDocPlugin) this.destroyPlugin(this
              .transDocPlugin[e])
          }
        }, {
          key: "destroyPlugin",
          value: function (e) {
            e.destroy(), delete this.transDocPlugin[e.opId]
          }
        }, {
          key: "previewDoc",
          value: function (e, t) {
            var n = this.transDocPlugin[e.opId];
            n && n.previewDoc(t)
          }
        }, {
          key: "updateDocClipPath",
          value: function (e) {}
        }, {
          key: "apply",
          value: function (e, t) {
            var n = this;
            this.boardLastSnapshot[e.data.boardName] = e, clearTimeout(y), t
              .fromBatch && !this.app.isRecordPlayer ? y = setTimeout((
            function () {
                n._apply(e, t)
              }), 0) : this._apply(e, t)
          }
        }, {
          key: "_apply",
          value: function (e, t) {
            if (!this.transDocPlugin[e.opId]) {
              if (!this.app.room.boards.hasOwnProperty(e.data.boardName)) return;
              this.transDocPlugin[e.opId] = new h.default(e, this.app, this)
            }
            var n = this.transDocPlugin[e.opId],
              r = e.data,
              A = r.boundary,
              a = (0, c.getTransformedBoundary)(this.app.scale, {
                boundary: A
              }),
              i = this.app.container.h5El,
              o = i.querySelector("[id='" + e.opId + "']"),
              s = null == o;
            s && ((o = document.createElement("div")).style.position = "fixed", o
                .id = "" + e.opId, o.className = "transDoc-plugin-container", i
                .appendChild(o)), o.style.width = a.w + "px", o.style.height = a
              .h + "px", o.style.left = a.sx + "px", o.style.top = a.sy + "px",
              s && n.mountElement(e, t.fromBatch, o, r.transDocUrl), n
              .onReceiveAttributes(e.data.transDocData, {
                jump: t.fromBatch
              })
          }
        }, {
          key: "transformOp",
          value: function (e, t) {
            return (0, p.transformPropertyOverwriteOp)(e, t)
          }
        }]), t
      }(d.default);
    t.default = v
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = d(n(21)),
      A = d(n(5)),
      a = d(n(25)),
      i = d(n(7)),
      o = d(n(0)),
      s = d(n(1)),
      u = d(n(11)),
      l = d(n(350)),
      c = n(145);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var p = function (e, t, n, r) {
        return new(n || (n = u.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      h = function () {
        function e(t, n, r) {
          var A, a = this;
          (0, o.default)(this, e), this.summaryReady = !1, this.actorRandomParam = Date
            .now().toString().slice(7), this.handleEditableChange = function (e) {
              a.pgReader && "function" == typeof a.pgReader.updateControl && a.pgReader
                .updateControl(e)
            }, this.handlePlayerPause = function () {
              a.pgReader && a.data.animPageIndex === a.app.room.currBoard.currPage
                .getAnimPageIndex() && a.pgReader.gotoAnimation({
                  animIndex: a.data.animIndex,
                  animState: a.data.animState
                }, !0)
            }, this.handlePlayerPlaySpeed = function (e) {
              a.pgReader && a.pgReader.setAnimSpeed(e)
            }, this.opId = t.opId, this.type = r.type, this.boardName = t.data.boardName,
            this.app = n, this.operation = r, this.boundary = t.data.boundary;
          var s = this.app.room.boards[this.boardName];
          window.PgReader ? (this.pgReader = new window.PgReader({
              fontDownloadPrefix: null === (A = this.app.serviceConf) || void 0 ===
                A ? void 0 : A.pptFontUrl,
              pageCount: t.data.pageCount,
              loadVideo: !0,
              controlVideo: !this.app.isRecordPlayer,
              ntpDiff: this.app.ntpTimeDiff,
              logger: this.app.logger,
              drawPlugin: this.app,
              videoFullIcon: !0
            }), this.pgReader.on("event:pptState:change", (function (e, t) {
              if ("pageImgLoaded" === e) a.removeBlockH5Img(t);
              else if ("indexLoaded" === e) a.summaryReady = !0, a
                .onAttributeUpdated(a.data, !0);
              else if ("mediaUpdate" === e) a.onPptMediaUpdate(t);
              else if ("maxVideo" === e) {
                var n = a.boundary,
                  r = {
                    sx: n.sx + n.w * t.left,
                    sy: n.sy + n.h * t.top,
                    w: n.w * t.w,
                    h: n.h * t.h
                  };
                a.app.setCameraBound({
                  centerX: r.sx + r.w / 2,
                  centerY: r.sy + r.h / 2,
                  width: r.w,
                  height: r.h
                }, !0)
              }
            }))) : n.logger.error("[ws] pptRenderer.js is required to load ppt"), this
            .data = t.data.transDocData || {
              animIndex: 0,
              animState: "start",
              animPageIndex: 0
            }, this.operation.opsManager.hooks.pageChange.tap("PageChange", this
              .handlePageChange.bind(this)), this.operation.opsManager.hooks
            .previewWaiting.tap("PreviewWaitingPlugin", this.handlePreviewWaiting.bind(
              this));
          var u = s.payloadOfPages,
            l = !0,
            c = !1,
            d = void 0;
          try {
            for (var p, h = (0, i.default)(u); !(l = (p = h.next()).done); l = !0) {
              var f = p.value;
              if (f && f.hasOwnProperty("animPageIndex")) {
                var g = s.getPageNameByAnimPageIndex(f.animPageIndex);
                null !== g && s.pages[g].addWaitingResource("h5Image")
              }
            }
          } catch (e) {
            c = !0, d = e
          } finally {
            try {
              !l && h.return && h.return()
            } finally {
              if (c) throw d
            }
          }
          this.app.on("event:editable:change", this.handleEditableChange), this.app
            .isRecordPlayer && (this.app.on("event:player:pause", this.handlePlayerPause),
              this.app.on("event:player:playSpeed", this.handlePlayerPlaySpeed))
        }
        return (0, s.default)(e, [{
          key: "waitTilReady",
          value: function () {
            return p(this, void 0, void 0, a.default.mark((function e() {
              var t, n, r, A = this;
              return a.default.wrap((function (e) {
                for (;;) switch (e.prev = e.next) {
                  case 0:
                    if (t = u.default.resolve(!0), this.pgReader)
                      for (n = function (e) {
                          t = t.then((function () {
                            var t = [];
                            return t.push(A.pgReader
                                .waitTilPageReady(e, {
                                  timeout: 8e3
                                })), "function" == typeof A
                              .pgReader.waitTilImgReady && t
                              .push(A.pgReader
                                .waitTilImgReady(e, {
                                  timeout: 8e3
                                })), u.default.all(t)
                          }))
                        }, r = 0; r < this.pgReader
                        .pageCount; r++) n(r);
                    return e.next = 4, t;
                  case 4:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            })))
          }
        }, {
          key: "removeBlockH5Img",
          value: function (e) {
            if (this.pgReader) {
              var t = this.app.room.boards[this.boardName],
                n = t.getPageNameByAnimPageIndex(e);
              n && t.pages[n].removeWaitingResource("h5Image")
            }
          }
        }, {
          key: "mountElement",
          value: function (e, t, n, a) {
            var i, o, s, u = this;
            if (a = (null === (i = this.app.serviceConf) || void 0 === i ?
                void 0 : i.pptDownloadHost) ? (0, c.replaceUrlHost)(a, this.app
                .serviceConf.pptDownloadHost) : a, this.container = n, this
              .pgReader) {
              ! function () {
                if (f) return;
                f = !0;
                var e = document.createElement("style");
                e.type = "text/css";
                e.innerHTML =
                  "\n@keyframes __newb__rotate {\nfrom {transform: rotate(0);}\nto {transform: rotate(360deg);}\n}\n    ",
                  document.getElementsByTagName("head")[0].appendChild(e)
              }();
              var d = document.createElement("img");
              d.src = l.default, d.className = "__newb__ppt_icon_loading", this
                .container.appendChild(d), (0, A.default)(d.style, {
                  display: "none",
                  position: "absolute",
                  top: "50%",
                  left: "50%",
                  bottom: "0",
                  right: "0",
                  width: "55px",
                  height: "55px",
                  animation: "2s ease-in-out infinite __newb__rotate",
                  transform: "translate(-50%, -50%)",
                  zIndex: "1000"
                });
              var p = Array.isArray(e.data.backupResultUrls) ? e.data
                .backupResultUrls : [];
              p = p.map((function (e) {
                  var t;
                  return (null === (t = u.app.serviceConf) || void 0 === t ?
                    void 0 : t.pptDownloadHost) ? (0, c.replaceUrlHost)(e, u
                    .app.serviceConf.pptDownloadHost) : e
                })), this.app.logger.log("whiteboardSDK--\x3e mountPpt", a, (0, r
                  .default)(p)), this.pgReader.open(a, {
                  mode: "lazy",
                  backupResultUrls: p
                }).then((function () {
                  u.pgReader.updateContainer(n);
                  var r = Date.now() + u.app.ntpTimeDiff - e.time;
                  e.uid === u.app.account.toString() && r < 1e3 && !t && 0 ===
                    u.data.animPageIndex && "start" === u.data.animState &&
                    0 === u.data.animIndex && u.pgReader.waitTilPageReady(0)
                    .then((function () {
                      var e = u.pgReader.getFirstAnimationPosition(0);
                      0 === e.animIndex && "start" === e.animState || u
                        .putAttributes((0, A.default)((0, A.default)({},
                          e), {
                          animPageIndex: 0,
                          jump: !1
                        }))
                    }))
                })), this.app.isRecordPlayer && (null === (o = this.app.player) ||
                  void 0 === o ? void 0 : o.playSpeed) && this.pgReader
                .setAnimSpeed(null === (s = this.app.player) || void 0 === s ?
                  void 0 : s.playSpeed)
            }
          }
        }, {
          key: "destroy",
          value: function () {
            var e;
            this.container && (null === (e = this.container.parentNode) ||
                void 0 === e || e.removeChild(this.container)), this.app
              .isRecordPlayer && (this.app.off("event:player:pause", this
                .handlePlayerPause), this.app.off("event:player:playSpeed", this
                .handlePlayerPlaySpeed)), this.pgReader && this.pgReader.destroy()
          }
        }, {
          key: "hide",
          value: function () {
            this.container && (this.container.style.visibility = "hidden", this
              .pgReader && "function" == typeof this.pgReader.hide && this
              .pgReader.hide())
          }
        }, {
          key: "show",
          value: function () {
            this.container && (this.container.style.visibility = "visible", this
              .pgReader && "function" == typeof this.pgReader.show && this
              .pgReader.show())
          }
        }, {
          key: "hideLoading",
          value: function () {
            for (var e, t = (null === (e = this.container) || void 0 === e ?
                  void 0 : e.getElementsByClassName("__newb__ppt_icon_loading")
                  ) || [], n = 0; n < t.length; n++) t[n].style.display = "none"
          }
        }, {
          key: "showLoading",
          value: function () {
            for (var e, t = (null === (e = this.container) || void 0 === e ?
                  void 0 : e.getElementsByClassName("__newb__ppt_icon_loading")
                  ) || [], n = 0; n < t.length; n++) t[n].style.display = "block"
          }
        }, {
          key: "gotoNextPage",
          value: function () {
            var e = this,
              t = this.app.getPageInfos(),
              n = t.activeIndex;
            if (n < t.pageNames.length - 1) {
              var r = this.app.room.currBoard.getPageByIndex(n + 1)
                .getAnimPageIndex();
              null === r ? this.app.gotoPage(n + 1) : this.pgReader && (this
                .showLoading(), this.pgReader.waitTilPageReady(r).then((
                  function () {
                    var t = e.pgReader.getFirstAnimationPosition(r);
                    e.putAttributes((0, A.default)((0, A.default)({
                      jump: !1,
                      animPageIndex: r
                    }, t), {
                      updatePage: !0
                    })), e.hideLoading()
                  })).catch((function () {
                  e.putAttributes({
                    jump: !0,
                    animPageIndex: r,
                    animIndex: 0,
                    animState: "start",
                    updatePage: !0
                  }), e.hideLoading()
                })))
            }
          }
        }, {
          key: "gotoPrevPage",
          value: function () {
            var e = this,
              t = this.app.getPageInfos().activeIndex;
            if (t > 0) {
              var n = this.app.room.currBoard.getPageByIndex(t - 1)
                .getAnimPageIndex();
              null === n ? this.app.gotoPage(t - 1) : this.pgReader && (this
                .showLoading(), this.pgReader.waitTilPageReady(n).then((
                  function () {
                    var t = e.pgReader.getFirstAnimationPosition(n);
                    e.putAttributes((0, A.default)((0, A.default)({
                      jump: !1,
                      animPageIndex: n
                    }, t), {
                      updatePage: !0
                    })), e.hideLoading()
                  })).catch((function () {
                  e.putAttributes({
                    jump: !0,
                    animPageIndex: n,
                    animIndex: 0,
                    animState: "start",
                    updatePage: !0
                  }), e.hideLoading()
                })))
            }
          }
        }, {
          key: "gotoAnim",
          value: function (e) {
            var t = this;
            if (this.pgReader) {
              if (null === this.app.room.currBoard.getPageNameByAnimPageIndex(e
                  .pageIndex)) return this.app.logger.error(
                "[ws]: ppt page index: " + e.pageIndex + " is not found");
              this.showLoading(), this.pgReader.waitTilPageReady(e.pageIndex)
                .then((function () {
                  t.putAttributes({
                    jump: !0,
                    animIndex: e.animIndex,
                    animState: e.animState,
                    animPageIndex: e.pageIndex,
                    updatePage: !1
                  }), t.hideLoading()
                })).catch((function () {
                  t.hideLoading()
                }))
            }
          }
        }, {
          key: "nextAnim",
          value: function () {
            if (this.pgReader) {
              var e = void 0 !== this.data.animPageIndex && null !== this.data
                .animPageIndex,
                t = this.pgReader.getNextAnimationPosition(),
                n = this.app.room.currBoard;
              e && this.data.animPageIndex === n.currPage.getAnimPageIndex() &&
                t ? this.putAttributes((0, A.default)((0, A.default)({}, t), {
                  animPageIndex: this.app.room.currBoard.currPage
                    .getAnimPageIndex(),
                  jump: !1
                })) : this.gotoNextPage()
            }
          }
        }, {
          key: "prevAnim",
          value: function () {
            if (this.pgReader) {
              var e = void 0 !== this.data.animPageIndex && null !== this.data
                .animPageIndex,
                t = this.pgReader.getPrevAnimationPosition();
              e && t && this.data.animPageIndex === this.app.room.currBoard
                .currPage.getAnimPageIndex() ? this.putAttributes((0, A.default)((
                  0, A.default)({}, t), {
                  animPageIndex: this.app.room.currBoard.currPage
                    .getAnimPageIndex(),
                  jump: !0
                })) : this.gotoPrevPage()
            }
          }
        }, {
          key: "handlePreviewWaiting",
          value: function (e) {
            var t = this.app.room.currBoard.getPageByIndex(e);
            if (t) {
              var n = t.getAnimPageIndex();
              n && this.pgReader && this.boardName === this.app.room.currBoard
                .boardName && this.pgReader.waitTilPageReady(n)
            }
          }
        }, {
          key: "handlePageChange",
          value: function (e) {
            var t = this;
            if (this.app.isRecordPlayer || e.uid !== this.app.account ||
              "transDoc" === e.data.type) {
              if (this.app.isRecordPlayer || "transDoc" === e.data.type) {
                if (this.app.isRecordPlayer && this.boardName === this.app.room
                  .currBoard.boardName) {
                  var n = this.app.room.currBoard.currPage.getAnimPageIndex();
                  this.onReceiveAttributes({
                    animIndex: 0,
                    animState: "start",
                    animPageIndex: n,
                    jump: !0,
                    actor: e.uid
                  }, {
                    jump: !0
                  })
                }
              } else if (this.boardName === this.app.room.currBoard.boardName) {
                var r = this.app.room.currBoard.currPage.getAnimPageIndex();
                this.onReceiveAttributes({
                  animIndex: 0,
                  animState: "start",
                  animPageIndex: r,
                  jump: !0,
                  actor: e.uid
                }, {
                  jump: !0
                })
              }
            } else {
              var A = Date.now() + this.app.ntpTimeDiff - e.time;
              if (this.pgReader && this.boardName === this.app.room.currBoard
                .boardName && A < 300) {
                var a = this.app.room.currBoard.currPage.getAnimPageIndex();
                a || 0 === a ? (this.showLoading(), this.pgReader
                  .waitTilPageReady(a).then((function () {
                    var e = t.pgReader.getFirstAnimationPosition(a);
                    t.putAttributes({
                      jump: !1,
                      animIndex: e.animIndex,
                      animState: e.animState,
                      animPageIndex: a,
                      updatePage: !0
                    }), t.hideLoading()
                  })).catch((function () {
                    t.hideLoading()
                  }))) : this.putAttributes({
                  animIndex: 0,
                  animState: "start",
                  animPageIndex: a,
                  jump: !0,
                  updatePage: !0
                })
              }
            }
          }
        }, {
          key: "onPptMediaUpdate",
          value: function (e) {
            ("action" === e.cause || "anim" === e.cause && this.data.actor ===
              this.app.account + "_" + this.actorRandomParam) && this.operation
              .dispatch({
                boardName: this.boardName,
                dependOn: this.opId,
                skipUndo: !0,
                type: this.type,
                transDocData: (0, A.default)((0, A.default)({}, this.data), {
                  v: e.videos
                })
              })
          }
        }, {
          key: "putAttributes",
          value: function (e) {
            this.operation.dispatch({
              boardName: this.boardName,
              dependOn: this.opId,
              skipUndo: !0,
              type: this.type,
              transDocData: (0, A.default)((0, A.default)((0, A.default)((0, A
                .default)({}, this.data), e), {
                actor: this.app.account + "_" + this.actorRandomParam
              }), e.updatePage ? {
                v: {}
              } : {})
            })
          }
        }, {
          key: "onReceiveAttributes",
          value: function (e, t) {
            return p(this, void 0, void 0, a.default.mark((function n() {
              var r;
              return a.default.wrap((function (n) {
                for (;;) switch (n.prev = n.next) {
                  case 0:
                    r = (0, A.default)({}, this.data, e || {
                        animState: "start",
                        animIndex: 0,
                        animPageIndex: 0
                      }), e.jump ? this.onAttributeUpdated(r, !
                      0) : this.app.isRecordPlayer ? this
                      .onAttributeUpdated(r, !1) : this
                      .onAttributeUpdated(r, t.jump), this.data =
                      r;
                  case 3:
                  case "end":
                    return n.stop()
                }
              }), n, this)
            })))
          }
        }, {
          key: "onAttributeUpdated",
          value: function (e, t) {
            var n = this;
            clearTimeout(this.animTimer), this.summaryReady && (this.animTimer =
              setTimeout((function () {
                var r = n.app.room.currBoard.currPage.getAnimPageIndex();
                null !== r && r === e.animPageIndex ? (n.show(), n
                  .pgReader && n.pgReader.currPageIndex !== e
                  .animPageIndex && (n.showLoading(), n.pgReader
                    .waitTilPageReady(e.animPageIndex).then((function () {
                      n.pgReader.gotoPage(e.animPageIndex),
                        "function" == typeof n.pgReader
                        .setVideoState && n.pgReader.setVideoState(e
                          .v), n.hideLoading()
                    })).catch((function () {
                      n.pgReader.gotoPage(e.animPageIndex),
                        "function" == typeof n.pgReader
                        .setVideoState && n.pgReader.setVideoState(e
                          .v), n.hideLoading()
                    }))), n.pgReader && (n.showLoading(), n.app.emit(
                      "event:appState:change", "animation", {
                        pageIndex: e.animPageIndex,
                        animIndex: e.animIndex,
                        animState: e.animState
                      }), n.pgReader.waitTilPageReady(e.animPageIndex)
                    .then((function () {
                      n.pgReader.gotoAnimation({
                          animIndex: e.animIndex,
                          animState: e.animState
                        }, t), "function" == typeof n.pgReader
                        .setVideoState && n.pgReader.setVideoState(e
                          .v), n.hideLoading()
                    })).catch((function () {
                      n.pgReader.gotoAnimation({
                          animIndex: e.animIndex,
                          animState: e.animState
                        }, t), "function" == typeof n.pgReader
                        .setVideoState && n.pgReader.setVideoState(e
                          .v), n.hideLoading()
                    })))) : n.hide()
              }), 20))
          }
        }, {
          key: "previewDoc",
          value: function (e) {
            if (this.pgReader) {
              var t = e.boundary ? e.boundary : this.app.camera
                .getContainerWorldRect(),
                n = e.ctx.canvas.width,
                r = e.ctx.canvas.height,
                A = this.boundary.w;
              if ("fitDoc" === this.app.appConfig.previewMode && !e.stream && !e
                .toDataUrl) return this.pgReader.paintOnCanvas({
                ctx: e.ctx,
                pageIndex: e.animPageIndex,
                keepAnimState: e.keepAnimState
              });
              var a, i = [1, 0, 0, 1, 0, 0];
              if (n / r > t.width / t.height) {
                var o = r / n * A,
                  s = t.width / t.height * o,
                  u = s / A;
                i = [u, 0, 0, u, (A - s) / 2, 0]
              } else {
                i = [1, 0, 0, 1, 0, (r / n * A - t.height / t.width * A) / 2]
              }
              var l = A / t.width;
              a = [l, 0, 0, l, (this.boundary.sx - t.centerX + t.width / 2) * l, (
                  this.boundary.sy - t.centerY + t.height / 2) * l], this.pgReader
                .paintOnCanvas({
                  ctx: e.ctx,
                  pageIndex: e.animPageIndex,
                  keepAnimState: e.keepAnimState,
                  transforms: [i[0] * a[0], 0, 0, i[3] * a[3], i[4] + i[0] * a[
                    4], i[5] + i[3] * a[5]]
                })
            }
          }
        }]), e
      }(),
      f = !1;
    t.default = h
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjM1ODM4Mzk1MTM1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI5MTAiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNDgwIDk2YTMyIDMyIDAgMCAxIDY0IDB2MTkyYTMyIDMyIDAgMCAxLTY0IDBWOTZ6IG0yNTAuNjI0IDYwLjY0YTMyIDMyIDAgMSAxIDUxLjc3NiAzNy42MzJsLTExMi44MzIgMTU1LjMyOGEzMiAzMiAwIDAgMS01MS44MDgtMzcuNjMybDExMi44NjQtMTU1LjMyOHogbTE2Ny4xMzYgMTk2LjM4NGEzMiAzMiAwIDEgMSAxOS43NzYgNjAuODY0bC0xODIuNjI0IDU5LjMyOGEzMiAzMiAwIDAgMS0xOS43NzYtNjAuODY0bDE4Mi42MjQtNTkuMzI4eiBtMTkuNzc2IDI1Ny4wODhhMzIgMzIgMCAxIDEtMTkuNzc2IDYwLjg2NGwtMTgyLjYyNC01OS4zMjhhMzIgMzIgMCAwIDEgMTkuNzc2LTYwLjg2NGwxODIuNjI0IDU5LjMyOHpNNzgyLjQgODI5Ljc2YTMyIDMyIDAgMCAxLTUxLjc3NiAzNy42MzJsLTExMi44NjQtMTU1LjMyOGEzMiAzMiAwIDEgMSA1MS44MDgtMzcuNjMybDExMi44MzIgMTU1LjMyOHpNNTQ0IDkyOGEzMiAzMiAwIDAgMS02NCAwdi0xOTJhMzIgMzIgMCAwIDEgNjQgMHYxOTJ6IG0tMjUwLjYyNC02MC42NGEzMiAzMiAwIDAgMS01MS43NzYtMzcuNjMybDExMi44MzItMTU1LjMyOGEzMiAzMiAwIDAgMSA1MS44MDggMzcuNjMybC0xMTIuODY0IDE1NS4zMjh6IG0tMTY3LjEzNi0xOTYuMzg0YTMyIDMyIDAgMSAxLTE5Ljc3Ni02MC44NjRsMTgyLjYyNC01OS4zMjhhMzIgMzIgMCAwIDEgMTkuNzc2IDYwLjg2NGwtMTgyLjYyNCA1OS4zMjh6IG0tMTkuNzc2LTI1Ny4wODhhMzIgMzIgMCAwIDEgMTkuNzc2LTYwLjg2NGwxODIuNjI0IDU5LjMyOGEzMiAzMiAwIDEgMS0xOS43NzYgNjAuODY0bC0xODIuNjI0LTU5LjMyOHpNMjQxLjYgMTk0LjI0YTMyIDMyIDAgMSAxIDUxLjc3Ni0zNy42MzJsMTEyLjg2NCAxNTUuMzI4YTMyIDMyIDAgMSAxLTUxLjgwOCAzNy42MzJMMjQxLjYgMTk0LjI0eiIgcC1pZD0iMjkxMSIgZmlsbD0iIzJjMmMyYyI+PC9wYXRoPjwvc3ZnPg=="
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = h(n(5)),
      A = h(n(20)),
      a = h(n(2)),
      i = h(n(0)),
      o = h(n(1)),
      s = h(n(3)),
      u = h(n(4)),
      l = n(15),
      c = h(n(9)),
      d = n(19),
      p = h(n(352));

    function h(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var f = void 0,
      g = function (e) {
        function t() {
          (0, i.default)(this, t);
          var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
            arguments));
          return e.type = "pagePlugin", e.description = "外部页面插件", e.plugins = {}, e
            .DefMap = {}, e
        }
        return (0, u.default)(t, e), (0, o.default)(t, [{
          key: "registerHooks",
          value: function () {
            this.opsManager.hooks.mousedown.tap("MousedownPlugin", this
                .handleMouseDown.bind(this)), this.opsManager.hooks.click.tap(
                "ClickPlugin", this.handleMouseUp.bind(this)), this.opsManager
              .hooks.mouseup.tap("MouseupPlugin", this.handleMouseUp.bind(this)),
              this.opsManager.hooks.pageChange.tap("pageChangePlugin", this
                .onPageChange.bind(this)), this.opsManager.hooks.opChange.tap(
                "toolChangePlugin", this.handleToolChange.bind(this)), this
              .opsManager.hooks.cleanNonCanvasEle.tap("cleanNonCanvasElePlugin",
                this.handleCleanEle.bind(this))
          }
        }, {
          key: "eventsToListen",
          value: function () {
            return {
              "pagePlugin:insert": {
                value: this.addPlugin.bind(this),
                information: {
                  args: "opt",
                  message: "添加ppt转码文档页面"
                }
              }
            }
          }
        }, {
          key: "definePlugin",
          value: function (e) {
            this.DefMap[e.pluginType] = e.PluginClass
          }
        }, {
          key: "addPlugin",
          value: function (e) {
            var t = this.app.room.currBoard,
              n = this.opsManager.currPage;
            if (e && void 0 !== e.boardName && void 0 !== e.pageName) {
              var r = this.app.room.getPage(e.boardName, e.pageName);
              r && (n = r)
            } else if (e && void 0 !== e.pageName) {
              var A = this.app.room.getPage(t.boardName, e.pageName);
              A && (n = A)
            }
            n ? this.dispatchFromPage({
              type: this.type,
              pluginType: e.pluginType,
              attributes: e.attributes,
              boundary: {
                sx: e.cameraBound.centerX - e.cameraBound.width / 2,
                sy: e.cameraBound.centerY - e.cameraBound.height / 2,
                w: e.cameraBound.width,
                h: e.cameraBound.height
              }
            }, n) : this.app.logger.error(
              "[ws] PagePluginOp.addPlugin: board: " + e.boardName +
              ", page: " + e.pageName + " is not found")
          }
        }, {
          key: "handleCleanEle",
          value: function (e) {
            for (var t in this.plugins) {
              var n = this.plugins[t];
              n.boardName === e.boardName && n.pageName === e.pageIndex && this
                .destroyPlugin(n)
            }
          }
        }, {
          key: "handleMouseDown",
          value: function () {
            this.lastFocusPlugin && this.lastFocusPlugin.setClickable(!1)
          }
        }, {
          key: "handleMouseUp",
          value: function () {
            var e = this;
            clearTimeout(this.timer), this.timer = setTimeout((function () {
              e.checkPluginClickable()
            }), 0), this.checkPluginClickable()
          }
        }, {
          key: "handleToolChange",
          value: function (e) {
            "select" === e && this.lastFocusPlugin ? this.lastFocusPlugin
              .setClickable(!0) : this.lastFocusPlugin && this.lastFocusPlugin
              .setClickable(!1)
          }
        }, {
          key: "checkPluginClickable",
          value: function () {
            var e = this.opsManager.selectedOpIds,
              t = void 0;
            1 === e.length && (t = this.plugins[e[0]]), this.lastFocusPlugin !==
              t && (this.lastFocusPlugin && this.lastFocusPlugin.setClickable(!1),
                t && t.setClickable(!0), this.lastFocusPlugin = t)
          }
        }, {
          key: "onPageChange",
          value: function () {
            var e = this;
            this.lastFocusPlugin && (this.lastFocusPlugin.setClickable(!1), this
              .lastFocusPlugin = void 0), clearTimeout(f), f = setTimeout((
              function () {
                for (var t = (0, A.default)(e.app.room.boards), n = e.app.room
                    .currBoard.pageNames, r = e.app.room.currIndex, a = e.app
                    .room.currBoard.currIndex.toString(), i = (0, A.default)(e
                      .plugins), o = i.length - 1; o >= 0; o--) {
                  var s = i[o],
                    u = e.plugins[s];
                  if (-1 !== t.indexOf(u.boardName)) {
                    if (r !== u.boardName && u.visible) u.hide();
                    else if (r === u.boardName) {
                      if (-1 === n.indexOf(a)) {
                        e.destroyPlugin(e.plugins[s]);
                        continue
                      }
                      a !== u.pageName || u.visible ? a !== u.pageName && u
                        .visible && u.hide() : u.show()
                    }
                  } else e.destroyPlugin(e.plugins[s])
                }
              }), 0)
          }
        }, {
          key: "destroy",
          value: function () {
            for (var e in this.plugins) this.destroyPlugin(this.plugins[e])
          }
        }, {
          key: "destroyPlugin",
          value: function (e) {
            e.destroy(), delete this.plugins[e.opId]
          }
        }, {
          key: "updateDocClipPath",
          value: function () {
            for (var e = this.app.room.currIndex, t = (0, A.default)(this
                .plugins), n = t.length - 1; n >= 0; n--) {
              var r = t[n],
                a = this.plugins[r];
              a.boardName === e && (0, d.updateDocClipPath)(a.boundary, this.app
                .camera, a.container)
            }
          }
        }, {
          key: "hide",
          value: function (e) {
            var t = this.plugins[e.opId];
            t && this.destroyPlugin(t)
          }
        }, {
          key: "draw",
          value: function (e) {
            if (!this.plugins[e.opId]) {
              var t = this.DefMap[e.data.pluginType];
              if (!t) return void this.logger.error(
                "[ws] PagePluginOp: plugin type " + e.data.pluginType +
                " is not found");
              this.plugins[e.opId] = new p.default({
                snapshot: e,
                app: this.app,
                pagePluginOp: this,
                HandlerConstructor: t
              })
            }
            var n = this.plugins[e.opId],
              A = e.data,
              a = (0, l.getTransformedBoundary)(this.app.scale, A),
              i = n.container;
            (0, r.default)(i.style, {
              transformOrigin: "0 0",
              left: a.sx + "px",
              top: a.sy + "px",
              width: a.w * this.app.scale + "px",
              height: a.h * this.app.scale + "px",
              transform: "scale(" + 1 / this.app.scale + ")"
            }), (0, d.updateDocClipPath)({
              sx: a.sx,
              sy: a.sy,
              w: a.w,
              h: a.h
            }, this.app.camera, i, 1 / this.app.scale), n.receiveAttributes(e.data
              .transDocData)
          }
        }, {
          key: "transformOp",
          value: function (e, t) {
            return (0, d.transformPropertyOverwriteOp)(e, t)
          }
        }]), t
      }(c.default);
    t.default = g
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = a(n(0)),
      A = a(n(1));

    function a(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var i = function () {
      function e(t) {
        (0, r.default)(this, e), this.visible = !1;
        var n = t.snapshot,
          A = t.app,
          a = t.pagePluginOp,
          i = t.HandlerConstructor;
        this.handler = new i, this.opId = n.opId, this.boardName = n.board, this
          .pageName = n.page.toString(), this.app = A, this.op = a, this.boundary = n
          .data.boundary, this.container = document.createElement("div"), this.container
          .style.position = "fixed", this.container.id = "" + n.opId, this.container
          .className = "plugin-container", this.app.container.h5El.appendChild(this
            .container), this.mountElement({
            snapshot: n
          })
      }
      return (0, A.default)(e, [{
        key: "setClickable",
        value: function (e) {
          this.container && e !== this.clickable && (this.clickable = e, this
            .container.style.pointerEvents = e ? "auto" : "unset")
        }
      }, {
        key: "mountElement",
        value: function (e) {
          var t = e.snapshot;
          this.attributes = t.data.attributes, this.visible = !0, this.handler
            .onMount && this.handler.onMount({
              container: this.container,
              attributes: this.attributes,
              recordPlayer: this.app.isRecordPlayer
            })
        }
      }, {
        key: "destroy",
        value: function () {
          var e;
          this.visible = !1, this.container && (null === (e = this.container
              .parentNode) || void 0 === e || e.removeChild(this.container)),
            this.handler.onDestroy && this.handler.onDestroy({
              container: this.container,
              attributes: this.attributes,
              recordPlayer: this.app.isRecordPlayer
            })
        }
      }, {
        key: "hide",
        value: function () {
          this.visible = !1, this.container && (this.container.style
              .visibility = "hidden"), this.handler.onHide && this.handler
            .onHide({
              container: this.container,
              attributes: this.attributes,
              recordPlayer: this.app.isRecordPlayer
            })
        }
      }, {
        key: "show",
        value: function () {
          this.visible = !0, this.container && (this.container.style
              .visibility = "visible"), this.handler.onShow && this.handler
            .onShow({
              attributes: this.attributes,
              container: this.container,
              recordPlayer: this.app.isRecordPlayer
            })
        }
      }, {
        key: "receiveAttributes",
        value: function (e) {
          var t = this.attributes;
          this.handler.onReceiveAttributes && this.handler.onReceiveAttributes({
            container: this.container,
            attributes: e,
            prevAttribtues: t,
            recordPlayer: this.app.isRecordPlayer
          })
        }
      }, {
        key: "_putAttributes",
        value: function (e) {
          this.op.dispatch({
            reuseOpType: "edit-" + this.opId,
            dependOn: this.opId,
            skipUndo: !0,
            type: this.op.type,
            attributes: e
          })
        }
      }, {
        key: "putAttributes",
        value: function (e) {
          this._putAttributes(e)
        }
      }]), e
    }();
    t.default = i
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = C(n(7)),
      A = C(n(5)),
      a = C(n(2)),
      i = C(n(0)),
      o = C(n(1)),
      s = C(n(3)),
      u = C(n(26)),
      l = C(n(4)),
      c = C(n(74)),
      d = n(29),
      p = C(n(60)),
      h = n(15),
      f = n(354),
      g = C(n(22)),
      y = n(138),
      v = n(53),
      m = n(28),
      w = n(66),
      B = n(97),
      I = n(141),
      M = n(19);

    function C(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var b = (0, v.deviceOS)(),
      x = function (e) {
        function t() {
          (0, i.default)(this, t);
          var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
            arguments));
          return e.type = "shape", e.shouldSaniteEp = !0, e.description =
            "绘制图形。\n首先使用op:shape:activate设置画布为矩形模式", e.defType = "rect", e
            .currTextAttr = {
              value: ""
            }, e.currOpId = void 0, e.lastDragMx = 0, e.lastDragMy = 0, e.lastOpId = "", e
            .auxLock = {
              pos: [0, 0],
              lockX: 0,
              lockY: 0,
              unlockXCount: 0,
              unlockYCount: 0,
              shiftX: 0,
              shiftY: 0,
              lastMoves: [
                [0, 0],
                [0, 0],
                [0, 0]
              ],
              lastCx: 0,
              lastCy: 0
            }, e.enterTextEditMode = function (t) {
              e.currOpId = t.opId, e.currTextAttr = (0, A.default)({}, t.data.text ||
                {}) || {
                  value: ""
                }, e.currEditor = (0, f.setupTextEditor)(e.app, (0, A.default)((0, A
                  .default)({}, t.data), {
                  maxTxtLen: w.MAX_SHAPE_TXT_LEN
                }), {
                  container: e.app.container.domEl,
                  onchange: function (t) {
                    e.handleTextChange(t, !0)
                  },
                  onblur: function (t, n) {
                    n && e.handleTextChange(t, !1), e.currEditor = null, e
                      .currTextAttr = {
                        value: ""
                      }, e.app.room.refresh()
                  }
                }), e.app.emit("event:textEditor:show")
            }, e.handleTextChange = function (t, n) {
              e.currTextAttr || (e.currTextAttr = {
                value: ""
              }), e.currTextAttr.value = t;
              var r = e.opsManager.opMap.modify;
              "string" == typeof e.currOpId && e.dispatch(r.getSnapshot([e.currOpId], [{
                k: "text",
                v: (0, A.default)({}, e.currTextAttr)
              }], n))
            }, e.getSnapshot = function (t) {
              var n = g.default.shapeDef;
              return {
                type: e.type,
                boundary: e.getBoundaryRectOfLine(),
                lineWidth: n.lineWidth,
                inProgress: t,
                stroke: n.stroke,
                fill: n.fill,
                dash: m.IDashType.Solid,
                text: {
                  value: "",
                  stroke: n.text.stroke,
                  fontSize: n.text.fontSize,
                  fill: n.text.fill,
                  textAlign: n.text.textAlign,
                  verticalAlign: n.text.verticalAlign,
                  fontFamily: n.text.fontFamily
                },
                shape: e.defType
              }
            }, e
        }
        return (0, l.default)(t, e), (0, o.default)(t, [{
          key: "registerHooks",
          value: function () {
            (0, u.default)(t.prototype.__proto__ || (0, a.default)(t.prototype),
              "registerHooks", this).call(this), this.opsManager.hooks.opAdd.tap(
                "OpAdd", this.onOpAdded.bind(this)), this.opsManager.hooks.click
              .tap("MouseClick", this.MouseClickHook.bind(this))
          }
        }, {
          key: "eventsToListen",
          value: function () {
            return {
              "shape:dragShapeIn": {
                value: this.dragShapeIn.bind(this),
                information: {
                  args: "ids: Array<string>, attrs:{key:string, value: any}[], inProgress: boolean",
                  message: "更改选中元素的属性"
                }
              }
            }
          }
        }, {
          key: "dragShapeIn",
          value: function (e, t, n, r) {
            var A = g.default.shapeDef,
              a = void 0,
              i = void 0;
            if (r || 0 === this.lastDragMx && 0 === this.lastDragMy) {
              var o = t - this.app.container.left,
                s = n - this.app.container.top,
                u = this.app.camera.convertToPointInWorld(o, s);
              this.lastDragMx = u[0], this.lastDragMy = u[1]
            }
            a = this.lastDragMx, i = this.lastDragMy;
            var l = (0, I.getMoveInAuxiliaryLine)(this.app, a, i, t, n, this
              .auxLock, "move");
            if (!l && r) return !0;
            l && (a = l.mx, i = l.my);
            var c = {
              type: this.type,
              boundary: {
                sx: a - 75,
                sy: i - 75,
                w: 150,
                h: 150
              },
              lineWidth: A.lineWidth,
              inProgress: r,
              stroke: A.stroke,
              fill: A.fill,
              dash: m.IDashType.Solid,
              text: {
                value: "",
                stroke: A.text.stroke,
                fontSize: A.text.fontSize,
                fontFamily: A.text.fontFamily,
                fill: A.text.fill,
                textAlign: A.text.textAlign,
                verticalAlign: A.text.verticalAlign
              },
              shape: e
            };
            if (this.lastOpId) {
              var d = this.opsManager.auxiliaryOp.calcAuxiliaryLine({
                bound: {
                  sx: a - 75,
                  sy: i - 75,
                  w: 150,
                  h: 150
                },
                ids: [this.lastOpId],
                action: "move"
              });
              (0, I.updateAuxLock)(this.auxLock, a, i, d)
            }
            this.lastOpId = this.dispatch(c), r || (this.opsManager.auxiliaryOp
              .clean(), this.app.setTool("select"), this.lastDragMx = 0, this
              .lastDragMy = 0, this.lastOpId = "")
          }
        }, {
          key: "dispatchClickSnap",
          value: function (e, t, n) {
            return this.points = [
                [t - 75, n - 75],
                [t + 75, n + 75]
              ], this.dispatch(this.getSnapshot(!1)), this.points = [], this
              .opsManager.setCurrOp("select"), !0
          }
        }, {
          key: "handleMouseUp",
          value: function (e, n, r, A, i, o) {
            (0, u.default)(t.prototype.__proto__ || (0, a.default)(t.prototype),
              "handleMouseUp", this).call(this, e, n, r, A, i, o), this.auxLock
              .shiftX = 0, this.auxLock.shiftY = 0, this.auxLock.lockX = 0, this
              .auxLock.lockY = 0, this.auxLock.lastCx = 0, this.auxLock.lastCy =
              0, this.auxLock.lastMoves = [
                [0, 0],
                [0, 0],
                [0, 0]
              ], this.points = [], this.opsManager.setCurrOp("select")
          }
        }, {
          key: "onOpAdded",
          value: function (e) {
            if ("shape" === e.data.type && e.uid === this.app.account && !e.data
              .inProgress) {
              var t = e.time,
                n = Date.now() + this.app.ntpTimeDiff;
              Math.abs(n - t) < 100 && this.currOpId !== e.opId && (this.dispatch(
                  this.opsManager.selectOp.getSnapshot([e.opId])), b
                .isDesktop && this.enterTextEditMode(e))
            }
          }
        }, {
          key: "MouseClickHook",
          value: function (e, t, n) {
            var r = this;
            if (this.opsManager.currOp instanceof p.default) {
              var A = this.opsManager.selectedOpIds.filter((function (e) {
                return r.drawOpsOfPage.hasOwnProperty(e)
              }));
              if (1 === A.length) {
                var a = this.drawOpsOfPage[A[0]];
                if ("shape" === a.data.type && !(0, v.isIosDevice)()) {
                  var i = (0, h.getTransformedVertices)(a.data);
                  if ((0, h.pointInVertices)(i, [t, n])) return this.currOpId ===
                    a.opId && this.currEditor || (this.enterTextEditMode(a),
                      this.app.room.refresh()), !0
                }
              }
            }
          }
        }, {
          key: "isTxtContained",
          value: function (e) {
            var t = e.data;
            if (this.app.ShapeDesc[t.shape] && t.text) {
              var n = (0, B.getEditorPos)(this.app, t),
                r = n.w,
                A = n.h,
                a = t.text.fontSize || 32;
              return A > (0, y.getTextLines)({
                ctx: this.app.container.ctx,
                txt: t.text.value || "",
                fontSize: a,
                w: r,
                fontFamily: t.text.fontFamily
              }).length * a * 1.25 - .28 * a
            }
            return !0
          }
        }, {
          key: "setSubType",
          value: function (e) {
            this.defType = e
          }
        }, {
          key: "draw",
          value: function (e, t) {
            var n, r = e.data;
            r.shape && this.app.ShapeDesc.hasOwnProperty(r.shape) ? (this
              .drawPath(t, r.shape, r), this.strokeOrFill(t, {
                stroke: r.stroke,
                fill: r.fill,
                lineWidth: r.lineWidth,
                opacity: r.opacity,
                isShape: !0,
                dash: r.dash
              }), (null === (n = e.data.text) || void 0 === n ? void 0 : n
                .value) && (this.currOpId === e.opId && this.currEditor ? (this
                  .currTextAttr = e.data.text || {
                    value: ""
                  }, (0, f.updateEditor)(this.app, this.currEditor, r)) : r
                .text && (0, y.drawTextOnCanvas)(this.app, t, r, this.app.scale)
                )) : console.warn("[wb], 未定义类型: " + r.shape)
          }
        }, {
          key: "drawPath",
          value: function (e, t, n) {
            var A = [n.boundary.sx, n.boundary.sy],
              a = [n.boundary.sx + n.boundary.w, n.boundary.sy + n.boundary.h],
              i = n.mat,
              o = this.app.ShapeDesc[t].path;
            e.beginPath();
            var s = !0,
              u = this.app.scale,
              l = (0, h.getTransformedSize)(n);
            o = "function" == typeof o ? o(l.w, l.h) : o;
            var c = !0,
              p = !1,
              f = void 0;
            try {
              for (var g, y = (0, r.default)(o); !(c = (g = y.next()).done); c = !
                0) {
                var v = g.value,
                  m = v.pos.map((function (e) {
                    var t = T(A, a, e);
                    return t = (0, d.getTransPoint)(t, i), (0, M.padPt)(t, u)
                  }));
                s && (e.moveTo(m[0][0], m[0][1]), s = !1), "l" === v.t ? e.lineTo(
                  m[1][0], m[1][1]) : "b" === v.t && (4 === m.length ? e
                  .bezierCurveTo(m[1][0], m[1][1], m[2][0], m[2][1], m[3][0], m[
                    3][1]) : 3 === m.length && e.quadraticCurveTo(m[1][0], m[1][
                    1
                  ], m[2][0], m[2][1]))
              }
            } catch (e) {
              p = !0, f = e
            } finally {
              try {
                !c && y.return && y.return()
              } finally {
                if (p) throw f
              }
            }
            e.closePath()
          }
        }]), t
      }(c.default);

    function T(e, t, n) {
      return [e[0] * (1 - n[0]) + t[0] * n[0], e[1] * (1 - n[1]) + t[1] * n[1]]
    }
    t.default = x
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.updateEditor = t.setupTextEditor = void 0;
    var r, A = n(5),
      a = (r = A) && r.__esModule ? r : {
        default: r
      },
      i = n(53),
      o = n(22),
      s = n(97);
    var u = 1,
      l = (t.setupTextEditor = function (e, t, n) {
        var r = document.createElement("div"),
          A = document.createElement("div"),
          a = document.createElement("div");
        A.appendChild(a), a.contentEditable = "true", a.dataset.editorId = "shape-" + (
          u++).toString();
        var o = 0;
        r.ontouchstart = function (e) {
          o = Date.now(), e.stopPropagation()
        }, r.onmousedown = function (e) {
          o = Date.now(), e.stopPropagation()
        }, r.onmousemove = function (e) {
          document.body.style.cursor = "auto", e.stopPropagation()
        };
        var d = !1;
        return a.oninput = function (e) {
            d = !0, (0, s.inputHandler)(e, (function (e) {
              var a;
              n.onchange(e), c(null === (a = t.text) || void 0 === a ? void 0 : a
                .verticalAlign, r, A)
            }), t.maxTxtLen)
          }, a.onblur = function (e) {
            Date.now() - o < 100 ? e.target.focus() : (n.onblur((0, s.htmlToText)(e
              .target), d), n.container.removeChild(r))
          }, a.onfocus = function (e) {
            var n;
            if (!(Date.now() - o < 100)) {
              var u = (0, i.deviceOS)();
              (0, s.setTextRange)(a, u.isDesktop ? "all" : "end"), c(null === (n = t
                .text) || void 0 === n ? void 0 : n.verticalAlign, r, A)
            }
          }, a.onkeydown = function (e) {
            return (0, s.preventOverLen)(e, t.maxTxtLen)
          }, a.onpaste = function (e) {
            return (0, s.preventOverLen)(e, t.maxTxtLen)
          }, a.addEventListener("beforeinput", s.beforeInputHandler), a
          .addEventListener("compositionstart", s.beforeInputHandler), a
          .addEventListener("compositionend", (function (e) {
            (0, s.inputHandler)(e, n.onchange, t.maxTxtLen)
          })), t.text && (a.innerText = t.text.value), l(e, {
            container: r,
            wrapper: A,
            core: a
          }, t), n.container.appendChild(r), r.appendChild(A), a.focus(), {
            container: r,
            wrapper: A,
            core: a
          }
      }, t.updateEditor = function (e, t, n) {
        var r, A, i, u, l, c, d = (0, s.getEditorPos)(e, n),
          p = (null === (r = n.text) || void 0 === r ? void 0 : r.fontSize) || 32,
          h = (null === (A = n.text) || void 0 === A ? void 0 : A.fontFamily) || o
          .DefaultFont,
          f = 1.25 * p;
        (0, s.setEditorTxt)(t.core, (null === (i = n.text) || void 0 === i ? void 0 : i
          .value) || ""), (0, a.default)(t.container.style, {
          position: "absolute",
          left: d.sx + "px",
          top: d.sy + "px",
          width: d.w + 1 + "px",
          height: d.h + "px",
          transform: "rotate(" + 180 * d.angle / Math.PI + "deg)",
          transformOrigin: "0 0",
          padding: 0,
          outline: "none",
          resize: "none",
          overflow: "hidden",
          pointerEvents: "auto",
          textAlign: (null === (u = n.text) || void 0 === u ? void 0 : u.textAlign) ||
            "left"
        }), (0, a.default)(t.wrapper.style, {
          width: "100%",
          height: "fit-content",
          fontFamily: h,
          fontSize: p + "px",
          fontWeight: "normal",
          lineHeight: f + "px",
          padding: 0
        }), (0, a.default)(t.core.style, (0, a.default)({
          display: "inline",
          outline: "none",
          "-webkit-font-smoothing": "antialiased",
          userSelect: "text",
          webkitUserSelect: "text",
          paddingLeft: "1px",
          color: (null === (l = n.text) || void 0 === l ? void 0 : l.stroke) ||
            "rgb(0,0,0)",
          background: "transparent"
        }, (null === (c = n.text) || void 0 === c ? void 0 : c.fill) ? {
          backgroundColor: n.text.fill
        } : {}))
      }),
      c = function (e, t, n) {
        var r = n.clientHeight < t.clientHeight,
          A = r && ("middle" === e || "bottom" === e),
          i = r && "middle" === e,
          o = t.getElementsByClassName("pre"),
          s = t.getElementsByClassName("aft");
        if (A && 0 === o.length) {
          var u = document.createElement("div");
          u.className = "pre", t.prepend(u), (0, a.default)(u.style, {
            height: "100%"
          })
        } else if (!A && o.length > 0)
          for (var l = o.length - 1; l >= 0; l--) o[l].remove();
        if (i && 0 === s.length) {
          var c = document.createElement("div");
          c.className = "aft", t.appendChild(c), (0, a.default)(c.style, {
            height: "100%"
          })
        } else if (!i && s.length > 0)
          for (var d = s.length - 1; d >= 0; d--) s[d].remove();
        "bottom" === e ? t.scrollTop = t.scrollHeight : "middle" === e && (t.childNodes
          .length > 1 ? t.scrollTop = (t.clientHeight + n.clientHeight) / 2 : t
          .scrollTop = (n.clientHeight - t.clientHeight) / 2)
      }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = M(n(16)),
      A = M(n(7)),
      a = M(n(5)),
      i = M(n(2)),
      o = M(n(0)),
      s = M(n(1)),
      u = M(n(3)),
      l = M(n(4)),
      c = M(n(139)),
      d = M(n(74)),
      p = n(28),
      h = M(n(60)),
      f = n(138),
      g = n(231),
      y = n(15),
      v = n(65),
      m = n(39),
      w = n(66),
      B = n(22),
      I = n(137);

    function M(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var C = function (e) {
      function t() {
        (0, o.default)(this, t);
        var e = (0, u.default)(this, (t.__proto__ || (0, i.default)(t)).apply(this,
          arguments));
        return e.type = "link", e.description = "流程图连接", e._handleMoveText = function (
          t, n, r) {
          if (e.movingText)
            for (var A = (0, v.getNearestLinkInfo)({
                  mx: t,
                  my: n,
                  data: e.movingText.linkSnap.data
                }), a = A.per, i = A.dist, o = e.movingText.linkSnap.data, s = o
                .text || {
                  arr: [],
                  stroke: "black",
                  fontSize: 12,
                  fontFamily: B.DefaultFont
                }, u = s.arr, l = (0, c.default)(s), d = 0; d < u.length; d++)
              if (u[d]._id === e.movingText._id) {
                var p = w.TEXT_REMOVE_THRES / e.app.scale;
                if (i > p && !r) l.arr.splice(d, 1);
                else if (i > p) {
                  var h = (0, v.getLinkPosByPer)({
                      data: o,
                      per: a,
                      op: e
                    }),
                    f = t - h[0],
                    g = n - h[1],
                    y = Math.sqrt(f * f + g * g);
                  f = f / y * (.5 * p + Math.pow(y, .7)), g = g / y * (.5 * p + Math
                      .pow(y, .7)), l.arr[d].per = a, l.arr[d].rm = !0, l.arr[d].dx =
                    f, l.arr[d].dy = g
                } else l.arr[d].per = a;
                return void e.dispatch(e.opsManager.modifyOp.getSnapshot([e.movingText
                  .linkSnap.opId
                ], [{
                  k: "text",
                  v: l
                }], r))
              }
        }, e._handleMoveP = function (t, n, r) {
          var A;
          if (e.movingEle) {
            var i = void 0,
              o = (0, a.default)({}, e.movingEle.start),
              s = (0, a.default)({}, e.movingEle.end);
            if ("conn" === e.movingEle.type) i = (0, v.graphAftConnM)({
              start: e.movingEle.start,
              end: e.movingEle.end,
              startPos: e.movingEle.startPos,
              endPos: e.movingEle.endPos,
              connPs: e.movingEle.connPs,
              index: e.movingEle.index,
              linkType: e.movingEle.linkType,
              x: t,
              y: n,
              op: e
            }), o.dir = i.start.dir, s.dir = i.end.dir;
            else {
              var u = e.drawOpsOfPage[e.movingEle.opId].data;
              u = u && "link" === u.type ? u : void 0;
              var l = {
                  linkType: e.movingEle.linkType,
                  sFrom: e.movingEle.startPos,
                  eFrom: e.movingEle.endPos,
                  sTo: e.movingEle.startPos,
                  eTo: e.movingEle.endPos,
                  connPs: e.movingEle.connPs,
                  data: e.drawOpsOfPage[e.movingEle.opId].data
                },
                c = (0, m.findEndPoint)(e.app, {
                  drawOps: e.drawOpsOfPage,
                  scale: e.app.scale,
                  mx: t,
                  my: n
                }),
                d = "start" === e.movingEle.type ? e.movingEle.endPos : e.movingEle
                .startPos,
                h = c ? c.dir : (0, m.getInitDir)(d, {
                  x: t,
                  y: n
                }),
                f = {
                  x: t,
                  y: n
                };
              if (c) {
                var g = null === (A = e.drawOpsOfPage[c.opId]) || void 0 === A ?
                  void 0 : A.data;
                g && (f = (0, m.getEndPointInfo)(e.app, g, c.per))
              }
              "start" === e.movingEle.type ? l.sTo = (0, a.default)((0, a.default)({},
                f), {
                dir: h
              }) : l.eTo = (0, a.default)((0, a.default)({}, f), {
                dir: h
              }), i = (0, v.graphAftEndM)((0, a.default)((0, a.default)({}, l), {
                op: e
              })), "start" === e.movingEle.type ? o = c ? {
                id: c.opId,
                type: p.IEndPointType.ATTACH,
                per: c.per,
                aType: e.movingEle.start.aType,
                dir: i.start.dir,
                reset: !0
              } : {
                type: p.IEndPointType.COORD,
                x: t,
                y: n,
                aType: e.movingEle.start.aType,
                dir: i.start.dir,
                reset: !0
              } : s = c ? {
                id: c.opId,
                type: p.IEndPointType.ATTACH,
                per: c.per,
                aType: e.movingEle.end.aType,
                dir: i.end.dir,
                reset: !0
              } : {
                type: p.IEndPointType.COORD,
                x: t,
                y: n,
                aType: e.movingEle.end.aType,
                dir: i.end.dir,
                reset: !0
              }
            }
            return e.dispatch(e.opsManager.modifyOp.getSnapshot([e.movingEle.opId], [{
              k: "connPs",
              v: i.connPs
            }, {
              k: "start",
              v: o
            }, {
              k: "end",
              v: s
            }], r)), !0
          }
        }, e.addT = function (t) {
          var n = e.drawOpsOfPage[t];
          if (n && "link" === n.data.type) {
            var r = n.data;
            if (!(r.text.arr.length >= 7)) {
              var A = (0, m.getLinkNewTextPer)(r.text.arr);
              if (A > 0 && A < 1) {
                var a = (0, v.getLinkPosByPer)({
                  per: A,
                  data: r,
                  op: e
                });
                e.enterTextEditMode({
                  x: a[0],
                  y: a[1],
                  linkSnap: n,
                  per: A
                })
              }
            }
          }
        }, e.enterTextEditMode = function (t) {
          clearTimeout(e.textEditTimer), e.textEditTimer = setTimeout((function () {
            clearTimeout(e.textEditTimer), e._enterTextEditMode(t)
          }), 100)
        }, e._enterTextEditMode = function (t) {
          var n, r, A, a, i;
          e.app.room.refresh();
          var o = t.per,
            s = t.x,
            u = t.y,
            l = t._id,
            c = t.linkSnap;
          e.textEditInfo = {
            _id: l,
            linkSnap: c,
            per: o
          };
          var d = c.data,
            p = ((null === (n = d.text) || void 0 === n ? void 0 : n.arr) || [])
            .filter((function (e) {
              return e._id === l
            }))[0];
          e.currEditor = (0, g.setupTextEditor)(e.app, {
            text: (null == p ? void 0 : p.value) || "",
            stroke: (null === (r = d.text) || void 0 === r ? void 0 : r.stroke) ||
              "black",
            fontSize: (null === (A = d.text) || void 0 === A ? void 0 : A
              .fontSize) || 12,
            fontFamily: (null === (a = d.text) || void 0 === a ? void 0 : a
              .fontFamily) || B.DefaultFont,
            textAlign: "center",
            maxTxtLen: w.MAX_LINK_TXT_LEN
          }, {
            sx: s - I.MIN_TXT_W / 2,
            sy: u - 1.5 * ((null === (i = d.text) || void 0 === i ? void 0 : i
              .fontSize) || 12) / 2,
            angle: 0
          }, {
            container: e.app.container.domEl,
            onchange: function (t) {
              e.handleTextChange(t, !0)
            },
            onblur: function (t, n) {
              e.handleTextBlur(t, n), e.app.room.refresh()
            }
          }), e.app.emit("event:textEditor:show")
        }, e.handleTextChange = function (t, n) {
          if (e.textEditInfo) {
            e.textEditInfo._id || (e.textEditInfo._id = Date.now() + Math.ceil(1e3 *
              Math.random()));
            for (var r = e.textEditInfo.linkSnap.data.text || {
                arr: [],
                stroke: "black",
                fontSize: 12
              }, A = r.arr, i = (0, c.default)(r), o = !1, s = 0; s < A.length; s++)
              if (A[s]._id === e.textEditInfo._id) {
                i.arr[s].value = t;
                var u = e.getTextBoundRect();
                i.arr[s] = (0, a.default)((0, a.default)((0, a.default)({}, i.arr[
                s]), {
                  value: t
                }), u), o = !0;
                break
              } if (!o) {
              var l = e.getTextBoundRect();
              i.arr.push((0, a.default)({
                _id: e.textEditInfo._id,
                value: t,
                per: e.textEditInfo.per
              }, l))
            }
            i.arr = i.arr.filter((function (e) {
              return e.value
            })), e.dispatch(e.opsManager.modifyOp.getSnapshot([e.textEditInfo
              .linkSnap.opId
            ], [{
              k: "text",
              v: i
            }], n))
          }
        }, e.getTextBoundRect = function () {
          var t = e.currEditor.container.getBoundingClientRect(),
            n = t.width,
            r = t.height;
          return {
            w: n /= e.app.scale,
            h: r /= e.app.scale
          }
        }, e.handleTextBlur = function (t, n) {
          n && e.handleTextChange(t, !1), e.textEditInfo = void 0, e.currEditor =
            void 0
        }, e
      }
      return (0, l.default)(t, e), (0, s.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.mousedown.tap("md", this.handleMouseDown.bind(
              this)), this.opsManager.hooks.mousemove.tap("mm", this
              .handleMouseMove.bind(this)), this.opsManager.hooks.mouseup.tap(
              "mc", this.handleMouseUp.bind(this)), this.opsManager.hooks
            .dblClick.tap("dblClick", this.handleDblClick.bind(this)), this
            .opsManager.hooks.click.tap("click", this.handleClick.bind(this))
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            "link:addT": {
              value: this.addT,
              information: {
                args: "id: string",
                message: ""
              }
            }
          }
        }
      }, {
        key: "getMouseHandleIds",
        value: function (e) {
          var t = this,
            n = [];
          if (this.opsManager.currOp instanceof h.default) {
            var r = this.opsManager.selectedOpIds;
            for (var A in this.drawOpsOfPage) "link" === this.drawOpsOfPage[A]
              .data.type && -1 === r.indexOf(A) && n.push(A);
            1 === r.length && "link" === this.drawOpsOfPage[r[0]].data.type && n
              .push(r[0]);
            var a = this.app.getCameraBound();
            n = n.filter((function (e) {
              var n = t.drawOpsOfPage[e],
                r = (0, y.getTransformedBoundary)(t.app.scale, {
                  boundary: n.data.boundary
                });
              return r.sx < a.centerX + a.width / 2 && r.sy < a.centerY +
                a.height / 2 && r.sx + r.w > a.centerX - a.width / 2 && r
                .sy + r.h > a.centerY - a.height / 2
            }))
          }
          return n
        }
      }, {
        key: "handleMouseDown",
        value: function (e, t, n) {
          var r;
          this.movingEle = void 0, this.movingText = void 0;
          var a = this.getMouseHandleIds(e),
            i = this.opsManager.selectedOpIds,
            o = !0,
            s = !1,
            u = void 0;
          try {
            for (var l, c = (0, A.default)(a); !(o = (l = c.next()).done); o = !
              0) {
              var d = l.value,
                p = this.drawOpsOfPage[d],
                h = p.data,
                f = h.start,
                g = h.end,
                y = h.connPs,
                v = h.linkType,
                w = this.getPosToMouse({
                  mx: t,
                  my: n,
                  data: h
                }),
                B = (0, m.getLinkEndPos)(this.app, f, this),
                I = (0, m.getLinkEndPos)(this.app, g, this);
              if (B && I && w) {
                if ("start" === w.type) return this.movingEle = {
                  opId: d,
                  type: "start",
                  index: -1,
                  connPs: y.slice(),
                  startPos: B,
                  endPos: I,
                  start: f,
                  end: g,
                  linkType: v
                }, !0;
                if ("end" === w.type) return this.movingEle = {
                  opId: d,
                  type: "end",
                  index: -1,
                  connPs: y.slice(),
                  startPos: B,
                  endPos: I,
                  start: f,
                  end: g,
                  linkType: v
                }, !0;
                if ("conn" === w.type && -1 !== i.indexOf(d)) return this
                  .movingEle = {
                    opId: d,
                    type: "conn",
                    index: w.payload.index,
                    connPs: y.slice(),
                    startPos: B,
                    endPos: I,
                    start: f,
                    end: g,
                    linkType: v
                  }, !0;
                if ("text" === w.type) {
                  var M = (null === (r = h.text) || void 0 === r ? void 0 : r
                      .arr) || [],
                    C = !0,
                    b = !1,
                    x = void 0;
                  try {
                    for (var T, k = (0, A.default)(M); !(C = (T = k.next())
                        .done); C = !0) {
                      var E = T.value;
                      if (E._id === w.payload._id) return this.movingText = {
                        linkSnap: p,
                        _id: E._id,
                        per: E.per
                      }, !0
                    }
                  } catch (e) {
                    b = !0, x = e
                  } finally {
                    try {
                      !C && k.return && k.return()
                    } finally {
                      if (b) throw x
                    }
                  }
                }
              }
            }
          } catch (e) {
            s = !0, u = e
          } finally {
            try {
              !o && c.return && c.return()
            } finally {
              if (s) throw u
            }
          }
        }
      }, {
        key: "handleMouseMove",
        value: function (e, t, n) {
          if (this.opsManager.currOp instanceof h.default) {
            if (this.movingEle && this.isMouseDown) return this._handleMoveP(t,
              n, !0);
            if (this.movingText && this.isMouseDown) return this
              ._handleMoveText(t, n, !0), !0;
            if (!this.isMouseDown && 1 === this.opsManager.selectedOpIds
              .length) {
              var r = this.drawOpsOfPage[this.opsManager.selectedOpIds[0]].data;
              if ("link" === r.type) {
                var A = this.getPosToMouse({
                  mx: t,
                  my: n,
                  data: r
                });
                if (A) return "start" === A.type && r.start.type === p
                  .IEndPointType.COORD || "end" === A.type && r.end.type === p
                  .IEndPointType.COORD || "conn" === A.type || "text" === A
                  .type ? (document.body.style.cursor = "pointer", !0) : (
                    document.body.style.cursor = "auto", !0)
              }
            }
          }
        }
      }, {
        key: "handleMouseUp",
        value: function (e, t, n) {
          if (this.opsManager.currOp instanceof h.default && this.movingEle &&
            this.isMouseDown) {
            var r = this._handleMoveP(t, n, !1);
            return this.movingEle = void 0, this.movingText = void 0, r
          }
          if (this.opsManager.currOp instanceof h.default && this.movingText &&
            this.isMouseDown) return this._handleMoveText(t, n, !1), this
            .movingEle = void 0, this.movingText = void 0, !0
        }
      }, {
        key: "handleClick",
        value: function (e, t, n) {
          var r;
          if (this.opsManager.currOp instanceof h.default) {
            var a = this.opsManager.currOp.selectedOpIds;
            if (1 === a.length) {
              var i = this.drawOpsOfPage[a[0]];
              if ("link" === i.data.type) {
                var o = i.data,
                  s = (null === (r = o.text) || void 0 === r ? void 0 : r
                  .arr) || [],
                  u = !0,
                  l = !1,
                  c = void 0;
                try {
                  for (var d, p = (0, A.default)(s); !(u = (d = p.next())
                    .done); u = !0) {
                    var f = d.value,
                      g = (0, v.getLinkPosByPer)({
                        data: o,
                        per: f.per,
                        op: this
                      });
                    if ((0, y.pointInRect)({
                        sx: g[0] - f.w / 2,
                        sy: g[1] - f.h / 2,
                        w: f.w,
                        h: f.h
                      }, 0, [t, n])) return this.enterTextEditMode({
                      x: g[0] - f.w / 2,
                      y: g[1] - f.h / 2,
                      _id: f._id,
                      per: f.per,
                      linkSnap: i
                    }), !0
                  }
                } catch (e) {
                  l = !0, c = e
                } finally {
                  try {
                    !u && p.return && p.return()
                  } finally {
                    if (l) throw c
                  }
                }
              }
            }
          }
        }
      }, {
        key: "getPosToMouse",
        value: function (e) {
          var t, n = e.mx,
            r = e.my,
            a = e.data;
          if ("link" === a.type) {
            var i = a.connPs,
              o = a.start,
              s = a.end,
              u = (0, m.getLinkEndPos)(this.app, o, this),
              l = (0, m.getLinkEndPos)(this.app, s, this);
            if (!u || !l) return;
            var c = Math.abs(l.x - n) + Math.abs(l.y - r) < w
              .END_POINT_TEST_RADIUS / this.app.scale;
            if (Math.abs(u.x - n) + Math.abs(u.y - r) < w
              .END_POINT_TEST_RADIUS / this.app.scale) return {
              type: "start"
            };
            if (c) return {
              type: "end"
            };
            for (var d = 0; d < i.length; d++) {
              if (Math.abs(i[d].x - n) + Math.abs(i[d].y - r) < w
                .CONN_TEST_RADIUS / this.app.scale) return {
                type: "conn",
                payload: {
                  index: d,
                  per: (0, v.getNearestLinkInfo)({
                    mx: n,
                    my: r,
                    data: a
                  }).per
                }
              }
            }
            var p = (null === (t = a.text) || void 0 === t ? void 0 : t.arr) ||
              [],
              h = !0,
              f = !1,
              g = void 0;
            try {
              for (var B, I = (0, A.default)(p); !(h = (B = I.next())
                .done); h = !0) {
                var M = B.value,
                  C = (0, v.getLinkPosByPer)({
                    data: a,
                    per: M.per,
                    op: this
                  });
                if ((0, y.pointInRect)({
                    sx: C[0] - M.w / 2,
                    sy: C[1] - M.h / 2,
                    w: M.w,
                    h: M.h
                  }, 0, [n, r])) return {
                  type: "text",
                  payload: {
                    _id: M._id
                  }
                }
              }
            } catch (e) {
              f = !0, g = e
            } finally {
              try {
                !h && I.return && I.return()
              } finally {
                if (f) throw g
              }
            }
            if ((0, v.isUnderPoint)({
                data: a,
                p: [n, r],
                op: this
              })) return {
              type: "link",
              payload: {
                per: (0, v.getNearestLinkInfo)({
                  mx: n,
                  my: r,
                  data: a
                }).per
              }
            }
          }
        }
      }, {
        key: "handleDblClick",
        value: function (e, t, n) {
          var r, i, o = this.getMouseHandleIds(e),
            s = this.opsManager.selectedOpIds,
            u = !0,
            l = !1,
            c = void 0;
          try {
            for (var d, h = (0, A.default)(o); !(u = (d = h.next()).done); u = !
              0) {
              var f = d.value,
                g = this.drawOpsOfPage[f],
                y = g.data,
                w = this.getPosToMouse({
                  data: y,
                  mx: t,
                  my: n
                });
              if (w) {
                if ("start" === w.type && y.start.type === p.IEndPointType
                  .COORD) return (0, m.selectShapeForLink)({
                  app: this.app,
                  op: this,
                  linkData: y,
                  linkId: g.opId,
                  where: "start"
                }), !0;
                if ("end" === w.type && y.end.type === p.IEndPointType.COORD)
                  return (0, m.selectShapeForLink)({
                    app: this.app,
                    op: this,
                    linkData: y,
                    linkId: g.opId,
                    where: "end"
                  }), !0;
                if ("conn" === w.type) {
                  if ((null === (r = y.connPs[w.payload.index]) || void 0 ===
                      r ? void 0 : r.type) === p.IConnPointType.Anchor && -1 !==
                    s.indexOf(f)) {
                    var B = (0, m.getLinkEndPos)(this.app, y.start, this),
                      I = (0, m.getLinkEndPos)(this.app, y.end, this);
                    if (!B || !I) continue;
                    var M = (0, v.graphAftConnD)({
                      start: B,
                      end: I,
                      data: y,
                      index: w.payload.index,
                      op: this
                    });
                    return this.dispatch(this.opsManager.modifyOp.getSnapshot([g
                      .opId
                    ], [{
                      k: "connPs",
                      v: M.connPs
                    }, {
                      k: "start",
                      v: (0, a.default)((0, a.default)({}, y.start), {
                        dir: M.start.dir
                      })
                    }, {
                      k: "end",
                      v: (0, a.default)((0, a.default)({}, y.end), {
                        dir: M.end.dir
                      })
                    }], !1)), !0
                  }
                  if (y.text.arr.length < 7) {
                    var C = (0, v.getLinkPosByPer)({
                      per: w.payload.per,
                      data: y,
                      op: this
                    });
                    return this.enterTextEditMode({
                      x: C[0],
                      y: C[1],
                      linkSnap: g,
                      per: w.payload.per
                    }), !0
                  }
                } else if ("link" === w.type) {
                  if (y.text.arr.length < 7) {
                    var b = (0, v.getLinkPosByPer)({
                      per: w.payload.per,
                      data: y,
                      op: this
                    });
                    return this.enterTextEditMode({
                      x: b[0],
                      y: b[1],
                      linkSnap: g,
                      per: w.payload.per
                    }), !0
                  }
                } else if ("text" === w.type) {
                  var x = (null === (i = y.text) || void 0 === i ? void 0 : i
                      .arr) || [],
                    T = !0,
                    k = !1,
                    E = void 0;
                  try {
                    for (var N, O = (0, A.default)(x); !(T = (N = O.next())
                        .done); T = !0) {
                      var P = N.value;
                      if (P._id === w.payload._id) {
                        var _ = (0, v.getLinkPosByPer)({
                          data: y,
                          per: P.per,
                          op: this
                        });
                        return console.log("pos", _, "entry w h", P.w, P.h),
                          this.enterTextEditMode({
                            x: _[0] - P.w / 2,
                            y: _[1] - P.h / 2,
                            _id: P._id,
                            per: P.per,
                            linkSnap: g
                          }), !0
                      }
                    }
                  } catch (e) {
                    k = !0, E = e
                  } finally {
                    try {
                      !T && O.return && O.return()
                    } finally {
                      if (k) throw E
                    }
                  }
                }
              }
            }
          } catch (e) {
            l = !0, c = e
          } finally {
            try {
              !u && h.return && h.return()
            } finally {
              if (l) throw c
            }
          }
        }
      }, {
        key: "drawSelectedLink",
        value: function (e, t) {
          var n = t.data,
            r = n.start,
            a = n.end,
            i = n.connPs,
            o = (0, m.getLinkEndPos)(this.app, r, this),
            s = (0, m.getLinkEndPos)(this.app, a, this);
          if (o && s) {
            this.drawWhiteDot(e, o), this.drawWhiteDot(e, s);
            var u = !0,
              l = !1,
              c = void 0;
            try {
              for (var d, h = (0, A.default)(i); !(u = (d = h.next())
                .done); u = !0) {
                var f = d.value;
                if (e.beginPath(), f.type === p.IConnPointType.Split) Math.min((
                    0, y.dist)([o.x, o.y], [f.x, f.y]), (0, y.dist)([s.x, s
                    .y], [f.x, f.y])) > w.CONN_DISP_THRES / this.app.scale &&
                  this.drawBlueDot(e, f);
                else this.drawWhiteDot(e, f)
              }
            } catch (e) {
              l = !0, c = e
            } finally {
              try {
                !u && h.return && h.return()
              } finally {
                if (l) throw c
              }
            }
          }
        }
      }, {
        key: "drawBlueDot",
        value: function (e, t) {
          e.beginPath(), e.fillStyle = "blue", e.arc(t.x, t.y, 2 / this.app
            .scale, 0, 2 * Math.PI), e.fill()
        }
      }, {
        key: "drawWhiteDot",
        value: function (e, t) {
          e.beginPath(), e.fillStyle = "white", e.arc(t.x, t.y, 4 / this.app
            .scale, 0, 2 * Math.PI), e.fill(), e.strokeStyle = "black", e.arc(
            t.x, t.y, 4 / this.app.scale, 0, 2 * Math.PI), e.stroke()
        }
      }, {
        key: "draw",
        value: function (e, t) {
          var n = e.data,
            r = n.dash,
            A = n.start,
            a = n.end,
            i = this.app.room.getPage(e.board, e.page.toString(), !1),
            o = (0, m.getLinkEndPos)(this.app, A, this, i),
            s = (0, m.getLinkEndPos)(this.app, a, this, i);
          if (o && s) {
            if (r === p.IDashType.Dashed) {
              var u = 2 / this.app.scale;
              t.lineCap = "butt", t.lineWidth = 1 / this.app.scale, t
                .setLineDash([u, 2 * u])
            } else t.lineWidth = n.lineWidth;
            t.strokeStyle = n.stroke, (0, v.drawLink)({
              ctx: t,
              data: n,
              op: this
            });
            var l = (0, v.getArrowPts)({
              data: n,
              op: this,
              startPos: o,
              endPos: s
            });
            A.aType === p.IArrowType.Arrow && this.drawArrow(t, l.start, n
              .stroke), a.aType === p.IArrowType.Arrow && this.drawArrow(t, l
              .end, n.stroke), this.drawText(e, t, i)
          }
        }
      }, {
        key: "drawArrow",
        value: function (e, t, n) {
          e.beginPath(), e.moveTo.apply(e, (0, r.default)(t[0])), e.lineTo
            .apply(e, (0, r.default)(t[1])), e.lineTo.apply(e, (0, r.default)(t[
              2])), e.fillStyle = n, e.fill()
        }
      }, {
        key: "drawText",
        value: function (e, t, n) {
          var r, a = e.data,
            i = a.text;
          if (i) {
            t.fillStyle = i.stroke;
            var o = !0,
              s = !1,
              u = void 0;
            try {
              for (var l, c = (0, A.default)(i.arr); !(o = (l = c.next())
                .done); o = !0) {
                var d = l.value;
                if (d._id === (null === (r = this.textEditInfo) || void 0 ===
                    r ? void 0 : r._id) && this.currEditor) {
                  var p = (0, v.getLinkPosByPer)({
                    per: d.per,
                    data: a,
                    op: this
                  });
                  (0, g.updateEditor)({
                    sx: p[0] - d.w / 2,
                    sy: p[1] - d.h / 2,
                    angle: 0
                  }, this.currEditor, {
                    text: d.value,
                    stroke: i.stroke,
                    fontSize: i.fontSize,
                    fontFamily: i.fontFamily,
                    textAlign: "center"
                  })
                } else {
                  var h = (0, v.getLinkPosByPer)({
                      per: d.per,
                      data: a,
                      op: this,
                      page: n
                    }),
                    y = (0, f.getTextLines)({
                      ctx: t,
                      txt: d.value,
                      fontSize: i.fontSize,
                      fontFamily: i.fontFamily
                    });
                  d.rm || (t.fillStyle = this.app.appConfig.canvasBgColor, t
                      .fillRect(h[0] - d.w / 2, h[1] - d.h / 2, d.w, d.h)), t
                    .translate(h[0] - d.w / 2, h[1] - d.h / 2), d.rm && (t
                      .globalAlpha = .3, t.translate(d.dx || 0, d.dy || 0)), (0,
                      f.drawText)({
                      ctx: t,
                      textArr: y,
                      fontSize: i.fontSize,
                      fontFamily: i.fontFamily,
                      lineHeightF: 1.25,
                      w: d.w,
                      h: d.h,
                      fill: void 0,
                      stroke: i.stroke,
                      clip: !0,
                      align: "center",
                      vAlign: "middle"
                    }), d.rm && (t.globalAlpha = 1, t.translate(-(d.dx || 0), -(
                      d.dy || 0))), t.translate(-h[0] + d.w / 2, -h[1] + d.h /
                      2)
                }
              }
            } catch (e) {
              s = !0, u = e
            } finally {
              try {
                !o && c.return && c.return()
              } finally {
                if (s) throw u
              }
            }
          }
        }
      }, {
        key: "patchOp",
        value: function (e) {
          var t = this.app.room.getPage(e.board, e.page.toString(), !1);
          (0, v.patchLink)({
            data: e.data,
            op: this,
            page: t
          })
        }
      }, {
        key: "getUpdatedTxtProps",
        value: function (e, t) {
          var n = t.fontFamily,
            r = t.fontSize,
            a = (0, c.default)(e.text),
            i = a.arr,
            o = !0,
            s = !1,
            u = void 0;
          try {
            for (var l, d = (0, A.default)(i); !(o = (l = d.next()).done); o = !
              0) {
              var p = l.value;
              if (r) p.w = r / a.fontSize * p.w, p.h = r / a.fontSize * p.h;
              else if (n) {
                var h = this.opsManager.textOp.getTextSize({
                  text: p.value,
                  fontFamily: n,
                  fontSize: a.fontSize
                });
                p.w = h.w, p.h = h.h
              }
            }
          } catch (e) {
            s = !0, u = e
          } finally {
            try {
              !o && d.return && d.return()
            } finally {
              if (s) throw u
            }
          }
          return r ? a.fontSize = r : n && (a.fontFamily = n), a
        }
      }]), t
    }(d.default);
    t.default = C
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = B(n(7)),
      A = B(n(5)),
      a = B(n(2)),
      i = B(n(0)),
      o = B(n(1)),
      s = B(n(3)),
      u = B(n(4)),
      l = n(53),
      c = n(15),
      d = n(66),
      p = n(29),
      h = B(n(9)),
      f = B(n(60)),
      g = n(19),
      y = B(n(22)),
      v = n(65),
      m = n(39),
      w = n(28);

    function B(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var I = (0, l.deviceOS)(),
      M = I.isMobile || I.isTablet,
      C = function (e) {
        function t() {
          (0, i.default)(this, t);
          var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
            arguments));
          return e.type = "graph", e
        }
        return (0, u.default)(t, e), (0, o.default)(t, [{
          key: "registerHooks",
          value: function () {
            this.opsManager.hooks.mousedown.tap("md", this.handleMouseDown.bind(
              this)), this.opsManager.hooks.mouseup.tap("mu", this.handleMouseUp
              .bind(this)), this.opsManager.hooks.mousemove.tap("mm", this
              .handleMouseMove.bind(this)), this.opsManager.hooks.click.tap(
              "mc", this.handleClick.bind(this))
          }
        }, {
          key: "handleMouseDown",
          value: function (e, t, n) {
            if (this.opsManager.currOp instanceof f.default && (this.hintInfo ||
                this.setHintInfo(t, n), this.hintInfo)) return this.dispatch(this
              .opsManager.selectOp.getSnapshot([])), !0
          }
        }, {
          key: "handleMouseUp",
          value: function (e, t, n) {
            if (this.opsManager.currOp instanceof f.default && this.hintInfo) {
              if (this.isMouseMoved) {
                var r = this.genLink(t, n, !1);
                if (!r) return;
                (0, m.selectShapeForLink)({
                  linkData: r.linkData,
                  linkId: r.opId,
                  app: this.app,
                  op: this,
                  where: "end"
                })
              } else this.handleClick(e, t, n);
              return this.hintInfo = void 0, this.hideHintShape(), !0
            }
          }
        }, {
          key: "setHintInfo",
          value: function (e, t) {
            var n, r, A = null === (n = this.opsManager.selectOp.selectInfo) ||
              void 0 === n ? void 0 : n.hintPos,
              a = null === (r = this.opsManager.drawOpsOfPage[this.opsManager
                .selectedOpIds[0]]) || void 0 === r ? void 0 : r.data;
            if (A && !A.hidden && a) {
              var i = this.app.scale,
                o = d.HINT_TEST_RADIUS / i,
                s = Math.sqrt((A.p1[0] - A.p3[0]) * (A.p1[0] - A.p3[0]) + (A.p1[
                  1] - A.p3[1]) * (A.p1[1] - A.p3[1])) * i,
                u = Math.sqrt((A.p2[0] - A.p4[0]) * (A.p2[0] - A.p4[0]) + (A.p2[
                  1] - A.p4[1]) * (A.p2[1] - A.p4[1])) * i,
                l = M ? Math.min(3, s / 100) : 1,
                p = M ? Math.min(3, u / 100) : 1;
              (0, c.dist)([e, t], A.p1) < o * p ? this.hintInfo = {
                data: a,
                id: A.id,
                p: A.p1,
                sp: A.sp1,
                dir: w.DIRECTION.UP
              } : (0, c.dist)([e, t], A.p2) < o * l ? this.hintInfo = {
                data: a,
                id: A.id,
                p: A.p2,
                sp: A.sp2,
                dir: w.DIRECTION.RIGHT
              } : (0, c.dist)([e, t], A.p3) < o * p ? this.hintInfo = {
                data: a,
                id: A.id,
                p: A.p3,
                sp: A.sp3,
                dir: w.DIRECTION.DOWN
              } : (0, c.dist)([e, t], A.p4) < o * l ? this.hintInfo = {
                data: a,
                id: A.id,
                p: A.p4,
                sp: A.sp4,
                dir: w.DIRECTION.LEFT
              } : this.hintInfo = void 0
            } else this.hintInfo = void 0
          }
        }, {
          key: "handleMouseMove",
          value: function (e, t, n) {
            if (this.opsManager.currOp instanceof f.default && !this.isMouseDown)
              this.setHintInfo(t, n);
            else if (this.opsManager.currOp instanceof f.default && this.hintInfo)
              return this.genLink(t, n, !0), this.hideHintShape(), !0;
            this.hintInfo ? this.showHintShape(this.hintInfo.data, this.hintInfo
                .id, this.hintInfo.sp, this.hintInfo.dir, !1) : this
              .hideHintShape()
          }
        }, {
          key: "handleClick",
          value: function (e, t, n) {
            if (this.opsManager.currOp instanceof f.default) {
              if (this.hintInfo) return this.showHintShape(this.hintInfo.data,
                  this.hintInfo.id, this.hintInfo.sp, this.hintInfo.dir, !0),
                this.hintInfo = void 0, this.hideHintShape(), !0;
              this.hideHintShape()
            }
          }
        }, {
          key: "genLink",
          value: function (e, t, n) {
            if (this.hintInfo) {
              var r = 1 / 8;
              switch (this.hintInfo.dir) {
                case w.DIRECTION.DOWN:
                  r = 5 / 8;
                  break;
                case w.DIRECTION.LEFT:
                  r = 7 / 8;
                  break;
                case w.DIRECTION.RIGHT:
                  r = 3 / 8
              }
              var a = {
                  id: this.hintInfo.id,
                  type: w.IEndPointType.FLEX,
                  per: r,
                  aType: y.default.linkDef.startArrow,
                  dir: this.hintInfo.dir
                },
                i = (0, m.findEndPoint)(this.app, {
                  mx: e,
                  my: t,
                  drawOps: this.drawOpsOfPage,
                  scale: this.app.scale
                }),
                o = i ? i.dir : (0, m.getInitDir)({
                  x: this.hintInfo.sp[0],
                  y: this.hintInfo.sp[1]
                }, {
                  x: e,
                  y: t
                }),
                s = i ? {
                  id: i.opId,
                  type: w.IEndPointType.FLEX,
                  per: i.per,
                  aType: y.default.linkDef.endArrow,
                  dir: o
                } : {
                  type: w.IEndPointType.COORD,
                  x: e,
                  y: t,
                  aType: y.default.linkDef.endArrow,
                  dir: o
                },
                u = (0, m.getLinkEndPos)(this.app, a, this.opsManager.linkOp),
                l = (0, m.getLinkEndPos)(this.app, s, this.opsManager.linkOp);
              if (u && l) {
                var c = (0, v.graphInit)({
                    linkType: y.default.linkDef.linkType,
                    start: u,
                    end: l,
                    op: this,
                    data: {
                      start: a,
                      end: s
                    }
                  }),
                  d = {
                    type: "link",
                    start: (0, A.default)((0, A.default)({}, a), {
                      dir: c.start.dir
                    }),
                    end: (0, A.default)((0, A.default)({}, s), {
                      dir: c.end.dir
                    }),
                    connPs: c.connPs,
                    dash: y.default.linkDef.dash,
                    linkType: y.default.linkDef.linkType,
                    stroke: y.default.linkDef.stroke,
                    lineWidth: y.default.linkDef.lineWidth,
                    inProgress: n,
                    text: {
                      arr: [],
                      fontSize: y.default.linkDef.text.fontSize,
                      stroke: y.default.linkDef.text.stroke,
                      fontFamily: y.default.linkDef.text.fontFamily
                    }
                  };
                return {
                  linkData: d,
                  opId: this.dispatch(d)
                }
              }
            }
          }
        }, {
          key: "connToExistShape",
          value: function (e) {
            var t = e.data,
              n = e.id,
              r = e.sp,
              a = e.dir,
              i = e.per,
              o = e.otherPer,
              s = e.dirAftRotate,
              u = e.send,
              l = 1 / 0,
              h = void 0,
              f = d.SUGGEST_SHAPE_DIST,
              g = (0, c.getTransformedBoundary)(this.app.scale, {
                mat: t.mat,
                boundary: t.boundary
              }),
              B = a === w.DIRECTION.LEFT || a === w.DIRECTION.RIGHT ? g.w : g.h,
              I = [];
            for (var M in this.drawOpsOfPage) {
              var C = this.drawOpsOfPage[M].data;
              "link" === C.type && C.start.type !== w.IEndPointType.COORD && C.end
                .type !== w.IEndPointType.COORD && (C.start.id === n && -1 === I
                  .indexOf(C.end.id) && I.push(C.end.id), C.end.id === n && -1 ===
                  I.indexOf(C.start.id) && I.push(C.start.id))
            }
            for (var b in this.drawOpsOfPage) {
              var x = this.drawOpsOfPage[b].data;
              if (-1 === w.exLinkTypes.indexOf(x.type) && b !== n && -1 === I
                .indexOf(b)) {
                var T = x.boundary,
                  k = (0, p.getTransPoint)([T.sx + T.w / 2, T.sy], x.mat),
                  E = (0, p.getTransPoint)([T.sx + T.w, T.sy + T.h / 2], x.mat),
                  N = (0, p.getTransPoint)([T.sx + T.w / 2, T.sy + T.h], x.mat),
                  O = (0, p.getTransPoint)([T.sx, T.sy + T.h / 2], x.mat),
                  P = (0, c.distSqrt)(k, r),
                  _ = (0, c.distSqrt)(E, r),
                  D = (0, c.distSqrt)(N, r),
                  Q = (0, c.distSqrt)(O, r),
                  S = P,
                  U = k;
                S > _ && (S = _, U = E), S > D && (S = D, U = N), S > Q && (S = Q,
                  U = O);
                var F = (0, m.getDistDivideByDir)(U, r, s),
                  L = F.v1,
                  j = F.v2;
                L > 0 && L < f && L < l && Math.abs(j) < B && (l = L, h = b)
              }
            }
            if (h) {
              var z = this.drawOpsOfPage[h].data,
                R = (0, A.default)((0, A.default)({}, (0, m.getEndPointInfo)(this
                  .app, z, o)), {
                  dir: 3 - s
                }),
                H = (0, A.default)((0, A.default)({}, (0, m.getEndPointInfo)(this
                  .app, t, i)), {
                  dir: s
                }),
                Y = (0, v.graphInit)({
                  linkType: y.default.linkDef.linkType,
                  start: H,
                  end: R,
                  op: this
                }),
                G = {
                  type: "link",
                  start: {
                    id: n,
                    type: w.IEndPointType.FLEX,
                    per: i,
                    aType: y.default.linkDef.startArrow,
                    dir: s
                  },
                  end: {
                    id: h,
                    type: w.IEndPointType.FLEX,
                    per: o,
                    aType: y.default.linkDef.endArrow,
                    dir: 3 - s
                  },
                  connPs: Y.connPs,
                  linkType: y.default.linkDef.linkType,
                  dash: u ? y.default.linkDef.dash : w.IDashType.Dashed,
                  stroke: u ? y.default.linkDef.stroke : "rgba(132, 176, 245)",
                  lineWidth: u ? y.default.linkDef.lineWidth : 1,
                  inProgress: !1,
                  text: {
                    arr: [],
                    stroke: y.default.linkDef.text.stroke,
                    fontSize: y.default.linkDef.text.fontSize,
                    fontFamily: y.default.linkDef.text.fontFamily
                  }
                };
              return u ? this.dispatch(G) : this.opsManager.currPage.setLocalOp(
                "link", this.getLocalSnapshot(G)), {
                id: h,
                data: z
              }
            }
          }
        }, {
          key: "connToEmptyArea",
          value: function (e) {
            var t = e.data,
              n = e.id,
              r = e.sp,
              a = e.per,
              i = e.otherPer,
              o = e.dirAftRotate,
              s = e.send,
              u = d.SUGGEST_SHAPE_DIST,
              l = (0, c.getTransformedBoundary)(this.app.scale, {
                mat: t.mat,
                boundary: t.boundary
              }),
              h = u + (o === w.DIRECTION.LEFT || o === w.DIRECTION.RIGHT ? l.w : l
                .h),
              f = o === w.DIRECTION.LEFT || o === w.DIRECTION.RIGHT ? l.h : l.w,
              g = d.SUGGEST_SHAPE_GAP,
              B = [];
            for (var I in this.drawOpsOfPage) {
              var M = this.drawOpsOfPage[I].data;
              if (I !== n && "link" !== M.type) {
                var C = M.boundary,
                  b = (0, p.getTransPoint)([C.sx, C.sy], M.mat),
                  x = (0, p.getTransPoint)([C.sx + C.w, C.sy], M.mat),
                  T = (0, p.getTransPoint)([C.sx + C.w, C.sy + C.h], M.mat),
                  k = (0, p.getTransPoint)([C.sx, C.sy + C.h], M.mat),
                  E = (0, m.getDistDivideByDir)(b, r, o),
                  N = (0, m.getDistDivideByDir)(x, r, o),
                  O = (0, m.getDistDivideByDir)(T, r, o),
                  P = (0, m.getDistDivideByDir)(k, r, o),
                  _ = E.v1 < u && N.v1 < u && O.v1 < u && P.v1 < u,
                  D = E.v1 > h && N.v1 > h && O.v1 > h && P.v1 > h;
                _ || D || B.push([Math.min(E.v2, N.v2, O.v2, P.v2) - g, Math.max(E
                  .v2, N.v2, O.v2, P.v2) + g])
              }
            }
            for (var Q = (B = (0, m.mergeIntervals)(B)).length > 0 ? Math.abs(B[0]
                [0] - f / 2) : 0, S = B.length > 0 ? Math.min(B[0][0] - f / 2,
                0) : 0, U = 0; U < B.length; U++) {
              var F = B[U][1],
                L = U < B.length - 1 ? B[U + 1][0] : 1 / 0;
              if (L - F > f) {
                if (F < -f / 2 && L > f / 2) {
                  S = 0;
                  break
                }
                if (f / 2 > L) {
                  var j = Math.abs(L - f / 2);
                  j < Q && (Q = j, S = L - f / 2)
                } else if (-f / 2 < F) {
                  var z = Math.abs(F + f / 2);
                  z < Q && (Q = z, S = F + f / 2)
                }
              }
            }
            var R = (0, c.getTransformedSize)(t),
              H = d.SUGGEST_SHAPE_DIST,
              Y = t.shape ? t.shape : "rect",
              G = r.slice();
            switch (o) {
              case w.DIRECTION.UP:
                G[1] -= H + R.h / 2, G[0] += S;
                break;
              case w.DIRECTION.DOWN:
                G[1] += H + R.h / 2, G[0] += S;
                break;
              case w.DIRECTION.LEFT:
                G[0] -= H + R.w / 2, G[1] += S;
                break;
              case w.DIRECTION.RIGHT:
                G[0] += H + R.w / 2, G[1] += S
            }
            var K = (0, m.getShapeDataFromExist)({
              sx: G[0] - R.w / 2,
              sy: G[1] - R.h / 2,
              w: R.w,
              h: R.h,
              shapeType: Y,
              another: t
            });
            s || (K = (0, A.default)((0, A.default)({}, K), {
              stroke: "rgba(132, 176, 245)",
              lineWidth: 1,
              fill: void 0,
              dash: w.IDashType.Dashed
            }));
            var W = void 0;
            if (s) W = this.dispatch(K);
            else {
              var Z = this.getLocalSnapshot(K);
              this.opsManager.currPage.setLocalOp("shape", Z), W = Z.opId
            }
            var V = (0, A.default)((0, A.default)({}, (0, m.getEndPointInfo)(this
                .app, K, i)), {
                dir: 3 - o
              }),
              X = (0, A.default)((0, A.default)({}, (0, m.getEndPointInfo)(this
                .app, t, a)), {
                dir: o
              }),
              J = (0, v.graphInit)({
                linkType: y.default.linkDef.linkType,
                start: X,
                end: V,
                op: this
              }),
              q = {
                type: "link",
                start: {
                  id: n,
                  type: w.IEndPointType.FLEX,
                  per: a,
                  aType: y.default.linkDef.startArrow,
                  dir: o
                },
                end: {
                  id: W,
                  type: w.IEndPointType.FLEX,
                  per: i,
                  aType: y.default.linkDef.endArrow,
                  dir: 3 - o
                },
                connPs: J.connPs,
                linkType: y.default.linkDef.linkType,
                dash: s ? y.default.linkDef.dash : w.IDashType.Dashed,
                stroke: s ? y.default.linkDef.stroke : "rgba(132, 176, 245)",
                lineWidth: s ? y.default.linkDef.lineWidth : 1,
                inProgress: !1,
                text: {
                  arr: [],
                  stroke: y.default.linkDef.text.stroke,
                  fontSize: y.default.linkDef.text.fontSize,
                  fontFamily: y.default.linkDef.text.fontFamily
                }
              };
            return s ? this.dispatch(q) : this.opsManager.currPage.setLocalOp(
              "link", this.getLocalSnapshot(q)), {
              id: W,
              data: K
            }
          }
        }, {
          key: "showHintShape",
          value: function (e, t, n, r) {
            var A = arguments.length > 4 && void 0 !== arguments[4] && arguments[
                4],
              a = 1 / 8,
              i = 5 / 8;
            switch (r) {
              case w.DIRECTION.DOWN:
                a = 5 / 8;
                break;
              case w.DIRECTION.LEFT:
                a = 7 / 8;
                break;
              case w.DIRECTION.RIGHT:
                a = 3 / 8
            }
            var o = (0, m.getDirAftRotate)(r, e.rAngle, e.xFactor, e.yFactor);
            switch (o) {
              case w.DIRECTION.UP:
                break;
              case w.DIRECTION.DOWN:
                i = 1 / 8;
                break;
              case w.DIRECTION.LEFT:
                i = 3 / 8;
                break;
              case w.DIRECTION.RIGHT:
                i = 7 / 8
            }
            var s = this.connToExistShape({
              id: t,
              per: a,
              otherPer: i,
              dirAftRotate: o,
              sp: n,
              data: e,
              send: A,
              dir: r
            });
            if (s || (s = this.connToEmptyArea({
                id: t,
                per: a,
                otherPer: i,
                dirAftRotate: o,
                sp: n,
                data: e,
                send: A,
                dir: r
              })), A) {
              var u = s.id,
                l = s.data;
              this.dispatch(this.opsManager.selectOp.getSnapshot([u]));
              var c = (0, g.extendCameraToSnap)({
                  app: this.app,
                  boundary: l.boundary
                }),
                d = c.needAdjust,
                p = c.camera;
              d && this.app.setCameraBound(p, !0)
            }
          }
        }, {
          key: "hideHintShape",
          value: function () {
            this.opsManager.currPage.setLocalOp(["shape", "link"], void 0)
          }
        }, {
          key: "handleElePosChange",
          value: function (e, t, n, a) {
            var i = [];
            for (var o in e) "link" === e[o].data.type && i.push(e[o]);
            var s = t.dependOn || [],
              u = [],
              l = !0,
              c = !1,
              d = void 0;
            try {
              for (var p, h = (0, r.default)(i); !(l = (p = h.next()).done); l = !
                0) {
                var f = p.value,
                  g = f.data,
                  y = void 0,
                  B = void 0,
                  I = void 0,
                  M = void 0,
                  C = g.start.id,
                  b = g.end.id,
                  x = e[C],
                  T = e[b],
                  k = this.opsManager.opMap[t.type],
                  E = x ? k.transformOp(x, t).data : void 0,
                  N = T ? k.transformOp(T, t).data : void 0;
                if (y = g.start.type === w.IEndPointType.COORD ? g.start : (0, A
                    .default)((0, A.default)({}, (0, m.getEndPointInfo)(this.app,
                    x.data, g.start.per)), {
                    dir: g.start.dir
                  }), B = g.end.type === w.IEndPointType.COORD ? g.end : (0, A
                    .default)((0, A.default)({}, (0, m.getEndPointInfo)(this.app,
                    T.data, g.end.per)), {
                    dir: g.end.dir
                  }), -1 !== s.indexOf(C) || -1 !== s.indexOf(f.opId) && !C) {
                  var O = void 0,
                    P = y.dir;
                  if (C && E) {
                    var _ = (0, m.getEndPointInfo)(this.app, E, g.start.per);
                    O = [_.x, _.y]
                  } else O = (0, m.getPosAftMove)([y.x, y.y], t);
                  I = {
                    dir: P,
                    x: O[0],
                    y: O[1]
                  }
                } else I = (0, A.default)({}, y);
                if (-1 !== s.indexOf(b) || -1 !== s.indexOf(f.opId) && !b) {
                  var D = void 0,
                    Q = B.dir;
                  if (b && N) {
                    var S = (0, m.getEndPointInfo)(this.app, N, g.end.per);
                    D = [S.x, S.y]
                  } else D = (0, m.getPosAftMove)([B.x, B.y], t);
                  M = {
                    dir: Q,
                    x: D[0],
                    y: D[1]
                  }
                } else M = (0, A.default)({}, B);
                var U = [],
                  F = void 0;
                if (-1 !== s.indexOf(C) && -1 !== s.indexOf(b)) {
                  var L = g.connPs.map((function (e) {
                    var n = (0, m.getPosAftMove)([e.x, e.y], t);
                    return (0, A.default)((0, A.default)({}, e), {
                      x: n[0],
                      y: n[1]
                    })
                  }));
                  F = (0, v.tidyGraph)({
                    linkType: f.data.linkType,
                    start: I,
                    end: M,
                    connPs: L,
                    op: this,
                    data: g
                  })
                } else if (-1 !== s.indexOf(f.opId)) {
                  var j = g.connPs.filter((function (e) {
                    return e.type === w.IConnPointType.Anchor
                  })).map((function (e) {
                    var n = (0, m.getPosAftMove)([e.x, e.y], t);
                    return (0, A.default)((0, A.default)({}, e), {
                      x: n[0],
                      y: n[1]
                    })
                  }));
                  F = (0, v.graphFromAnchors)({
                    anchors: j,
                    start: I,
                    end: M,
                    linkType: g.linkType,
                    op: this
                  })
                } else -1 === s.indexOf(C) && -1 === s.indexOf(b) || (F = (0, v
                  .graphAftEndM)({
                  linkType: g.linkType,
                  sFrom: y,
                  eFrom: B,
                  sTo: I,
                  eTo: M,
                  connPs: g.connPs,
                  op: this,
                  data: g
                }));
                F && U.push({
                  k: "connPs",
                  v: F.connPs
                }, {
                  k: "start",
                  v: {
                    dir: F.start.dir
                  }
                }, {
                  k: "end",
                  v: {
                    dir: F.end.dir
                  }
                }), C || U.push({
                  k: "start",
                  v: (0, A.default)((0, A.default)({}, g.start), {
                    x: I.x,
                    y: I.y
                  })
                }), b || U.push({
                  k: "end",
                  v: (0, A.default)((0, A.default)({}, g.end), {
                    x: M.x,
                    y: M.y
                  })
                }), U.length > 0 && u.push({
                  changes: U,
                  linkId: f.opId
                })
              }
            } catch (e) {
              c = !0, d = e
            } finally {
              try {
                !l && h.return && h.return()
              } finally {
                if (c) throw d
              }
            }
            var z = [],
              R = {
                common: [],
                sub: []
              },
              H = !0,
              Y = !1,
              G = void 0;
            try {
              for (var K, W = (0, r.default)(u); !(H = (K = W.next()).done); H = !
                0) {
                var Z = K.value;
                z.push(Z.linkId), R.sub.push({
                  ids: [Z.linkId],
                  attrs: Z.changes
                })
              }
            } catch (e) {
              Y = !0, G = e
            } finally {
              try {
                !H && W.return && W.return()
              } finally {
                if (Y) throw G
              }
            }
            this.dispatch(t, !1, n), z.length > 0 && this.dispatch({
              type: "modify",
              dependOn: z,
              attrs: R,
              inProgress: t.inProgress
            }, !1, a)
          }
        }]), t
      }(h.default);
    t.default = C
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = l(n(5)),
      A = l(n(20)),
      a = l(n(2)),
      i = l(n(0)),
      o = l(n(1)),
      s = l(n(3)),
      u = l(n(4));

    function l(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var c = function (e) {
      function t() {
        (0, i.default)(this, t);
        var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
          arguments));
        return e.type = "visible", e.description = "", e
      }
      return (0, u.default)(t, e), (0, o.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            "visible:eles": {
              value: this.setOpsVisibility.bind(this),
              information: {
                args: "opIds: string[] | undefined, visible: boolean",
                message: "锁定元素"
              }
            }
          }
        }
      }, {
        key: "setOpsVisibility",
        value: function (e, t) {
          var n = this,
            r = [];
          if (e) {
            if (0 === (r = e.filter((function (e) {
                return t ? n.opsManager.hiddenOpsOfPage[e] : n.opsManager
                  .drawOpsOfPage[e]
              }))).length) return
          } else if (t ? r = (0, A.default)(this.opsManager.hiddenOpsOfPage) :
            t || (r = (0, A.default)(this.opsManager.drawOpsOfPage)), 0 === r
            .length) return;
          this.dispatch(this.getSnapshot(r, t))
        }
      }, {
        key: "getSnapshot",
        value: function (e, t) {
          return {
            type: this.type,
            visible: t,
            dependOn: e.slice()
          }
        }
      }, {
        key: "transformOp",
        value: function (e, t) {
          var n = (0, r.default)({}, e.data, {
            hidden: !t.visible
          });
          return (0, r.default)({}, e, {
            data: n
          })
        }
      }]), t
    }(l(n(9)).default);
    t.default = c
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = d(n(5)),
      A = d(n(2)),
      a = d(n(0)),
      i = d(n(1)),
      o = d(n(3)),
      s = d(n(4)),
      u = d(n(9)),
      l = n(15),
      c = n(29);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var p = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.type = "crop", e.description = "", e.inCropMode = !1, e.isCropping = !
          1, e.cropHotRegion = {
            sp: [0, 0],
            ep: [0, 0],
            r: 12
          }, e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "registerHooks",
        value: function () {
          this.opsManager.hooks.mousedown.tap("MousedownPlugin", this
              .handleMouseDown.bind(this)), this.opsManager.hooks.mousemove.tap(
              "MousemovePlugin", this.handleMouseMove.bind(this)), this
            .opsManager.hooks.mouseup.tap("MouseupPlugin", this.handleMouseUp
              .bind(this)), this.opsManager.hooks.click.tap("ClickPlugin", this
              .handleClick.bind(this))
        }
      }, {
        key: "eventsToListen",
        value: function () {
          return {
            "crop:image": {
              value: this.startCrop.bind(this),
              information: {
                args: "id: string",
                message: ""
              }
            }
          }
        }
      }, {
        key: "startCrop",
        value: function (e) {
          var t = this.drawOpsOfPage[e];
          if (!t || "image" !== t.data.type) return this.logger.error(
            "CropOp.startCrop: image does not exist", t);
          var n = t.data;
          this.inCropMode = !0, this.isCropping = !1, this.cropId = e;
          var r = n.crop ? n.crop.sp : [0, 0],
            A = n.crop ? n.crop.ep : [1, 1];
          this.opsManager.currPage.setLocalOp("crop", this.getLocalSnapshot({
            inProgress: !0,
            dependOn: [e],
            sp: r,
            ep: A,
            type: "crop"
          }), !0)
        }
      }, {
        key: "handleMouseDown",
        value: function (e, t, n) {
          if (this.inCropMode) {
            var r = this.mousePosTest(t, n);
            return "default" !== r.cursorSuggestion && (this.isCropping = !0,
                this.cropAnchor = r.cropAnchor, this.moveAnchor = r.moveAnchor),
              !0
          }
        }
      }, {
        key: "handleMouseMove",
        value: function (e, t, n) {
          if (this.inCropMode) {
            var r = this.drawOpsOfPage[this.cropId || ""];
            if (this.isCropping && r && (this.moveAnchor || this.cropAnchor)) {
              var A = this.getCropBoundary(t, n, r.data),
                a = A.sp,
                i = A.ep;
              this.opsManager.currPage.setLocalOp("crop", this
            .getLocalSnapshot({
                inProgress: !0,
                dependOn: [this.cropId],
                sp: a,
                ep: i,
                type: "crop"
              }), !0), this.lastSp = a, this.lastEp = i
            } else if (this.isMouseDown) document.body.style.cursor = "default";
            else {
              var o = this.mousePosTest(t, n);
              document.body.style.cursor = o.cursorSuggestion
            }
            return !0
          }
        }
      }, {
        key: "handleClick",
        value: function (e, t, n) {
          this.handleMouseUp(e, t, n)
        }
      }, {
        key: "handleMouseUp",
        value: function (e, t, n) {
          if (this.inCropMode) {
            if (this.isCropping) this.isCropping = !1;
            else {
              var r = this.drawOpsOfPage[this.cropId || ""];
              if (r) {
                var A = (0, l.getTransformedVertices)(r.data);
                (0, l.pointInVertices)(A, [t, n]) || (this.isCropping = !1, this
                  .inCropMode = !1, this.opsManager.currPage.setLocalOp("crop",
                    void 0, !0), this.lastSp && this.lastEp && this.dispatch({
                    inProgress: !1,
                    dependOn: [this.cropId],
                    sp: this.lastSp,
                    ep: this.lastEp,
                    type: "crop"
                  }), this.lastSp = void 0, this.lastEp = void 0)
              }
            }
            return !0
          }
        }
      }, {
        key: "drawCrop",
        value: function (e, t) {
          if (t.crop) {
            var n = t.crop,
              r = n.sp,
              A = n.ep,
              a = this.getCropPoint(r, t, !1),
              i = this.getCropPoint(A, t, !1);
            e.fillStyle = "rgb(255, 255, 255)";
            var o = 1 / this.app.scale / Math.abs(t.xFactor || 1),
              s = 12 * o;
            e.fillRect(a[0] - s / 2, a[1] - s / 2, s, s), e.fillRect(i[0] - s /
                2, a[1] - s / 2, s, s), e.fillRect(i[0] - s / 2, i[1] - s / 2,
                s, s), e.fillRect(a[0] - s / 2, i[1] - s / 2, s, s), e
              .strokeStyle = "rgb(150, 150, 150)", e.lineWidth = 1 * o, e
              .strokeRect(a[0] - s / 2, a[1] - s / 2, s, s), e.strokeRect(i[0] -
                s / 2, a[1] - s / 2, s, s), e.strokeRect(i[0] - s / 2, i[1] -
                s / 2, s, s), e.strokeRect(a[0] - s / 2, i[1] - s / 2, s, s),
              this.cropHotRegion = {
                sp: r,
                ep: A,
                r: s
              }
          }
        }
      }, {
        key: "getCropPoint",
        value: function (e, t) {
          var n = !(arguments.length > 2 && void 0 !== arguments[2]) ||
            arguments[2],
            r = t.crop ? t.crop.boundary : t.boundary,
            A = [r.sx + r.w * e[0], r.sy + r.h * e[1]];
          return n ? (0, c.getTransPoint)(A, t.mat) : A
        }
      }, {
        key: "mousePosTest",
        value: function (e, t) {
          var n = this.drawOpsOfPage[this.cropId || ""];
          if (!this.cropHotRegion || !n) return {
            value: !1,
            cursorSuggestion: "default",
            cropAnchor: [0, 0]
          };
          var r = n.data,
            A = this.cropHotRegion.sp,
            a = [this.cropHotRegion.ep[0], this.cropHotRegion.sp[1]],
            i = this.cropHotRegion.ep,
            o = [this.cropHotRegion.sp[0], this.cropHotRegion.ep[1]],
            s = this.cropHotRegion.r / this.app.scale,
            u = n.data.rAngle || 0,
            c = 0;
          n && n.data.xFactor && (c += n.data.xFactor > 0 ? 0 : Math.PI / 2),
            n && n.data.yFactor && (c += n.data.yFactor > 0 ? 0 : -Math.PI / 2);
          var d = this.getCropPoint(A, r),
            p = this.getCropPoint(a, r),
            h = this.getCropPoint(i, r),
            f = this.getCropPoint(o, r);
          return (0, l.pointCollideWithPoint)([e, t], h, s) ? {
            value: !0,
            cursorSuggestion: (0, l.getScaleCursor)(Math.PI / 4 + u + c),
            cropAnchor: A
          } : (0, l.pointCollideWithPoint)([e, t], f, s) ? {
            value: !0,
            cursorSuggestion: (0, l.getScaleCursor)(Math.PI / 4 * 3 + u + c),
            cropAnchor: a
          } : (0, l.pointCollideWithPoint)([e, t], d, s) ? {
            value: !0,
            cursorSuggestion: (0, l.getScaleCursor)(Math.PI / 4 * 5 + u + c),
            cropAnchor: i
          } : (0, l.pointCollideWithPoint)([e, t], p, s) ? {
            value: !0,
            cursorSuggestion: (0, l.getScaleCursor)(Math.PI / 4 * 7 + u + c),
            cropAnchor: o
          } : (0, l.pointInVertices)([d, p, h, f], [e, t]) ? {
            value: !0,
            cursorSuggestion: "move",
            moveAnchor: {
              sp: A,
              ep: i,
              anchor: [e, t]
            }
          } : {
            value: !1,
            cursorSuggestion: "default",
            cropAnchor: [0, 0]
          }
        }
      }, {
        key: "getCropBoundary",
        value: function (e, t, n) {
          var r = n.crop ? n.crop.boundary : n.boundary,
            A = (0, c.getTransPoint)([r.sx, r.sy], n.mat),
            a = (0, c.getTransPoint)([r.sx + r.w, r.sy], n.mat),
            i = (0, c.getTransPoint)([r.sx, r.sy + r.h], n.mat),
            o = (0, l.dist)(A, a),
            s = (0, l.dist)(A, i),
            u = [a[0] - A[0], a[1] - A[1]],
            d = [i[0] - A[0], i[1] - A[1]],
            p = [e - A[0], t - A[1]],
            h = (p[0] * u[0] + p[1] * u[1]) / (u[0] * u[0] + u[1] * u[1]),
            f = (p[0] * d[0] + p[1] * d[1]) / (d[0] * d[0] + d[1] * d[1]),
            g = (this.cropAnchor, void 0),
            y = void 0;
          if (this.cropAnchor) g = [Math.max(0, Math.min(this.cropAnchor[0], h,
            1)), Math.max(Math.min(this.cropAnchor[1], f, 1), 0)], y = [Math
            .min(1, Math.max(this.cropAnchor[0], h, 0)), Math.min(Math.max(
              this.cropAnchor[1], f, 0), 1)
          ];
          else {
            var v = this.moveAnchor,
              m = (e - v.anchor[0]) / Math.max(o, 1),
              w = (t - v.anchor[1]) / Math.max(s, 1);
            m + v.sp[0] < 0 ? m = -v.sp[0] : m + v.ep[0] > 1 && (m = 1 - v.ep[
              0]), w + v.sp[1] < 0 ? w = -v.sp[1] : w + v.ep[1] > 1 && (w =
              1 - v.ep[1]), g = [v.sp[0] + m, v.sp[1] + w], y = [v.ep[0] + m,
              v.ep[1] + w
            ]
          }
          return {
            sp: g,
            ep: y
          }
        }
      }, {
        key: "transformOp",
        value: function (e, t) {
          var n = e.data.crop ? e.data.crop.boundary : e.data.boundary,
            A = {
              sx: n.sx + t.sp[0] * n.w,
              sy: n.sy + t.sp[1] * n.h,
              w: (t.ep[0] - t.sp[0]) * n.w,
              h: (t.ep[1] - t.sp[1]) * n.h
            };
          return (0, r.default)((0, r.default)({}, e), {
            data: (0, r.default)((0, r.default)({}, e.data), {
              boundary: A,
              crop: {
                sp: t.sp,
                ep: t.ep,
                inProgress: t.inProgress,
                boundary: n
              }
            })
          })
        }
      }]), t
    }(u.default);
    t.default = p
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = d(n(7)),
      A = d(n(16)),
      a = d(n(2)),
      i = d(n(0)),
      o = d(n(1)),
      s = d(n(3)),
      u = d(n(4)),
      l = d(n(9)),
      c = n(15);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var p = function (e) {
      function t() {
        (0, i.default)(this, t);
        var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
          arguments));
        return e.type = "auxiliary", e.description = "", e.calcAuxiliaryLine =
          function (t) {
            var n = void 0,
              r = [],
              a = t.action;
            if ("snap" in t) {
              if (0 === t.ids.length) return {
                lockX: 0,
                lockY: 0
              };
              n = e.getCombinedBound(t.ids, t.opsBeforeChange, t.snap)
            } else n = t.bound;
            var i = t.ids,
              o = e.app.getCameraBound(),
              s = [];
            for (var u in e.drawOpsOfPage) {
              var l = e.drawOpsOfPage[u].data;
              if (-1 === i.indexOf(u) && "link" !== l.type && "pen" !== l.type &&
                "line" !== l.type) {
                var d = l.rAngle || 0;
                if (Math.abs(d % (Math.PI / 2)) < .02 || Math.abs(Math.PI / 2 - d % (
                    Math.PI / 2)) < .02) {
                  var p = (0, c.getTransformedBoundary)(e.app.scale, {
                    mat: l.mat,
                    boundary: l.boundary
                  });
                  if (p.sx > o.centerX + o.width / 2 || p.sx + p.w < o.centerX - o
                    .width / 2 || p.sy > o.centerY + o.height / 2 || p.sy + p.h < o
                    .centerY - o.height / 2) continue;
                  s.push(p)
                }
              }
            }
            return r = r.concat(e.calcAlignLines(n, s, t.exclude || [])), "scale" ===
              a ? r = r.concat(e.calcSizeLines(n, s)) : "move" === a && (r = r.concat(e
                .calcPadLines(n, s))), e.opsManager.currPage.setLocalOp("auxiliary", e
                .getLocalSnapshot({
                  type: e.type,
                  lines: r
                })), {
                lockX: Math.max.apply(Math, (0, A.default)(r.map((function (e) {
                  return e.lockX
                }))).concat([0])),
                lockY: Math.max.apply(Math, (0, A.default)(r.map((function (e) {
                  return e.lockY
                }))).concat([0]))
              }
          }, e.setRotateLine = function (t) {
            var n = t.id,
              r = t.snap,
              A = t.opsBeforeChange,
              a = e.opsManager.opMap[r.type],
              i = A[n],
              o = a.transformOp(i, r).data,
              s = (0, c.getTransformedBoundary)(e.app.scale, {
                mat: o.mat,
                boundary: o.boundary
              }),
              u = 16 / e.app.scale;
            e.opsManager.currPage.setLocalOp("auxiliary", e.getLocalSnapshot({
              type: e.type,
              lines: [{
                pos: [
                  [s.sx - u, s.sy - u],
                  [s.sx, s.sy - u]
                ]
              }, {
                pos: [
                  [s.sx - u, s.sy - u],
                  [s.sx - u, s.sy]
                ]
              }, {
                pos: [
                  [s.sx + s.w + u, s.sy - u],
                  [s.sx + s.w, s.sy - u]
                ]
              }, {
                pos: [
                  [s.sx + s.w + u, s.sy - u],
                  [s.sx + s.w + u, s.sy]
                ]
              }, {
                pos: [
                  [s.sx + s.w + u, s.sy + s.h + u],
                  [s.sx + s.w + u, s.sy + s.h]
                ]
              }, {
                pos: [
                  [s.sx + s.w + u, s.sy + s.h + u],
                  [s.sx + s.w, s.sy + s.h + u]
                ]
              }, {
                pos: [
                  [s.sx - u, s.sy + s.h + u],
                  [s.sx - u, s.sy + s.h]
                ]
              }, {
                pos: [
                  [s.sx - u, s.sy + s.h + u],
                  [s.sx, s.sy + s.h + u]
                ]
              }]
            }))
          }, e.calcAlignLines = function (t, n, A) {
            var a = [],
              i = 1 / e.app.scale,
              o = 3 / e.app.scale,
              s = {},
              u = !1,
              l = !1,
              c = !0,
              d = !1,
              p = void 0;
            try {
              for (var h, f = (0, r.default)(n); !(c = (h = f.next()).done); c = !0) {
                var g = h.value;
                if (u && l) break;
                var y = Math.min(g.sy, t.sy),
                  v = Math.max(g.sy + g.h, t.sy + t.h),
                  m = Math.min(g.sx, t.sx),
                  w = Math.max(g.sx + g.w, t.sx + t.w),
                  B = [
                    [g.sx + g.w / 2, t.sx + t.w / 2, 0, 1, "middle"],
                    [g.sy + g.h / 2, t.sy + t.h / 2, 0, 2, "center"],
                    [g.sx, t.sx, -o, 1, "left"],
                    [g.sx, t.sx + t.w, 0, 1, "left"],
                    [g.sx + g.w, t.sx, 0, 1, "right"],
                    [g.sx + g.w, t.sx + t.w, o, 1, "right"],
                    [g.sy, t.sy, -o, 2, "top"],
                    [g.sy, t.sy + t.h, 0, 2, "top"],
                    [g.sy + g.h, t.sy, 0, 2, "bottom"],
                    [g.sy + g.h, t.sy + t.h, o, 2, "bottom"]
                  ],
                  I = l,
                  M = u,
                  C = !0,
                  b = !1,
                  x = void 0;
                try {
                  for (var T, k = (0, r.default)(B); !(C = (T = k.next()).done); C = !
                    0) {
                    var E = T.value;
                    if (1 !== E[3] || I) {
                      if (2 === E[3] && !M) {
                        if (("top" === E[4] || "bottom" === E[4]) && s.center) continue;
                        if (Math.abs(E[0] - E[1]) < i) {
                          var N = !1,
                            O = !0,
                            P = !1,
                            _ = void 0;
                          try {
                            for (var D, Q = (0, r.default)(A); !(O = (D = Q.next())
                                .done); O = !0) {
                              var S = D.value;
                              "h" === S.dir && Math.abs(E[1] - S.val) < i && (N = !0)
                            }
                          } catch (e) {
                            P = !0, _ = e
                          } finally {
                            try {
                              !O && Q.return && Q.return()
                            } finally {
                              if (P) throw _
                            }
                          }
                          if (N) continue;
                          var U = Math.abs(t.sx + t.w / 2 - g.sx - g.w / 2);
                          s[E[4]] || (s[E[4]] = {
                            pos: [
                              [m, E[0] + E[2]],
                              [w, E[0] + E[2]]
                            ],
                            dist: U,
                            lockX: 0,
                            lockY: 20
                          }, u = !0)
                        }
                      }
                    } else {
                      if (("left" === E[4] || "right" === E[4]) && s.middle) continue;
                      if (Math.abs(E[0] - E[1]) < i) {
                        var F = !1,
                          L = !0,
                          j = !1,
                          z = void 0;
                        try {
                          for (var R, H = (0, r.default)(A); !(L = (R = H.next())
                            .done); L = !0) {
                            var Y = R.value;
                            "v" === Y.dir && Math.abs(E[1] - Y.val) < i && (F = !0)
                          }
                        } catch (e) {
                          j = !0, z = e
                        } finally {
                          try {
                            !L && H.return && H.return()
                          } finally {
                            if (j) throw z
                          }
                        }
                        if (F) continue;
                        var G = Math.abs(t.sy + t.h / 2 - g.sy - g.h / 2);
                        s[E[4]] || (s[E[4]] = {
                          pos: [
                            [E[0] + E[2], y],
                            [E[0] + E[2], v]
                          ],
                          dist: G,
                          lockX: 20,
                          lockY: 0
                        }, l = !0)
                      }
                    }
                  }
                } catch (e) {
                  b = !0, x = e
                } finally {
                  try {
                    !C && k.return && k.return()
                  } finally {
                    if (b) throw x
                  }
                }
              }
            } catch (e) {
              d = !0, p = e
            } finally {
              try {
                !c && f.return && f.return()
              } finally {
                if (d) throw p
              }
            }
            for (var K in s) a.push(s[K]);
            return a
          }, e.calcSizeLines = function (t, n) {
            var A = [],
              a = 2 / e.app.scale,
              i = 16 / e.app.scale,
              o = !1,
              s = !1,
              u = !0,
              l = !1,
              c = void 0;
            try {
              for (var d, p = (0, r.default)(n); !(u = (d = p.next()).done); u = !0) {
                var h = d.value;
                Math.abs(h.w - t.w) < a && (o = !0, A.push({
                  pos: [
                    [h.sx, h.sy + h.h + i],
                    [h.sx + h.w, h.sy + h.h + i]
                  ],
                  h: !0,
                  lockX: 8,
                  lockY: 0
                })), Math.abs(h.h - t.h) < a && (s = !0, A.push({
                  pos: [
                    [h.sx + h.w + i, h.sy],
                    [h.sx + h.w + i, h.sy + h.h]
                  ],
                  h: !1,
                  lockX: 0,
                  lockY: 8
                }))
              }
            } catch (e) {
              l = !0, c = e
            } finally {
              try {
                !u && p.return && p.return()
              } finally {
                if (l) throw c
              }
            }
            return o && A.push({
              pos: [
                [t.sx, t.sy + t.h + i],
                [t.sx + t.w, t.sy + t.h + i]
              ],
              h: !0,
              lockX: 8,
              lockY: 0
            }), s && A.push({
              pos: [
                [t.sx + t.w + i, t.sy],
                [t.sx + t.w + i, t.sy + t.h]
              ],
              h: !1,
              lockX: 0,
              lockY: 8
            }), A
          }, e.calcPadLines = function (t, n) {
            var r = [];
            return r = (r = r.concat(e._calcPadLines(t, n, "h"))).concat(e
              ._calcPadLines(t, n, "v"))
          }, e._calcPadLines = function (t, n, r) {
            for (var A = 3 / e.app.scale, a = n.map((function (n) {
                return e.getPadAndIntersect(t, n, r, !0)
              })).filter((function (t) {
                return null != t && t.pad > 25 / e.app.scale
              })), i = (a = (a = a.sort((function (e, t) {
                return e.pad - t.pad
              }))).slice(0, 10)).slice(), o = 0; o < a.length; o++)
              for (var s = o + 1; s < a.length; s++) {
                var u = e.getPadAndIntersect(a[o].b2, a[s].b2, r, !1);
                u && i.push(u)
              }
            i = i.sort((function (e, t) {
              return e.pad - t.pad
            }));
            for (var l = 0; l < i.length; l++) {
              var c = i[l].inter.slice(),
                d = [l];
              if (i[l].hasBase) {
                for (var p = l + 1; p < i.length; p++)
                  if (i[p].pad - i[l].pad <= A) {
                    var h = [Math.max(c[0], i[p].inter[0]), Math.min(c[1], i[p].inter[
                      1])];
                    if (h[0] < h[1]) d.push(p), c = h;
                    else if (d.length > 1) return e.getPadRes(i, d, r, c[0] / 2 + c[1] /
                      2)
                  } else if (d.length > 1) return e.getPadRes(i, d, r, c[0] / 2 + c[1] /
                  2);
                if (d.length > 1) return e.getPadRes(i, d, r, c[0] / 2 + c[1] / 2)
              }
            }
            return []
          }, e.getPadRes = function (t, n, A, a) {
            var i = [],
              o = 4 / e.app.scale,
              s = !0,
              u = !1,
              l = void 0;
            try {
              for (var c, d = (0, r.default)(n); !(s = (c = d.next()).done); s = !0) {
                var p = c.value;
                "h" === A ? i.push({
                  pos: [
                    [t[p].s + o, a],
                    [t[p].e - o, a]
                  ],
                  h: !0,
                  lockX: 20,
                  lockY: 0
                }) : i.push({
                  pos: [
                    [a, t[p].s + o],
                    [a, t[p].e - o]
                  ],
                  h: !1,
                  lockX: 0,
                  lockY: 20
                })
              }
            } catch (e) {
              u = !0, l = e
            } finally {
              try {
                !s && d.return && d.return()
              } finally {
                if (u) throw l
              }
            }
            return i
          }, e.getPadAndIntersect = function (e, t, n, r) {
            if ("h" === n) {
              if (e.sy + e.h > t.sy && e.sy < t.sy + t.h) return e.sx + e.w < t.sx ? {
                b1: e,
                b2: t,
                pad: Math.abs(t.sx - (e.sx + e.w)),
                inter: [Math.max(e.sy, t.sy), Math.min(e.sy + e.h, t.sy + t.h)],
                hasBase: r,
                s: e.sx + e.w,
                e: t.sx
              } : e.sx > t.sx + t.w ? {
                b1: e,
                b2: t,
                pad: Math.abs(e.sx - (t.sx + t.w)),
                inter: [Math.max(e.sy, t.sy), Math.min(e.sy + e.h, t.sy + t.h)],
                hasBase: r,
                s: t.sx + t.w,
                e: e.sx
              } : void 0
            } else if ("v" === n && e.sx + e.w > t.sx && e.sx < t.sx + t.w) return e
              .sy + e.h < t.sy ? {
                b1: e,
                b2: t,
                pad: Math.abs(t.sy - (e.sy + e.h)),
                inter: [Math.max(e.sx, t.sx), Math.min(e.sx + e.w, t.sx + t.w)],
                hasBase: r,
                s: e.sy + e.h,
                e: t.sy
              } : e.sy > t.sy + t.h ? {
                b1: e,
                b2: t,
                pad: Math.abs(e.sy - (t.sy + t.h)),
                inter: [Math.max(e.sx, t.sx), Math.min(e.sx + e.w, t.sx + t.w)],
                hasBase: r,
                s: t.sy + t.h,
                e: e.sy
              } : void 0
          }, e.clean = function () {
            e.opsManager.currPage.setLocalOp(["auxiliary"], void 0)
          }, e
      }
      return (0, u.default)(t, e), (0, o.default)(t, [{
        key: "getCombinedBound",
        value: function (e, t, n) {
          var r = this;
          e = e.filter((function (e) {
            return t.hasOwnProperty(e)
          }));
          var A = this.opsManager.opMap[n.type];
          return e.map((function (e) {
            var a = t[e],
              i = A.transformOp(a, n).data;
            return (0, c.getTransformedBoundary)(r.app.scale, i)
          })).reduce((function (e, t) {
            return (0, c.combineBoundary)(e, t)
          }))
        }
      }, {
        key: "draw",
        value: function (e, t) {
          var n = e.data;
          t.strokeStyle = "rgba(25, 64, 250, 0.5)", t.lineWidth = 1.2 / this.app
            .scale;
          var A = 6 / this.app.scale,
            a = !0,
            i = !1,
            o = void 0;
          try {
            for (var s, u = (0, r.default)(n.lines); !(a = (s = u.next())
              .done); a = !0) {
              var l = s.value,
                c = l.pos;
              t.beginPath(), t.moveTo(c[0][0], c[0][1]), t.lineTo(c[1][0], c[1][
                1
              ]), !0 === l.h ? (t.moveTo(c[0][0], c[0][1] - A), t.lineTo(c[0][
                0
              ], c[0][1]), t.moveTo(c[1][0], c[1][1] - A), t.lineTo(c[1][0],
                c[1][1])) : !1 === l.h && (t.moveTo(c[0][0] - A, c[0][1]), t
                .lineTo(c[0][0], c[0][1]), t.moveTo(c[1][0] - A, c[1][1]), t
                .lineTo(c[1][0], c[1][1])), t.stroke()
            }
          } catch (e) {
            i = !0, o = e
          } finally {
            try {
              !a && u.return && u.return()
            } finally {
              if (i) throw o
            }
          }
        }
      }]), t
    }(l.default);
    t.default = p
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = u(n(5)),
      A = u(n(2)),
      a = u(n(0)),
      i = u(n(1)),
      o = u(n(3)),
      s = u(n(4));

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.type = "layer", e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            exec: {
              value: !0,
              information: {
                args: "",
                message: "删除当前选中的元素"
              }
            },
            "layer:update": {
              value: this.updateLayers.bind(this),
              information: {
                args: "opIds: Array<string>, dir: 'top' | 'bottom'",
                message: "删除ops"
              }
            }
          }
        }
      }, {
        key: "updateLayers",
        value: function (e, t) {
          if (console.log("updateLayers", e, t), 0 !== e.length) {
            var n = Date.now() + this.app.ntpTimeDiff;
            this.dispatch({
              type: "layer",
              inProgress: !1,
              dependOn: e,
              layer: "top" === t ? n : -n
            })
          }
        }
      }, {
        key: "transformOp",
        value: function (e, t) {
          var n = (0, r.default)({}, e.data, {
            layer: t.layer
          });
          return (0, r.default)({}, e, {
            data: n
          })
        }
      }]), t
    }(u(n(9)).default);
    t.default = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = h(n(16)),
      A = h(n(7)),
      a = h(n(75)),
      i = h(n(42)),
      o = h(n(2)),
      s = h(n(0)),
      u = h(n(1)),
      l = h(n(3)),
      c = h(n(4)),
      d = h(n(9)),
      p = n(107);

    function h(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var f = function (e) {
      function t() {
        (0, s.default)(this, t);
        var e = (0, l.default)(this, (t.__proto__ || (0, o.default)(t)).apply(this,
          arguments));
        return e.type = "group", e
      }
      return (0, c.default)(t, e), (0, u.default)(t, [{
        key: "eventsToListen",
        value: function () {
          return {
            group: {
              value: this.group.bind(this),
              information: {
                args: "group: boolean, opIds: Array<string>",
                message: "删除ops"
              }
            }
          }
        }
      }, {
        key: "group",
        value: function (e, t) {
          0 !== t.length && (e ? this.dispatch({
            type: "group",
            group: e,
            dependOn: t.slice(),
            gid: (0, p.v4)()
          }) : this.dispatch({
            type: "group",
            group: e,
            dependOn: t.slice()
          }))
        }
      }, {
        key: "getOpIdsInGroups",
        value: function (e) {
          var t = new i.default,
            n = this.opsManager.currPage,
            r = new i.default,
            o = !0,
            s = !1,
            u = void 0;
          try {
            for (var l, c = (0, A.default)(e); !(o = (l = c.next()).done); o = !
              0) {
              var d = l.value;
              t.add(d), (v = n.idToGroup.get(d)) && r.add(v)
            }
          } catch (e) {
            s = !0, u = e
          } finally {
            try {
              !o && c.return && c.return()
            } finally {
              if (s) throw u
            }
          }
          var p = !0,
            h = !1,
            f = void 0;
          try {
            for (var g, y = (0, A.default)(r); !(p = (g = y.next()).done); p = !
              0) {
              var v = g.value,
                m = n.groups.get(v);
              if (m) {
                var w = !0,
                  B = !1,
                  I = void 0;
                try {
                  for (var M, C = (0, A.default)(m); !(w = (M = C.next())
                    .done); w = !0) {
                    var b = M.value;
                    t.add(b)
                  }
                } catch (e) {
                  B = !0, I = e
                } finally {
                  try {
                    !w && C.return && C.return()
                  } finally {
                    if (B) throw I
                  }
                }
              }
            }
          } catch (e) {
            h = !0, f = e
          } finally {
            try {
              !p && y.return && y.return()
            } finally {
              if (h) throw f
            }
          }
          return (0, a.default)(t)
        }
      }, {
        key: "reset",
        value: function (e) {
          e.idToGroup.clear(), e.groups.clear()
        }
      }, {
        key: "process",
        value: function (e, t) {
          var n = t.data,
            a = t.data.gid || t.opId,
            o = !0,
            s = !1,
            u = void 0;
          try {
            for (var l, c = (0, A.default)(n.dependOn); !(o = (l = c.next())
                .done); o = !0) {
              var d = l.value,
                p = e.idToGroup.get(d);
              !p || t.data.group && p === a || (e.idToGroup.delete(d), w(p, d))
            }
          } catch (e) {
            s = !0, u = e
          } finally {
            try {
              !o && c.return && c.return()
            } finally {
              if (s) throw u
            }
          }
          if (n.group) {
            e.groups.has(a) ? e.groups.set(a, new i.default([].concat((0, r
                .default)(n.dependOn), (0, r.default)(e.groups.get(a))))) : e
              .groups.set(a, new i.default(n.dependOn));
            var h = !0,
              f = !1,
              g = void 0;
            try {
              for (var y, v = (0, A.default)(n.dependOn); !(h = (y = v.next())
                  .done); h = !0) {
                var m = y.value;
                e.idToGroup.set(m, a)
              }
            } catch (e) {
              f = !0, g = e
            } finally {
              try {
                !h && v.return && v.return()
              } finally {
                if (f) throw g
              }
            }
          }

          function w(t, n) {
            var r = e.groups.get(t);
            r && (r.delete(n), r.size <= 1 && e.groups.delete(t))
          }
        }
      }]), t
    }(d.default);
    t.default = f
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = l(n(2)),
      A = l(n(0)),
      a = l(n(1)),
      i = l(n(3)),
      o = l(n(4)),
      s = n(157),
      u = l(n(22));

    function l(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var c = function (e) {
      function t() {
        (0, A.default)(this, t);
        var e = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return e.type = "macro", e.description = "宏教具", e.sx = 0, e.sy = 0, e
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "validatePayloads",
        value: function () {
          var e, t, n, r = this.opsManager.currOpPayload;
          r ? -1 === ["image", "text"].indexOf(r.type) ? this.app.logger.error(
              "[ws] MacroOp.validatePayloads: payload type should be either image or text. Now it is : " +
              r.type) : r.hasOwnProperty("clkAdd") ? r.hasOwnProperty(
            "dragAdd") ? "image" === r.type ? (null === (e = r.attr) ||
              void 0 === e ? void 0 : e.url) || this.logger.error(
              "[ws] MacroOp.validatePayloads: when type === 'image', 'attr.url' is needed"
              ) : "text" === r.type && (!(null === (t = r.attr) || void 0 ===
                t ? void 0 : t.text) || r.attr.text.length > 100 ? this.logger
              .error(
                "[ws] MacroOp.validatePayloads: when type === 'text', the length of 'attr.text' should be between 1 and 100"
                ) : (null === (n = r.attr) || void 0 === n ? void 0 : n
                .fontSize) && ("number" != typeof r.attr.fontSize || isNaN(r
                  .attr.fontSize) || r.attr.fontSize < 12 || r.attr.fontSize >
                300) && this.logger.error(
                "[ws] MacroOp.validatePayloads: when type === 'text', 'attr.fontSize' must be a number and between 12 and 300"
                )) : this.app.logger.error(
              "[ws] MacroOp.validatePayloads: payload attribute 'dragAdd' is needed"
              ) : this.app.logger.error(
              "[ws] MacroOp.validatePayloads: payload attribute 'clkAdd' is needed"
              ) : this.app.logger.error(
              "[ws] MacroOp.validatePayloads: payload is needed")
        }
      }, {
        key: "handleMouseDown",
        value: function (e, t, n) {
          this.beginBatch(), this.sx = t, this.sy = n
        }
      }, {
        key: "handleMouseUp",
        value: function (e, t, n, r, A) {
          this.isMouseMoved ? this.dispatchDraggingPayload(t, n, "mouseup") :
            this.handleClick(e, t, n)
        }
      }, {
        key: "handleMouseMove",
        value: function (e, t, n) {
          var r = this.opsManager.currOpPayload;
          r && (this.app.container.isTargetOnContainer(e.target) ? r.cursor ?
              document.body.style.cursor = r.cursor : "text" === r.type ?
              document.body.style.cursor = "text" : "image" === r.type ?
              document.body.style.cursor = "pointer" : document.body.style
              .cursor = "auto" : document.body.style.cursor = "auto"), this
            .isMouseDown && this.dispatchDraggingPayload(t, n, "mousemove")
        }
      }, {
        key: "dispatchDraggingPayload",
        value: function (e, t, n) {
          var r = this.opsManager.currOpPayload;
          if (r && r.dragAdd && "image" === r.type) {
            var A = r.attr.url,
              a = Math.max(Math.abs(e - this.sx), 1),
              i = Math.max(Math.abs(t - this.sy), 1),
              o = e > this.sx ? 0 : 1,
              s = t > this.sy ? 0 : 1;
            this.opsManager.imageOp.addImage(A, {
              inProgress: "mousemove" === n,
              width: a,
              height: i,
              pos: {
                mx: this.sx,
                my: this.sy,
                size: "relative",
                origin: {
                  x: o,
                  y: s
                }
              }
            })
          }
        }
      }, {
        key: "handleClick",
        value: function (e, t, n) {
          var r = this.opsManager.currOpPayload;
          if (r && r.clkAdd)
            if ("image" === r.type) {
              var A = r.attr,
                a = A.url,
                i = A.width,
                o = A.height,
                l = r.origin ? r.origin : {
                  x: 0,
                  y: 0
                };
              this.opsManager.imageOp.addImage(a, {
                width: i,
                height: o,
                pos: {
                  my: n,
                  mx: t,
                  size: r.size ? r.size : "relative",
                  origin: l
                }
              })
            } else if ("text" === r.type) {
            var c = r.attr,
              d = c.text,
              p = c.fontSize,
              h = c.fontFamily,
              f = c.stroke;
            if (p = p || 32, !d || d.length > 100) return void this.app.logger
              .error(
                "[ws] The length of text marco must be between 1 and 100");
            if (!p || !(0, s.isNumber)(p) || p < 12 || p > 300) return void this
              .app.logger.error(
                "[ws] fontSize of text macro is needed, and must be between 12 and 300."
                );
            h = h || u.default.textDef.fontFamily, f = f || u.default.textDef
              .stroke;
            var g = r.attr.hasOwnProperty("fill") ? r.attr.fill : u.default
              .textDef.fill,
              y = this.opsManager.textOp.getTextSize({
                text: d,
                fontSize: p,
                fontFamily: h
              });
            this.dispatch({
              type: "text",
              boundary: {
                w: y.w,
                h: y.h,
                sx: t - y.w / 2,
                sy: n - y.h / 2
              },
              stroke: f,
              textAlign: "center",
              fill: g,
              text: d,
              fontSize: p,
              fontFamily: h,
              inProgress: !1
            })
          }
        }
      }]), t
    }(l(n(9)).default);
    t.default = c
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = I(n(5)),
      A = I(n(7)),
      a = I(n(21)),
      i = I(n(20)),
      o = I(n(42)),
      s = I(n(0)),
      u = I(n(1)),
      l = I(n(242)),
      c = n(46),
      d = n(148),
      p = n(365),
      h = n(250),
      f = n(366),
      g = n(96),
      y = n(72),
      v = n(31),
      m = I(n(32)),
      w = n(14),
      B = I(n(159));

    function I(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var M = 0,
      C = function () {
        function e(t, n) {
          var r = this;
          (0, s.default)(this, e), this.importingBoards = !1, this
            .snapsDuringImporting = [], this.importPkgId = -1, this.executedClientIdSet =
            new o.default, this.currIndex = "whiteboard", this
            .isReceivingBatchSnapshots = !1, this.boards = {}, this.pkgIdOpIdMap = {},
            this.pageToRefresh = void 0, this.pageToIncRefresh = void 0, this
            .opIdSnapshotMap = {}, this.boardsSnapshotIds = [], this
            .globalSnapshotIds = [], this.boardOps = {}, this.delayedSnaps = [], this
            .mergeFailCache = {}, this._startRefreshLoop2 = function () {
              if (!r.app.destroyed) {
                cancelAnimationFrame(r.refreshAnimationTimer);
                try {
                  r.refreshAnimationTimer = requestAnimationFrame((function () {
                    return r._startRefreshLoop2()
                  }))
                } catch (e) {
                  M < 10 && (M += 1, r.logger.error("[wb]requestAnimationFrame error")), (
                    0, f.polyfillRaf)(), r._startRefreshLoop()
                }(r.pageToRefresh && r.pageToRefresh === r.currBoard.currPage || r
                  .pageToIncRefresh && r.pageToIncRefresh === r.currBoard.currPage) && r
                  .currBoard.currPage.refreshOnStreamCanvas(), r.pageToRefresh && r
                  .pageToRefresh === r.currBoard.currPage && (r.pageToRefresh = void 0, r
                    .currBoard.currPage.refresh()), r.pageToIncRefresh && r
                  .pageToIncRefresh === r.currBoard.currPage && (r.pageToIncRefresh =
                    void 0, r.currBoard.currPage.incRefresh())
              }
            }, this.app = t, this.dataHub = n, this._init()
        }
        return (0, u.default)(e, [{
          key: "updateDefaultBoardName",
          value: function (e) {
            var t = this.boards.whiteboard;
            t && e.length > 0 && e.length <= 64 && (t.displayName = e, this.app
              .opsManager.hooks.boardChange.call())
          }
        }, {
          key: "getBoardSnapshots",
          value: function () {
            var e = this;
            return this.boardsSnapshotIds.map((function (t) {
              return e.opIdSnapshotMap[t]
            })).filter((function (e) {
              return "goto" !== e.snapshot.data.action
            }))
          }
        }, {
          key: "getBoardDisplayNames",
          value: function () {
            var e = this;
            return (0, i.default)(this.boards).map((function (t) {
              return e.boards[t].displayName
            }))
          }
        }, {
          key: "getPageWithFallback",
          value: function (e, t) {
            e = void 0 === e ? this.currBoard.boardName : e;
            var n = this.boards[e],
              r = void 0;
            if (n) {
              if (r = void 0 === t ? n.pages[n.currIndex] : n.pages[t]) return r;
              this.logger.warn("[wb]getPageWithFallback 找不到boardName为" + e +
                "，pageName为" + t + "的白板页")
            } else this.logger.warn("[wb]getPageWithFallback 找不到boardName为" + e +
              "的文档")
          }
        }, {
          key: "getPage",
          value: function (e, t) {
            var n = !(arguments.length > 2 && void 0 !== arguments[2]) ||
              arguments[2],
              r = this.boards[e];
            if (!r) return n && this.app.dataReportUtil("v3_run_error", {
              error: {
                code: y.DataReportRunError.Board_Lost,
                message: (0, a.default)({
                  snaps: this.getBoardSnapshots(),
                  board: e,
                  page: t
                })
              }
            }), void this.logger.warn("[wb]getPage: 找不到名字为" + e +
              "的白板，当前房间白板列表为: " + (0, i.default)(this.app.room.boards).join(
                ","));
            var A = r.pages[t];
            return A || (n && this.app.dataReportUtil("v3_run_error", {
                error: {
                  code: y.DataReportRunError.Page_Lost,
                  message: (0, a.default)({
                    snaps: r.getPageSnapshots(),
                    board: e,
                    page: t
                  })
                }
              }), void this.logger.warn("[wb]getPage: 找不到boardName: " + e +
                ", pageName: " + t + "的白板页，当前房间白板页码为: " + r.pageNames.join(",")
                ))
          }
        }, {
          key: "getPageByBoardNameAndIndex",
          value: function (e, t) {
            var n = this.boards[e];
            if (n) {
              var r = n.pageNames[t];
              if (r) {
                if (n.pages[r]) return n.pages[r];
                this.logger.warn(
                  "[wb]getPageByBoardNameAndIndex: 找不到找不到boardName: " + e +
                  ", pageName: " + r + "的的白板页，当前房间白板页码为: " + n.pageNames.join(
                    ","))
              } else this.logger.warn(
                "[wb]getPageByBoardNameAndIndex: 找不到找不到boardName: " + e +
                ", pageIndex: " + t + "的的白板页，当前房间白板页码为: " + n.pageNames.join(
                  ","))
            } else this.logger.warn("[wb]getPageByBoardNameAndIndex: 找不到名字为" + e +
              "的白板，当前房间白板列表为: " + (0, i.default)(this.app.room.boards).join(",")
              )
          }
        }, {
          key: "getPageNameFromIndex",
          value: function (e, t) {
            if (void 0 !== t) {
              e = e || this.currBoard.boardName;
              var n = this.getPageByBoardNameAndIndex(e, t);
              return null == n ? void 0 : n.pageIndex
            }
          }
        }, {
          key: "recoverFullSnapshot",
          value: function (e) {
            var t = this.opIdSnapshotMap[e.opId] && this.opIdSnapshotMap[e.opId]
              .snapshot.data.type,
              n = e.data.type;
            if (t && n) return this.app.opsManager.mergePartial(this
              .opIdSnapshotMap[e.opId].snapshot, e);
            if (n) {
              var r = this.mergeFailCache[e.opId],
                a = e;
              if (r) {
                var i = !0,
                  o = !1,
                  s = void 0;
                try {
                  for (var u, l = (0, A.default)(r); !(i = (u = l.next())
                    .done); i = !0) {
                    var c = u.value;
                    a = this.app.opsManager.mergePartial(a, c)
                  }
                } catch (e) {
                  o = !0, s = e
                } finally {
                  try {
                    !i && l.return && l.return()
                  } finally {
                    if (o) throw s
                  }
                }
                delete this.mergeFailCache[e.opId]
              }
              return a
            }
            return t ? (delete this.mergeFailCache[e.opId], this.app.opsManager
              .mergePartial(this.opIdSnapshotMap[e.opId].snapshot, e)) : (this
              .mergeFailCache[e.opId] = this.mergeFailCache[e.opId] || [], this
              .mergeFailCache[e.opId].push(e), e)
          }
        }, {
          key: "destroy",
          value: function () {
            var e, t;
            this.logger.log("[wb] room destroy"), this._init(), null === (t =
                null === (e = this.currBoard) || void 0 === e ? void 0 : e
                .currPage) || void 0 === t || t.cleanNonCanvasElements(),
              cancelAnimationFrame(this.refreshAnimationTimer)
          }
        }, {
          key: "reset",
          value: function () {
            var e, t, n;
            this.logger.log("[wb]", "room.reset"), this._init(), null === (t =
                null === (e = this.currBoard) || void 0 === e ? void 0 : e
                .currPage) || void 0 === t || t.cleanNonCanvasElements(), this
              .pageToRefresh = null === (n = this.currBoard) || void 0 === n ?
              void 0 : n.currPage
          }
        }, {
          key: "beginReceiveBatchSnapshots",
          value: function (e) {
            this.batchSource = e, this.isReceivingBatchSnapshots = !0
          }
        }, {
          key: "endReceiveBatchSnapshots",
          value: function (e) {
            var t, n, r, A = this,
              a = e.boundaries,
              i = e.hasBoardAction,
              o = e.cb,
              s = e.batchSource;
            if (this.batchSource = void 0, this.isReceivingBatchSnapshots = !1,
              this.currBoard.currPage.calcDrawOpQueue(), a.length > 0) {
              var u = a[a.length - 1];
              u.boundary.width > 0 && u.boundary.height > 0 ? !u.animate ||
                "sync" === s && "function" == typeof o ? ((0, d
                    .stopTransitionToCameraBound)(), this.app.camera
                  .setCameraBound(u.boundary), null === (t = this.app
                    .previewFactory) || void 0 === t || t
                  .refreshPreviewsOfCurrBoard(), "function" == typeof o && o(!0)
                  ) : (0, d.transitionToCameraBound)(this.app.camera, u.boundary,
                  (function () {
                    var e;
                    null === (e = A.app.previewFactory) || void 0 === e || e
                      .refreshPreviewsOfCurrBoard(), "function" == typeof o &&
                      o(!0)
                  })) : "function" == typeof o && o(!1)
            } else this.pageToRefresh = this.currBoard.currPage, i ? null === (n =
                this.app.previewFactory) || void 0 === n || n
              .refreshPreviewsOfCurrBoard() : null === (r = this.app
                .previewFactory) || void 0 === r || r.refreshPreviewsOfCurrPage(),
              "function" == typeof o && o(!1)
          }
        }, {
          key: "dispatch",
          value: function (e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[
              1];
            if (!this.app.destroyed) {
              var n = -1 !== c.cameraSnapshotTypes.indexOf(e.data.type);
              if ("camera-bound" !== e.data.type || e.data.boundary.width && e
                .data.boundary.height) {
                if (!this.app.editable && !n) {
                  if (this.app.isRecordPlayer) return;
                  if (!this.app.editEnabled) return this.logger.warn(
                    "[wb] room.dispatch: app is not editable yet");
                  if (this.importingBoards) return;
                  var r = (0, h.shouldCacheSnapshot)(e);
                  if (r) return this.logger.log("[wb]白板恢复后会上传数据: " + e.data.type),
                    (0, v.showToast)({
                      time: 30,
                      type: "warn",
                      msg: (0, w.getMsg)("delayAdd"),
                      msgType: m.default.SYNCHRONIZING,
                      args: {
                        name: name
                      }
                    }), void this.delayedSnaps.push({
                      snap: e,
                      time: Date.now()
                    });
                  if (!this.app.isConnected) return this.logger.error(
                    "[wb] room.dispatch: it' not allowed to edit whiteboard when it's not connected"
                    );
                  if (this.dataHub.isSynchronizing) return this.logger.error(
                    "[wb] room.dispatch: it' not allowed to edit whiteboard when sync is not finished"
                    )
                }
                if (this.dataHub.isSynchronizing) "camera-bound" !== e.data
                  .type && this.logger.error(
                    "[wb] room.dispatch: it' not allowed to edit whiteboard when sync is not finished"
                    );
                else if (n && "broadcaster" !== this.app.vision.mode)(0, p
                  .addGlobalOp)(this, e);
                else {
                  if (this.importingBoards) return;
                  var A = this.dataHub.sendSnapshot(e, t);
                  this.execSnapshot({
                    snapshot: e,
                    pkgId: A
                  })
                }
              } else this.logger.warn("[wb]error, dispatch camera-bound的宽高无效", (0,
                a.default)(e.data))
            }
          }
        }, {
          key: "execCachedSnapshots",
          value: function (e) {
            var t = (0, i.default)(e.pkgIdOpIdMap).map((function (e) {
                return Number(e)
              })).sort((function (e, t) {
                return e - t
              })),
              n = [],
              r = !0,
              a = !1,
              o = void 0;
            try {
              for (var s, u = (0, A.default)(t); !(r = (s = u.next()).done); r = !
                0) {
                var l = s.value;
                if (Number(l) <= e.lastConfirmId) {
                  var c = e.pkgIdOpIdMap[l],
                    d = !0,
                    p = !1,
                    h = void 0;
                  try {
                    for (var f, g = (0, A.default)(c); !(d = (f = g.next())
                      .done); d = !0) {
                      var y = f.value;
                      n.push(e.opIdSnapshotMap[y])
                    }
                  } catch (e) {
                    p = !0, h = e
                  } finally {
                    try {
                      !d && g.return && g.return()
                    } finally {
                      if (p) throw h
                    }
                  }
                }
              }
            } catch (e) {
              a = !0, o = e
            } finally {
              try {
                !r && u.return && u.return()
              } finally {
                if (a) throw o
              }
            }
            this.execBatchSnapshots(n, "sync")
          }
        }, {
          key: "getCachedTil",
          value: function (e) {
            for (var t = (0, i.default)(this.pkgIdOpIdMap).map((function (e) {
                return Number(e)
              })).sort((function (e, t) {
                return e - t
              })), n = t.length - 1; n >= 0; n--)
              if (t[n] <= e) return t[n];
            return -1
          }
        }, {
          key: "executeDelayedSnaps",
          value: function () {
            if (this.app.editEnabled)
              for (; this.delayedSnaps.length > 0;) {
                var e = this.delayedSnaps.shift(),
                  t = Date.now();
                if (t - e.time < 3e4) {
                  if (("video" === e.snap.data.type || "audio" === e.snap.data
                      .type) && this.app.hasMediaOnPage(!1)) continue;
                  e.snap.time = t, this.dispatch(e.snap)
                }
              } else this.delayedSnaps = []
          }
        }, {
          key: "execSnapshot",
          value: function (e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[
              1] : {
                fromBatch: !1,
                batchSource: "data"
              },
              n = (0, r.default)((0, r.default)({}, e), {
                snapshot: this.recoverFullSnapshot(e.snapshot)
              });
            if (this.importingBoards) this.snapsDuringImporting.push(n);
            else {
              t.fromBatch || (this.cacheSnapshot(n, !0), this.pushSnapshotToQueue(
                n));
              var A = n.snapshot;
              if ("inPageOp" === A.category) {
                var a = this.getPage(A.board, A.page.toString(), !1);
                a && a.addOpInPage(A)
              } else if ("pageOp" === A.category) {
                var i = this.boards[A.board];
                i && i.addOpInBoard(A)
              } else "globalOp" === A.category ? (0, p.addGlobalOp)(this, A) : (0,
                p.addOpInRoom)(this, A, {
                fromBatch: t.fromBatch && "data" !== t.batchSource
              })
            }
          }
        }, {
          key: "importInPageOps",
          value: function (e) {
            var t = !0,
              n = !1,
              r = void 0;
            try {
              for (var a, i = (0, A.default)(e); !(t = (a = i.next()).done); t = !
                0) {
                var o = a.value;
                this.pushSnapshotToQueue({
                  pkgId: this.importPkgId,
                  snapshot: o
                }), this.opIdSnapshotMap[o.opId] = {
                  snapshot: o,
                  pkgId: this.importPkgId
                }, this.importPkgId--
              }
            } catch (e) {
              n = !0, r = e
            } finally {
              try {
                !t && i.return && i.return()
              } finally {
                if (n) throw r
              }
            }
          }
        }, {
          key: "execBatchSnapshots",
          value: function (e, t, n) {
            var a = this;
            console.log("execBatchSnapshots 从远程批量接收快照: ", e);
            var i = e.map((function (e) {
                var t = (0, r.default)((0, r.default)({}, e), {
                  snapshot: a.recoverFullSnapshot(e.snapshot)
                });
                return a.cacheSnapshot(t, !0), a.pushSnapshotToQueue(t), t
              })),
              o = 0 === i.filter((function (e) {
                return "inPageOp" !== e.snapshot.category
              })).length,
              s = i.filter((function (e) {
                return "boardOp" === e.snapshot.category
              })).length > 0,
              u = i.filter((function (e) {
                return "globalOp" === e.snapshot.category &&
                  "camera-bound" === e.snapshot.data.type
              })).map((function (e) {
                return {
                  animate: e.snapshot.data.animate,
                  boundary: (0, h.getCameraBoundFromGlobalOp)(a, e.snapshot)
                }
              })).filter((function (e) {
                return e.boundary
              })),
              l = i.filter((function (e) {
                return "globalOp" !== e.snapshot.category ||
                  "camera-bound" !== e.snapshot.data.type
              }));
            if (o) {
              var c = !1;
              l.forEach((function (e) {
                var t = e.snapshot,
                  n = a.getPage(t.board, t.page.toString());
                n && (c = n.addOpInPage(t, !1) || c)
              })), c ? this.endReceiveBatchSnapshots({
                boundaries: [],
                hasBoardAction: !1,
                batchSource: t,
                cb: n
              }) : "function" == typeof n && n(!1)
            } else {
              this.beginReceiveBatchSnapshots(t);
              try {
                var d = {},
                  p = !0,
                  f = !1,
                  y = void 0;
                try {
                  for (var v, m = (0, A.default)(l); !(p = (v = m.next())
                    .done); p = !0) {
                    var w = v.value,
                      B = w.snapshot.data.type; - 1 === g.overwritableTypes
                      .indexOf(B) ? this.execSnapshot(w, {
                        fromBatch: !0,
                        batchSource: t
                      }) : d[w.snapshot.opId] = w
                  }
                } catch (e) {
                  f = !0, y = e
                } finally {
                  try {
                    !p && m.return && m.return()
                  } finally {
                    if (f) throw y
                  }
                }
                for (var I in d) this.execSnapshot(d[I], {
                  fromBatch: !0,
                  batchSource: t
                });
                this.endReceiveBatchSnapshots({
                  boundaries: u,
                  hasBoardAction: s,
                  batchSource: t,
                  cb: n
                })
              } catch (e) {
                this.logger.error("[wb]error", e), this.endReceiveBatchSnapshots({
                  boundaries: u,
                  hasBoardAction: s,
                  batchSource: t,
                  cb: n
                })
              }
            }
          }
        }, {
          key: "cacheOrExecAckPkg",
          value: function (e, t) {
            var n = this.pkgIdOpIdMap[e.pkgId],
              r = this.pkgIdOpIdMap[t];
            n && -1 !== n.indexOf(e.snapshot.opId) ? this.cacheSnapshot(e) : r &&
              -1 !== r.indexOf(e.snapshot.opId) ? "inPageOp" === e.snapshot
              .category && t !== e.pkgId ? this.execSnapshot(e) : "pageOp" !== e
              .snapshot.category && "boardOp" != e.snapshot.category || "goto" !==
              e.snapshot.data.action ? this.cacheSnapshot(e) : this.execSnapshot(
                e) : this.execSnapshot(e)
          }
        }, {
          key: "cacheSnapshot",
          value: function (e) {
            var t, n = arguments.length > 1 && void 0 !== arguments[1] &&
              arguments[1],
              r = e.snapshot.opId,
              A = e.pkgId;
            if (this.opIdSnapshotMap[r]) {
              n || (e.snapshot = this.recoverFullSnapshot(e.snapshot));
              var a = this.opIdSnapshotMap[r].pkgId,
                i = this.pkgIdOpIdMap[a].indexOf(r);
              this.pkgIdOpIdMap[a].splice(i, 1), 0 === this.pkgIdOpIdMap[a]
                .length && delete this.pkgIdOpIdMap[a]
            }
            this.opIdSnapshotMap[r] = e, (t = this.pkgIdOpIdMap)[A] || (t[
            A] = []), this.pkgIdOpIdMap[A].push(r)
          }
        }, {
          key: "pushSnapshotToQueue",
          value: function (e) {
            var t, n, r = e.snapshot.category,
              A = e.snapshot.opId,
              a = e.pkgId;
            if ("globalOp" === r) this._pushSnapshotInArray(A, a, this
              .globalSnapshotIds);
            else if ("boardOp" === r) this._pushSnapshotInArray(A, a, this
              .boardsSnapshotIds);
            else if ("pageOp" === e.snapshot.category) {
              var i = e.snapshot.board;
              this.boardOps.hasOwnProperty(i) || (this.boardOps[i] = {
                pageSnapshotIds: [],
                pages: {}
              }), (t = this.boardOps[i]).pageSnapshotIds || (t
                .pageSnapshotIds = []), this._pushSnapshotInArray(A, a, this
                .boardOps[i].pageSnapshotIds)
            } else if ("inPageOp" === e.snapshot.category) {
              var o = e.snapshot.board,
                s = e.snapshot.page;
              this.boardOps.hasOwnProperty(o) || (this.boardOps[o] = {
                pageSnapshotIds: [],
                pages: {}
              }), this.boardOps[o].pages.hasOwnProperty(s) || (this.boardOps[o]
                .pages[s] = {
                  inPageSnapshotIds: []
                }), (n = this.boardOps[o].pages[s]).inPageSnapshotIds || (n
                .inPageSnapshotIds = []), this._pushSnapshotInArray(A, a, this
                .boardOps[o].pages[s].inPageSnapshotIds)
            }
          }
        }, {
          key: "_pushSnapshotInArray",
          value: function (e, t, n) {
            var r = n.indexOf(e); - 1 !== r && n.splice(r, 1);
            for (var A = n.length; A >= 0; A--) {
              if (0 === A) {
                n.splice(A, 0, e);
                break
              }
              if (this.opIdSnapshotMap[n[A - 1]].pkgId <= t) {
                n.splice(A, 0, e);
                break
              }
            }
          }
        }, {
          key: "mergeDebouncedData",
          value: function (e, t) {
            if ("snapshot" !== t && e.length > 0) return e[e.length - 1];
            if ("snapshot" !== t) throw new Error(
              "[wb]mergeDebounceData, dataArr is empty!!");
            var n = {},
              r = !0,
              a = !1,
              o = void 0;
            try {
              for (var s, u = (0, A.default)(e); !(r = (s = u.next()).done); r = !
                0) {
                var l = s.value;
                "vision" === l.type ? n.vision = l : n.hasOwnProperty(l.value
                    .opId) ? l.value.hasOwnProperty("category") ? n[l.value
                  .opId] = l.value : n[l.value.opId].hasOwnProperty("category") ?
                  n[l.value.opId] = this.app.opsManager.mergePartial(n[l.value
                    .opId], l.value) : n[l.value.opId] = this.app.opsManager
                  .mergeTwoPartial(n[l.value.opId], l.value) : n[l.value.opId] = l
                  .value
              }
            } catch (e) {
              a = !0, o = e
            } finally {
              try {
                !r && u.return && u.return()
              } finally {
                if (a) throw o
              }
            }
            return 1 === (0, i.default)(n).length ? {
              type: "snapshot",
              value: (0, i.default)(n).map((function (e) {
                return n[e]
              }))[0]
            } : {
              type: "snapshotArr",
              value: (0, i.default)(n).map((function (e) {
                return n[e]
              }))
            }
          }
        }, {
          key: "_init",
          value: function () {
            var e = new l.default(this.app, "whiteboard", this.app.appConfig
              .defaultBoardName);
            this.boards = {
                whiteboard: e
              }, this.currIndex = "whiteboard", this.pkgIdOpIdMap = {}, this
              .opIdSnapshotMap = {}, this.boardsSnapshotIds = [], this
              .globalSnapshotIds = [], this.boardOps = {}, this
              .mergeFailCache = {}, this.executedClientIdSet.clear(), this
              ._startRefreshLoop()
          }
        }, {
          key: "overwrite",
          value: function () {
            this.currIndex = "", this.boards = {}, this.pkgIdOpIdMap = {}, this
              .opIdSnapshotMap = {}, this.boardsSnapshotIds = [], this
              .globalSnapshotIds = [], this.boardOps = {}, this
              .mergeFailCache = {}, this.executedClientIdSet.clear()
          }
        }, {
          key: "_startRefreshLoop",
          value: function () {
            cancelAnimationFrame(this.refreshAnimationTimer), this
              ._startRefreshLoop2()
          }
        }, {
          key: "refresh",
          value: function () {
            this.pageToRefresh = this.currBoard.currPage
          }
        }, {
          key: "importBoards",
          value: function (e, t, n) {
            var r, A;
            this.logger.log("[wb] importBoards", "boardNames", t, "overwrite", n),
              t = t || [];
            var a = !1;
            try {
              for (var i = B.default.ungzip(e), o = new DataView(i.buffer), s = 0,
                  u = void 0, l = [], c = []; !(s >= i.length);) {
                var d = o.getUint32(s, !0);
                s += 4;
                var h = (new TextDecoder).decode(i.slice(s, s + d));
                s += d;
                var f = JSON.parse(h);
                f.isBoard ? t.length > 0 && -1 === t.indexOf(f.name) ? c.push(f
                    .name) : !n && this.boards[f.name] ? (this.logger.log(
                    "[wb]importBoards, board already exists", f.name), c.push(f
                    .name)) : (!a && n && (a = !0, this.overwrite()), u = f.name,
                    (0, p.importBoard)(this, f), this.currIndex = f.name) : -1 ===
                  c.indexOf(f.board) && l.push(f)
              }
              u ? (this.importInPageOps(l), this.currBoard.currPage
                .calcDrawOpQueue(), this.pageToRefresh = this.currBoard
                .currPage, null === (A = null === (r = this.currBoard) ||
                  void 0 === r ? void 0 : r.currPage) || void 0 === A || A
                .cleanNonCanvasElements(!0), this.app.opsManager.hooks
                .boardChange.call()) : this.logger.error(
                "[wb]importBoards, no valid board")
            } catch (e) {
              return this.logger.error("[wb]importBoards, parse error", e),
                void this.app.emit("event:importBoard:error", e)
            }
          }
        }, {
          key: "exportBoards",
          value: function (e, t, n) {
            this.logger.log("[wb] exportBoards, boardNames", e);
            var i = new TextEncoder,
              o = 0,
              s = [],
              u = [],
              l = !0,
              c = !1,
              d = void 0;
            try {
              for (var p, h = (0, A.default)(e); !(l = (p = h.next()).done); l = !
                0) {
                var f = p.value,
                  g = "whiteboard" === f ? "whiteboard_" + (new Date).valueOf() :
                  f,
                  y = this.boards[f];
                if (y) {
                  u.push({
                    name: g,
                    displayName: y.displayName,
                    pageCount: y.pageNames.length
                  });
                  var v = {
                    isBoard: !0,
                    name: g,
                    displayName: y.displayName,
                    pageNames: y.pageNames
                  };
                  if (y.transDocSnapshot) {
                    var m = y.transDocSnapshot.data;
                    v.transDocSnapshot = {
                      opId: y.transDocSnapshot.opId,
                      time: y.transDocSnapshot.time,
                      category: y.transDocSnapshot.category,
                      uid: y.transDocSnapshot.uid,
                      data: (0, r.default)((0, r.default)({}, m), {
                        transDocData: {
                          animIndex: 0,
                          animState: "start",
                          animPageIndex: 0
                        }
                      })
                    }
                  } else if (y.staticDocSnapshot) {
                    var w = y.staticDocSnapshot.data;
                    v.staticDocSnapshot = {
                      opId: y.staticDocSnapshot.opId,
                      time: y.staticDocSnapshot.time,
                      category: y.staticDocSnapshot.category,
                      uid: y.staticDocSnapshot.uid,
                      data: w
                    }
                  }
                  var I = i.encode((0, a.default)(v));
                  for (var M in s.push(I), o += I.length + 4, y.pages) {
                    var C = y.pages[M];
                    for (var b in C.drawOpQueue) {
                      var x = C.drawOpQueue[b],
                        T = (0, r.default)((0, r.default)({}, x), {
                          data: (0, r.default)({}, x.data)
                        });
                      T.board = g, "audio" !== T.data.type && "video" !== T.data
                        .type || T.data.mediaData && (T.data.mediaData = {
                          ened: !1,
                          play: !1,
                          seek: 0,
                          seekTime: (this.app.ntpTimeDiff + Date.now()) / 1e3
                        });
                      var k = i.encode((0, a.default)(T));
                      s.push(k), o += k.length + 4
                    }
                  }
                } else this.logger.error("[wb]exportBoards, board not found", f)
              }
            } catch (e) {
              c = !0, d = e
            } finally {
              try {
                !l && h.return && h.return()
              } finally {
                if (c) throw d
              }
            }
            this.logger.log("[wb]exportBoards, lenTotal", o);
            var E = 0,
              N = new ArrayBuffer(o),
              O = !0,
              P = !1,
              _ = void 0;
            try {
              for (var D, Q = (0, A.default)(s); !(O = (D = Q.next()).done); O = !
                0) {
                var S = D.value,
                  U = S.length;
                new DataView(N, E, 4).setUint32(0, U, !0), E += 4, new Uint8Array(
                  N, E, U).set(S), E += U
              }
            } catch (e) {
              P = !0, _ = e
            } finally {
              try {
                !O && Q.return && Q.return()
              } finally {
                if (P) throw _
              }
            }
            var F = B.default.gzip(new Uint8Array(N), {
              to: "string"
            });
            if (n) {
              var L = document.createElement("a");
              L.setAttribute("href", "data:text/plain;charset=utf-8," +
                  encodeURIComponent(F)), t = -1 !== (t = t || "whiteboard")
                .indexOf(".") ? t : t + ".yxwb", L.setAttribute("download", "" +
                  t), L.click()
            }
            return {
              summary: u,
              content: F
            }
          }
        }, {
          key: "workerRefresh",
          value: function () {
            this.currBoard.currPage.refreshOnStreamCanvas()
          }
        }, {
          key: "currBoard",
          get: function () {
            return this.boards[this.currIndex]
          }
        }, {
          key: "logger",
          get: function () {
            return this.app.logger
          }
        }]), e
      }();
    t.default = C
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.addIncrementSnapshot = void 0;
    var r = n(46),
      A = n(248),
      a = n(95),
      i = (t.addIncrementSnapshot = function (e, t) {
        "text" === t.data.type ? i(e, t) : o(e, t)
      }, function (e, t) {
        if (e.boardName === e.app.room.currIndex && e.pageIndex === e.app.room.currBoard
          .currIndex.toString()) {
          if (t.data.dependOn) {
            var n = t.data.dependOn,
              r = e.drawOpQueue[n];
            r && (r = (0, a.transformOp)(e, r, t), e.drawOpQueue[n] = r, s(e, r))
          } else e.drawOpQueue[t.opId] = t, s(e, t);
          e.app.room.pageToIncRefresh = e
        }
      }),
      o = function (e, t) {
        if (e.boardName === e.app.room.currIndex && e.pageIndex === e.app.room.currBoard
          .currIndex.toString()) {
          var n = t;
          if (-1 === r.snapshotOutOfNormalFlowTypes.indexOf(t.data.type)) {
            if (!t.data.dependOn && e.opQueueMap.hasOwnProperty(t.opId)) {
              var i = e.opQueueMap[t.opId];
              i[0].opId === t.opId && (i[0] = t), n = (0, A.getDrawOpFromSnapshotQueue)(e,
                t.opId), (0, a.patchOp)(e, n)
            }
            e.drawOpQueue[t.opId] = n
          } else "laser" === t.data.type && (e.lastLaserOfUser[t.uid] = t);
          s(e, t), e.app.room.pageToIncRefresh = e
        }
      },
      s = function (e, t) {
        "select" === t.data.type ? t.data.inProgress && (e.lastInProgressSelectOfUser[t
            .uid] = t) : "mouse-pointer" === t.data.type ? e.lastMousePointerOfUser[t
          .uid] = t : e.lastInProgressSnapshotOfUser.hasOwnProperty(t.uid) && e
          .lastInProgressSnapshotOfUser[t.uid].snapshot.opId === t.opId ? e
          .lastInProgressSnapshotOfUser[t.uid] = {
            snapshot: t,
            beginAt: e.lastInProgressSnapshotOfUser[t.uid].beginAt
          } : e.lastInProgressSnapshotOfUser[t.uid] = {
            snapshot: t,
            beginAt: Date.now()
          }
      }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.gotoBoard = t.addTransDocBoard = t.addBoard = t.importBoard = t.deleteBoard =
      t.addOpInRoom = t.addGlobalOp = void 0;
    var r = p(n(5)),
      A = p(n(20)),
      a = p(n(25)),
      i = p(n(11)),
      o = n(158),
      s = n(148),
      u = p(n(242)),
      l = n(249),
      c = p(n(147)),
      d = n(250);

    function p(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var h = function (e, t, n, r) {
        return new(n || (n = i.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      f = (t.addGlobalOp = function (e, t) {
        var n, r = e.app.camera,
          A = (0, d.getCameraBoundFromGlobalOp)(e, t);
        A && (t.data.animate || t.uid !== e.app.account ? (0, s.transitionToCameraBound)
          (r, A, (function () {
            var t;
            null === (t = e.app.previewFactory) || void 0 === t || t
              .refreshPreviewsOfCurrBoard()
          })) : ((0, s.stopTransitionToCameraBound)(), e.app.camera.setCameraBound(A),
            null === (n = e.app.previewFactory) || void 0 === n || n
            .refreshPreviewsOfCurrBoard()))
      }, t.addOpInRoom = function (e, t, n) {
        return h(void 0, void 0, void 0, a.default.mark((function r() {
          var A, s, u, l, c, p, w;
          return a.default.wrap((function (r) {
            for (;;) switch (r.prev = r.next) {
              case 0:
                if (s = t.data, u = s.action, l = s.boardName, c = s
                  .type, p = e.app.logger, "goto" === u && v(e, l, t),
                  "delete" === u && f(e, l, t), "add" === u && g(e, l,
                    t), "import" !== u) {
                  r.next = 18;
                  break
                }
                e.app.emit("event:importBoard", "start"), e
                  .importingBoards = !0, e.snapsDuringImporting = [],
                  w = e.app.appConfig.showImportProgress ? m(e.app
                    .container.el) : function () {}, r.next = 13;
                break;
              case 13:
                r.next = 16;
                break;
              case 16:
                (function e(t) {
                  return new i.default((function (n, r) {
                    fetch(t, {
                      method: "get"
                    }).then((function (e) {
                      e.ok ? n(e) : (p.error(
                        "fetch error", e), r(e))
                    })).catch((function (A) {
                      return h(void 0, void 0, void 0, a
                        .default.mark((function i() {
                          return a.default.wrap((
                            function (a) {
                              for (;;) switch (a
                                .prev = a.next
                                ) {
                                case 0:
                                  return p
                                    .error(
                                      "fetch error",
                                      A), a
                                    .next = 3,
                                    (0, o
                                      .delay)(
                                      1500);
                                case 3:
                                  e(t).then((
                                      function (
                                        e) {
                                        n(e)
                                      }))
                                    .catch((
                                      function (
                                        e) {
                                        r(e)
                                      }));
                                case 4:
                                case "end":
                                  return a
                                    .stop()
                              }
                            }), i, this)
                        })))
                    }))
                  }))
                })(t.data.url).then((function (e) {
                  return e.text()
                })).then((function (n) {
                  e.importBoards(n, t.data.boardNames, t.data
                    .overwrite)
                })).finally((function () {
                  if (w(), e.importingBoards = !1, e
                    .snapsDuringImporting.length > 0) {
                    var t = e.snapsDuringImporting;
                    e.snapsDuringImporting = [], e
                      .execBatchSnapshots(t, "sync")
                  }(0, d.fitToContentAfterBoardChange)(e), e.app
                    .emit("event:importBoard", "finish")
                }));
              case 18:
                "transDoc" === c && ("addTransDoc" === u && y(e, l, t),
                    e.boards[l].addTransDocOp(t, n)), e.app.opsManager
                  .hooks.opAdd.call(t), "transDoc" === c &&
                  "addTransDoc" !== u || null === (A = e.app
                    .previewFactory) || void 0 === A || A
                  .refreshPreviewsOfCurrBoard();
              case 21:
              case "end":
                return r.stop()
            }
          }), r, this)
        })))
      }, t.deleteBoard = function (e, t, n) {
        if (e.boards.hasOwnProperty(t))
          if (1 === (0, A.default)(e.boards).length) e.logger.error("[wb]",
            "room/deleteBoard: cannot delete last board");
          else {
            var r = (0, A.default)(e.boards),
              a = r.indexOf(t);
            delete e.boards[t];
            var i = void 0;
            if (n.data.nextBoard && e.boards[n.data.nextBoard]) n.data.nextBoard !== e
              .currIndex && (i = n.data.nextBoard);
            else i = r[a === r.length - 1 ? a - 1 : a + 1];
            if (e.logger.log("[wb]", "deleteBoard nextBoard: ", i), i) {
              e.currIndex = i;
              var o = e.boards[e.currIndex];
              e.app.opsManager.hooks.boardChange.call(), (0, l.gotoPage)(o, o.currIndex,
                n), (0, d.fitToContentAfterBoardChange)(e)
            } else e.app.opsManager.hooks.boardChange.call()
          }
        else e.logger.error("[wb]", "room/deleteBoard: board:" + t + " is not found")
      }),
      g = (t.importBoard = function (e, t) {
        var n = t.name,
          r = t.displayName,
          A = t.pageNames;
        e.boards[n] = new u.default(e.app, n, r);
        for (var a = e.boards[n], i = 0, o = 1; o < A.length; o++) a.pages[A[o]] = new c
          .default(e.app, a.boardName, A[o]), a.pageNames.push(A[o]), i = Math.max(i,
            Number(A[o]));
        if (a.newPageIndex = i + 1, t.transDocSnapshot) {
          a.hasDoc = !0;
          for (var s = t.transDocSnapshot, l = 0; l < A.length; l++) {
            var d = A[l];
            if (!(s.data.pageCount <= Number(d))) a.pages[d].setPayload({
              animPageIndex: Number(d)
            })
          }
          a.addTransDocOp(s, {
            fromBatch: !0
          })
        } else t.staticDocSnapshot && function () {
          a.staticDocSnapshot = t.staticDocSnapshot;
          for (var e = t.staticDocSnapshot, r = function (t) {
              var r = A[t];
              if (e.data.pageCount <= Number(r)) return "continue";
              var i = a.pages[r],
                o = (e.data.backupResultUrls || []).map((function (n) {
                  return n.replace("{index}", e.data.offset + t)
                }));
              i.setBackgroundSnapshot({
                board: n,
                page: t,
                category: "inPageOp",
                opId: e.opId + "_" + t,
                time: e.time,
                uid: e.uid,
                data: {
                  boundary: {
                    sx: -e.data.w / 2,
                    sy: -e.data.h / 2,
                    w: e.data.w,
                    h: e.data.h
                  },
                  url: e.data.tmpl.replace("{index}", e.data.offset + Number(
                    r)),
                  backupUrls: o,
                  type: "background"
                }
              })
            }, i = 0; i < A.length; i++) r(i)
        }()
      }, t.addBoard = function (e, t, n) {
        var r = n.data.displayName ? n.data.displayName : t;
        e.boards[t] = new u.default(e.app, t, r), e.currIndex = t;
        var A = e.boards[e.currIndex];
        e.app.opsManager.hooks.boardChange.call();
        for (var a = 1; a < n.data.pageCount; a++)(0, l.addPage)(A, void 0, n);
        if (n.data.tmpl) {
          A.staticDocSnapshot = n;
          for (var i = function (e) {
              var r = A.pages[e],
                a = (n.data.backupResultUrls || []).map((function (t) {
                  return t.replace("{index}", n.data.offset + e)
                }));
              r.setBackgroundSnapshot({
                board: t,
                page: e,
                category: "inPageOp",
                opId: n.opId + "_" + e,
                time: n.time,
                uid: n.uid,
                data: {
                  boundary: {
                    sx: -n.data.w / 2,
                    sy: -n.data.h / 2,
                    w: n.data.w,
                    h: n.data.h
                  },
                  url: n.data.tmpl.replace("{index}", n.data.offset + e),
                  backupUrls: a,
                  type: "background"
                }
              })
            }, o = 0; o < n.data.pageCount; o++) i(o)
        }(0, l.gotoPage)(A, 0, n), (0, d.fitToContentAfterBoardChange)(e)
      }),
      y = t.addTransDocBoard = function (e, t, n) {
        var r = n.data.displayName ? n.data.displayName : t;
        e.boards[t] = new u.default(e.app, t, r), e.currIndex = t;
        var A = e.boards[e.currIndex];
        A.hasDoc = !0, e.app.opsManager.hooks.boardChange.call(), A.pages[0].setPayload({
          animPageIndex: 0
        });
        for (var a = 1; a < n.data.pageCount; a++)(0, l.addPage)(A, void 0, n, {
          animPageIndex: a
        });
        (0, l.gotoPage)(A, 0, n), (0, d.fitToContentAfterBoardChange)(e)
      },
      v = t.gotoBoard = function (e, t, n) {
        e.boards.hasOwnProperty(t) || (e.boards[t] = new u.default(e.app, t, t)), e
          .currIndex = t;
        var r = e.boards[e.currIndex];
        e.app.opsManager.hooks.boardChange.call(), (0, l.gotoPage)(r, r.currIndex, n), (0,
          d.fitToContentAfterBoardChange)(e)
      },
      m = function (e) {
        var t = document.createElement("div");
        e.appendChild(t), (0, r.default)(t.style, {
          position: "absolute",
          top: 0,
          left: 0,
          width: "0",
          height: "2px",
          bordeRadius: "3px",
          backgroundColor: "rgba(7, 112, 240, 0.8)"
        });
        var n = void 0,
          A = Date.now();
        return function e() {
            var r = 1 - Math.pow(.7, (Date.now() - A) / 1e3);
            r = r > .99 ? .9999 : r, t.style.width = 100 * r + "%", n = setTimeout((
              function () {
                e()
              }), 30)
          }(),
          function () {
            clearTimeout(n), e.removeChild(t)
          }
      }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.polyfillRaf = function () {
      var e = 0;
      window.requestAnimationFrame = function (t, n) {
        var r = window.performance.now(),
          A = Math.max(e + 16, r);
        return setTimeout((function () {
          t(e = A)
        }), A - r)
      }, window.cancelAnimationFrame = clearTimeout
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = g(n(25)),
      A = g(n(7)),
      a = g(n(75)),
      i = g(n(103)),
      o = g(n(0)),
      s = g(n(1)),
      u = g(n(11)),
      l = n(31),
      c = g(n(32)),
      d = n(14),
      p = n(105),
      h = n(15),
      f = n(95);

    function g(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var y = function (e, t, n, r) {
        return new(n || (n = u.default))((function (A, a) {
          function i(e) {
            try {
              s(r.next(e))
            } catch (e) {
              a(e)
            }
          }

          function o(e) {
            try {
              s(r.throw(e))
            } catch (e) {
              a(e)
            }
          }

          function s(e) {
            var t;
            e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
              function (e) {
                e(t)
              }))).then(i, o)
          }
          s((r = r.apply(e, t || [])).next())
        }))
      },
      v = function () {
        function e(t) {
          (0, o.default)(this, e), this.previewContainerMap = new i.default, this
            .task = [], this.isLoopBusy = !1, this.visiblePages = [], this
            .isContainerVisible = !1, this.app = t, this.app.opsManager.hooks.pageReady
            .tap("PageReadyPlugin", this.onPageReady.bind(this)), this.app.opsManager
            .hooks.opAdd.tap("OpAdd", this.onOpAdded.bind(this))
        }
        return (0, s.default)(e, [{
          key: "getPagePreviewCtx",
          value: function (e) {
            return this.pagePreviewCtx && this.pagePreviewCanvas || (this
                .pagePreviewCanvas = document.createElement("canvas"), this
                .pagePreviewCtx = this.pagePreviewCanvas.getContext("2d"), this
                .pagePreviewCanvas.style.visibility = "hidden", this
                .pagePreviewCanvas.style.position = "absolute", this.app.container
                .el.appendChild(this.pagePreviewCanvas)), e.width < 8192 && e
              .height < 8192 ? (this.pagePreviewCanvas.width = e.width, this
                .pagePreviewCanvas.height = e.height) : e.width > e.height ? (this
                .pagePreviewCanvas.width = 8192, this.pagePreviewCanvas.height =
                Math.floor(8192 * e.height / e.width)) : (this.pagePreviewCanvas
                .height = 8192, this.pagePreviewCanvas.width = Math.floor(8192 * e
                  .width / e.height)), this.pagePreviewCtx.lineJoin = "round",
              this.pagePreviewCtx.lineCap = "round", this.pagePreviewCtx
          }
        }, {
          key: "reset",
          value: function () {
            this.previewContainerMap.clear()
          }
        }, {
          key: "bindPreviewContainer",
          value: function (e) {
            var t = this,
              n = !e.hasOwnProperty("reset") || e.reset,
              r = !e.hasOwnProperty("keepPrevContainer") || e.keepPrevContainer,
              i = e.previewContainerSettings.map((function (e) {
                return t.getContainerKey(e)
              })),
              o = (0, a.default)(this.previewContainerMap.keys());
            if (n) {
              var s = !0,
                u = !1,
                l = void 0;
              try {
                for (var c, d = (0, A.default)(o); !(s = (c = d.next())
                  .done); s = !0) {
                  var p = c.value; - 1 !== i.indexOf(p) && r || this
                    .previewContainerMap.delete(p)
                }
              } catch (e) {
                u = !0, l = e
              } finally {
                try {
                  !s && d.return && d.return()
                } finally {
                  if (u) throw l
                }
              }
              this.task = []
            }
            var h = [];
            e.previewContainerSettings.forEach((function (e) {
              var n = t.getContainerKey(e);
              if (!r || !t.previewContainerMap.has(n) || t
                .previewContainerMap.get(n).id !== e.id) {
                var A = t.setupPreviewElements(e.container),
                  a = A.ctx,
                  i = A.canvasContainer,
                  o = e.container.getBoundingClientRect();
                h.push({
                  pageIndex: e.pageIndex,
                  boardName: e.boardName
                }), t.previewContainerMap.set(n, {
                  id: e.id,
                  container: i,
                  ctx: a,
                  width: o.width,
                  height: o.height
                })
              }
            })), this.addPreviewTask(h), this.setBackgroundColor()
          }
        }, {
          key: "preparePreview",
          value: function (e, t) {
            void 0 !== t && (this.isContainerVisible = t);
            for (var n = this.app.room.currIndex, r = [], A = 0; A < e
              .length; A++) {
              var a = this.app.room.currBoard.pageNames[e[A]];
              void 0 !== a && (this.app.opsManager.hooks.previewWaiting.call(e[
                A]), r.push({
                  pageIndex: a,
                  boardName: n
                }))
            }
            this.visiblePages = r.slice(), this.setPreviewTask(r)
          }
        }, {
          key: "generateElesToDataUrl",
          value: function (e) {
            var t = this,
              n = this.app.room.currBoard.currPage;
            n.calcDrawOpQueue();
            var r = e.map((function (e) {
              return n.drawOpQueue[e]
            })).filter((function (e) {
              return e && !e.data.deleted && !e.data.hidden
            }));
            if (0 === r.length) return null;
            var a = void 0,
              i = r.map((function (e) {
                return (0, h.getTransformedBoundary)(t.app.scale, e.data)
              })).reduce((function (e, t) {
                return (0, h.combineBoundary)(e, t)
              }));
            if (!(a = this.getPagePreviewCtx({
                width: i.w,
                height: i.h
              }))) return null;
            a.fillStyle = n.app.appConfig.canvasBgColor, (0, f.fillCtx)(a), n.app
              .camera.convertPreviewCanvas(a, {
                centerX: i.sx + i.w / 2,
                centerY: i.sy + i.h / 2,
                width: i.w,
                height: i.h
              });
            var o = !0,
              s = !1,
              u = void 0;
            try {
              for (var l, c = (0, A.default)(r); !(o = (l = c.next()).done); o = !
                0) {
                var d = l.value;
                n.opsManager.preview(d, a, {
                  page: n,
                  supportToDataUrl: !0
                })
              }
            } catch (e) {
              s = !0, u = e
            } finally {
              try {
                !o && c.return && c.return()
              } finally {
                if (s) throw u
              }
            }
            var p = this.wrapToDataUrl(this.app, a);
            return this.app.room.refresh(), p
          }
        }, {
          key: "wrapToDataUrl",
          value: function (e, t, n, r) {
            try {
              return t.canvas.toDataURL(n, r)
            } catch (t) {
              throw this.app.logger.error("[ws] export image error", t && t
                .message), (0, l.showToast)({
                msg: (0, d.getMsg)("exportImgErr"),
                time: 3,
                type: "error",
                msgType: c.default.EXPORT_IMG_ERROR
              }), e.room.refresh(), t
            }
          }
        }, {
          key: "generatePreviewToDataUrl",
          value: function (e, t, n) {
            var r, A, a = this.app.room.getPage(e.boardName, e.pageIndex);
            if (!a) return null;
            var i = void 0,
              o = void 0,
              s = this.app.room.boards[a.boardName],
              u = a.backgroundSnapshot || s && s.transDocSnapshot;
            if ("clip" === e.content) i = this.ctx;
            else if ("fitToContent" === e.content || "fitToDoc" === e.content && !
              u) o = this.app.camera.getCameraBoundFitToContent({
                padding: 4,
                page: a,
                fitContainer: !1
              }), u || (o.width = Math.max(o.width, this.app.container.width), o
                .height = Math.max(o.height, this.app.container.height)), i = this
              .getPagePreviewCtx(o);
            else if ("fitToDoc" === e.content) o = this.app.camera
              .getCameraBoundFitToDoc({
                page: a,
                fitContainer: !1
              }), i = this.getPagePreviewCtx(o);
            else {
              if ("region" !== e.content) return this.app.logger.error(
                "[wb]PreviewFactory.generatePreviewToDataUrl content must be one of clip, fitToContent, fitToDoc, region"
                ), null;
              i = this.getPagePreviewCtx(null === (r = e.regionParam) ||
                void 0 === r ? void 0 : r.size)
            }
            if (!i) return null;
            a.calcDrawOpQueue(), "clip" === e.content ? a.refresh({
              ctx: i,
              preview: !0,
              supportToDataUrl: !0,
              omitSelection: e.omitSelection,
              exportCustomBg: e.customBg,
              exportBoard: e.exportBoard
            }) : "region" === e.content ? a.refresh({
              ctx: i,
              preview: !0,
              supportToDataUrl: !0,
              boundary: null === (A = e.regionParam) || void 0 === A ?
                void 0 : A.cameraBound,
              omitSelection: e.omitSelection,
              exportCustomBg: e.customBg,
              exportBoard: e.exportBoard
            }) : a.refresh({
              ctx: i,
              preview: !0,
              supportToDataUrl: !0,
              boundary: o,
              omitSelection: e.omitSelection,
              exportCustomBg: e.customBg,
              exportBoard: e.exportBoard
            });
            var l = this.wrapToDataUrl(this.app, i, t, n);
            return this.app.room.refresh(), this.app.logger.log(
                "generatePreviewToDataUrl result, content length: ", l.length,
                ", width: ", i.canvas.width, ", height: ", i.canvas.height), l
              .length < 200 && this.app.logger.error(
                "generatePreviewToDataUrl toDataURL error. result is", l), {
                content: l,
                width: i.canvas.width,
                height: i.canvas.height
              }
          }
        }, {
          key: "setBackgroundColor",
          value: function () {
            var e = !0,
              t = !1,
              n = void 0;
            try {
              for (var r, a = (0, A.default)(this.previewContainerMap.values()); !
                (e = (r = a.next()).done); e = !0) {
                r.value.container.style.backgroundColor = this.app.appConfig
                  .canvasBgColor
              }
            } catch (e) {
              t = !0, n = e
            } finally {
              try {
                !e && a.return && a.return()
              } finally {
                if (t) throw n
              }
            }
          }
        }, {
          key: "refreshPreviewsOfCurrBoard",
          value: function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[
              0];
            if (!this.app.room.isReceivingBatchSnapshots) {
              this.task = [];
              var t = this.app.room.currBoard,
                n = t.pages,
                r = [];
              for (var A in n) !e && "fitContainer" !== this.app.appConfig
                .previewMode && this.app.hasBackground(n[A]) || r.push({
                  boardName: t.boardName,
                  pageIndex: n[A].pageIndex
                });
              this.addPreviewTask(r)
            }
          }
        }, {
          key: "refreshPreviewsOfCurrPage",
          value: function () {
            if (!this.app.room.isReceivingBatchSnapshots) {
              var e = this.app.room.currBoard;
              this.invalidatePreview(e.currPage.pageIndex, e.boardName);
              var t = [{
                boardName: e.boardName,
                pageIndex: e.currIndex.toString()
              }];
              this.addPreviewTask(t)
            }
          }
        }, {
          key: "generatePreview",
          value: function (e) {
            var t = this.getContainerKey(e);
            if (this.previewContainerMap.has(t)) {
              var n = this.previewContainerMap.get(t),
                r = this.app.room.getPage(e.boardName, e.pageIndex);
              if (!r) return;
              var A = void 0;
              "fitDoc" === this.app.appConfig.previewMode && this.app
                .hasBackground(r) && (A = this.app.camera.getDocCameraBound(r)), r
                .calcDrawOpQueue(), r.refresh({
                  ctx: null == n ? void 0 : n.ctx,
                  preview: !0,
                  boundary: A
                })
            }
          }
        }, {
          key: "invalidatePreview",
          value: function (e, t) {}
        }, {
          key: "setPreviewTask",
          value: function (e) {
            this.task = [], this.addPreviewTask(e)
          }
        }, {
          key: "addPreviewTask",
          value: function (e) {
            var t = this;
            e = e.filter((function (e) {
              return t.isPageVisible(e)
            })), setTimeout((function () {
              e.reverse().forEach((function (e) {
                var n = t.getTaskIndexOfPage(e.pageIndex, e
                .boardName); - 1 !== n && t.task.splice(n, 1);
                var r = t.app.room.boards[e.boardName];
                if (r) {
                  var A = r.pages[e.pageIndex];
                  if (A) {
                    var a = t.getContainerKey(e);
                    t.previewContainerMap.has(a) && t.task.unshift({
                      pageIndex: e.pageIndex,
                      boardName: e.boardName,
                      state: A.blocked ? "waiting" : "ready"
                    })
                  }
                }
              })), t.startLoop()
            }), 0)
          }
        }, {
          key: "getTaskIndexOfPage",
          value: function (e, t) {
            for (var n = 0; n < this.task.length; n++)
              if (this.task[n].pageIndex === e && this.task[n].boardName === t)
                return n;
            return -1
          }
        }, {
          key: "getContainerKey",
          value: function (e) {
            return e.boardName + "129*&^ljdfh893" + e.pageIndex.toString()
          }
        }, {
          key: "setupPreviewElements",
          value: function (e) {
            var t = e.getElementsByClassName("preview-canvas-container"),
              n = void 0,
              r = void 0,
              A = void 0;
            0 === t.length ? ((A = document.createElement("div")).className =
              "preview-canvas-container", A.style.backgroundColor = this.app
              .appConfig.canvasBgColor, A.style.position = "absolute", A.style
              .left = "0", A.style.right = "0", A.style.top = "0", A.style
              .bottom = "0", e.appendChild(A), (n = document.createElement(
                "canvas")).style.imageRendering = "optimize-contrast", A
              .appendChild(n), (r = n.getContext("2d")).lineCap = "round", r
              .lineJoin = "round") : (A = t[0], r = (n = t[0]
              .getElementsByTagName("canvas")[0]).getContext("2d"));
            var a = A.getBoundingClientRect();
            return n.width = a.width * p.DPI, n.height = a.height * p.DPI, n.style
              .width = a.width + "px", n.style.height = a.height + "px", {
                ctx: r,
                canvasContainer: A
              }
          }
        }, {
          key: "onOpAdded",
          value: function (e) {
            if ("inPageOp" === e.category && !e.data.inProgress && "laser" !== e
              .data.type && "mouse-pointer" !== e.data.type && !this.app.room
              .isReceivingBatchSnapshots) {
              var t = e.board,
                n = e.page;
              this.invalidatePreview(n.toString(), t), this.addPreviewTask([{
                pageIndex: n.toString(),
                boardName: t
              }])
            }
          }
        }, {
          key: "onPageReady",
          value: function (e, t) {
            this.invalidatePreview(t.toString(), e), this.addPreviewTask([{
              pageIndex: t.toString(),
              boardName: e
            }])
          }
        }, {
          key: "isPageVisible",
          value: function (e) {
            for (var t = 0; t < this.visiblePages.length; t++)
              if (this.visiblePages[t].boardName === e.boardName && this
                .visiblePages[t].pageIndex === e.pageIndex) return !0;
            return !1
          }
        }, {
          key: "startLoop",
          value: function () {
            return y(this, void 0, void 0, r.default.mark((function e() {
              var t, n = this;
              return r.default.wrap((function (e) {
                for (;;) switch (e.prev = e.next) {
                  case 0:
                    if (!this.isLoopBusy) {
                      e.next = 2;
                      break
                    }
                    return e.abrupt("return");
                  case 2:
                    return this.isLoopBusy = !0, e.next = 5, new u
                      .default((function (e) {
                        setTimeout(e, 0)
                      }));
                  case 5:
                    t = r.default.mark((function e() {
                      var t, A;
                      return r.default.wrap((function (e) {
                        for (;;) switch (e.prev = e
                          .next) {
                          case 0:
                            return e.next = 2, n
                              .shiftNextTastk();
                          case 2:
                            t = e.sent;
                          case 3:
                            if (null !== t) {
                              e.next = 11;
                              break
                            }
                            return e.next = 6, n
                              .delay(30);
                          case 6:
                            return e.next = 8, n
                              .shiftNextTastk();
                          case 8:
                            t = e.sent, e.next = 3;
                            break;
                          case 11:
                            if (A = n
                              .getContainerKey(t), n
                              .previewContainerMap
                              .has(A)) {
                              e.next = 14;
                              break
                            }
                            return e.abrupt(
                              "return", "continue"
                              );
                          case 14:
                            return e.next = 16,
                              new u.default((
                                function (e) {
                                  try {
                                    t && n
                                      .isPageVisible(
                                        t) && n
                                      .generatePreview(
                                        t), e()
                                  } catch (t) {
                                    n.app.logger
                                      .error(
                                        "[wb]", t
                                        ), e()
                                  }
                                }));
                          case 16:
                            return e.next = 18, n
                              .delay(n
                                .isContainerVisible ?
                                100 : 1e3);
                          case 18:
                          case "end":
                            return e.stop()
                        }
                      }), e, n)
                    }));
                  case 6:
                    if (!(this.task.length > 0)) {
                      e.next = 13;
                      break
                    }
                    return e.delegateYield(t(), "t0", 8);
                  case 8:
                    if ("continue" !== e.t0) {
                      e.next = 11;
                      break
                    }
                    return e.abrupt("continue", 6);
                  case 11:
                    e.next = 6;
                    break;
                  case 13:
                    this.isLoopBusy = !1;
                  case 14:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            })))
          }
        }, {
          key: "shiftNextTastk",
          value: function () {
            return y(this, void 0, void 0, r.default.mark((function e() {
              var t, n;
              return r.default.wrap((function (e) {
                for (;;) switch (e.prev = e.next) {
                  case 0:
                    t = 0;
                  case 1:
                    if (!(t < this.task.length)) {
                      e.next = 21;
                      break
                    }
                    if (n = this.task[t], this.task.splice(t, 1),
                      e.prev = 4, !this.app.room.getPage(n
                        .boardName, n.pageIndex)) {
                      e.next = 10;
                      break
                    }
                    return e.abrupt("return", n);
                  case 10:
                    return t--, e.abrupt("continue", 18);
                  case 12:
                    e.next = 18;
                    break;
                  case 14:
                    return e.prev = 14, e.t0 = e.catch(4), t--, e
                      .abrupt("continue", 18);
                  case 18:
                    t++, e.next = 1;
                    break;
                  case 21:
                    return e.abrupt("return", null);
                  case 22:
                  case "end":
                    return e.stop()
                }
              }), e, this, [
                [4, 14]
              ])
            })))
          }
        }, {
          key: "delay",
          value: function (e) {
            return y(this, void 0, void 0, r.default.mark((function t() {
              return r.default.wrap((function (t) {
                for (;;) switch (t.prev = t.next) {
                  case 0:
                    return t.abrupt("return", new u.default((
                      function (t) {
                        setTimeout((function () {
                          t()
                        }), e)
                      })));
                  case 1:
                  case "end":
                    return t.stop()
                }
              }), t, this)
            })))
          }
        }, {
          key: "ctx",
          get: function () {
            return this.app.container.ctx
          }
        }]), e
      }();
    t.default = v
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = l(n(20)),
      A = l(n(21)),
      a = l(n(36)),
      i = l(n(0)),
      o = l(n(1)),
      s = n(105),
      u = n(15);

    function l(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var c = function () {
      function e(t, n) {
        (0, i.default)(this, e), this.scale = 1, this.cameraBoundByUser = {}, this.app =
          t, this.translateX = 0, this.translateY = 0, this.scale = 1, n ? (this.width =
            n.width, this.height = n.height, this.centerX = n.centerX, this.centerY = n
            .centerY) : (this.width = 1920, this.height = 1080, this.centerX = 0, this
            .centerY = 0), this.containerWorldRect = {
            centerX: this.centerX,
            centerY: this.centerY,
            width: this.width,
            height: this.height
          }
      }
      return (0, o.default)(e, [{
        key: "getContainerWorldRect",
        value: function () {
          return this.containerWorldRect
        }
      }, {
        key: "_computeContainerWorldRect",
        value: function () {
          var e = this.container.el.getBoundingClientRect(),
            t = e.width,
            n = e.height,
            r = this.convertToPointInWorld(0, 0),
            A = (0, a.default)(r, 2),
            i = A[0],
            o = A[1],
            s = this.convertToPointInWorld(t, n),
            u = (0, a.default)(s, 2),
            l = u[0],
            c = u[1];
          this.containerWorldRect = {
            centerX: i / 2 + l / 2,
            centerY: o / 2 + c / 2,
            width: l - i,
            height: c - o
          }
        }
      }, {
        key: "getContainerWorldRectByCameraBound",
        value: function (e, t) {
          if (e.width <= 0 || e.height <= 0) return this.app.logger.warn(
            "[wb]camera.getContainerWorldRectByCameraBound opts width or height less or equal to 0. \n            from: " +
            t + ", width: " + e.width + ", height: " + e.height), {
            centerX: this.centerX,
            centerY: this.centerY,
            width: this.width,
            height: this.height
          };
          var n = this.container.width,
            r = this.container.height;
          return n / r > e.width / e.height ? e.width = e.height / r * n : e
            .height = e.width / n * r, e
        }
      }, {
        key: "convertToPointInWorld",
        value: function (e, t) {
          return [e = (e - this.translateX) / this.scale, t = (t - this
            .translateY) / this.scale]
        }
      }, {
        key: "convertWorldPointInContainer",
        value: function (e, t) {
          return [e = e * this.scale + this.translateX, t = t * this.scale +
            this.translateY
          ]
        }
      }, {
        key: "convertDom",
        value: function (e) {
          e.style.transform = "translate(" + this.translateX + "px, " + this
            .translateY + "px) scale(" + this.scale + ")", this.app.emit(
              "event:camera:transform", this.scale)
        }
      }, {
        key: "convertDomAndRefresh",
        value: function () {
          var e, t;
          this.convertDom(this.container.domEl), this.convertDom(this.container
              .h5El), this.app.room.pageToRefresh = null === (t = null === (e =
              this.app.room) || void 0 === e ? void 0 : e.currBoard) ||
            void 0 === t ? void 0 : t.currPage
        }
      }, {
        key: "convertCanvas",
        value: function (e) {
          e.translate(this.translateX * s.DPI, this.translateY * s.DPI), e
            .scale(this.scale * s.DPI, this.scale * s.DPI)
        }
      }, {
        key: "convertPreviewCanvas",
        value: function (e, t) {
          var n = e.canvas.width,
            r = e.canvas.height,
            A = this.getTransParam(n, r, t),
            a = A.scale,
            i = A.translateX,
            o = A.translateY;
          e.translate(i, o), e.scale(a, a)
        }
      }, {
        key: "setCameraBound",
        value: function (e) {
          e.width && e.height ? (this.centerX = e.centerX, this.centerY = e
            .centerY, this.width = e.width, this.height = e.height, this
            .updateTransParamAndRefresh()) : this.app.logger.warn(
            "[wb]camera.setCameraBound 宽高无效", (0, A.default)(e))
        }
      }, {
        key: "getNextCameraBound",
        value: function (e) {
          return this.cameraLockParam ? this.getCameraBoundLockWithContent(this
              .cameraLockParam) : "pan" === e.type ? this._roundBoundary(this
              .getCameraBoundPan(e)) : "zoom" === e.type ? this._roundBoundary(
              this.getCameraBoundZoom(e)) : "reset-camera" === e.type ? this
            ._roundBoundary(this.getCameraBoundReset()) : "fit-to-content" === e
            .type ? this._roundBoundary(this.getCameraBoundFitToContent({
              fitContainer: !0,
              padding: 0
            })) : "fit-to-doc" === e.type ? this._roundBoundary(this
              .getCameraBoundFitToDoc({
                fitContainer: !1
              })) : "resize-camera" === e.type ? this._roundBoundary(this
              .getCameraBoundResize(e)) : (console.error(
              "不应该进入此分支(getCameraBound), data类型为：" + e), {
              width: this.width,
              height: this.height,
              centerX: this.centerX,
              centerY: this.centerY
            })
        }
      }, {
        key: "_roundBoundary",
        value: function (e) {
          return {
            centerX: Number(e.centerX.toFixed(1)),
            centerY: Number(e.centerY.toFixed(1)),
            width: Number(e.width.toFixed(1)),
            height: Number(e.height.toFixed(1))
          }
        }
      }, {
        key: "getCameraBoundPan",
        value: function (e) {
          var t = this.centerX,
            n = this.centerY,
            r = this.width,
            A = this.height;
          return t += e.dx / this.scale, n += e.dy / this.scale, this
            .getContainerWorldRectByCameraBound({
              centerX: t,
              centerY: n,
              width: r,
              height: A
            }, "pan")
        }
      }, {
        key: "getCameraBoundZoom",
        value: function (e) {
          var t = this.centerX,
            n = this.centerY,
            r = this.width,
            A = this.height,
            a = void 0;
          a = e.center ? this.convertToPointInWorld(e.center[0], e.center[1]) :
            [t, n];
          var i = e.scale;
          return t = a[0] - (a[0] - t) / i, n = a[1] - (a[1] - n) / i, r /= i,
            A /= i, this.getContainerWorldRectByCameraBound({
              centerX: t,
              centerY: n,
              width: r,
              height: A
            }, "zoom")
        }
      }, {
        key: "getCameraBoundReset",
        value: function () {
          return console.log("getCameraBoundReset()默认值"), {
            centerX: 0,
            centerY: 0,
            width: this.container.width,
            height: this.container.height
          }
        }
      }, {
        key: "getCameraBoundFitToDoc",
        value: function (e) {
          var t = e.page ? e.page : this.app.room.currBoard.currPage,
            n = this.app.room.boards[t.boardName],
            r = t.backgroundSnapshot,
            A = n.transDocSnapshot;
          if (A && A.data.boundary) {
            var a = A.data.boundary,
              i = a.sx,
              o = a.sy,
              s = a.w,
              u = a.h;
            return e.fitContainer ? this.getContainerWorldRectByCameraBound({
              centerX: i + s / 2,
              centerY: o + u / 2,
              width: s,
              height: u
            }, "fitToDoc") : {
              centerX: i + s / 2,
              centerY: o + u / 2,
              width: s,
              height: u
            }
          }
          if (r) {
            var l = r.data.boundary,
              c = l.sx,
              d = l.sy,
              p = l.w,
              h = l.h;
            return e.fitContainer ? this.getContainerWorldRectByCameraBound({
              centerX: c + p / 2,
              centerY: d + h / 2,
              width: p,
              height: h
            }, "fitToDoc") : {
              centerX: c + p / 2,
              centerY: d + h / 2,
              width: p,
              height: h
            }
          }
          return {
            centerX: this.centerX,
            centerY: this.centerY,
            width: this.width,
            height: this.height
          }
        }
      }, {
        key: "getDocCameraBound",
        value: function (e) {
          var t = e.getBoard(),
            n = e.backgroundSnapshot,
            r = t.transDocSnapshot;
          if (r && r.data.boundary) {
            var A = r.data.boundary,
              a = A.sx,
              i = A.sy,
              o = A.w,
              s = A.h;
            return {
              centerX: a + o / 2,
              centerY: i + s / 2,
              width: o,
              height: s
            }
          }
          if (n) {
            var u = n.data.boundary,
              l = u.sx,
              c = u.sy,
              d = u.w,
              p = u.h;
            return {
              centerX: l + d / 2,
              centerY: c + p / 2,
              width: d,
              height: p
            }
          }
          return {
            centerX: this.centerX,
            centerY: this.centerY,
            width: this.width,
            height: this.height
          }
        }
      }, {
        key: "getCameraBoundFitToContent",
        value: function (e) {
          var t = e && e.page ? e.page : this.app.room.currBoard.currPage,
            n = t.drawOpQueue,
            A = t.backgroundSnapshot,
            a = this.app.room.currBoard.transDocSnapshot;
          if (0 === (0, r.default)(n).length && !A && !a) return this
            .getCameraBoundReset();
          var i = {
            sx: 1e7,
            sy: 1e7,
            ex: -1e7,
            ey: -1e7
          };
          if (A) {
            var o = A.data.boundary,
              s = o.sx,
              l = o.sy,
              c = o.w,
              d = o.h;
            i.sx = Math.min(i.sx, s), i.sy = Math.min(i.sy, l), i.ex = Math.max(
              i.ex, s + c), i.ey = Math.max(i.ey, l + d)
          }
          if (a && a.data.boundary) {
            var p = a.data.boundary,
              h = p.sx,
              f = p.sy,
              g = p.w,
              y = p.h;
            i.sx = Math.min(i.sx, h), i.sy = Math.min(i.sy, f), i.ex = Math.max(
              i.ex, h + g), i.ey = Math.max(i.ey, f + y)
          }
          for (var v in n) {
            var m = n[v].data;
            if (m.boundary && null !== m.boundary.sx && void 0 !== m.boundary
              .sx && null !== m.boundary.sy && void 0 !== m.boundary.sy &&
              null !== m.boundary.w && void 0 !== m.boundary.w && null !== m
              .boundary.h && void 0 !== m.boundary.h) {
              var w = (0, u.getTransformedBoundary)(this.scale, m),
                B = w.sx,
                I = w.sy,
                M = w.w,
                C = w.h;
              i.sx = Math.min(i.sx, B), i.sy = Math.min(i.sy, I), i.ex = Math
                .max(i.ex, B + M), i.ey = Math.max(i.ey, I + C)
            }
          }
          if (i.ex - i.sx < 100 && i.ey - i.sy < 100) {
            var b = 100 - (i.ex - i.sx),
              x = 100 - (i.ey - i.sy);
            i.sx = i.sx - b / 2, i.ex = i.ex + b / 2, i.sy = i.sy - x / 2, i
              .ey = i.ey + x / 2
          }
          var T = e ? e.padding : 0;
          return e.fitContainer ? this.getContainerWorldRectByCameraBound({
            centerX: i.sx / 2 + i.ex / 2,
            centerY: i.sy / 2 + i.ey / 2,
            width: i.ex - i.sx + 2 * T,
            height: i.ey - i.sy + 2 * T
          }, "fitToContent") : {
            centerX: i.sx / 2 + i.ex / 2,
            centerY: i.sy / 2 + i.ey / 2,
            width: i.ex - i.sx + 2 * T,
            height: i.ey - i.sy + 2 * T
          }
        }
      }, {
        key: "getCameraBoundResize",
        value: function (e) {
          return this.app.appConfig.disableAutoResize ? {
            centerX: this.centerX,
            centerY: this.centerY,
            width: e.width / this.scale,
            height: e.height / this.scale
          } : {
            centerX: this.centerX,
            centerY: this.centerY,
            width: this.width,
            height: this.width / e.width * e.height
          }
        }
      }, {
        key: "getTransParam",
        value: function (e, t, n) {
          var r = n ? n.width : this.width,
            A = n ? n.height : this.height,
            a = n ? n.centerX : this.centerX,
            i = n ? n.centerY : this.centerY,
            o = void 0,
            s = void 0,
            u = void 0;
          return s = e / 2 - a * (o = e / t > r / A ? t / A : e / r), u = t /
            2 - i * o, o && isFinite(o) || (s = e / 2 - a * (o = 1), u = t / 2 -
              i * o), {
              scale: o,
              translateX: s,
              translateY: u
            }
        }
      }, {
        key: "updateTransParamAndRefresh",
        value: function () {
          var e = this.getTransParam(this.container.width, this.container
              .height),
            t = e.scale,
            n = e.translateX,
            r = e.translateY;
          this.scale = t, this.translateX = n, this.translateY = r, this
            ._computeContainerWorldRect(), this.convertDomAndRefresh(), this.app
            .emit("event:appState:change", "zoomFactor", this.zoomFactor)
        }
      }, {
        key: "getCameraBoundLockWithContent",
        value: function (e) {
          var t = e.width,
            n = e.height,
            r = e.height / e.width * 1920,
            A = void 0,
            a = void 0;
          return this.container.width / this.container.height > t / n ? (a = r,
            A = this.container.width / this.container.height * r) : (A = 1920,
            a = this.container.height / this.container.width * 1920), {
            centerX: 0,
            centerY: 0,
            width: A / 2,
            height: a / 2
          }
        }
      }, {
        key: "lockCameraWithContent",
        value: function (e) {
          this.cameraLockParam = e, this.setCameraBound(this
            .getCameraBoundLockWithContent(e))
        }
      }, {
        key: "unlockCameraWithContent",
        value: function () {
          this.cameraLockParam = void 0
        }
      }, {
        key: "zoomFactor",
        get: function () {
          var e = this.scale;
          try {
            if (this.app.hasDoc() && this.app.appConfig.isDocZoomLevel1) {
              var t = this.app.room.currBoard,
                n = this.app.room.currBoard.currPage.backgroundSnapshot,
                r = t.transDocSnapshot,
                A = void 0,
                a = void 0;
              r && r.data.boundary ? (A = r.data.boundary.w, a = r.data.boundary
                  .h) : n && (A = n.data.boundary.w, a = n.data.boundary.h),
                A && a && (e = this.width / this.height > A / a ? a / this
                  .height : A / this.width)
            }
          } catch (e) {
            return this.scale
          }
          return isNaN(e) || e <= 0 ? this.scale : e
        }
      }, {
        key: "container",
        get: function () {
          return this.app.container
        }
      }]), e
    }();
    t.default = c
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = i(n(7)),
      A = i(n(0)),
      a = i(n(1));

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var o = function () {
      function e(t) {
        (0, A.default)(this, e), this.state = "pause", this.playSpeed = 1, this
          .records = [], this.nextRecordIndex = 0, this.lastTime = 0, this
          .lastRealTime = 0, this.offsetBegin = 0, this.pkgId = 0, this.app = t
      }
      return (0, a.default)(e, [{
        key: "addRecordData",
        value: function (e) {
          this.records = e.slice(), this.app.resetState(), this
            .nextRecordIndex = 0
        }
      }, {
        key: "setViewer",
        value: function (e) {
          this.app.account = e;
          var t = this.lastTime;
          this.lastTime = 1 / 0, this.seekTo(t)
        }
      }, {
        key: "destroy",
        value: function () {
          this.app.emit("event:player:destroy")
        }
      }, {
        key: "play",
        value: function () {
          "pause" === this.state && (this.state = "play", this.app.emit(
            "event:player:play"))
        }
      }, {
        key: "pause",
        value: function () {
          "play" === this.state && (this.state = "pause", this.app.emit(
            "event:player:pause"))
        }
      }, {
        key: "setPlaySpeed",
        value: function (e) {
          this.playSpeed !== e && (this.playSpeed = e, this.app.emit(
            "event:player:playSpeed", this.playSpeed))
        }
      }, {
        key: "seekTo",
        value: function (e) {
          var t = Date.now(),
            n = Math.abs(t - this.lastRealTime - (e - this.lastTime));
          this.lastRealTime = t;
          var A = e >= this.lastTime;
          this.lastTime = e;
          for (var a = A ? this.nextRecordIndex : 0, i = a; i < this.records
            .length; i++) {
            if (this.records[i].time + this.offsetBegin > e) break
          }
          var o = this.records.slice(a, i);
          this.nextRecordIndex = i, A || (this.app.resetState(), this.pkgId =
          0);
          for (var s = [], u = void 0, l = void 0, c = [], d = 0; d < o
            .length; d++)
            if ("snapshot" === o[d].record.type) s.push({
              snapshot: o[d].record.value,
              pkgId: this.pkgId
            }), this.pkgId += 1;
            else if ("snapshotArr" === o[d].record.type) {
            var p = !0,
              h = !1,
              f = void 0;
            try {
              for (var g, y = (0, r.default)(o[d].record.value); !(p = (g = y
                  .next()).done); p = !0) {
                var v = g.value;
                s.push({
                  snapshot: v,
                  pkgId: this.pkgId
                }), this.pkgId += 1
              }
            } catch (e) {
              h = !0, f = e
            } finally {
              try {
                !p && y.return && y.return()
              } finally {
                if (h) throw f
              }
            }
          } else "broadcaster" === o[d].record.type ? u = o[d].record.value :
            "observeMode" === o[d].record.type ? o[d].record.value.account ===
            this.app.account && (l = o[d].record.value) : "alive" === o[d]
            .record.type && c.push(o[d]);
          this.app.aliveManager.receiveSyncData(c), u && this.app.vision
            .receiveBroadcasterAfterSync(u), l && this.app.vision
            .receiveObserveModeAfterSync(l), this.app.room.execBatchSnapshots(s,
              "player"), n > 100 && this.app.emit("event:player:seekTo")
        }
      }]), e
    }();
    t.default = o
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = o(n(36)),
      A = o(n(16)),
      a = o(n(0)),
      i = o(n(1));

    function o(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var s = function () {
      function e(t) {
        (0, a.default)(this, e), this._lastDirection = 0, this._interruptFreeDraw = !1,
          this.task = [], this.lNo = 0, this.dNo = 0, this.rNo = 0, this.repeat = 100,
          this.dInterval = 15, this.lInterval = 1e3, this.taskGenerator =
        function () {}, this.hooked = !1, this.curTaskName = null, this.curParams = [],
          this.app = t
      }
      return (0, i.default)(e, [{
        key: "reconnect",
        value: function () {
          var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[
              0],
            t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
          console.log("DEV--\x3e 模拟重连， 是否清空数据: " + t + ", 是否重新创建socket连接: " +
            e), t && this.app.resetState(), e ? this.app.dataHub.handler
            ._simulateReconnect() : this.app.readyToSyncData()
        }
      }, {
        key: "generateRandomLines",
        value: function () {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
            0] : 30,
            t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] :
            100,
            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] :
            15,
            r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] :
            100,
            A = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
          this._interruptFreeDraw = !1, this.app.disableInteraction(), A ? this
            .app.setTool("pen-pressure") : this.app.setTool("pen"), this
            ._generateRandomLines(e, t, n, r), this.addPageChangeHook(), this
            .curTaskName = "line", this.curParams = [e, t, n, r, A]
        }
      }, {
        key: "generateZheng",
        value: function () {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
            0] : 30,
            t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] :
            100,
            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] :
            15,
            r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] :
            100,
            A = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
          this._interruptFreeDraw = !1, this.app.disableInteraction(), A ? this
            .app.setTool("pen-pressure") : this.app.setTool("pen"), this
            ._generateZheng(e, t, n, r), this.addPageChangeHook(), this
            .curTaskName = "zheng", this.curParams = [e, t, n, r, A]
        }
      }, {
        key: "interruptRandomLines",
        value: function () {
          clearTimeout(this.timer), this.finish(), this._interruptFreeDraw = !0,
            this.app.enableInteraction(), this.curTaskName = null, this
            .curParams = []
        }
      }, {
        key: "addPageChangeHook",
        value: function () {
          var e = this;
          this.hooked || (this.app.on("event:prePageChange", (function () {
            var t = e.curTaskName;
            if (t) {
              var n = [].concat((0, A.default)(e.curParams));
              e.interruptRandomLines(), "line" === t ? e
                .generateRandomLines.apply(e, (0, A.default)(n)) :
                "zheng" === t && e.generateZheng.apply(e, (0, A.default)
                  (n))
            }
          })), this.hooked = !0)
        }
      }, {
        key: "next",
        value: function () {
          var e = this;
          clearTimeout(this.timer);
          var t = this.task[this.lNo];
          if (t)
            if (t.length > 2) {
              var n = t[this.dNo],
                r = void 0,
                A = void 0,
                a = void 0;
              0 === this.dNo ? (r = "mousedown", A = "pointerdown", a = this
                .dInterval, this.dNo += 1) : this.dNo === t.length - 1 ? (r =
                "mouseup", A = "pointerup", a = this.lInterval, this.dNo = 0,
                this.lNo += 1) : (r = "mousemove", a = this.dInterval, this
                .dNo += 1);
              var i = new MouseEvent(r, {
                clientX: n.x,
                clientY: n.y
              });
              A && this.app.container[A](new PointerEvent(A, {
                pointerType: "mouse"
              }), !0), this.app.container[r](i, !0), this.timer = setTimeout((
                function () {
                  e.next()
                }), a)
            } else this.lNo += 1, this.next();
          else this.timer = setTimeout((function () {
            e.nextTask()
          }), this.lInterval)
        }
      }, {
        key: "nextTask",
        value: function () {
          this.lNo = 0, this.dNo = 0, this.isFinish() ? (this.task = [], this
            ._interruptFreeDraw = !0, this.app.enableInteraction()) : (this
            .task = this.taskGenerator(), this.rNo += 1, this.next())
        }
      }, {
        key: "isFinish",
        value: function () {
          return this._interruptFreeDraw || this.rNo >= this.repeat
        }
      }, {
        key: "finish",
        value: function () {
          var e = new MouseEvent("mousedown", {
            clientX: 0,
            clientY: 0
          });
          this.app.container.pointerdown(new PointerEvent("pointerdown", {
            pointerType: "mouse"
          })), this.app.container.mousedown(e, !0), e = new MouseEvent(
            "mouseup", {
              clientX: 0,
              clientY: 0
            }), this.app.container.pointerup(new PointerEvent("pointerup", {
            pointerType: "mouse"
          })), this.app.container.mouseup(e, !0)
        }
      }, {
        key: "_generateZheng",
        value: function (e, t) {
          var n = this,
            r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] :
            15,
            A = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] :
            1e3;
          this.dInterval = Number(r) || 15, this.lInterval = Number(A) || 1e3,
            this.repeat = t || 100;
          var a = Math.ceil(Math.sqrt(t)),
            i = Math.ceil(Math.sqrt(t));
          this.taskParam = {
            x: 0,
            y: 0,
            row: i,
            col: a
          }, this.rNo = 0, this.taskGenerator = function () {
            var t = n.app.container.el.getBoundingClientRect(),
              r = t.width,
              A = t.height,
              o = .9 * r / Math.max(a, 15),
              s = .9 * A / Math.max(i, 15),
              u = t.left + .05 * r + n.taskParam.x * o,
              l = t.top + .05 * A + n.taskParam.y * s,
              c = t.left + .05 * r + (n.taskParam.x + .8) * o,
              d = t.top + .05 * A + (n.taskParam.y + .8) * s,
              p = [];
            return p.push(n._generateLine(e, u, l, c, l)), p.push(n
                ._generateLine(e, u / 2 + c / 2, l, u / 2 + c / 2, d)), p
              .push(n._generateLine(e, u / 2 + c / 2, l / 2 + d / 2, c, l /
                2 + d / 2)), p.push(n._generateLine(e, .75 * u + .25 * c, l /
                2 + d / 2, .75 * u + .25 * c, d)), p.push(n._generateLine(e,
                u, d, c, d)), n.taskParam.x < i - 1 ? n.taskParam.x += 1 : (n
                .taskParam.y += 1, n.taskParam.x = 0), p
          }, this.nextTask()
        }
      }, {
        key: "_generateLine",
        value: function (e, t, n, r, A) {
          for (var a = [], i = 0; i < e; i++) a.push({
            x: t + i / e * (r - t) + Math.random(),
            y: n + i / e * (A - n) + Math.random()
          });
          return a
        }
      }, {
        key: "_generateRandomLines",
        value: function (e, t) {
          var n = this,
            A = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] :
            15,
            a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] :
            1e3;
          this.dInterval = Number(A) || 15, this.lInterval = Number(a) || 1e3,
            this.repeat = Number(t) || 100, this.taskParam = e || 100, this
            .rNo = 0, this.taskGenerator = function () {
              var e = n.app.container.el.getBoundingClientRect(),
                t = e.width,
                A = e.height,
                a = Math.random() * t + e.left,
                i = Math.random() * A + e.top,
                o = [];
              o.push({
                x: a,
                y: i
              });
              for (var s = 0; s < n.taskParam; s++) {
                var u = n._getDxDy(s),
                  l = (0, r.default)(u, 2);
                a += l[0], i += l[1], o.push({
                  x: a,
                  y: i
                })
              }
              return [o]
            }, this.nextTask()
        }
      }, {
        key: "_getDxDy",
        value: function (e) {
          return e % 10 == 0 && (this._lastDirection = Math.floor(4 * Math
            .random())), 0 === this._lastDirection ? [30 * Math.random(), 30 *
            Math.random()
          ] : 1 === this._lastDirection ? [30 * Math.random(), -30 * Math
            .random()
          ] : 2 === this._lastDirection ? [-30 * Math.random(), 30 * Math
            .random()
          ] : [-30 * Math.random(), -30 * Math.random()]
        }
      }]), e
    }();
    t.default = s
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = c(n(7)),
      A = c(n(0)),
      a = c(n(1)),
      i = n(31),
      o = c(n(32)),
      s = n(14),
      u = n(241),
      l = n(148);

    function c(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var d = function () {
      function e(t) {
        var n = this;
        (0, A.default)(this, e), this.mode = "freeObserver", this
          .unsetWhenDisconnecting = function () {
            n.broadcaster === n.app.account.toString() && n.unsetSelfAsBroadcaster()
          }, this.handleBroadcasterOffline = function (e) {
            n.app.logger.log("[wb]vision broadcaster offline", e, "broadcaster", n
              .broadcaster);
            var t = !0,
              A = !1,
              a = void 0;
            try {
              for (var u, l = (0, r.default)(e); !(t = (u = l.next()).done); t = !0) {
                var c = u.value;
                if (c.toString() === n.broadcaster && c.toString() === n.app.account)
                  return n.unsetSelfAsBroadcaster();
                if (c.toString() === n.broadcaster) {
                  var d = n.broadcasterName,
                    p = n.broadcaster;
                  n.setVisionData({
                    mode: "freeObserver",
                    broadcaster: {
                      value: void 0,
                      nickname: void 0
                    }
                  });
                  var h = (0, s.getMsg)("recvCancelBroadcast", d),
                    f = o.default.RECEIVE_STOP_BROADCAST;
                  (0, i.showToast)({
                    msg: h,
                    type: "success",
                    time: 3,
                    msgType: f,
                    args: {
                      broadcasterName: n.broadcasterName,
                      broadcaster: n.broadcaster,
                      prevBroadcasterName: d,
                      prevBroadcaster: p
                    }
                  })
                }
              }
            } catch (e) {
              A = !0, a = e
            } finally {
              try {
                !t && l.return && l.return()
              } finally {
                if (A) throw a
              }
            }
          }, this.app = t, this.camera = this.app.camera, this.app.on(
            "aliveManager:offline", this.handleBroadcasterOffline), this.unregistExit =
          (0, u.regExitListener)(this.unsetWhenDisconnecting, t)
      }
      return (0, a.default)(e, [{
        key: "destroy",
        value: function () {
          this.app.off("aliveManager:offline", this.handleBroadcasterOffline),
            "function" == typeof this.unregistExit && this.unregistExit()
        }
      }, {
        key: "setVisionData",
        value: function (e) {
          e.mode && (this.mode = e.mode), e.broadcaster && (this.broadcaster = e
            .broadcaster.value, this.broadcasterNickname = e.broadcaster
            .nickname), this.app.emit("event:appState:change", "vision", {
            mode: this.mode,
            broadcasterName: this.broadcasterName,
            broadcaster: this.broadcaster
          })
        }
      }, {
        key: "setSelfAsBroadcaster",
        value: function () {
          if (this.app.appConfig.allowReplaceActiveBroadcaster || !this
            .broadcaster || this.broadcaster === this.app.account.toString()) {
            if (this.broadcaster !== this.app.account.toString())
              if (this.app.dataHub.isSynchronizing) this.app.logger.warn(
                "正在同步数据，请同步后再设置");
              else {
                var e = this.app.account,
                  t = this.app.nickname;
                this.setVisionData({
                  mode: "broadcaster",
                  broadcaster: {
                    value: e,
                    nickname: t
                  }
                }), (0, i.showToast)({
                  type: "success",
                  msg: (0, s.getMsg)("broadcast"),
                  time: 3,
                  msgType: o.default.START_BROADCAST,
                  args: {
                    broadcasterName: this.broadcasterName,
                    broadcaster: this.broadcaster
                  }
                }), this.app.dataHub.broadcastRoomState({
                  broadcaster: e,
                  nickname: t
                }, "broadcaster"), this.app.emit("op:camera-bound:send", this
                  .camera.getContainerWorldRect(), !0)
              }
          } else(0, i.showToast)({
            type: "error",
            msg: (0, s.getMsg)("sbBroadcast"),
            time: 3,
            msgType: o.default.NOT_ALLOWED_REPLACE_ACTIVE_BROADCASTER,
            args: {
              broadcasterName: this.broadcasterName,
              broadcaster: this.broadcaster
            }
          })
        }
      }, {
        key: "unsetSelfAsBroadcaster",
        value: function () {
          if (this.app.dataHub.isSynchronizing) this.app.logger.warn(
            "正在同步数据，请同步后再设置");
          else if ("broadcaster" === this.mode) {
            this.broadcaster !== this.app.account && this.app.logger.error(
              "[wb] vision.unsetSelfAsBroadcaster: current user is not broadcaster",
              this.broadcaster, this.app.account);
            var e = this.broadcasterName,
              t = this.broadcaster;
            this.setVisionData({
              mode: "freeObserver",
              broadcaster: {
                value: void 0,
                nickname: void 0
              }
            }), (0, i.showToast)({
              type: "success",
              msg: (0, s.getMsg)("sendCancelBroadcast"),
              msgType: o.default.STOP_BROADCAST,
              args: {
                broadcasterName: this.broadcasterName,
                broadcaster: this.broadcaster,
                prevBroadcasterName: e,
                prevBroadcaster: t
              }
            }), this.app.dataHub.broadcastRoomState({
              broadcaster: void 0
            }, "broadcaster")
          }
        }
      }, {
        key: "setSelfAsFollower",
        value: function () {
          if (this.app.dataHub.isSynchronizing) this.app.logger.warn(
            "正在同步数据，请同步后再设置");
          else if ("broadcaster" === this.mode) this.app.logger.error(
            "[wb] vision.setSelfAsFollower: please stop broadcasting first");
          else if ("freeObserver" === this.mode) {
            this.setVisionData({
              mode: "follower"
            });
            var e = this.camera.cameraBoundByUser[this.broadcaster];
            (0, l.transitionToCameraBound)(this.camera, e), (0, i.showToast)({
              type: "success",
              msg: (0, s.getMsg)("toFollower", this.broadcasterName),
              msgType: o.default.SWITCH_TO_FOLLOWER,
              args: {
                broadcasterName: this.broadcasterName,
                broadcaster: this.broadcaster
              }
            }), this.app.dataHub.broadcastRoomState({
              account: this.app.account,
              mode: "follower"
            }, "observeMode")
          }
        }
      }, {
        key: "setSelfAsFreeObserver",
        value: function () {
          this.app.dataHub.isSynchronizing ? this.app.logger.warn(
              "正在同步数据，请同步后再设置") : "broadcaster" === this.mode ? this.app.logger
            .error(
              "[wb] vision.setSelfAsFreeObserver: please stop broadcasting first"
              ) : "follower" === this.mode && (this.setVisionData({
              mode: "freeObserver"
            }), (0, i.showToast)({
              type: "success",
              msg: (0, s.getMsg)("toFreeOb", this.broadcasterName),
              msgType: o.default.SWITCH_TO_FREE_OBSERVER,
              args: {
                broadcasterName: this.broadcasterName,
                broadcaster: this.broadcaster
              }
            }), this.app.dataHub.broadcastRoomState({
              account: this.app.account,
              mode: "freeObserver"
            }, "observeMode"), this.app.emit("op:camera-bound:send", this
              .camera.getContainerWorldRect(), !1))
        }
      }, {
        key: "receiveBroadcaster",
        value: function (e) {
          var t = e.broadcaster,
            n = e.nickname;
          if (t) this.setVisionData({
            mode: "follower",
            broadcaster: {
              value: t,
              nickname: n
            }
          }), (0, i.showToast)({
            msg: (0, s.getMsg)("recvBroadcast", this.broadcasterName),
            type: "success",
            time: 3,
            msgType: o.default.RECEIVE_START_BROADCAST,
            args: {
              broadcasterName: this.broadcasterName,
              broadcaster: this.broadcaster
            }
          });
          else {
            var r = this.broadcasterName,
              A = this.broadcaster;
            this.setVisionData({
              mode: "freeObserver",
              broadcaster: {
                value: void 0,
                nickname: void 0
              }
            }), (0, i.showToast)({
              msg: (0, s.getMsg)("recvCancelBroadcast", r),
              type: "success",
              time: 3,
              msgType: o.default.RECEIVE_STOP_BROADCAST,
              args: {
                broadcasterName: this.broadcasterName,
                broadcaster: this.broadcaster,
                prevBroadcasterName: r,
                prevBroadcaster: A
              }
            })
          }
        }
      }, {
        key: "receiveBroadcasterAfterSync",
        value: function (e) {
          var t = this.app.aliveManager.isAlive(e.broadcaster);
          if (t && e.broadcaster === this.app.account) "broadcaster" !== this
            .mode && (this.setVisionData({
              mode: "broadcaster",
              broadcaster: {
                value: this.app.account,
                nickname: this.app.nickname
              }
            }), (0, i.showToast)({
              type: "success",
              msg: (0, s.getMsg)("recvBroadcasting"),
              time: 3,
              msgType: o.default.CURRENT_USER_IS_BROADCASTER,
              args: {
                broadcasterName: this.broadcasterName,
                broadcaster: this.broadcaster
              }
            }));
          else if (t && e.broadcaster) "follower" === this.mode && this
            .broadcaster === e.broadcaster || (this.setVisionData({
              mode: "follower",
              broadcaster: {
                value: e.broadcaster,
                nickname: e.nickname
              }
            }), (0, i.showToast)({
              msg: (0, s.getMsg)("recvBroadcast", this.broadcasterName),
              type: "success",
              time: 3,
              msgType: o.default.CURRENT_USER_IS_FOLLOWER,
              args: {
                broadcasterName: this.broadcasterName,
                broadcaster: this.broadcaster
              }
            }));
          else if ("freeObserver" !== this.mode || this.broadcaster) {
            var n = this.broadcaster,
              r = this.broadcasterName;
            this.setVisionData({
              mode: "freeObserver",
              broadcaster: {
                value: void 0,
                nickname: void 0
              }
            }), this.app.account === n ? (0, i.showToast)({
              type: "success",
              msg: "其他用户将停止与您保持视角同步",
              msgType: o.default.STOP_BROADCAST,
              args: {
                broadcasterName: this.broadcasterName,
                broadcaster: this.broadcaster,
                prevBroadcasterName: r,
                prevBroadcaster: n
              }
            }) : n && (0, i.showToast)({
              msg: (0, s.getMsg)("recvCancelBroadcast", r),
              type: "success",
              time: 3,
              msgType: o.default.RECEIVE_STOP_BROADCAST,
              args: {
                broadcasterName: this.broadcasterName,
                broadcaster: this.broadcaster,
                prevBroadcasterName: r,
                prevBroadcaster: n
              }
            })
          }
        }
      }, {
        key: "receiveObserveModeAfterSync",
        value: function (e) {
          if (e.account === this.app.account)
            if ("follower" === e.mode) {
              this.setVisionData({
                mode: "follower"
              });
              var t = this.camera.cameraBoundByUser[this.broadcaster];
              (0, l.transitionToCameraBound)(this.camera, t), (0, i.showToast)({
                type: "success",
                msg: (0, s.getMsg)("recvBroadcast", this.broadcasterName),
                msgType: o.default.CURRENT_USER_IS_FOLLOWER,
                args: {
                  broadcasterName: this.broadcasterName,
                  broadcaster: this.broadcaster
                }
              })
            } else {
              this.setVisionData({
                mode: "freeObserver"
              });
              var n = this.camera.cameraBoundByUser[this.app.account];
              (0, l.transitionToCameraBound)(this.camera, n), (0, i.showToast)({
                type: "success",
                msg: "与" + this.broadcasterName + "解除视角同步",
                msgType: o.default.CURRENT_USER_IS_FREE_OBSERVER,
                args: {
                  broadcasterName: this.broadcasterName,
                  broadcaster: this.broadcaster
                }
              })
            }
        }
      }, {
        key: "broadcasterName",
        get: function () {
          return this.broadcasterNickname ? this.broadcasterNickname : this
            .broadcaster
        }
      }]), e
    }();
    t.default = d
  }, function (e, t, n) {
    ! function (n) {
      "use strict";

      function r(e, t) {
        if (e instanceof Boolean || "boolean" == typeof e) return !1;
        if (t instanceof Object || (t = {}), !1 === t.allowEmpty && "" === e) return !1;
        var n = "(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?",
          r = "(data:\\w+\\/[a-zA-Z\\+\\-\\.]+;base64,)";
        return !0 === t.mimeRequired ? n = r + n : !0 === t.allowMime && (n = r + "?" +
          n), !1 === t.paddingRequired && (n =
            "(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}(==)?|[A-Za-z0-9+\\/]{3}=?)?"),
          new RegExp("^" + n + "$", "gi").test(e)
      }
      e.exports && (t = e.exports = r), t.isBase64 = r
    }()
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = o(n(7)),
      A = o(n(0)),
      a = o(n(1)),
      i = o(n(22));

    function o(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var s = ["embedded-opentype", "woff", "truetype", "svg", "opentype", "woff2"],
      u = void 0,
      l = function () {
        function e(t) {
          var n, a, o, s, l, c, d = this;
          (0, A.default)(this, e), this.setFontFamilies = function (e) {
            clearTimeout(u), u = setTimeout((function () {
              d._setFontFamilies(e)
            }), 1e3)
          }, this._setFontFamilies = function (e) {
            d.fontFamilies = e;
            var t = void 0,
              n = !0,
              A = !1,
              a = void 0;
            try {
              for (var o, s = (0, r.default)(e); !(n = (o = s.next()).done); n = !0) {
                var u = o.value;
                u.fontFace && (t || ((t = document.createElement("style")).setAttribute(
                    "type", "text/css"), document.head.appendChild(t)), d
                  .appendFontFaceStyle(t, u.fontFace, u.displayName))
              }
            } catch (e) {
              A = !0, a = e
            } finally {
              try {
                !n && s.return && s.return()
              } finally {
                if (A) throw a
              }
            }
            i.default.updateFontFamily(d.app, e[0].displayName)
          }, this.app = t, this.fontFamilies = [{
            displayName: "Helvetica",
            fontName: "Helvetica"
          }, {
            displayName: "Times New Roman",
            fontName: "Times New Roman"
          }, {
            displayName: "Garamond",
            fontName: "Garamond"
          }, {
            displayName: "Courier New",
            fontName: "Courier New"
          }, {
            displayName: "Noto Sans SC",
            fontFace: {
              url: (null === (n = t.serviceConf) || void 0 === n ? void 0 : n
                .textFontUrl) + "/Noto_Sans_SC/NotoSansSC-Regular.otf"
            }
          }, {
            displayName: "Open Sans",
            fontFace: {
              url: (null === (a = t.serviceConf) || void 0 === a ? void 0 : a
                .textFontUrl) + "/Open_Sans/OpenSans-VariableFont_wdth,wght.ttf"
            }
          }, {
            displayName: "ZOOL KuaiLe",
            fontFace: {
              url: (null === (o = t.serviceConf) || void 0 === o ? void 0 : o
                .textFontUrl) + "/ZCOOL_KuaiLe/ZCOOLKuaiLe-Regular.ttf"
            }
          }, {
            displayName: "Caveat",
            fontFace: {
              url: (null === (s = t.serviceConf) || void 0 === s ? void 0 : s
                .textFontUrl) + "/Caveat/Caveat-VariableFont_wght.ttf"
            }
          }, {
            displayName: "Long Cang",
            fontFace: {
              url: (null === (l = t.serviceConf) || void 0 === l ? void 0 : l
                .textFontUrl) + "/Long_Cang/LongCang-Regular.ttf"
            }
          }, {
            displayName: "Ma Sang Zheng",
            fontFace: {
              url: (null === (c = t.serviceConf) || void 0 === c ? void 0 : c
                .textFontUrl) + "/Ma_Shan_Zheng/MaShanZheng-Regular.ttf"
            }
          }], this.setFontFamilies(this.fontFamilies)
        }
        return (0, a.default)(e, [{
          key: "getFontFamilies",
          value: function () {
            return this.fontFamilies
          }
        }, {
          key: "appendFontFaceStyle",
          value: function (e, t, n) {
            Array.isArray(t) || (t = [t]);
            var r = t.map((function (e) {
              return e.format && -1 === s.indexOf(e.format) ? (console
                  .error("[wb] 字体format应该为以下值中的一个: " + s.join(",") +
                    ", 或者不设置format"), 'url("' + e.url + '")') : e.format ?
                'url("' + e.url + '") format("' + e.format + '")' :
                'url("' + e.url + '")'
            })).join(",\n");
            e.appendChild(document.createTextNode(
              '\n@font-face {\n    font-family: "' + n + '";\n    src: ' + r +
              ";\n}\n"))
          }
        }]), e
      }();
    t.default = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = u(n(7)),
      A = u(n(42)),
      a = u(n(103)),
      i = u(n(0)),
      o = u(n(1)),
      s = n(102);

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = function () {
      function e(t) {
        var n = this;
        (0, i.default)(this, e), this.isBroadcaster = !1, this.aliveMap = new a.default,
          this.aliveSet = new A.default, this.visionChangeCb = function (e, t) {
            if ("vision" === e) {
              var r = n.shouldKeepAlive;
              t && "broadcaster" === t.mode ? n.isBroadcaster = !0 : n.isBroadcaster = !
                1, n.update(r)
            }
          }, this.sendAlive = function () {
            clearTimeout(n.aliveTimer);
            var e = Date.now() + n.app.ntpTimeDiff;
            if (n.aliveMap.has(n.app.account) && !n.isAlive(n.app.account)) return n.app
              .logger.warn("[wb]alive manager not active after: " + (e - n.aliveMap
                .get(n.app.account))), void n.checkAlive();
            n.app.dataHub.broadcastData({
                data: {
                  type: "alive",
                  value: {
                    uid: n.app.account,
                    t: e
                  }
                }
              }, "alive", "alive", !0), n.aliveMap.set(n.app.account, e), n.aliveSet
              .add(n.app.account), n.aliveTimer = setTimeout(n.sendAlive, 7e3)
          }, this.checkAlive = function () {
            if (!n.app.dataHub.isSynchronizing && n.app.isConnected) {
              var e = [],
                t = n.aliveMap.keys(),
                A = !0,
                a = !1,
                i = void 0;
              try {
                for (var o, s = (0, r.default)(t); !(A = (o = s.next()).done); A = !0) {
                  var u = o.value;
                  n.isAlive(u) || (e.push(u), n.aliveMap.delete(u))
                }
              } catch (e) {
                a = !0, i = e
              } finally {
                try {
                  !A && s.return && s.return()
                } finally {
                  if (a) throw i
                }
              }
              e.length > 0 && n.app.emit("aliveManager:offline", e)
            }
            clearTimeout(n.checkTimer), n.checkTimer = setTimeout(n.checkAlive, 7e3)
          }, this.app = t, this.app.isRecordPlayer || this.app.on(
            "event:appState:change", this.visionChangeCb), this.checkAlive(), this
          .visHandlerUnregist = (0, s.registerVisibleChangeHandler)((function () {
            clearTimeout(n.checkTimer), n.checkTimer = setTimeout(n.checkAlive, 7e3)
          }), (function () {
            clearTimeout(n.checkTimer)
          }))
      }
      return (0, o.default)(e, [{
        key: "destroy",
        value: function () {
          this.app.isRecordPlayer || this.app.off("event:appState:change", this
              .visionChangeCb), clearTimeout(this.aliveTimer), clearTimeout(this
              .checkTimer), "function" == typeof this.visHandlerUnregist && this
            .visHandlerUnregist()
        }
      }, {
        key: "update",
        value: function (e) {
          e !== this.shouldKeepAlive && (this.shouldKeepAlive ? (this.aliveMap
            .delete(this.app.account), clearTimeout(this.aliveTimer), this
            .sendAlive()) : clearTimeout(this.aliveTimer))
        }
      }, {
        key: "receiveAlive",
        value: function (e) {
          this.aliveMap.set(e.uid, e.t), this.aliveSet.add(e.uid.toString())
        }
      }, {
        key: "receiveSyncData",
        value: function (e) {
          var t;
          if (this.app.isRecordPlayer) {
            var n = null === (t = this.app.player) || void 0 === t ? void 0 : t
              .lastTime;
            if (n) {
              var A = !0,
                a = !1,
                i = void 0;
              try {
                for (var o, s = (0, r.default)(e); !(A = (o = s.next())
                  .done); A = !0) {
                  var u = o.value;
                  n - u.time < 2e4 && (this.aliveMap.set(u.record.value.uid
                    .toString(), u.time), this.aliveSet.add(u.record.value
                    .uid.toString()))
                }
              } catch (e) {
                a = !0, i = e
              } finally {
                try {
                  !A && s.return && s.return()
                } finally {
                  if (a) throw i
                }
              }
            }
          } else {
            var l = Date.now() + this.app.ntpTimeDiff,
              c = !0,
              d = !1,
              p = void 0;
            try {
              for (var h, f = (0, r.default)(e); !(c = (h = f.next())
                .done); c = !0) {
                var g = h.value;
                l - g.t < 2e4 && (this.aliveMap.set(g.uid.toString(), g.t), this
                  .aliveSet.add(g.uid.toString()))
              }
            } catch (e) {
              d = !0, p = e
            } finally {
              try {
                !c && f.return && f.return()
              } finally {
                if (d) throw p
              }
            }
          }
        }
      }, {
        key: "isAlive",
        value: function (e) {
          var t;
          if (e && !this.aliveSet.has(e)) return !0;
          if (e && this.aliveMap.has(e)) {
            var n = this.aliveMap.get(e);
            if (this.app.isRecordPlayer) {
              var r = null === (t = this.app.player) || void 0 === t ? void 0 :
                t.lastTime;
              if (r && r > n && r - n < 2e4) return !0
            } else {
              var A = Date.now() + this.app.ntpTimeDiff;
              if (Math.abs(A - n) < 2e4) return !0
            }
          }
          return !1
        }
      }, {
        key: "shouldKeepAlive",
        get: function () {
          return this.isBroadcaster
        }
      }]), e
    }();
    t.default = l
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = w(n(376)),
      A = w(n(33)),
      a = w(n(20)),
      i = w(n(42)),
      o = w(n(5)),
      s = w(n(380)),
      u = w(n(16)),
      l = w(n(7)),
      c = w(n(0)),
      d = w(n(1)),
      p = w(n(106)),
      h = w(n(384)),
      f = n(53),
      g = n(446);
    n(451);
    var y = n(453),
      v = n(28),
      m = n(14);

    function w(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var B = function (e, t) {
        var n = {};
        for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 &&
          (n[r] = e[r]);
        if (null != e && "function" == typeof p.default) {
          var A = 0;
          for (r = (0, p.default)(e); A < r.length; A++) t.indexOf(r[A]) < 0 && Object
            .prototype.propertyIsEnumerable.call(e, r[A]) && (n[r[A]] = e[r[A]])
        }
        return n
      },
      I = (0, f.deviceOS)(),
      M = {
        text: ["typeChange", "divider", "fontFamily", "fontStroke", "fontSize",
          "fontFill", "divider", "textAlign", "divider"
        ],
        link: ["linkArrow", "divider", "linkType", "divider", "lineProp", "divider",
          "addT", "divider", "fontFamily", "fontStroke", "fontSize", "divider"
        ],
        pen: ["lineWidth", "stroke", "divider"],
        image: ["imgCrop", "divider", "resDownload", "divider"],
        shape: ["typeChange", "divider", "lineProp", "fill", "divider", "fontFamily",
          "fontStroke", "fontSize", "fontFill", "divider", "textAlign", "divider"
        ]
      },
      C = function () {
        function e(t) {
          var n = this;
          (0, c.default)(this, e), this.selectedOpIds = [], this.isMouseDown = !1, this
            .isShow = !1, this.actionEmitFromTb = !1, this.delayHide = function () {
              clearTimeout(n.delayTimer), n.delayTimer = setTimeout((function () {
                n.hide()
              }), 100)
            }, this.hide = function () {
              clearTimeout(n.delayTimer), n.isShow = !1, n.floatToolbar.hide()
            }, this.onSnapshotAdd = function (e) {
              if (!(n.actionEmitFromTb && e.uid === n.drawPlugin.account || e.uid === n
                  .drawPlugin.account && "select" === e.data.type)) {
                var t = e.data.type,
                  r = e.data.dependOn || [],
                  A = n.drawPlugin.getSelectedIds();
                if ("scale" === t && A.length && n.syncData(A), "move" === t ||
                  "scale" === t || "rotate" === t)
                  for (var a = 0; a < r.length; a++) - 1 !== A.indexOf(r[a]) && (e.data
                    .inProgress || n.delayShow({
                      delay: 100,
                      isHide: !1
                    }));
                if ("text" === t || "modify" === t || "undo" === t || "redo" === t ||
                  "group" === t) {
                  if ("modify" === t && e.uid === n.drawPlugin.account) {
                    var i = !0,
                      o = !1,
                      s = void 0;
                    try {
                      for (var u, c = (0, l.default)(e.data.attrs.sub); !(i = (u = c
                        .next()).done); i = !0) {
                        var d = u.value,
                          p = !0,
                          h = !1,
                          f = void 0;
                        try {
                          for (var g, y = (0, l.default)(d.attrs); !(p = (g = y.next())
                              .done); p = !0) {
                            var v = g.value;
                            if ("fontSize" === v.k || "fontFamily" === v.k) return
                          }
                        } catch (e) {
                          h = !0, f = e
                        } finally {
                          try {
                            !p && y.return && y.return()
                          } finally {
                            if (h) throw f
                          }
                        }
                      }
                    } catch (e) {
                      o = !0, s = e
                    } finally {
                      try {
                        !i && c.return && c.return()
                      } finally {
                        if (o) throw s
                      }
                    }
                    var m = !0,
                      w = !1,
                      B = void 0;
                    try {
                      for (var I, M = (0, l.default)(e.data.attrs.common); !(m = (I = M
                          .next()).done); m = !0) {
                        var C = I.value;
                        if ("fontSize" === C.k || "fontFamily" === C.k) return;
                        "_reset" === C.k && n.syncData(A)
                      }
                    } catch (e) {
                      w = !0, B = e
                    } finally {
                      try {
                        !m && M.return && M.return()
                      } finally {
                        if (w) throw B
                      }
                    }
                  }
                  if ("undo" !== t && "redo" !== t && "group" !== t || n.syncData(A),
                    "text" === t) return;
                  n.delayShow({
                    isHide: !1,
                    delay: 30,
                    opids: A
                  })
                }
              }
            }, this.delayShow = function (e) {
              if (!n.isMouseDown) {
                var t = null != e ? e : {},
                  r = t.isHide,
                  A = void 0 === r || r,
                  a = t.delay,
                  i = void 0 === a ? 200 : a,
                  o = t.opids,
                  s = void 0 === o ? [] : o;
                clearTimeout(n.delayTimer), A && n.hide(), n.delayTimer = setTimeout(n
                  .updateToolbarPosAndShow, i, s)
              }
            }, this.updateToolbarPosAndShow = function (e) {
              clearTimeout(n.delayTimer);
              var t = e.length ? [].concat((0, u.default)(e)) : n.drawPlugin
                .getSelectedIds();
              if (t.length) {
                if (1 === t.length)
                  if (!n.drawPlugin.opsManager.drawOpsOfPage[t[0]]) return;
                var r = n.drawPlugin.opsManager.selectOp.selectInfo;
                if (!r) return;
                var A = void 0;
                if (r.boundary.isCombined) A = r.boundary;
                else {
                  var a = r.boundary.p1,
                    i = r.boundary.p2,
                    o = r.boundary.p3,
                    s = r.boundary.p4,
                    l = r.rotateIcon ? r.rotateIcon.x - 15 / n.drawPlugin.scale : a[0],
                    c = r.rotateIcon ? r.rotateIcon.x + 15 / n.drawPlugin.scale : a[0],
                    d = r.rotateIcon ? r.rotateIcon.y - 15 / n.drawPlugin.scale : a[1],
                    p = r.rotateIcon ? r.rotateIcon.y + 15 / n.drawPlugin.scale : a[1],
                    h = r.hintPos ? r.hintPos.p1 : a,
                    f = r.hintPos ? r.hintPos.p2 : i,
                    g = r.hintPos ? r.hintPos.p3 : o,
                    y = r.hintPos ? r.hintPos.p4 : s,
                    v = Math.min(a[0], i[0], o[0], s[0], l, c, h[0], f[0], g[0], y[0]),
                    m = Math.max(a[0], i[0], o[0], s[0], l, c, h[0], f[0], g[0], y[0]),
                    w = Math.min(a[1], i[1], o[1], s[1], d, p, h[1], f[1], g[1], y[1]);
                  A = {
                    sx: v,
                    sy: w,
                    w: m - v,
                    h: Math.max(a[1], i[1], o[1], s[1], d, p, h[1], f[1], g[1], y[1]) -
                      w
                  }
                }
                var B = n.drawPlugin.container.containerRect,
                  I = n.getClientBoundRect(A),
                  M = !1;
                (I.x > B.right || I.y > B.bottom || I.x + I.width < B.left || I.y + I
                  .height < B.top) && (M = !0), M || (n.isShow = !0, n.floatToolbar.show(
                  I))
              }
            }, this.syncData = function (e, t) {
              if (e.length) {
                var r = [];
                e.forEach((function (e) {
                  var t = n.getOpData(e);
                  t && r.push(t)
                })), n.selectedOpIds = e, n.setItems(r, t)
              }
            }, this.changeHandler = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                r = e.toolName,
                A = e.value,
                a = [];
              if ("selectFilter" !== r) {
                if ("fontSize" === r) {
                  var i = Number(A);
                  A && !(0, s.default)(i) && (i = Math.max(10, i), i = Math.min(300, i), a
                    .push({
                      k: r,
                      v: i
                    }))
                } else if ("linkArrow" === r) a.push({
                  k: "start",
                  v: {
                    aType: 0 === A || 2 === A ? v.IArrowType.None : v.IArrowType.Arrow
                  }
                }), a.push({
                  k: "end",
                  v: {
                    aType: 0 === A || 1 === A ? v.IArrowType.None : v.IArrowType.Arrow
                  }
                });
                else if ("typeChange" === r) a.push({
                  k: "typeChange",
                  v: A
                });
                else if ("textAlign" === r)
                  for (var o in A) a.push({
                    k: o,
                    v: A[o]
                  });
                else "lineProp" === r ? (a.push({
                    k: "stroke",
                    v: A.color
                  }), a.push({
                    k: "lineWidth",
                    v: A.lineWidth
                  })) : -1 !== ["stroke", "fill", "fontStroke", "fontFill"].indexOf(r) ? a
                  .push({
                    k: r,
                    v: A.color
                  }) : a.push({
                    k: r,
                    v: A
                  });
                n.actionEmitFromTb = !0, n.drawPlugin.emit("op:modify:change", n
                  .selectedOpIds, a, t), setTimeout((function () {
                  n.actionEmitFromTb = !1
                }), 0)
              } else {
                var u = "pen" === A ? ["pen", "pen-arrow", "line", "line-arrow"] : [A];
                n.drawPlugin.emit("op:select:filterType", u)
              }
            }, this.clickHandler = function (e) {
              var t, r = e.toolName;
              r && (null === (t = n[r]) || void 0 === t || t.call(n, e), "addT" === r &&
                1 === n.selectedOpIds.length ? n.drawPlugin.emit("op:link:addT", n
                  .selectedOpIds[0]) : "resDownload" === r && 1 === n.selectedOpIds
                .length ? n.drawPlugin.downloadRes(n.selectedOpIds[0]) : "imgCrop" ===
                r && 1 === n.selectedOpIds.length ? n.drawPlugin.emit("op:crop:image", n
                  .selectedOpIds[0]) : "group" === r ? n.drawPlugin.emit("op:group", !0,
                  n.selectedOpIds) : "ungroup" === r && n.drawPlugin.emit("op:group", !
                  1, n.selectedOpIds))
            }, this.contextMenu = function (e) {
              var t, r = {
                delete: function () {
                  n.drawPlugin.emit("op:delete:exec")
                },
                copy: function () {
                  n.drawPlugin.emit("op:duplicate:exec")
                },
                copyToClipboard: function () {
                  n.drawPlugin.copySelectedElesToClipboard()
                },
                bringToFront: function () {
                  n.drawPlugin.emit("op:layer:update", n.selectedOpIds, "top")
                },
                sendToBack: function () {
                  n.drawPlugin.emit("op:layer:update", n.selectedOpIds, "bottom")
                }
              };
              e.optionName && (null === (t = r[e.optionName]) || void 0 === t || t.call(
                r))
            };
          var r = t.drawPlugin,
            A = t.onChange,
            a = t.onClick,
            i = B(t, ["drawPlugin", "onChange", "onClick"]);
          this.drawPlugin = r, this.floatToolbar = new h.default((0, o.default)((0, o
            .default)({
            items: [],
            contextMenu: (0, g.getDefCtxMenu)()
          }, i), {
            onChange: function (e, t) {
              n.changeHandler(e, t), null == A || A(e, t)
            },
            onClick: function (e) {
              n.clickHandler(e), null == a || a(e)
            }
          })), this.register()
        }
        return (0, d.default)(e, [{
          key: "getOpData",
          value: function (e) {
            var t = this.drawPlugin.opsManager;
            if (t.drawOpsOfPage.hasOwnProperty(e)) {
              var n = t.drawOpsOfPage[e].data;
              return n.gid = this.drawPlugin.room.currBoard.currPage.idToGroup
                .get(e), n
            }
            return null
          }
        }, {
          key: "getClientBoundRect",
          value: function (e) {
            var t = this.drawPlugin,
              n = t.camera,
              r = t.container.containerRect,
              A = n.convertWorldPointInContainer(e.sx, e.sy);
            return {
              x: A[0] + (null == r ? void 0 : r.x),
              y: A[1] + (null == r ? void 0 : r.y),
              width: e.w * n.scale,
              height: e.h * n.scale
            }
          }
        }, {
          key: "register",
          value: function () {
            var e = this;
            I.isMobile || (this.drawPlugin.opsManager.hooks.selectChange.tap(
              "ToolbarChange", (function (t, n) {
                e.delayShow(), e.syncData(n)
              })), this.drawPlugin.on("event:textEditor:show", (function () {
              e.syncData(e.selectedOpIds, {
                  editText: !0
                }), e.isShow ? e.updateToolbarPosAndShow(e
                .selectedOpIds) : e.delayShow()
            })), this.drawPlugin.on("event:mousedown", (function () {
              e.isMouseDown = !0, e.delayHide()
            })), this.drawPlugin.on("event:mouseup", (function () {
              e.isMouseDown = !1, clearTimeout(e.delayTimer), e.isShow ||
                e.delayShow()
            })), this.drawPlugin.on("event:camera:transform", (function () {
              e.delayShow()
            })), this.drawPlugin.opsManager.hooks.opAdd.tap("ToolbarOpAdd",
              this.onSnapshotAdd))
          }
        }, {
          key: "setItems",
          value: function (e, t) {
            for (var n = this, o = [], s = [{
                  optionName: "bringToFront",
                  text: (0, m.getMsg)("bringToFront"),
                  hotKeyText: ""
                }, {
                  optionName: "sendToBack",
                  text: (0, m.getMsg)("sendToBack"),
                  hotKeyText: ""
                }, {
                  optionName: "copyToClipboard",
                  text: (0, m.getMsg)("copyAsImg"),
                  hotKeyText: ""
                }, {
                  optionName: "copy",
                  text: (0, m.getMsg)("Duplicate"),
                  hotKeyText: ""
                }, {
                  optionName: "delete",
                  text: (0, m.getMsg)("Delete"),
                  hotKeyText: m.isZh ? "Delete" : ""
                }], l = ["pen", "pen-arrow", "line", "line-arrow"], c = {}, d = !
                1, p = !1, h = !1, f = !!t && t.editText, w = !1, B = !1, I =
                new i.default, C = [], b = 0; b < e.length; b++) {
              var x = -1 !== l.indexOf(e[b].type) ? "pen" : e[b].type;
              if (c[x] = (c[x] || 0) + 1, e[b].gid ? (I.add(e[b].gid), w = !0) :
                B = !0, "audio" !== x && "video" !== x || 1 !== e.length || (s = s
                  .filter((function (e) {
                    return "copyToClipboard" !== e.optionName && "copy" !== e
                      .optionName
                  }))), "link" === x ? (d = !0, e[b].text && (e[b].text.arr || [])
                  .length > 0 && (f = !0)) : p = !0, "shape" === x && e[b].text &&
                (e[b].text.value || "").length > 0 && (f = !0), "text" === x && (
                  h = !0, f = !0), 0 === b) o = (M[x] || []).slice();
              else if (-1 === C.indexOf(x)) {
                C.push(x);
                for (var T = (M[x] || []).slice(), k = o.length - 1; k >= 0; k--)
                  - 1 === T.indexOf(o[k]) && o.splice(k, 1)
              }
            }
            e.length > 1 && ((B = B || I.size >= 2) && o.push("group"), w && o
                .push("ungroup"), (B || w) && o.push("divider")), (0, a.default)(
                c).length > 1 && (o = ["selectFilter", "divider"].concat((0, u
                .default)(o))), 1 !== e.length && (0, y.arrayRemove)(o, [
                "typeChange", "resDownload", "imgCrop", "addT"
              ]), 1 === e.length && "link" === e[0].type && e[0].text.arr
              .length >= 7 && (0, y.arrayRemove)(o, ["addT"]), d && p && (0, y
                .arrayRemove)(o, ["fontSize"]), f || (0, y.arrayRemove)(o, [
                "fontSize", "fontFamily", "textAlign", "fontStroke", "fontFill"
              ]);
            for (var E = o.length - 1; E >= 0; E--)("divider" === o[E] &&
                "divider" === o[E - 1] || 0 === E && "divider" === o[E]) && o
              .splice(E, 1);
            var N = (0, g.getDefToolMap)(),
              O = o.map((function (t) {
                var r, i, o, s, u, l = N[t],
                  p = e[0],
                  f = "text" === p.type ? p.stroke : null === (r = p.text) ||
                  void 0 === r ? void 0 : r.stroke;
                f = f || "rgb(0,0,0)";
                var g = "text" === p.type ? p.fill : null === (i = p.text) ||
                  void 0 === i ? void 0 : i.fill;
                switch (t) {
                  case "selectFilter":
                    l.value = "", l.options = (0, a.default)(c).map((
                      function (e) {
                        return {
                          type: e,
                          count: c[e]
                        }
                      }));
                    break;
                  case "lineWidth":
                    l.value = p.lineWidth || 5;
                    break;
                  case "stroke":
                    l.value = {
                      color: p.stroke
                    }, l.hasNull = !0;
                    break;
                  case "lineProp":
                    l.value = {
                      lineWidth: p.lineWidth || 5,
                      color: p.stroke
                    }, l.hasNull = !0;
                    break;
                  case "fill":
                    l.value = {
                      color: p.fill
                    };
                    break;
                  case "fontSize":
                    l.value = p.fontSize || ((null === (o = p.text) ||
                        void 0 === o ? void 0 : o.fontSize) ? p.text
                      .fontSize : 32), d && (l.max = 88);
                    break;
                  case "fontStroke":
                    l.value = {
                      color: f
                    };
                    break;
                  case "fontFamily":
                    l.value = "object" === (0, A.default)(p.text) ? p.text
                      .fontFamily : p.fontFamily, l.options = n.drawPlugin
                      .getFontFamilies().map((function (e) {
                        return {
                          value: e.fontName || e.displayName,
                          label: e.displayName
                        }
                      }));
                    break;
                  case "fontFill":
                    l.value = {
                      color: g
                    };
                    break;
                  case "textAlign":
                    l.value = {
                      textAlign: p.textAlign || ((null === (s = p.text) ||
                          void 0 === s ? void 0 : s.textAlign) ? p.text
                        .textAlign : "left"),
                      verticalAlign: p.verticalAlign || ((null === (u = p
                          .text) || void 0 === u ? void 0 : u
                        .verticalAlign) ? p.text.verticalAlign : "top")
                    }, l.hasVAlign = !h;
                    break;
                  case "linkType":
                    l.value = p.linkType;
                    break;
                  case "linkArrow":
                    p.start.aType === v.IArrowType.Arrow && p.end.aType === v
                      .IArrowType.Arrow ? l.value = 3 : p.start.aType === v
                      .IArrowType.Arrow ? l.value = 1 : p.end.aType === v
                      .IArrowType.Arrow ? l.value = 2 : l.value = 0;
                    break;
                  case "typeChange":
                    var y = n.drawPlugin.shapeManager.getFloatShapes(),
                      m = "shape" === p.type ? p.shape : p.type;
                    l.value = m, l.shapeIcons = y
                }
                return l
              }));
            this.floatToolbar.setItems((0, r.default)(O)), this.floatToolbar
              .setContextMenuOptions(s)
          }
        }]), e
      }(),
      b = {
        getInstance: function (e) {
          return new C(e).floatToolbar
        }
      };
    t.default = b
  }, function (e, t, n) {
    e.exports = {
      default: n(377),
      __esModule: !0
    }
  }, function (e, t, n) {
    n(378), e.exports = n(8).Object.values
  }, function (e, t, n) {
    var r = n(10),
      A = n(379)(!1);
    r(r.S, "Object", {
      values: function (e) {
        return A(e)
      }
    })
  }, function (e, t, n) {
    var r = n(24),
      A = n(49),
      a = n(41),
      i = n(63).f;
    e.exports = function (e) {
      return function (t) {
        for (var n, o = a(t), s = A(o), u = s.length, l = 0, c = []; u > l;) n = s[
          l++], r && !i.call(o, n) || c.push(e ? [n, o[n]] : o[n]);
        return c
      }
    }
  }, function (e, t, n) {
    e.exports = {
      default: n(381),
      __esModule: !0
    }
  }, function (e, t, n) {
    n(382), e.exports = n(8).Number.isNaN
  }, function (e, t, n) {
    var r = n(10);
    r(r.S, "Number", {
      isNaN: function (e) {
        return e != e
      }
    })
  }, function (e, t, n) {
    n(132), e.exports = n(8).Object.getOwnPropertySymbols
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = u(n(5)),
      A = u(n(0)),
      a = u(n(1)),
      i = u(n(106)),
      o = u(n(6)),
      s = u(n(385));

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = function (e, t) {
        var n = {};
        for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 &&
          (n[r] = e[r]);
        if (null != e && "function" == typeof i.default) {
          var A = 0;
          for (r = (0, i.default)(e); A < r.length; A++) t.indexOf(r[A]) < 0 && Object
            .prototype.propertyIsEnumerable.call(e, r[A]) && (n[r[A]] = e[r[A]])
        }
        return n
      },
      c = function () {
        function e(t) {
          (0, A.default)(this, e), this.domid = Math.random() + "", this.ref = o.default
            .createRef(), this._container = null;
          var n = null != t ? t : {},
            a = n.container,
            i = l(n, ["container"]);
          this.floatToolBar = o.default.createElement(s.default, (0, r.default)({}, i, {
            ref: this.ref
          })), this.container = null != a ? a : null
        }
        return (0, a.default)(e, [{
          key: "show",
          value: function (e) {
            var t;
            null === (t = this.toolbar) || void 0 === t || t.show(e)
          }
        }, {
          key: "hide",
          value: function () {
            var e;
            null === (e = this.toolbar) || void 0 === e || e.show(!1)
          }
        }, {
          key: "setItems",
          value: function (e) {
            var t;
            null === (t = this.toolbar) || void 0 === t || t.setItems(e)
          }
        }, {
          key: "setContextMenuOptions",
          value: function (e) {
            var t;
            null === (t = this.toolbar) || void 0 === t || t
              .setContextMenuOptions(e)
          }
        }, {
          key: "addOrSetTool",
          value: function () {}
        }, {
          key: "render",
          value: function () {
            this.container && o.default.render(this.floatToolBar, this.container)
          }
        }, {
          key: "unRender",
          value: function () {
            if (this.container) {
              var e = this.domNode;
              e && o.default.render(null, this.container, e)
            }
          }
        }, {
          key: "toolbar",
          get: function () {
            return this.ref.current
          }
        }, {
          key: "domNode",
          get: function () {
            return this.container ? this.container.querySelector("[data-domid='" +
              this.domid + "']") : null
          }
        }, {
          key: "container",
          get: function () {
            return this._container
          },
          set: function (e) {
            this.container !== e && (this.unRender(), this._container = e, this
              .render())
          }
        }, {
          key: "isShow",
          get: function () {
            var e, t;
            return null !== (t = null === (e = this.toolbar) || void 0 === e ?
              void 0 : e.isShow) && void 0 !== t && t
          }
        }]), e
      }();
    t.default = c
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = C(n(5)),
      A = C(n(2)),
      a = C(n(0)),
      i = C(n(1)),
      o = C(n(3)),
      s = C(n(4)),
      u = C(n(106)),
      l = C(n(6)),
      c = n(386),
      d = n(61),
      p = n(397),
      h = n(254),
      f = n(404),
      g = n(409),
      y = n(413),
      v = n(422),
      m = n(428),
      w = n(434),
      B = n(435),
      I = n(438),
      M = n(443);

    function C(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var b = function (e, t) {
        var n = {};
        for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 &&
          (n[r] = e[r]);
        if (null != e && "function" == typeof u.default) {
          var A = 0;
          for (r = (0, u.default)(e); A < r.length; A++) t.indexOf(r[A]) < 0 && Object
            .prototype.propertyIsEnumerable.call(e, r[A]) && (n[r[A]] = e[r[A]])
        }
        return n
      },
      x = {
        Click: d.ClickItem,
        Input: p.InputItem,
        Slider: h.SliderItem,
        TextAlign: y.TextAlign,
        LinkType: v.LinkType,
        LinkArrow: m.LinkArrow,
        TypeChange: w.TypeChange,
        LineProp: f.LineProp,
        Divider: M.Divider,
        Select: B.Select,
        SelectFilter: I.SelectFilter
      },
      T = function (e) {
        function t() {
          var e, n, r;
          (0, a.default)(this, t);
          var i = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
            arguments));
          return i.state = {
            openItem: void 0,
            isShow: null !== (e = i.props.isShow) && void 0 !== e && e,
            items: null !== (n = i.props.items) && void 0 !== n ? n : [],
            contextMenu: null !== (r = i.props.contextMenu) && void 0 !== r ? r : {},
            boundRect: {
              x: 0,
              y: 0,
              width: 0,
              height: 0
            }
          }, i.setOpenItem = function (e) {
            i.setState({
              openItem: e
            })
          }, i
        }
        return (0, s.default)(t, e), (0, i.default)(t, [{
          key: "initClickItem",
          value: function (e) {
            var t = this,
              n = e.toolType,
              A = e.onClick,
              a = b(e, ["toolType", "onClick"]),
              i = x[n];
            return l.default.createElement(i, (0, r.default)({
              onClick: function (e) {
                var n, r;
                null === (r = (n = t.props).onClick) || void 0 === r || r
                  .call(n, e), null == A || A(e)
              }
            }, a))
          }
        }, {
          key: "initValuedItem",
          value: function (e) {
            var t = this,
              n = e.toolType,
              A = e.onChange,
              a = b(e, ["toolType", "onChange"]),
              i = x[n];
            return l.default.createElement(i, (0, r.default)({
              onChange: function (n, r) {
                var a, i;
                null === (i = (a = t.props).onChange) || void 0 === i || i
                  .call(a, n, r), null == A || A(n, r), "value" in e && (e
                    .value = n.value, t.forceUpdate()), t.setState({
                    openItem: void 0
                  })
              }
            }, a))
          }
        }, {
          key: "initCommonItem",
          value: function (e) {
            var t = this,
              n = e.toolType,
              A = e.onChange,
              a = b(e, ["toolType", "onChange"]),
              i = x[n];
            return l.default.createElement(i, (0, r.default)({
              onChange: function (n, r) {
                var a, i;
                null === (i = (a = t.props).onChange) || void 0 === i || i
                  .call(a, n, r), null == A || A(n), e.value = n.value, t
                  .forceUpdate()
              }
            }, a))
          }
        }, {
          key: "initItems",
          value: function (e) {
            var t = this,
              n = [];
            return e.forEach((function (e) {
              e.openItem = t.state.openItem, e.onToolClick = function (e) {
                  t.setState({
                    openItem: e.toolName === t.state.openItem ? void 0 :
                      e.toolName
                  })
                }, "Click" === e.toolType ? n.push(t.initClickItem(e)) : -
                1 !== ["Input", "Slider", "Select", "SelectFilter"].indexOf(
                  e.toolType) ? n.push(t.initValuedItem(e)) : "Divider" ===
                e.toolType ? n.push(l.default.createElement(M.Divider,
                  null)) : -1 !== ["TextAlign", "LinkType", "LinkArrow",
                  "TypeChange", "LineProp"
                ].indexOf(e.toolType) && n.push(t.initCommonItem(e))
            })), n
          }
        }, {
          key: "render",
          value: function () {
            var e = this.props,
              t = (e.onClick, e.onChange, b(e, ["onClick", "onChange"]));
            return l.default.createElement(c.Toolbar, (0, r.default)({}, t, {
              unrendered: !this.isShow,
              items: this.items,
              contextMenu: this.contextMenu,
              boundRect: this.state.boundRect,
              setOpenItem: this.setOpenItem
            }))
          }
        }, {
          key: "show",
          value: function (e) {
            !1 === e ? this.setState({
              isShow: !1
            }) : this.setState({
              isShow: !0,
              boundRect: e
            })
          }
        }, {
          key: "setItems",
          value: function (e) {
            this.setState({
              items: e,
              openItem: void 0
            })
          }
        }, {
          key: "setContextMenuOptions",
          value: function (e) {
            this.setState({
              contextMenu: (0, r.default)((0, r.default)({}, this.state
                .contextMenu), {
                options: e
              })
            })
          }
        }, {
          key: "items",
          get: function () {
            return this.initItems(this.state.items)
          }
        }, {
          key: "contextMenu",
          get: function () {
            var e = this,
              t = this.state.contextMenu,
              n = t.onClick,
              A = b(t, ["onClick"]);
            return l.default.createElement(g.ContextMenu, (0, r.default)({
              openItem: this.state.openItem,
              onToolClick: function (t) {
                e.setState({
                  openItem: t.toolName === e.state.openItem ? void 0 :
                    t.toolName
                })
              },
              onClick: function (t) {
                var r, A;
                null === (A = (r = e.props).onClick) || void 0 === A || A
                  .call(r, t), null == n || n(t), e.setState({
                    openItem: void 0
                  })
              }
            }, A))
          }
        }, {
          key: "isShow",
          get: function () {
            return this.state.isShow
          }
        }]), t
      }(l.default.Component);
    t.default = T
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.Toolbar = void 0;
    var r = p(n(16)),
      A = p(n(5)),
      a = p(n(2)),
      i = p(n(0)),
      o = p(n(1)),
      s = p(n(3)),
      u = p(n(4)),
      l = p(n(26)),
      c = p(n(6)),
      d = n(253);

    function p(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(387);
    t.Toolbar = function (e) {
      function t() {
        (0, i.default)(this, t);
        var e = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).apply(this,
          arguments));
        return e.ref = c.default.createRef(), e.containerRef = c.default.createRef(), e
          .state = (0, A.default)((0, A.default)({}, (0, l.default)(t.prototype
            .__proto__ || (0, a.default)(t.prototype), "state", e)), {
            left: 0,
            top: 0,
            tbAlign: "up"
          }), e.mousedown = function (t) {
            for (var n = t.target; n;) {
              if (n === e.ref.current) return;
              n = n.parentNode
            }
            e.props.setOpenItem(void 0)
          }, e
      }
      return (0, u.default)(t, e), (0, o.default)(t, [{
        key: "componentDidMount",
        value: function () {
          window.addEventListener("mousedown", this.mousedown, {
            capture: !0
          })
        }
      }, {
        key: "componentWillUnmount",
        value: function () {
          window.removeEventListener("mousedown", this.mousedown, {
            capture: !0
          })
        }
      }, {
        key: "propsFilter",
        value: function () {
          (0, l.default)(t.prototype.__proto__ || (0, a.default)(t.prototype),
            "propsFilter", this).call(this, ["className", "style", "items",
            "contextMenu", "boundRect"
          ])
        }
      }, {
        key: "componentDidUpdate",
        value: function (e) {
          var t = this.props.unrendered,
            n = this.pickedProps.boundRect;
          if ((e.unrendered !== t || e.boundRect !== n) && !t && n) {
            var r = this.ref.current;
            if (r) {
              var A = r.parentElement;
              if (A) {
                var a = A.getBoundingClientRect(),
                  i = r.getBoundingClientRect();
                i.height *= 1.4;
                var o, s, u, l, c, d = {
                    left: n.x,
                    top: n.y,
                    right: n.x + n.width,
                    bottom: n.y + n.height,
                    width: n.width,
                    height: n.height
                  },
                  p = Math.max(d.top, a.top),
                  h = d.left + .5 * (d.width - i.width),
                  f = !1,
                  g = "up";
                if (p - i.height >= a.top ? (p -= i.height, g = "up") : d
                  .bottom + i.height < a.bottom ? (o = d.bottom + .2 * i.height,
                    s = a.bottom + i.height, u = a.top, (l = s) > (c = u) && (
                      c = s, l = u), p = o < l ? l : o > c ? c : o, g = "down"
                    ) : f = !0, f)
                  if (d.right + i.width < a.right) h = d.right;
                  else if (d.left - i.width > a.left) h = d.left - i.width;
                else {
                  h = d.left + .5 * d.width < a.left + .5 * a.width ? a.right -
                    i.width : a.left
                } else a.width < i.width || h < a.left ? h = a.left : h + i
                  .width > a.right && (h = a.right - i.width);
                this.setState({
                  left: h - a.left,
                  top: p - a.top,
                  tbAlign: g
                })
              }
            }
          }
        }
      }, {
        key: "innerStyle",
        get: function () {
          var e = this.state,
            t = e.top;
          return {
            pointerEvents: "all",
            position: "absolute",
            left: e.left + "px",
            top: t + "px"
          }
        }
      }, {
        key: "children",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.className,
            a = t.style,
            i = t.items,
            o = t.contextMenu;
          i = [].concat((0, r.default)(null != i ? i : [])), o && i.push(o);
          for (var s = [], u = 0, l = (i = i.map((function (t) {
              return c.default.cloneElement(t, {
                tbAlign: e.state.tbAlign
              })
            }))).length - 1; u <= l; u++) s.push(i[u]);
          var d = s.length ? s : c.default.createElement("span", {
            className: "tip"
          }, "工具栏未设置");
          return c.default.createElement("div", {
            className: "yunxin-whiteboard-float",
            style: {
              position: "absolute",
              pointerEvents: "none"
            },
            ref: this.containerRef
          }, c.default.createElement("div", (0, A.default)({
            className: "toolbar" + (n ? " " + n : ""),
            style: (0, A.default)((0, A.default)({}, a), this
              .innerStyle)
          }, this.nativeProps, {
            ref: this.ref
          }), d))
        }
      }]), t
    }(d.FloatComponent)
  }, function (e, t, n) {
    var r = n(388);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n}\n    .yunxin-whiteboard-float .toolbar{\n        position: absolute;\n        display: flex;\n        align-items: center;\n        background-color: white; \n        box-shadow: rgba(5, 0, 50, 0.14) 0px 4px 16px 0;\n        border-radius: 4px; \n        padding: 0 8px;\n        grid-gap: 8px;\n        gap: 8px;\n        height: 50px;\n    }\n    .yunxin-whiteboard-float .toolbar .tip{\n            color: #9d9d9d; font-size: 13px; -webkit-user-select: none; -moz-user-select: none; user-select: none;\n            padding: 2px;\n        }",
      ""
    ])
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.Hint = void 0;
    var r = u(n(2)),
      A = u(n(0)),
      a = u(n(1)),
      i = u(n(3)),
      o = u(n(4)),
      s = u(n(6));

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(390);
    t.Hint = function (e) {
      function t() {
        var e;
        (0, A.default)(this, t);
        var n = (0, i.default)(this, (t.__proto__ || (0, r.default)(t)).apply(this,
          arguments));
        return n.state = {
          isShow: null !== (e = n.props.isShow) && void 0 !== e && e,
          showTransClasss: !1
        }, n.transTimeout = null, n
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "componentDidUpdate",
        value: function (e) {
          var t, n = this;
          if (e.isShow !== this.props.isShow) {
            clearTimeout(this.transTimeout);
            var r = null !== (t = this.props.isShow) && void 0 !== t && t;
            r ? this.transTimeout = setTimeout((function () {
              n.setState({
                isShow: r
              }, (function () {
                setTimeout((function () {
                  n.setState({
                    showTransClasss: !0
                  })
                }), 1e3 / 30)
              }))
            }), 500) : (this.setState({
              showTransClasss: !1
            }), this.transTimeout = setTimeout((function () {
              n.setState({
                isShow: r
              })
            }), 500))
          }
        }
      }, {
        key: "render",
        value: function () {
          var e = this.props.hint;
          return this.state.isShow ? s.default.createElement("div", {
            className: "hint arrow-down" + (this.state.showTransClasss ?
              " default-hint-trans" : "")
          }, s.default.createElement("span", {
            className: "default-hint-text"
          }, null != e ? e : "No Hint")) : null
        }
      }]), t
    }(s.default.Component)
  }, function (e, t, n) {
    var r = n(391);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float .hint{\n        position: absolute;\n        width: 0;\n        height: 0;\n        left: 50%;\n        bottom: 50%;\n        transform: translate(0, -24px);\n        font-size: 14px;\n        color: white;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        opacity: 0;\n        transition: opacity 0.5s;\n    }\n        .yunxin-whiteboard-float .hint .default-hint-text{\n            background-color: rgb(32, 32, 32);\n            padding: 0.5em 1em;\n            border-radius: 0.25em;\n            white-space: nowrap;\n            z-index: 1;\n        }\n    .yunxin-whiteboard-float .arrow-down::after{\n        content: ' ';\n        border-width: 0.5em 0.5em 0;\n        border-style:solid;\n        border-color:rgb(32, 32, 32) transparent transparent ;\n    }\n    .yunxin-whiteboard-float .default-hint-trans{\n        opacity: 1;\n    }",
      ""
    ])
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjQ3MzExNjY4ODA1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjcyOTAiIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTI1OS42NTUxMTEgNDkwLjE1NDY2N2wtNDQuNjU3Nzc4IDQ0LjYyOTMzM0MxMzIuODM1NTU2IDYxNC4zNTczMzMgMTE3Ljg1OTU1NiA2OTcuNDU3Nzc4IDE3MS42NjIyMjIgNzc1LjA1NDIyMmExNC4xOTM3NzggMTQuMTkzNzc4IDAgMCAwIDE5Ljc5NzMzNCAzLjYyNjY2N2M2LjQ0MjY2Ny00LjUwODQ0NCA4LjA0OTc3OC0xMy4zNjg4ODkgMy41ODQtMTkuODI1Nzc4LTQ1LjQ0LTY1LjUzNi0zMi4wNzExMTEtMTM0LjA4NzExMSAzOS45MjE3NzctMjAzLjgwNDQ0NGw0NC44LTQ0Ljc4NTc3OGExNC4yMDggMTQuMjA4IDAgMSAwLTIwLjExMDIyMi0yMC4xMTAyMjJ6TTIyMC43MTQ2NjcgNzkxLjgzNjQ0NGExNC4yMDggMTQuMjA4IDAgMSAwLTIwLjA5NiAyMC4xMTAyMjNsNi42NDE3NzcgNi42MTMzMzNhMTQuMjIyMjIyIDE0LjIyMjIyMiAwIDAgMCAyMC4wOTYtMjAuMTEwMjIybC02LjY0MTc3Ny02LjYxMzMzNHpNNTc3LjU3ODY2NyA0MjUuNjI4NDQ0bC01MC4yNzU1NTYgNTAuMzA0YTE0LjIwOCAxNC4yMDggMCAxIDAgMjAuMTEwMjIyIDIwLjExMDIyM2w1MC4yNzU1NTYtNTAuMzA0YTE0LjIwOCAxNC4yMDggMCAxIDAtMjAuMTEwMjIyLTIwLjExMDIyM3oiIGZpbGw9IiIgcC1pZD0iNzI5MSI+PC9wYXRoPjxwYXRoIGQ9Ik05NTEuMTUzNzc4IDQzLjYzMzc3OGEyOC41MTU1NTYgMjguNTE1NTU2IDAgMCAwLTM1LjExNDY2NyAxOS42NDA4ODljLTAuMjEzMzMzIDAuNzY4LTIyLjE1ODIyMiA3Ni4wNzQ2NjctODguMTc3Nzc4IDEwOC41NDQtNjEuOTIzNTU2IDMwLjQ3ODIyMi05MS44MzI4ODkgNjcuNTI3MTExLTEwNi4yOTY4ODkgOTcuNjc4MjIyYTI4Mi41OTU1NTYgMjgyLjU5NTU1NiAwIDAgMC0xODQuMTkyLTY3Ljc2ODg4OSAyODMuMDIyMjIyIDI4My4wMjIyMjIgMCAwIDAtMjAxLjQ3MiA4My40NTZMMTM1LjQ1MjQ0NCA0ODUuNjMyYy0xMTEuMTA0IDExMS4xMDQtMTExLjEwNCAyOTEuODY4NDQ0IDAgNDAyLjk1ODIyMmw5LjM1ODIyMyA5LjM1ODIyMmM1My44MTY4ODkgNTMuODMxMTExIDEyNS4zNjg4ODkgODMuNDcwMjIyIDIwMS40ODYyMjIgODMuNDcwMjIzczE0Ny42NTUxMTEtMjkuNjM5MTExIDIwMS40ODYyMjItODMuNDcwMjIzTDc0OC4yMzExMTEgNjk3LjUwMDQ0NGMxMDQuODMyLTEwNC44MzIgMTEwLjYyMDQ0NC0yNzEuNjQ0NDQ0IDE3LjU5Mjg4OS0zODMuNDczNzc3IDIuODcyODg5LTE2LjI5ODY2NyAxNy4xMDkzMzMtNTYuNjc1NTU2IDg3LjE1Mzc3OC05MS4xNTAyMjMgODguNTE5MTExLTQzLjU0ODQ0NCAxMTYuNjY0ODg5LTE0MC4wNDYyMjIgMTE3LjgxNjg4OS0xNDQuMTI4YTI4LjQ0NDQ0NCAyOC40NDQ0NDQgMCAwIDAtMTkuNjQwODg5LTM1LjExNDY2NnpNNTA3LjU0ODQ0NCA4NTcuNzI4YTIyNi41MTczMzMgMjI2LjUxNzMzMyAwIDAgMS0xNjEuMjUxNTU1IDY2LjgwMTc3OCAyMjYuNTYgMjI2LjU2IDAgMCAxLTE2MS4yNjU3NzgtNjYuODAxNzc4bC05LjM1ODIyMi05LjM1ODIyMmMtODguOTE3MzMzLTg4LjkxNzMzMy04OC45MTczMzMtMjMzLjYxNDIyMiAwLTMyMi41MzE1NTZMMzI2LjIwMDg4OSAzNzUuMzI0NDQ0YzM1LjI1Njg4OSA2Ni4yMDQ0NDQgMTMzLjY0NjIyMiAyMTkuNzkwMjIyIDMzMi44NDI2NjcgMzMwLjkwODQ0NUw1MDcuNTQ4NDQ0IDg1Ny43Mjh6IG0yMDAuNDE5NTU2LTIwMC40NDhsLTI4LjAwMzU1NiAyOC4wMTc3NzhjLTIwMy45NDY2NjctMTExLjUxNjQ0NC0zMDIuMjUwNjY3LTI3My4wNjY2NjctMzMyLjUyOTc3Ny0zMzEuMjA3MTExbDI4LjY4NjIyMi0yOC42ODYyMjNhMjI2LjU2IDIyNi41NiAwIDAgMSAxNjEuMjM3MzMzLTY2Ljc4NzU1NWM2MC45MTM3NzggMCAxMTguMjAwODg5IDIzLjcyMjY2NyAxNjEuMjY1Nzc4IDY2Ljc4NzU1NWw5LjM0NCA5LjM1ODIyM2M4OC45MzE1NTYgODguOTE3MzMzIDg4LjkzMTU1NiAyMzMuNiAwIDMyMi41MTczMzN6IiBmaWxsPSIiIHAtaWQ9IjcyOTIiPjwvcGF0aD48L3N2Zz4="
  }, function (e, t, n) {
    var r = n(394);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float .item{\n        display: flex;\n        align-items: center;\n        height: -moz-fit-content;\n        height: fit-content;\n        width: -moz-fit-content;\n        width: fit-content;\n        grid-column-gap: 2px;\n        -moz-column-gap: 2px;\n             column-gap: 2px;\n        padding: 4px;\n        background-color: transparent;\n    }\n        .yunxin-whiteboard-float .item .text{\n            font-size: 16px;\n            color: rgb(64, 64, 64);\n            transition: color 0.3s;\n        }\n        .yunxin-whiteboard-float .item .icon{\n            display: block;\n            font-size: 18px;\n            -webkit-mask-position: center;\n                    mask-position: center;\n            -webkit-mask-size: contain;\n                    mask-size: contain;\n            -webkit-mask-repeat: no-repeat;\n                    mask-repeat: no-repeat;\n            background-color:rgb(64, 64, 64);\n            transition: background-color 0.3s;\n        }\n@media (any-hover: hover) {\n        .yunxin-whiteboard-float .item:hover{\n            cursor: pointer;\n        }\n            .yunxin-whiteboard-float .item:hover .text{\n                font-size: 16px;\n                color: black;\n                transition: color 0.3s;\n            }\n            .yunxin-whiteboard-float .item:hover .icon{\n                background-color: black;\n            }\n    }\n.yunxin-whiteboard-float .item:active .icon{\n            background-color: black;\n        }\n.yunxin-whiteboard-float .item-disabled{\n        cursor: not-allowed !important;\n        background-color: transparent !important;\n        opacity: 0.5 !important;\n    }\n.yunxin-whiteboard-float .item-disabled >*{\n            cursor: not-allowed !important;\n        }",
      ""
    ])
  }, function (e, t, n) {
    var r = n(396);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float .click-item{\n        font-family: inherit;\n        margin: 0;\n        border: none;\n        outline: none;\n    }",
      ""
    ])
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.InputItem = void 0;
    var r = g(n(5)),
      A = g(n(2)),
      a = g(n(0)),
      i = g(n(1)),
      o = g(n(3)),
      s = g(n(4)),
      u = g(n(26)),
      l = n(6),
      c = g(l),
      d = n(40),
      p = n(61),
      h = g(n(398)),
      f = g(n(399));

    function g(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(400);
    t.InputItem = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.state = (0, r.default)((0, r.default)({}, (0, u.default)(t.prototype
          .__proto__ || (0, A.default)(t.prototype), "state", e)), {
          isFocus: !1
        }), e.ref = (0, l.createRef)(), e.changeHandler = function (t) {
          var n = e.pickedProps,
            r = n.onChange,
            A = n.toolName,
            a = n.type,
            i = n.max,
            o = n.value,
            s = Number(t.target.value);
          "number" === a && ("" !== t.target.value && isNaN(s) || "" !== t.target
            .value && i && s > i ? null == r || r({
              type: "change",
              target: t.target,
              toolName: A,
              value: o || ""
            }) : null == r || r({
              type: "change",
              target: t.target,
              toolName: A,
              value: t.target.value
            }), e.forceUpdate())
        }, e.stepHandler = function (t) {
          var n, r = e.pickedProps.value,
            A = e.ref.current;
          if (A) {
            var a = Number((null !== (n = e.nativeProps.step) && void 0 !== n ? n :
                0) + "") || 1,
              i = Number((null != r ? r : A.value || 0) + "") + t * a;
            i = 1 === t ? Math.floor(i / a) * a : Math.ceil(i / a) * a, A.value = e
              .clampNumVal(i), A.dispatchEvent(new Event("change", {
                bubbles: !0,
                cancelable: !0
              }))
          }
        }, e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, u.default)(t.prototype.__proto__ || (0, A.default)(t.prototype),
            "propsFilter", this).call(this, ["type", "onChange", "min", "max",
            "maxLength"
          ], {
            type: "text",
            icon: void 0,
            value: void 0
          })
        }
      }, {
        key: "clampNumVal",
        value: function (e) {
          var t = this.pickedProps,
            n = t.type,
            r = t.min,
            A = t.max;
          if ("number" !== n) return e;
          if (void 0 === r && void 0 === A) return e;
          if ((r = Number(r + "")) > (A = Number(A + ""))) {
            var a = [A, r];
            r = a[0], A = a[1]
          }
          var i = Number(e + "");
          return i < r ? r : i > A ? A : i
        }
      }, {
        key: "defaultClassNames",
        get: function () {
          return (0, u.default)(t.prototype.__proto__ || (0, A.default)(t
            .prototype), "defaultClassNames", this).concat("input-item")
        }
      }, {
        key: "defaultStyle",
        get: function () {
          return (0, r.default)((0, r.default)({}, (0, u.default)(t.prototype
            .__proto__ || (0, A.default)(t.prototype), "defaultStyle",
            this)), {
            pointerEvents: "none"
          })
        }
      }, {
        key: "inputStyle",
        get: function () {
          return {
            pointerEvents: "all"
          }
        }
      }, {
        key: "children",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.type,
            A = t.value,
            a = t.disabled;
          if ("" !== A) {
            var i = Number(A);
            isNaN(i) || (A = Math.ceil(i))
          }
          return c.default.createElement("label", (0, r.default)({
              className: this.className,
              style: this.style
            }, this.state.isFocus ? {} : this.hoverProps), this.itemChildren,
            c.default.createElement("input", (0, r.default)({
              type: "text",
              style: this.inputStyle
            }, void 0 !== A ? {
              value: A
            } : {}, {
              disabled: a
            }, this.nativeProps, {
              ref: this.ref,
              onChange: this.changeHandler,
              onInput: this.changeHandler,
              onFocus: function () {
                e.setState({
                  isFocus: !0
                }), e.isHover = !1
              },
              onBlur: function () {
                e.setState({
                  isFocus: !1
                })
              }
            })), "number" === n ? c.default.createElement("div", {
              className: "default-number-input-buttons"
            }, c.default.createElement(p.ClickItem, {
              icon: h.default,
              onClick: function () {
                e.stepHandler(1)
              },
              disabled: a
            }), c.default.createElement(p.ClickItem, {
              icon: f.default,
              onClick: function () {
                e.stepHandler(-1)
              },
              disabled: a
            })) : null)
        }
      }]), t
    }(d.Item)
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjQ3NDgxODc5MDUxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIzMzIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTU0MS44NjY2NjcgMjg1Ljg2NjY2N2wzNDUuNiAzNDUuNmMxNy4wNjY2NjcgMTcuMDY2NjY3IDE3LjA2NjY2NyA0Mi42NjY2NjcgMCA1OS43MzMzMzMtOC41MzMzMzMgOC41MzMzMzMtMTkuMiAxMi44LTI5Ljg2NjY2NyAxMi44SDE2OC41MzMzMzNjLTIzLjQ2NjY2NyAwLTQyLjY2NjY2Ny0xOS4yLTQyLjY2NjY2Ni00Mi42NjY2NjcgMC0xMC42NjY2NjcgNC4yNjY2NjctMjEuMzMzMzMzIDEyLjgtMjkuODY2NjY2bDM0My40NjY2NjYtMzQ1LjZjMTcuMDY2NjY3LTE3LjA2NjY2NyA0Mi42NjY2NjctMTcuMDY2NjY3IDU5LjczMzMzNCAweiIgcC1pZD0iMjMzMyI+PC9wYXRoPjwvc3ZnPg=="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjQ3NDgxODY5NTI0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIxODgiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTQ4Mi4xMzMzMzMgNzM4LjEzMzMzM0wxMzYuNTMzMzMzIDM5Mi41MzMzMzNjLTE3LjA2NjY2Ny0xNy4wNjY2NjctMTcuMDY2NjY3LTQyLjY2NjY2NyAwLTU5LjczMzMzMyA4LjUzMzMzMy04LjUzMzMzMyAxOS4yLTEyLjggMjkuODY2NjY3LTEyLjhoNjg5LjA2NjY2N2MyMy40NjY2NjcgMCA0Mi42NjY2NjcgMTkuMiA0Mi42NjY2NjYgNDIuNjY2NjY3IDAgMTAuNjY2NjY3LTQuMjY2NjY3IDIxLjMzMzMzMy0xMi44IDI5Ljg2NjY2Nkw1NDEuODY2NjY3IDczOC4xMzMzMzNjLTE3LjA2NjY2NyAxNy4wNjY2NjctNDIuNjY2NjY3IDE3LjA2NjY2Ny01OS43MzMzMzQgMHoiIHAtaWQ9IjIxODkiPjwvcGF0aD48L3N2Zz4="
  }, function (e, t, n) {
    var r = n(401);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float .input-item input{\n            background-color: transparent;\n            border: none;\n            padding: none;\n            outline: 1px solid rgb(164, 164, 164);\n            height: -moz-fit-content;\n            height: fit-content;\n            font-family: inherit;\n            width: 40px;\n            text-align: center;\n            font-size: 14px;\n            border-radius: 3px;\n        }\n        .yunxin-whiteboard-float .input-item input:focus{\n            border: none;\n            padding: none;\n        }\n        .yunxin-whiteboard-float .input-item input::-webkit-outer-spin-button,\n        .yunxin-whiteboard-float .input-item input::-webkit-inner-spin-button {\n            -webkit-appearance: none;\n            margin: 0;\n        }\n        .yunxin-whiteboard-float .input-item input[type=number]{\n            -webkit-appearance: textfield;\n               -moz-appearance: textfield;\n                    appearance: textfield;\n        }\n        .yunxin-whiteboard-float .input-item .default-number-input-buttons{\n            display: flex;\n            flex-direction: column;\n            margin-left: 4px;\n        }\n        .yunxin-whiteboard-float .input-item .default-number-input-buttons button{\n                pointer-events: all;\n                background-color: transparent;\n                padding: 0;\n            }\n        .yunxin-whiteboard-float .input-item .default-number-input-buttons button .icon{\n                    font-size: 14px;\n                }",
      ""
    ])
  }, function (e, t, n) {
    var r = n(403);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float .slider-item input,#yunxin-whiteboard-toolCollection .slider-item input{\n            -webkit-appearance: none;\n            -moz-appearance: none;\n                 appearance: none;\n            border: none;\n            outline: none;\n            padding: none;\n            margin: 0;\n            width: 80px;\n            cursor: pointer;\n        }\n        .yunxin-whiteboard-float .slider-item input[type='range']::-webkit-slider-runnable-track,#yunxin-whiteboard-toolCollection .slider-item input[type='range']::-webkit-slider-runnable-track{\n            background-color: rgb(200, 200, 200);\n            height: 6px;\n            border-radius: 8px;\n        }\n        .yunxin-whiteboard-float .slider-item input[type=range]::-moz-range-track, #yunxin-whiteboard-toolCollection .slider-item input[type=range]::-moz-range-track {\n            background-color: rgb(200, 200, 200);\n            height: 6px;\n            border-radius: 8px;\n        }\n        .yunxin-whiteboard-float .slider-item input[type='range']::-webkit-slider-thumb,#yunxin-whiteboard-toolCollection .slider-item input[type='range']::-webkit-slider-thumb{  \n            -webkit-appearance: none;\n            height: 18px;\n            width: 18px;\n            margin-top: -6px;\n            border-radius: 50%;\n            background: black;\n            border: 1px solid rgb(200, 200, 200);\n            padding: 0;\n            outline: none;\n        }\n        .yunxin-whiteboard-float .slider-item input[type='range']::-moz-range-thumb,#yunxin-whiteboard-toolCollection .slider-item input[type='range']::-moz-range-thumb{\n            height: 16px;\n            width: 16px;\n            border-radius: 50%;\n            background: black;\n            border: 1px solid rgb(200, 200, 200);\n            outline: none;\n            padding: 0;\n        }",
      ""
    ])
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.LineProp = void 0;
    var r = B(n(5)),
      A = B(n(2)),
      a = B(n(0)),
      i = B(n(1)),
      o = B(n(3)),
      s = B(n(4)),
      u = B(n(26)),
      l = B(n(6)),
      c = n(40),
      d = n(61),
      p = n(99),
      h = n(62),
      f = n(254),
      g = n(255),
      y = B(n(407)),
      v = B(n(408)),
      m = B(n(256)),
      w = n(14);

    function B(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.LineProp = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.state = (0, r.default)((0, r.default)({}, (0, u.default)(t.prototype
          .__proto__ || (0, A.default)(t.prototype), "state", e)), {
          color: void 0,
          opacity: 1
        }), e.widthChangeHandler = function (t) {
          var n = e.pickedProps,
            A = n.onChange,
            a = n.toolName;
          null == A || A({
            type: t.type,
            target: t.target,
            toolName: a,
            value: (0, r.default)((0, r.default)({}, e.props.value || {}), {
              lineWidth: t.value
            })
          })
        }, e.colorChangeHandler = function (t) {
          var n = e.pickedProps,
            A = n.onChange,
            a = n.toolName,
            i = t.value ? (0, g.mixColorAndOpacity)(t.value, e.state.opacity) : "";
          null == A || A({
            type: t.type,
            target: t.target,
            toolName: a,
            value: (0, r.default)((0, r.default)({}, e.props.value || {}), {
              color: i
            })
          })
        }, e.opacityChangeHandler = function (t, n) {
          var A = e.pickedProps,
            a = A.onChange,
            i = A.toolName;
          if (e.state.color) {
            var o = e.state.color,
              s = (0, g.mixColorAndOpacity)("rgb(" + o.r + ", " + o.g + ", " + o.b +
                ")", t.value);
            null == a || a({
              type: t.type,
              target: t.target,
              toolName: i,
              value: (0, r.default)((0, r.default)({}, e.props.value || {}), {
                color: s
              })
            }, n)
          }
        }, e
      }
      return (0, s.default)(t, e), (0, i.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, u.default)(t.prototype.__proto__ || (0, A.default)(t.prototype),
            "propsFilter", this).call(this, ["onChange", "colorStyle", "value",
            "colors", "panelOffset", "opacity", "openItem", "tbAlign"
          ], {
            colorStyle: "background",
            colors: [],
            panelOffset: {
              x: 0,
              y: 0
            },
            tbAlign: "up",
            hasNull: !0,
            hasLineWidth: !1
          })
        }
      }, {
        key: "componentDidMount",
        value: function () {
          this.setInitialState(this.props.value.color)
        }
      }, {
        key: "componentWillReceiveProps",
        value: function (e) {
          this.setInitialState(e.value.color)
        }
      }, {
        key: "setInitialState",
        value: function (e) {
          var t = (0, g.getRGBvalues)(e),
            n = e ? t && "number" == typeof t.a && !isNaN(t.a) ? t.a : 1 : this
            .state.opacity ? this.state.opacity : 1;
          this.setState({
            opacity: n,
            color: t ? {
              r: t.r,
              g: t.g,
              b: t.b
            } : t
          })
        }
      }, {
        key: "renderFontFillIcon",
        value: function () {
          var e = this.props.value.color;
          return l.default.createElement("div", {
            style: {
              width: "24px",
              height: "18px",
              background: "url(" + m.default+") center center no-repeat",
              position: "relative",
              top: -1
            }
          }, e && l.default.createElement("div", {
            style: {
              width: "100%",
              height: 2,
              backgroundColor: e,
              border: "1px solid rgba(0,0,0,.1)",
              position: "relative",
              top: 18
            }
          }))
        }
      }, {
        key: "renderFontStrokeIcon",
        value: function () {
          var e = this.props.value.color;
          return l.default.createElement("div", {
            style: {
              width: "24px",
              height: "18px"
            }
          }, l.default.createElement("span", {
            style: {
              fontSize: 24,
              position: "relative",
              top: -7
            }
          }, "A"), l.default.createElement("div", {
            style: {
              width: "100%",
              height: 2,
              backgroundColor: e || "black",
              border: "1px solid rgba(0,0,0,.1)",
              position: "relative",
              top: -11
            }
          }))
        }
      }, {
        key: "renderStrokeIcon",
        value: function () {
          var e = this.state.color,
            t = e && e.r > 245 && e.g > 245 && e.b > 245 ?
            "rgb(245, 245, 245)" : this.props.value.color;
          return t ? l.default.createElement("div", {
            style: {
              width: "22px",
              height: "22px",
              borderRadius: "50%",
              border: "2px solid " + t
            }
          }) : l.default.createElement("div", {
            style: {
              width: "22px",
              height: "22px",
              borderRadius: "50%",
              opacity: .1,
              border: "2px dashed black"
            }
          })
        }
      }, {
        key: "renderFillIcon",
        value: function () {
          return this.state.color ? l.default.createElement("div", {
            style: {
              width: "24px",
              height: "24px",
              borderRadius: "50%",
              backgroundColor: "" + this.props.value.color,
              border: "1px solid rgba(0,0,0,.1)"
            }
          }) : this.emptyIcon()
        }
      }, {
        key: "emptyIcon",
        value: function () {
          return l.default.createElement("div", {
            style: {
              width: "26px",
              height: "26px",
              borderRadius: "50%",
              background: "url(" + v.default+") center center no-repeat"
            }
          })
        }
      }, {
        key: "defaultClassNames",
        get: function () {
          return (0, u.default)(t.prototype.__proto__ || (0, A.default)(t
            .prototype), "defaultClassNames", this).concat("color-platte")
        }
      }, {
        key: "options",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.toolName,
            r = t.colors,
            A = t.panelOffset,
            a = this.props,
            i = a.value,
            o = a.min,
            s = a.max,
            u = a.step,
            c = a.hasLineWidth,
            d = a.hasNull,
            v = i.lineWidth,
            m = [];
          return r = r || [], (d ? [""].concat(r) : r).forEach((function (t) {
            var r = (0, g.getRGBvalues)(t),
              A = !r && !e.state.color || r && e.state.color && r.r === e
              .state.color.r && r.b === e.state.color.b && r.g === e.state
              .color.g,
              a = t ? {
                backgroundColor: t
              } : {
                background: "url(" + y.default+") center center no-repeat"
              },
              i = l.default.createElement(p.RadioItem, {
                className: "radio-item color",
                name: n,
                value: t,
                style: a,
                checked: A,
                onChange: e.colorChangeHandler
              }, "");
            m.push(i)
          })), l.default.createElement(h.SubsPanel, {
              style: {
                maxWidth: 144
              },
              className: "panel",
              isShow: this.pickedProps.openItem === n,
              offset: A,
              tbAlign: this.pickedProps.tbAlign
            }, l.default.createElement("div", null, c && l.default
              .createElement(f.SliderItem, {
                className: "slider",
                min: o,
                max: s,
                step: u,
                value: v,
                onChange: this.widthChangeHandler
              }, l.default.createElement("div", {
                className: "tips"
              }, l.default.createElement("span", null, (0, w.getMsg)(
                "Thin")), l.default.createElement("span", null, (0, w
                .getMsg)("Thick"))))), l.default.createElement("div", null, l
              .default.createElement(f.SliderItem, {
                className: "slider",
                min: .1,
                max: 1,
                step: .01,
                value: this.state.opacity,
                onChange: this.opacityChangeHandler
              }, l.default.createElement("div", {
                className: "tips"
              }, l.default.createElement("span", null, (0, w.getMsg)(
                "Transparent")), l.default.createElement("span", null, (0,
                w.getMsg)("Opaque"))))), m.length ? m : l.default
            .createElement("span", null, (0, w.getMsg)("noColor")))
        }
      }, {
        key: "children",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.disabled,
            A = t.hint,
            a = t.toolName;
          return l.default.createElement("div", (0, r.default)({
            className: this.className,
            style: this.style
          }, this.hoverProps), l.default.createElement(d.ClickItem, {
              disabled: n,
              hint: A,
              onClick: function () {
                e.props.onToolClick && e.props.onToolClick({
                  toolName: a
                })
              }
            }, ("stroke" === a || "lineProp" === a) && this
            .renderStrokeIcon(), "fill" === a && this.renderFillIcon(),
            "fontStroke" === a && this.renderFontStrokeIcon(),
            "fontFill" === a && this.renderFontFillIcon()), this.options)
        }
      }]), t
    }(c.Item)
  }, function (e, t, n) {
    var r = n(406);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float .radio-item input{\n            position: absolute;\n            border: none;\n            outline: none;\n            padding: none;\n            margin: 0;\n            -webkit-appearance: none;\n               -moz-appearance: none;\n                    appearance: none;\n            cursor: pointer;\n        }\n        .yunxin-whiteboard-float .radio-item input:checked ~ .icon{\n                background-color: #1890ff;\n            }\n        .yunxin-whiteboard-float .radio-item input:checked ~ .text{\n                color: #1890ff;\n            }",
      ""
    ])
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjUwODcxNjMwMDc3IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI2ODciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+QGZvbnQtZmFjZSB7IGZvbnQtZmFtaWx5OiBmZWVkYmFjay1pY29uZm9udDsgc3JjOiB1cmwoIi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTAzMTE1OF91Njl3OHloeGR1LndvZmYyP3Q9MTYzMDAzMzc1OTk0NCIpIGZvcm1hdCgid29mZjIiKSwgdXJsKCIvL2F0LmFsaWNkbi5jb20vdC9mb250XzEwMzExNThfdTY5dzh5aHhkdS53b2ZmP3Q9MTYzMDAzMzc1OTk0NCIpIGZvcm1hdCgid29mZiIpLCB1cmwoIi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTAzMTE1OF91Njl3OHloeGR1LnR0Zj90PTE2MzAwMzM3NTk5NDQiKSBmb3JtYXQoInRydWV0eXBlIik7IH0KPC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUxMiAxMjhjLTIxMy4zMzMzMzMgMC0zODQgMTcwLjY2NjY2Ny0zODQgMzg0czE3MC42NjY2NjcgMzg0IDM4NCAzODQgMzg0LTE3MC42NjY2NjcgMzg0LTM4NC0xNzAuNjY2NjY3LTM4NC0zODQtMzg0eiBtMCA0Mi42NjY2NjdjODUuMzMzMzMzIDAgMTY2LjQgMzQuMTMzMzMzIDIyNi4xMzMzMzMgODUuMzMzMzMzTDI1NiA3MzguMTMzMzMzQzIwNC44IDY3OC40IDE3MC42NjY2NjcgNTk3LjMzMzMzMyAxNzAuNjY2NjY3IDUxMmMwLTE4Ny43MzMzMzMgMTUzLjYtMzQxLjMzMzMzMyAzNDEuMzMzMzMzLTM0MS4zMzMzMzN6IG0wIDY4Mi42NjY2NjZjLTg1LjMzMzMzMyAwLTE2Ni40LTM0LjEzMzMzMy0yMjYuMTMzMzMzLTg1LjMzMzMzM0w3NjggMjg1Ljg2NjY2N2M1MS4yIDU5LjczMzMzMyA4NS4zMzMzMzMgMTQwLjggODUuMzMzMzMzIDIyNi4xMzMzMzMgMCAxODcuNzMzMzMzLTE1My42IDM0MS4zMzMzMzMtMzQxLjMzMzMzMyAzNDEuMzMzMzMzeiIgcC1pZD0iMjY4OCIgZmlsbD0iI2JmYmZiZiI+PC9wYXRoPjwvc3ZnPg=="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY2MDU1NjIxMDAzMSIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iNzA2MSIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPgogICAgPHBhdGgKICAgICAgICBkPSJNMzYzLjk1MSA2MC42NTZhOCA4IDAgMCAwLTExLjMxNCAwbC0zMy45NDEgMzMuOTRhOCA4IDAgMCAwIDAgMTEuMzE0bDk1Ljg3MyA5NS44NzRMNzUuMTU4IDU0MS4xOTVjLTEyLjQ5NyAxMi40OTctMTIuNDk3IDMyLjc1OCAwIDQ1LjI1NWwzNjIuMDM4IDM2Mi4wMzhjMTIuNDk3IDEyLjQ5NyAzMi43NTggMTIuNDk3IDQ1LjI1NSAwTDg0NC40OSA1ODYuNDVjMTIuNDk3LTEyLjQ5NyAxMi40OTctMzIuNzU4IDAtNDUuMjU1TDM2My45NTEgNjAuNjU1eiBtMTU3LjY5IDI0OC4xOTlsMjU0Ljk2NyAyNTQuOTY3LTAuNzA3IDAuNzA3SDE0My43NDdsLTAuNzA3LTAuNzA3IDMxNi43ODQtMzE2Ljc4NCA2MS44MTIgNjEuODEyYTAuMDEyIDAuMDEyIDAgMCAwIDAuMDA1IDAuMDA1ek05MjggODQ2LjY4N2MwLTQ4LjYzNC01Ny41LTExMi42ODgtNjQtMTI2LjY4OC02IDE0LjUtNjQgODAuMDk0LTY0IDEyNi42ODggMCAzNi4wNjQgMjguNjU0IDY1LjMgNjQgNjUuMyAzNS4zNDYgMCA2NC0yOS4yMzYgNjQtNjUuM3oiCiAgICAgICAgZmlsbD0iIzQwNDA0MCIgcC1pZD0iNzA2MiI+PC9wYXRoPgo8L3N2Zz4="
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.ContextMenu = void 0;
    var r = f(n(5)),
      A = f(n(2)),
      a = f(n(0)),
      i = f(n(1)),
      o = f(n(3)),
      s = f(n(26)),
      u = f(n(4)),
      l = f(n(6)),
      c = n(40),
      d = n(61),
      p = n(62),
      h = f(n(410));

    function f(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(411);
    t.ContextMenu = function (e) {
      function t() {
        (0, a.default)(this, t);
        var e = (0, o.default)(this, (t.__proto__ || (0, A.default)(t)).apply(this,
          arguments));
        return e.clickHandler = function (t) {
          var n = e.pickedProps,
            r = n.onClick,
            A = n.toolName,
            a = t.toolName;
          null == r || r({
            type: t.type,
            target: t.target,
            toolName: A,
            optionName: a
          })
        }, e
      }
      return (0, u.default)(t, e), (0, i.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, s.default)(t.prototype.__proto__ || (0, A.default)(t.prototype),
            "propsFilter", this).call(this, ["onClick", "options", "openItem",
            "panelOffset", "tbAlign"
          ], {
            icon: h.default,
            options: [],
            panelOffset: {
              x: 0,
              y: 0
            },
            tbAlign: "up"
          })
        }
      }, {
        key: "defaultClassNames",
        get: function () {
          return (0, s.default)(t.prototype.__proto__ || (0, A.default)(t
            .prototype), "defaultClassNames", this).concat("context-menu")
        }
      }, {
        key: "options",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.options,
            r = t.panelOffset,
            A = [];
          return null == n || n.forEach((function (t) {
            var n = t.text,
              r = t.hotKeyText,
              a = t.optionName,
              i = t.disabled,
              o = l.default.createElement(d.ClickItem, {
                className: "menu-option",
                toolName: a,
                disabled: i,
                onClick: e.clickHandler
              }, l.default.createElement("span", {
                className: "text option-text"
              }, n), r ? l.default.createElement("span", {
                className: "text option-text"
              }, r) : null);
            A.push(o)
          })), l.default.createElement(p.SubsPanel, {
            className: "menu-options-panel",
            isShow: "contextMenu" === this.pickedProps.openItem,
            offset: r,
            tbAlign: this.pickedProps.tbAlign
          }, A.length ? A : l.default.createElement("span", null,
            "Options 未设置"))
        }
      }, {
        key: "children",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.icon,
            A = t.text,
            a = t.disabled,
            i = t.hint;
          return l.default.createElement("div", (0, r.default)({
            className: this.className,
            style: this.style
          }, this.hoverProps), l.default.createElement(d.ClickItem, {
            icon: null != n ? n : h.default,
            text: A,
            disabled: a,
            hint: i,
            onClick: function () {
              e.props.onToolClick && e.props.onToolClick({
                toolName: "contextMenu"
              })
            }
          }), this.options)
        }
      }]), t
    }(c.Item)
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjQ3NTc4ODc5NzE0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjU2ODIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUxMiAzNDMuMDRjODcuNjQ0MTYgMCAxNTguNzIgNzEuMDQ1MTIgMTU4LjcyIDE1OC43MiAwIDg3LjY0NDE2LTcxLjA3NTg0IDE1OC43Mi0xNTguNzIgMTU4LjcyLTg3LjY0NDE2IDAtMTU4LjcyLTcxLjA3NTg0LTE1OC43Mi0xNTguNzIgMC04Ny42NzQ4OCA3MS4wNzU4NC0xNTguNzIgMTU4LjcyLTE1OC43MnogbTQxNy4yOCA4MS45MmM0Ni42NDgzMiAwIDg0LjQ4IDM3LjgxMTIgODQuNDggODQuNDggMCA0Ni42NDgzMi0zNy44MzE2OCA4NC40OC04NC40OCA4NC40OFM4NDQuOCA1NTYuMDg4MzIgODQ0LjggNTA5LjQ0YzAtNDYuNjY4OCAzNy44MzE2OC04NC40OCA4NC40OC04NC40OHpNMTc5LjIgNTExLjE0NDk2YzAgNDYuNjUzNDQtMzcuODMxNjggODQuNDgtODQuNDggODQuNDhTMTAuMjQgNTU3Ljc5ODQgMTAuMjQgNTExLjE0NDk2YzAtNDYuNjYzNjggMzcuODMxNjgtODQuNDggODQuNDgtODQuNDhTMTc5LjIgNDY0LjQ4NjQgMTc5LjIgNTExLjE0NDk2eiIgcC1pZD0iNTY4MyI+PC9wYXRoPjwvc3ZnPg=="
  }, function (e, t, n) {
    var r = n(412);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float .context-menu .menu-options-panel{\n            position: fixed;\n            display: inline-flex;\n            flex-direction: column;\n            padding: 12px 16px;\n            background-color: white;\n            box-shadow: rgba(5, 0, 50, 0.14) 0px 4px 16px 0;\n            left: 0;\n            top: 0;\n            cursor: auto;\n        }\n            .yunxin-whiteboard-float .context-menu .menu-options-panel .menu-option{\n                justify-content: space-between;\n                width: 100%;\n                padding: 0;\n                grid-column-gap: 56px;\n                -moz-column-gap: 56px;\n                     column-gap: 56px;\n                margin: 6px 0;\n            }\n            .yunxin-whiteboard-float .context-menu .menu-options-panel .menu-option .option-text{\n                    font-size: 16px;\n                    white-space: nowrap;\n                }",
      ""
    ])
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.TextAlign = void 0;
    var r = f(n(5)),
      A = f(n(2)),
      a = f(n(0)),
      i = f(n(1)),
      o = f(n(3)),
      s = f(n(26)),
      u = f(n(4)),
      l = f(n(6)),
      c = n(40),
      d = n(61),
      p = n(62);
    n(414);
    var h = n(99);

    function f(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.TextAlign = function (e) {
      function t() {
        return (0, a.default)(this, t), (0, o.default)(this, (t.__proto__ || (0, A
          .default)(t)).apply(this, arguments))
      }
      return (0, u.default)(t, e), (0, i.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, s.default)(t.prototype.__proto__ || (0, A.default)(t.prototype),
            "propsFilter", this).call(this, ["onChange", "onShow",
            "panelOffset", "openItem", "tbAlign", "hasVAlign"
          ], {
            panelOffset: {
              x: 0,
              y: 0
            },
            tbAlign: "up",
            hasVAlign: !0
          })
        }
      }, {
        key: "renderAlign",
        value: function () {
          var e = this.props.value.textAlign;
          return l.default.createElement("div", {
            style: {
              width: "26px",
              height: "26px"
            },
            className: "align-" + e
          })
        }
      }, {
        key: "options",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.panelOffset,
            A = t.toolName,
            a = t.onChange,
            i = this.props.hasVAlign,
            o = [];
          return (i ? ["left", "center", "right", "top", "middle", "bottom"] : [
            "left", "center", "right"
          ]).forEach((function (t) {
            var n = e.props.value.textAlign === t || e.props.value
              .verticalAlign === t,
              i = l.default.createElement(h.RadioItem, {
                className: "radio-item align-" + t + " " + (n ?
                  "selected" : ""),
                name: "textAlignment",
                value: t,
                checked: !1,
                onChange: function (t) {
                  var n = t.value,
                    i = ["left", "center", "right"].indexOf(n) > -1 ?
                    {
                      textAlign: n
                    } : {
                      verticalAlign: n
                    };
                  null == a || a({
                    type: t.type,
                    target: t.target,
                    toolName: A,
                    value: (0, r.default)((0, r.default)({}, e
                      .props.value), i)
                  }), e.forceUpdate()
                }
              }, "");
            o.push(i)
          })), l.default.createElement(p.SubsPanel, {
            style: {
              maxWidth: 144
            },
            className: "panel",
            isShow: this.pickedProps.openItem === A,
            offset: n,
            tbAlign: this.pickedProps.tbAlign
          }, o)
        }
      }, {
        key: "children",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.disabled,
            A = t.hint,
            a = t.toolName;
          return l.default.createElement("div", (0, r.default)({
            className: this.className,
            style: this.style
          }, this.hoverProps), l.default.createElement(d.ClickItem, {
            disabled: n,
            hint: A,
            onClick: function () {
              e.props.onToolClick && e.props.onToolClick({
                toolName: a
              })
            }
          }, this.renderAlign()), this.options)
        }
      }]), t
    }(c.Item)
  }, function (e, t, n) {
    var r = n(415);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    t = e.exports = n(12)(!1);
    var r = n(64),
      A = r(n(416)),
      a = r(n(417)),
      i = r(n(418)),
      o = r(n(419)),
      s = r(n(420)),
      u = r(n(421));
    t.push([e.i,
      ".yunxin-whiteboard-float .align-left, .yunxin-whiteboard-float .align-right, .yunxin-whiteboard-float .align-center, .yunxin-whiteboard-float .align-top, .yunxin-whiteboard-float .align-bottom, .yunxin-whiteboard-float .align-middle {\n        width: 20px;\n        height: 20px;\n    }\n    .yunxin-whiteboard-float .align-left {\n        background: url(" +
      A +
      ") center center no-repeat;\n    }\n    .yunxin-whiteboard-float .align-right {\n        background: url(" +
      a +
      ") center center no-repeat;\n    }\n    .yunxin-whiteboard-float .align-center {\n        background: url(" +
      i +
      ") center center no-repeat;\n    }\n    .yunxin-whiteboard-float .align-top {\n        background: url(" +
      o +
      ") center center no-repeat;\n    }\n    .yunxin-whiteboard-float .align-middle {\n        background: url(" +
      s +
      ") center center no-repeat;\n    }\n    .yunxin-whiteboard-float .align-bottom {\n        background: url(" +
      u + ") center center no-repeat;\n    }", ""
    ])
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1MDc4NDMyNTIxMSIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMjAxNiIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPgogICAgPHBhdGgKICAgICAgICBmaWxsPSIjMzMzIgogICAgICAgIGQ9Ik0xMjAgMjMwaDQ5NmM0LjQgMCA4LTMuNiA4LTh2LTU2YzAtNC40LTMuNi04LTgtOEgxMjBjLTQuNCAwLTggMy42LTggOHY1NmMwIDQuNCAzLjYgOCA4IDh6TTEyMCA2NTRoNDk2YzQuNCAwIDgtMy42IDgtOHYtNTZjMC00LjQtMy42LTgtOC04SDEyMGMtNC40IDAtOCAzLjYtOCA4djU2YzAgNC40IDMuNiA4IDggOHpNOTA0IDc5NEgxMjBjLTQuNCAwLTggMy42LTggOHY1NmMwIDQuNCAzLjYgOCA4IDhoNzg0YzQuNCAwIDgtMy42IDgtOHYtNTZjMC00LjQtMy42LTgtOC04ek05MDQgMzcwSDEyMGMtNC40IDAtOCAzLjYtOCA4djU2YzAgNC40IDMuNiA4IDggOGg3ODRjNC40IDAgOC0zLjYgOC04di01NmMwLTQuNC0zLjYtOC04LTh6IgogICAgICAgIHAtaWQ9IjIwMTciPjwvcGF0aD4KPC9zdmc+"
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1MDc4NDM0NjM1MiIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMjE2NiIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPgogICAgPHBhdGgKICAgICAgICBmaWxsPSIjMzMzIgogICAgICAgIGQ9Ik05MDQgMTU4SDQwOGMtNC40IDAtOCAzLjYtOCA4djU2YzAgNC40IDMuNiA4IDggOGg0OTZjNC40IDAgOC0zLjYgOC04di01NmMwLTQuNC0zLjYtOC04LTh6TTkwNCA1ODJINDA4Yy00LjQgMC04IDMuNi04IDh2NTZjMCA0LjQgMy42IDggOCA4aDQ5NmM0LjQgMCA4LTMuNiA4LTh2LTU2YzAtNC40LTMuNi04LTgtOHpNOTA0IDc5NEgxMjBjLTQuNCAwLTggMy42LTggOHY1NmMwIDQuNCAzLjYgOCA4IDhoNzg0YzQuNCAwIDgtMy42IDgtOHYtNTZjMC00LjQtMy42LTgtOC04ek05MDQgMzcwSDEyMGMtNC40IDAtOCAzLjYtOCA4djU2YzAgNC40IDMuNiA4IDggOGg3ODRjNC40IDAgOC0zLjYgOC04di01NmMwLTQuNC0zLjYtOC04LTh6IgogICAgICAgIHAtaWQ9IjIxNjciPjwvcGF0aD4KPC9zdmc+"
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1MDc4NDM1MjQzOCIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMjMxNiIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPgogICAgPHBhdGgKICAgICAgICBmaWxsPSIjMzMzIgogICAgICAgIGQ9Ik0yNjQgMjMwaDQ5NmM0LjQgMCA4LTMuNiA4LTh2LTU2YzAtNC40LTMuNi04LTgtOEgyNjRjLTQuNCAwLTggMy42LTggOHY1NmMwIDQuNCAzLjYgOCA4IDh6TTc2MCA2NTRjNC40IDAgOC0zLjYgOC04di01NmMwLTQuNC0zLjYtOC04LThIMjY0Yy00LjQgMC04IDMuNi04IDh2NTZjMCA0LjQgMy42IDggOCA4aDQ5NnpNOTA0IDc5NEgxMjBjLTQuNCAwLTggMy42LTggOHY1NmMwIDQuNCAzLjYgOCA4IDhoNzg0YzQuNCAwIDgtMy42IDgtOHYtNTZjMC00LjQtMy42LTgtOC04ek05MDQgMzcwSDEyMGMtNC40IDAtOCAzLjYtOCA4djU2YzAgNC40IDMuNiA4IDggOGg3ODRjNC40IDAgOC0zLjYgOC04di01NmMwLTQuNC0zLjYtOC04LTh6IgogICAgICAgIHAtaWQ9IjIzMTciPjwvcGF0aD4KPC9zdmc+"
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjUwNzg4MzA4NjE4IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI0NjYiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+QGZvbnQtZmFjZSB7IGZvbnQtZmFtaWx5OiBmZWVkYmFjay1pY29uZm9udDsgc3JjOiB1cmwoIi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTAzMTE1OF91Njl3OHloeGR1LndvZmYyP3Q9MTYzMDAzMzc1OTk0NCIpIGZvcm1hdCgid29mZjIiKSwgdXJsKCIvL2F0LmFsaWNkbi5jb20vdC9mb250XzEwMzExNThfdTY5dzh5aHhkdS53b2ZmP3Q9MTYzMDAzMzc1OTk0NCIpIGZvcm1hdCgid29mZiIpLCB1cmwoIi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTAzMTE1OF91Njl3OHloeGR1LnR0Zj90PTE2MzAwMzM3NTk5NDQiKSBmb3JtYXQoInRydWV0eXBlIik7IH0KPC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTg1OS45IDE2OEgxNjQuMWMtNC41IDAtOC4xIDMuNi04LjEgOHY2MGMwIDQuNCAzLjYgOCA4LjEgOGg2OTUuOGM0LjUgMCA4LjEtMy42IDguMS04di02MGMwLTQuNC0zLjYtOC04LjEtOHpNNTE4LjMgMzU1Yy0zLjItNC4xLTkuNC00LjEtMTIuNiAwbC0xMTIgMTQxLjdjLTQuMSA1LjItMC40IDEyLjkgNi4zIDEyLjloNzMuOVY4NDhjMCA0LjQgMy42IDggOCA4aDYwYzQuNCAwIDgtMy42IDgtOFY1MDkuN0g2MjRjNi43IDAgMTAuNC03LjcgNi4zLTEyLjlMNTE4LjMgMzU1eiIgcC1pZD0iMjQ2NyI+PC9wYXRoPjwvc3ZnPg=="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjUwNzg4MzIyMTMxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI2MTYiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+QGZvbnQtZmFjZSB7IGZvbnQtZmFtaWx5OiBmZWVkYmFjay1pY29uZm9udDsgc3JjOiB1cmwoIi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTAzMTE1OF91Njl3OHloeGR1LndvZmYyP3Q9MTYzMDAzMzc1OTk0NCIpIGZvcm1hdCgid29mZjIiKSwgdXJsKCIvL2F0LmFsaWNkbi5jb20vdC9mb250XzEwMzExNThfdTY5dzh5aHhkdS53b2ZmP3Q9MTYzMDAzMzc1OTk0NCIpIGZvcm1hdCgid29mZiIpLCB1cmwoIi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTAzMTE1OF91Njl3OHloeGR1LnR0Zj90PTE2MzAwMzM3NTk5NDQiKSBmb3JtYXQoInRydWV0eXBlIik7IH0KPC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTg1OS45IDQ3NEgxNjQuMWMtNC41IDAtOC4xIDMuNi04LjEgOHY2MGMwIDQuNCAzLjYgOCA4LjEgOGg2OTUuOGM0LjUgMCA4LjEtMy42IDguMS04di02MGMwLTQuNC0zLjYtOC04LjEtOHpNNTA2LjMgMzk5LjNjMi45IDMuNyA4LjUgMy43IDExLjMgMGwxMDAuOC0xMjcuNWMzLjctNC43IDAuNC0xMS43LTUuNy0xMS43SDU1MFYxMDRjMC00LjQtMy42LTgtOC04aC02MGMtNC40IDAtOCAzLjYtOCA4djE1NmgtNjIuOGMtNiAwLTkuNCA3LTUuNyAxMS43bDEwMC44IDEyNy42ek01MTcuNyA2MjQuN2MtMi45LTMuNy04LjUtMy43LTExLjMgMEw0MDUuNiA3NTIuM2MtMy43IDQuNy0wLjQgMTEuNyA1LjcgMTEuN0g0NzR2MTU2YzAgNC40IDMuNiA4IDggOGg2MGM0LjQgMCA4LTMuNiA4LThWNzY0aDYyLjhjNiAwIDkuNC03IDUuNy0xMS43TDUxNy43IDYyNC43eiIgcC1pZD0iMjYxNyI+PC9wYXRoPjwvc3ZnPg=="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjUwNzg4MzI4MDIxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI3NjYiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+QGZvbnQtZmFjZSB7IGZvbnQtZmFtaWx5OiBmZWVkYmFjay1pY29uZm9udDsgc3JjOiB1cmwoIi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTAzMTE1OF91Njl3OHloeGR1LndvZmYyP3Q9MTYzMDAzMzc1OTk0NCIpIGZvcm1hdCgid29mZjIiKSwgdXJsKCIvL2F0LmFsaWNkbi5jb20vdC9mb250XzEwMzExNThfdTY5dzh5aHhkdS53b2ZmP3Q9MTYzMDAzMzc1OTk0NCIpIGZvcm1hdCgid29mZiIpLCB1cmwoIi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTAzMTE1OF91Njl3OHloeGR1LnR0Zj90PTE2MzAwMzM3NTk5NDQiKSBmb3JtYXQoInRydWV0eXBlIik7IH0KPC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTg1OS45IDc4MEgxNjQuMWMtNC41IDAtOC4xIDMuNi04LjEgOHY2MGMwIDQuNCAzLjYgOCA4LjEgOGg2OTUuOGM0LjUgMCA4LjEtMy42IDguMS04di02MGMwLTQuNC0zLjYtOC04LjEtOHpNNTA1LjcgNjY5YzMuMiA0LjEgOS40IDQuMSAxMi42IDBsMTEyLTE0MS43YzQuMS01LjIgMC40LTEyLjktNi4zLTEyLjloLTc0LjFWMTc2YzAtNC40LTMuNi04LTgtOGgtNjBjLTQuNCAwLTggMy42LTggOHYzMzguM0g0MDBjLTYuNyAwLTEwLjQgNy43LTYuMyAxMi45bDExMiAxNDEuOHoiIHAtaWQ9IjI3NjciPjwvcGF0aD48L3N2Zz4="
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.LinkType = void 0;
    var r = f(n(5)),
      A = f(n(2)),
      a = f(n(0)),
      i = f(n(1)),
      o = f(n(3)),
      s = f(n(26)),
      u = f(n(4)),
      l = f(n(6)),
      c = n(40),
      d = n(61),
      p = n(62);
    n(423);
    var h = n(99);

    function f(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.LinkType = function (e) {
      function t() {
        return (0, a.default)(this, t), (0, o.default)(this, (t.__proto__ || (0, A
          .default)(t)).apply(this, arguments))
      }
      return (0, u.default)(t, e), (0, i.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, s.default)(t.prototype.__proto__ || (0, A.default)(t.prototype),
            "propsFilter", this).call(this, ["onChange", "onShow",
            "panelOffset", "openItem", "value"
          ], {
            panelOffset: {
              x: 0,
              y: 0
            },
            value: 2
          })
        }
      }, {
        key: "renderAlign",
        value: function () {
          var e = this.props.value;
          return l.default.createElement("div", {
            style: {
              width: "26px",
              height: "26px"
            },
            className: "linkType-" + e
          })
        }
      }, {
        key: "options",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.panelOffset,
            r = t.toolName,
            A = t.onChange,
            a = [];
          return [0, 1, 2].forEach((function (t) {
            var n = e.props.value === t,
              i = l.default.createElement(h.RadioItem, {
                className: "radio-item linkType-" + t + " " + (n ?
                  "selected" : ""),
                name: "textAlignment",
                value: t,
                checked: !1,
                onChange: function (t) {
                  var n = t.value;
                  null == A || A({
                    type: t.type,
                    target: t.target,
                    toolName: r,
                    value: n
                  }), e.forceUpdate()
                }
              }, "");
            a.push(i)
          })), l.default.createElement(p.SubsPanel, {
            style: {
              maxWidth: 144
            },
            className: "panel",
            isShow: this.pickedProps.openItem === r,
            offset: n
          }, a)
        }
      }, {
        key: "children",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.disabled,
            A = t.hint,
            a = t.toolName;
          return l.default.createElement("div", (0, r.default)({
            className: this.className,
            style: this.style
          }, this.hoverProps), l.default.createElement(d.ClickItem, {
            disabled: n,
            hint: A,
            onClick: function () {
              e.props.onToolClick && e.props.onToolClick({
                toolName: a
              })
            }
          }, this.renderAlign()), this.options)
        }
      }]), t
    }(c.Item)
  }, function (e, t, n) {
    var r = n(424);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    t = e.exports = n(12)(!1);
    var r = n(64),
      A = r(n(425)),
      a = r(n(426)),
      i = r(n(427));
    t.push([e.i,
      ".yunxin-whiteboard-float .linkType-0, .yunxin-whiteboard-float .linkType-1, .yunxin-whiteboard-float .linkType-2 {\n        width: 20px;\n        height: 20px;\n    }\n    .yunxin-whiteboard-float .linkType-0 {\n        background: url(" +
      A +
      ") center center no-repeat;\n    }\n    .yunxin-whiteboard-float .linkType-1 {\n        background: url(" +
      a +
      ") center center no-repeat;\n    }\n    .yunxin-whiteboard-float .linkType-2 {\n        background: url(" +
      i + ") center center no-repeat;\n    }", ""
    ])
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1NDUwMTQ1OTczMyIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iODIwNiIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPgogICAgPHBhdGgKICAgICAgICBkPSJNODUgOTU1bDcwIDcwbDg1My04NTNsLTcwIC03MEw4NSA5NTV6IgogICAgICAgIHAtaWQ9IjgyMDciPjwvcGF0aD4KPC9zdmc+"
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1NDUwMTM3MjIwOSIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iODQyMyIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPgogICAgPHBhdGgKICAgICAgICBzdHJva2U9InJnYmEoMCwwLDAsLjgpIiBzdHJva2Utd2lkdGg9IjExMCIKICAgICAgICBkPSJNNjQgODgwYzgwMCAwIDAgLTgwMCA4MDAtODAwIiAgZmlsbD0ibm9uZSI+PC9wYXRoPgo8L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1NDUwMTQ5NDI4MiIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iOTA2MyIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPgogICAgPHBhdGgKICAgICAgICBkPSJNNDAwIDgzMHYtNzAwaDUwMHY5MGgtNDEwdjcwMGgtNTAwdi05MHoiCiAgICAgICAgcC1pZD0iOTA2NCI+PC9wYXRoPgo8L3N2Zz4="
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.LinkArrow = void 0;
    var r = f(n(5)),
      A = f(n(2)),
      a = f(n(0)),
      i = f(n(1)),
      o = f(n(3)),
      s = f(n(26)),
      u = f(n(4)),
      l = f(n(6)),
      c = n(40),
      d = n(61),
      p = n(62);
    n(429);
    var h = n(99);

    function f(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.LinkArrow = function (e) {
      function t() {
        return (0, a.default)(this, t), (0, o.default)(this, (t.__proto__ || (0, A
          .default)(t)).apply(this, arguments))
      }
      return (0, u.default)(t, e), (0, i.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, s.default)(t.prototype.__proto__ || (0, A.default)(t.prototype),
            "propsFilter", this).call(this, ["onChange", "onShow",
            "panelOffset", "openItem", "value"
          ], {
            panelOffset: {
              x: 0,
              y: 0
            }
          })
        }
      }, {
        key: "renderAlign",
        value: function () {
          var e;
          return l.default.createElement("div", {
            style: {
              width: "26px",
              height: "26px"
            },
            className: "linkArrow-" + (null === (e = this.props.value) ||
              void 0 === e ? void 0 : e.toString())
          })
        }
      }, {
        key: "options",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.panelOffset,
            r = t.toolName,
            A = t.onChange,
            a = [],
            i = this.props.value;
          return [0, 1, 2, 3].forEach((function (t) {
            var n = i === t,
              o = l.default.createElement(h.RadioItem, {
                className: "linkArrow-" + t + " radio-item " + (n ?
                  "selected" : ""),
                name: "textAlignment",
                value: t,
                checked: !1,
                onChange: function (t) {
                  var n = t.value;
                  null == A || A({
                    type: t.type,
                    target: t.target,
                    toolName: r,
                    value: n
                  }), e.forceUpdate()
                }
              }, "");
            a.push(o)
          })), l.default.createElement(p.SubsPanel, {
            className: "panel linkArrow",
            isShow: this.pickedProps.openItem === r,
            offset: n
          }, a)
        }
      }, {
        key: "children",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.disabled,
            A = t.hint,
            a = t.toolName;
          return l.default.createElement("div", (0, r.default)({
            className: this.className,
            style: this.style
          }, this.hoverProps), l.default.createElement(d.ClickItem, {
            disabled: n,
            hint: A,
            onClick: function () {
              e.props.onToolClick && e.props.onToolClick({
                toolName: a
              })
            }
          }, this.renderAlign()), this.options)
        }
      }]), t
    }(c.Item)
  }, function (e, t, n) {
    var r = n(430);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    t = e.exports = n(12)(!1);
    var r = n(64),
      A = r(n(431)),
      a = r(n(432)),
      i = r(n(257)),
      o = r(n(433));
    t.push([e.i,
      ".yunxin-whiteboard-float .linkArrow.panel .radio-item {\n        width: 20px;\n        height: 20px;\n    }\n\n    .yunxin-whiteboard-float .linkArrow-0 {\n        background: url(" +
      A +
      ") center center no-repeat;\n    }\n\n    .yunxin-whiteboard-float .linkArrow-1 {\n        background: url(" +
      a +
      ") center center no-repeat;\n    }\n\n    .yunxin-whiteboard-float .linkArrow-2 {\n        background: url(" +
      i +
      ") center center no-repeat;\n    }\n\n    .yunxin-whiteboard-float .linkArrow-3 {\n        background: url(" +
      o + ") center center no-repeat;\n    }", ""
    ])
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1NTAwMjIxNTc4MSIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iODQ4NiIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPgogICAgPHBhdGggZD0iTTExMDAgNDc2aC05MDB2MTEwaDkwMHoiIHAtaWQ9Ijg0ODciPgogICAgPC9wYXRoPgo8L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1NTAwMjU5MDkxNCIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTIyNDAiCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij4KICAgIDxwYXRoCiAgICAgICAgZD0iTTEwMjQgNDU3djExMGgtNzUwdjExMGwtMjIwLTE2NWwyMjAtMTY1djExMHoiCiAgICAgICAgZmlsbD0iIiBwLWlkPSIxMjI0MSI+PC9wYXRoPgo8L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1NTAwMjU5MDkxNCIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTIyNDAiCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij4KICAgIDxwYXRoCiAgICAgICAgZD0iTTAgNDkybDE1MC0xNjV2MTEwaDc1MHYtMTEwbDE1MCAxNjVsLTE1MCAxNjV2LTExMGgtNzUwdjExMHoiCiAgICAgICAgZmlsbD0iIiBwLWlkPSIxMjI0MSI+PC9wYXRoPgo8L3N2Zz4="
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.TypeChange = void 0;
    var r = f(n(5)),
      A = f(n(2)),
      a = f(n(0)),
      i = f(n(1)),
      o = f(n(3)),
      s = f(n(26)),
      u = f(n(4)),
      l = f(n(6)),
      c = n(40),
      d = n(61),
      p = n(62),
      h = n(99);

    function f(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.TypeChange = function (e) {
      function t() {
        return (0, a.default)(this, t), (0, o.default)(this, (t.__proto__ || (0, A
          .default)(t)).apply(this, arguments))
      }
      return (0, u.default)(t, e), (0, i.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, s.default)(t.prototype.__proto__ || (0, A.default)(t.prototype),
            "propsFilter", this).call(this, ["onChange", "onShow",
            "panelOffset", "openItem", "value", "shapeIcons"
          ], {
            panelOffset: {
              x: 0,
              y: 0
            },
            shapeIcons: {}
          })
        }
      }, {
        key: "renderIcon",
        value: function (e) {
          var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[
            1] : 26,
            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] :
            26,
            r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] :
            2;
          return l.default.createElement("div", {
            style: {
              width: t,
              height: n,
              background: "url(" + e + ")",
              backgroundSize: "cover",
              transform: "scale(" + r + ")"
            }
          })
        }
      }, {
        key: "options",
        get: function () {
          var e = this.pickedProps,
            t = e.toolName,
            n = e.panelOffset,
            r = e.onChange,
            A = this.props.shapeIcons,
            a = [],
            i = this.props.value;
          for (var o in A) {
            var s = i === o,
              u = l.default.createElement(h.RadioItem, {
                className: "radio-item " + (s ? "selected" : ""),
                value: o,
                checked: !1,
                onChange: function (e) {
                  var n = e.value;
                  null == r || r({
                    type: e.type,
                    target: e.target,
                    toolName: t,
                    value: n
                  })
                }
              }, this.renderIcon(A[o].icon, 20, 20, 2));
            a.push(u)
          }
          return l.default.createElement(p.SubsPanel, {
            style: {
              maxWidth: 132,
              padding: 4
            },
            className: "panel",
            isShow: this.pickedProps.openItem === t,
            offset: n
          }, a)
        }
      }, {
        key: "children",
        get: function () {
          var e = this,
            t = this.pickedProps,
            n = t.disabled,
            A = t.hint,
            a = t.toolName,
            i = this.props,
            o = i.value,
            s = i.shapeIcons;
          return l.default.createElement("div", (0, r.default)({
            className: this.className,
            style: this.style
          }, this.hoverProps), l.default.createElement(d.ClickItem, {
            disabled: n,
            hint: A,
            onClick: function () {
              e.props.onToolClick && e.props.onToolClick({
                toolName: a
              })
            }
          }, this.renderIcon(s[o].icon, 24, 24, 2.1)), this.options)
        }
      }]), t
    }(c.Item)
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.Select = void 0;
    var r = p(n(5)),
      A = p(n(2)),
      a = p(n(0)),
      i = p(n(1)),
      o = p(n(3)),
      s = p(n(26)),
      u = p(n(4)),
      l = p(n(6)),
      c = n(40),
      d = n(62);

    function p(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(436);
    t.Select = function (e) {
      function t() {
        return (0, a.default)(this, t), (0, o.default)(this, (t.__proto__ || (0, A
          .default)(t)).apply(this, arguments))
      }
      return (0, u.default)(t, e), (0, i.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, s.default)(t.prototype.__proto__ || (0, A.default)(t.prototype),
            "propsFilter", this).call(this, ["onChange"])
        }
      }, {
        key: "inputStyle",
        get: function () {
          return {
            position: "absolute",
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            appearance: "none",
            pointerEvents: "all"
          }
        }
      }, {
        key: "options",
        get: function () {
          var e = this,
            t = this.props,
            n = t.options,
            r = t.toolName,
            A = t.panelOffset;
          return l.default.createElement(d.SubsPanel, {
            className: "panel",
            offset: A,
            isShow: this.props.openItem === r,
            style: {
              padding: "0 0 4px 0"
            }
          }, l.default.createElement("div", {
            className: "select"
          }, n.map((function (t) {
            var n = "fontFamily" === r ? {
              fontFamily: t.value
            } : {};
            return l.default.createElement("div", {
              onClick: function () {
                var n, A;
                null === (A = (n = e.props).onChange) ||
                  void 0 === A || A.call(n, {
                    toolName: r,
                    value: t.value
                  })
              },
              className: "option",
              style: n
            }, t.label)
          }))))
        }
      }, {
        key: "children",
        get: function () {
          var e, t = this,
            n = this.props,
            A = n.value,
            a = n.toolName,
            i = (null === (e = n.options.find((function (e) {
              return e.value === A
            }))) || void 0 === e ? void 0 : e.label) || " ",
            o = "fontFamily" === a ? {
              fontFamily: A
            } : {};
          return l.default.createElement("div", (0, r.default)({
            className: this.className,
            style: this.style
          }, this.hoverProps), l.default.createElement("div", {
            onClick: function () {
              t.props.onToolClick && t.props.onToolClick({
                toolName: a
              })
            },
            style: (0, r.default)({
              width: "100px",
              overflow: "hidden",
              whiteSpace: "nowrap",
              textOverflow: "ellipsis",
              minHeight: "18px",
              lineHeight: "18px",
              textAlign: "center"
            }, o)
          }, i), this.options)
        }
      }]), t
    }(c.Item)
  }, function (e, t, n) {
    var r = n(437);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float .panel .select {\n        max-height: 350px;\n        overflow: auto;\n        \n        /* Works on Chrome/Edge/Safari */\n    }\n        .yunxin-whiteboard-float .panel .select .option {\n            margin: 12px;\n            width: 140px;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            overflow-x: hidden;\n            cursor: pointer;\n        }\n        .yunxin-whiteboard-float .panel .select {\n\n        scrollbar-width: thin;\n        scrollbar-color: black white;\n}\n    .yunxin-whiteboard-float .panel .select::-webkit-scrollbar {\n            width: 12px;\n        }\n    .yunxin-whiteboard-float .panel .select::-webkit-scrollbar-track {\n            background: white;\n        }\n    .yunxin-whiteboard-float .panel .select::-webkit-scrollbar-thumb {\n            background-color: #d9d9de;\n            border-radius: 20px;\n            border: 3px solid white;\n        }",
      ""
    ])
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.SelectFilter = void 0;
    var r = I(n(5)),
      A = I(n(2)),
      a = I(n(0)),
      i = I(n(1)),
      o = I(n(3)),
      s = I(n(26)),
      u = I(n(4)),
      l = I(n(6)),
      c = n(40),
      d = n(62),
      p = I(n(439)),
      h = I(n(256)),
      f = I(n(257)),
      g = I(n(149)),
      y = I(n(258)),
      v = I(n(259)),
      m = I(n(440)),
      w = I(n(150));
    n(441);
    var B = n(14);

    function I(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.SelectFilter = function (e) {
      function t() {
        return (0, a.default)(this, t), (0, o.default)(this, (t.__proto__ || (0, A
          .default)(t)).apply(this, arguments))
      }
      return (0, u.default)(t, e), (0, i.default)(t, [{
        key: "propsFilter",
        value: function () {
          (0, s.default)(t.prototype.__proto__ || (0, A.default)(t.prototype),
            "propsFilter", this).call(this, ["onChange"])
        }
      }, {
        key: "inputStyle",
        get: function () {
          return {
            position: "absolute",
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            appearance: "none",
            pointerEvents: "all"
          }
        }
      }, {
        key: "options",
        get: function () {
          var e = this,
            t = this.props,
            n = t.options,
            r = t.toolName,
            A = t.panelOffset,
            a = {
              audio: v.default,
              video: m.default,
              pen: h.default,
              text: g.default,
              image: y.default,
              shape: w.default,
              link: f.default
            },
            i = {
              audio: (0, B.getMsg)("Audio"),
              video: (0, B.getMsg)("Video"),
              pen: (0, B.getMsg)("penAndLine"),
              text: (0, B.getMsg)("Text"),
              image: (0, B.getMsg)("Image"),
              shape: (0, B.getMsg)("Shapes"),
              link: (0, B.getMsg)("Link")
            };
          return l.default.createElement(d.SubsPanel, {
            className: "panel",
            offset: A,
            isShow: this.props.openItem === r,
            style: {
              padding: "0 0 4px 0"
            }
          }, l.default.createElement("div", {
            className: "select"
          }, n.map((function (t) {
            return l.default.createElement("div", {
              onClick: function () {
                var n, A;
                null === (A = (n = e.props).onChange) ||
                  void 0 === A || A.call(n, {
                    toolName: r,
                    value: t.type
                  })
              },
              className: "option"
            }, l.default.createElement("div", {
              className: "symbol",
              style: {
                backgroundImage: "url(" + a[t.type] + ")"
              }
            }), l.default.createElement("div", {
              className: "type"
            }, i[t.type]), l.default.createElement("div", {
              className: "count"
            }, t.count))
          }))))
        }
      }, {
        key: "children",
        get: function () {
          var e = this,
            t = this.props.toolName;
          return l.default.createElement("div", (0, r.default)({
            className: this.className + " select-filter",
            style: this.style
          }, this.hoverProps), l.default.createElement("div", {
            onClick: function () {
              e.props.onToolClick && e.props.onToolClick({
                toolName: t
              })
            },
            className: "select-filter-div"
          }, l.default.createElement("div", {
            style: {
              display: "inline-block"
            }
          }, (0, B.getMsg)("Filter")), l.default.createElement("div", {
            className: "symbol",
            style: {
              backgroundImage: "url(" + p.default+")",
              marginLeft: "8px"
            }
          })), this.options)
        }
      }]), t
    }(c.Item)
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPgogICAgPHBhdGggZD0iTTIwMCAzMDBsMzEyIDQwMGwzMTIgLTQwMGgtNTBsLTI2MiAzNTBsLTI2MiAtMzUweiI+PC9wYXRoPgo8L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyBmaWxsPScjNTU1NTU1JyB0PSIxNjIwMjY4NDg1MTU0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iLTMwMCAtMzAwIDE2MjQgMTYyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIwMzciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMTI4IDIxMy4zMzMzMzNsNDY5LjMzMzMzMyAwcTUyLjk5MiAwIDkwLjQ5NiAzNy41MDR0MzcuNTA0IDkwLjQ5NmwwIDc3LjY1MzMzMyAyOTguNjY2NjY3LTE2Mi45ODY2NjcgMCA1MTItMjk4LjY2NjY2Ny0xNjIuOTg2NjY3IDAgNzcuNjUzMzMzcTAgNTIuOTkyLTM3LjUwNCA5MC40OTZ0LTkwLjQ5NiAzNy41MDRsLTQ2OS4zMzMzMzMgMHEtNTIuOTkyIDAtOTAuNDk2LTM3LjUwNHQtMzcuNTA0LTkwLjQ5NmwwLTM0MS4zMzMzMzNxMC01Mi45OTIgMzcuNTA0LTkwLjQ5NnQ5MC40OTYtMzcuNTA0ek01OTcuMzMzMzMzIDI5OC42NjY2NjdsLTQ2OS4zMzMzMzMgMHEtMTcuNjY0IDAtMzAuMTY1MzMzIDEyLjUwMTMzM3QtMTIuNTAxMzMzIDMwLjE2NTMzM2wwIDM0MS4zMzMzMzNxMCAxNy42NjQgMTIuNTAxMzMzIDMwLjE2NTMzM3QzMC4xNjUzMzMgMTIuNTAxMzMzbDQ2OS4zMzMzMzMgMHExNy42NjQgMCAzMC4xNjUzMzMtMTIuNTAxMzMzdDEyLjUwMTMzMy0zMC4xNjUzMzNsMC0zNDEuMzMzMzMzcTAtMTcuNjY0LTEyLjUwMTMzMy0zMC4xNjUzMzN0LTMwLjE2NTMzMy0xMi41MDEzMzN6TTkzOC42NjY2NjcgNjI0LjM0MTMzM2wwLTIyNC42ODI2NjctMjA1LjY1MzMzMyAxMTIuMzQxMzMzeiIgcC1pZD0iMjAzOCI+PC9wYXRoPjwvc3ZnPg=="
  }, function (e, t, n) {
    var r = n(442);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float .select-filter .select-filter-div {\n            width: 70px;\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            text-align: center;\n        }\n        .yunxin-whiteboard-float .select-filter .option {\n            display: flex;\n            overflow: hidden;\n        }\n        .yunxin-whiteboard-float .select-filter .option .type {\n                display: inline-block;\n                flex: 1;\n                text-align: center;\n                line-height: 28px;\n            }\n        .yunxin-whiteboard-float .select-filter .option .count {\n                display: inline-block;\n                opacity: 0.3;\n                font-size: 14px;\n                line-height: 28px;\n            }\n        .yunxin-whiteboard-float .select-filter .symbol {\n            display: inline-block;\n            width: 22px;\n            height: 28px;\n            line-height: 28px;\n            vertical-align: middle;\n            background-repeat: no-repeat;\n            background-position: center;\n            background-size: cover;\n            background-color: white;\n        }",
      ""
    ])
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.Divider = void 0;
    var r = u(n(2)),
      A = u(n(0)),
      a = u(n(1)),
      i = u(n(3)),
      o = u(n(4)),
      s = u(n(6));

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    n(444);
    t.Divider = function (e) {
      function t() {
        return (0, A.default)(this, t), (0, i.default)(this, (t.__proto__ || (0, r
          .default)(t)).apply(this, arguments))
      }
      return (0, o.default)(t, e), (0, a.default)(t, [{
        key: "render",
        value: function () {
          return s.default.createElement("div", {
            className: "divider"
          })
        }
      }]), t
    }(s.default.Component)
  }, function (e, t, n) {
    var r = n(445);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float .divider{\n        width: 1px;\n        height: 100%;\n        border-left: 1px solid rgb(164, 164, 164, 0.15);\n    }",
      ""
    ])
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.getDefToolMap = t.getDefCtxMenu = t.DefaultColors = void 0;
    var r = u(n(6)),
      A = u(n(447)),
      a = u(n(448)),
      i = u(n(449)),
      o = u(n(450)),
      s = n(14);

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = t.DefaultColors = ["rgb(0,0,0)", "rgb(255,255,255)", "rgb(224,32,32)",
      "rgb(250,100,0)", "rgb(247,181,0)", "rgb(109,212,0)", "rgb(68,215,182)",
      "rgb(50,197,255)", "rgb(0,145,255)", "rgb(98,54,255)", "rgb(182,32,224)",
      "rgb(109,114,120)"
    ];
    t.getDefCtxMenu = function () {
      return {
        toolName: "contextMenu",
        hint: (0, s.getMsg)("moreAction"),
        panelOffset: {
          x: 10,
          y: 10
        },
        options: []
      }
    }, t.getDefToolMap = function () {
      return {
        lineWidth: {
          toolType: "Slider",
          toolName: "lineWidth",
          hint: (0, s.getMsg)("lineWidth"),
          min: 1,
          max: 30,
          step: 1
        },
        stroke: {
          toolType: "LineProp",
          toolName: "stroke",
          hint: (0, s.getMsg)("strokeColor"),
          colors: l,
          panelOffset: {
            x: 12,
            y: 12
          },
          hasNull: !0,
          hasLineWidth: !1
        },
        lineProp: {
          toolType: "LineProp",
          toolName: "lineProp",
          hint: (0, s.getMsg)("lineProp"),
          colors: l,
          panelOffset: {
            x: 12,
            y: 12
          },
          hasNull: !0,
          min: 1,
          max: 30,
          step: 1,
          hasLineWidth: !0
        },
        fontSize: {
          toolType: "Input",
          toolName: "fontSize",
          type: "number",
          hint: (0, s.getMsg)("fontSize"),
          min: 10,
          max: 300,
          step: 8
        },
        selectFilter: {
          toolType: "SelectFilter",
          toolName: "selectFilter",
          hint: (0, s.getMsg)("shapeFilter"),
          panelOffset: {
            x: 12,
            y: 12
          },
          options: []
        },
        fontFamily: {
          toolType: "Select",
          toolName: "fontFamily",
          hint: (0, s.getMsg)("fontFamily"),
          options: [],
          panelOffset: {
            x: 0,
            y: 12
          }
        },
        fontStroke: {
          toolType: "LineProp",
          toolName: "fontStroke",
          hint: (0, s.getMsg)("fontColor"),
          colors: l,
          panelOffset: {
            x: 12,
            y: 12
          },
          hasNull: !1,
          hasLineWidth: !1
        },
        fontFill: {
          toolType: "LineProp",
          toolName: "fontFill",
          hint: (0, s.getMsg)("fontFill"),
          colors: l,
          panelOffset: {
            x: 12,
            y: 12
          },
          hasNull: !0,
          hasLineWidth: !1
        },
        fill: {
          toolType: "LineProp",
          toolName: "fill",
          hint: (0, s.getMsg)("Fill"),
          colors: l,
          panelOffset: {
            x: 12,
            y: 12
          },
          hasNull: !0,
          hasLineWidth: !1
        },
        textAlign: {
          toolType: "TextAlign",
          toolName: "textAlign",
          hint: (0, s.getMsg)("textAlign"),
          panelOffset: {
            x: 12,
            y: 12
          },
          hasVAlign: !0
        },
        linkType: {
          toolType: "LinkType",
          toolName: "linkType",
          hint: (0, s.getMsg)("linkType"),
          panelOffset: {
            x: 12,
            y: 12
          }
        },
        linkArrow: {
          toolType: "LinkArrow",
          toolName: "linkArrow",
          hint: (0, s.getMsg)("linkArrow"),
          panelOffset: {
            x: 12,
            y: 12
          }
        },
        addT: {
          toolType: "Click",
          toolName: "addT",
          hint: (0, s.getMsg)("addT"),
          icon: r.default.createElement("span", {
            style: {
              display: "inline-block",
              width: 30,
              height: 24,
              lineHeight: "24px",
              fontSize: "22px"
            }
          }, "+T")
        },
        group: {
          toolType: "Click",
          toolName: "group",
          hint: (0, s.getMsg)("Group"),
          icon: i.default
        },
        ungroup: {
          toolType: "Click",
          toolName: "ungroup",
          hint: (0, s.getMsg)("Ungroup"),
          icon: o.default
        },
        divider: {
          toolType: "Divider"
        },
        resDownload: {
          toolType: "Click",
          toolName: "resDownload",
          hint: (0, s.getMsg)("resDownload"),
          icon: A.default
        },
        imgCrop: {
          toolType: "Click",
          toolName: "imgCrop",
          hint: (0, s.getMsg)("Crop"),
          icon: a.default
        },
        typeChange: {
          toolType: "TypeChange",
          toolName: "typeChange",
          hint: (0, s.getMsg)("typeChange"),
          shapeIcons: {},
          panelOffset: {
            x: 12,
            y: 12
          }
        }
      }
    }
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1ODc0NjMxMjg1OSIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIxNTAgMTUwIDcyNCA3MjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSIyMjcyIgogICAgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+CiAgICA8ZGVmcz4KICAgICAgICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgogICAgICAgICAgICBAZm9udC1mYWNlIHsKICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBmZWVkYmFjay1pY29uZm9udDsKICAgICAgICAgICAgICAgIHNyYzogdXJsKCIvL2F0LmFsaWNkbi5jb20vdC9mb250XzEwMzExNThfdTY5dzh5aHhkdS53b2ZmMj90PTE2MzAwMzM3NTk5NDQiKSBmb3JtYXQoIndvZmYyIiksIHVybCgiLy9hdC5hbGljZG4uY29tL3QvZm9udF8xMDMxMTU4X3U2OXc4eWh4ZHUud29mZj90PTE2MzAwMzM3NTk5NDQiKSBmb3JtYXQoIndvZmYiKSwgdXJsKCIvL2F0LmFsaWNkbi5jb20vdC9mb250XzEwMzExNThfdTY5dzh5aHhkdS50dGY/dD0xNjMwMDMzNzU5OTQ0IikgZm9ybWF0KCJ0cnVldHlwZSIpOwogICAgICAgICAgICB9CiAgICAgICAgPC9zdHlsZT4KICAgIDwvZGVmcz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTcwNCAzNDEuMzMzMzMzaDY0YTY0IDY0IDAgMCAxIDY0IDY0djM2Mi42NjY2NjdhNjQgNjQgMCAwIDEtNjQgNjRIMjU2YTY0IDY0IDAgMCAxLTY0LTY0VjQwNS4zMzMzMzNhNjQgNjQgMCAwIDEgNjQtNjRoNjR2NjRoLTY0djM2Mi42NjY2NjdoNTEyVjQwNS4zMzMzMzNoLTY0di02NHogbS0xNTQuNzk0NjY3LTIxMi4yNjY2NjZsMC4wNDI2NjcgMzQ3LjQ1NiA3NC4wMDUzMzMtNzQuMDI2NjY3IDQ1LjIyNjY2NyA0NS4yNDgtMTUwLjgyNjY2NyAxNTAuODQ4LTE1MC44NDgtMTUwLjgyNjY2NyA0NS4yNDgtNDUuMjY5MzMzIDczLjE3MzMzNCA3My4xNzMzMzNWMTI5LjA2NjY2N2g2NHoiCiAgICAgICAgcC1pZD0iMjI3MyI+PC9wYXRoPgo8L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PHN2ZyBjbGFzcz0icHJlZml4X19pY29uIiB2aWV3Qm94PSIxMDAgMTAwIDgyNCA4MjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIj4KICAgIDxkZWZzPgogICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgQGZvbnQtZmFjZSB7CiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogZmVlZGJhY2staWNvbmZvbnQ7CiAgICAgICAgICAgICAgICBzcmM6IHVybCgvL2F0LmFsaWNkbi5jb20vdC9mb250XzEwMzExNThfdTY5dzh5aHhkdS53b2ZmMj90PTE2MzAwMzM3NTk5NDQpIGZvcm1hdCgmcXVvdDsgd29mZjImcXVvdDsgKSwgdXJsKC8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTAzMTE1OF91Njl3OHloeGR1LndvZmY/dD0xNjMwMDMzNzU5OTQ0KSBmb3JtYXQoJnF1b3Q7IHdvZmYmcXVvdDsgKSwgdXJsKC8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTAzMTE1OF91Njl3OHloeGR1LnR0Zj90PTE2MzAwMzM3NTk5NDQpIGZvcm1hdCgmcXVvdDsgdHJ1ZXR5cGUmcXVvdDsgKQogICAgICAgICAgICB9CiAgICAgICAgPC9zdHlsZT4KICAgIDwvZGVmcz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTcyNS4zMzMgNjQwaDg1LjMzNFYyOTguNjY3YzAtNDYuOTM0LTM4LjQtODUuMzM0LTg1LjMzNC04NS4zMzRIMzg0djg1LjMzNGgzNDEuMzMzVjY0MHptLTQyNi42NjYgODUuMzMzVjQyLjY2N2gtODUuMzM0djE3MC42NjZINDIuNjY3djg1LjMzNGgxNzAuNjY2djQyNi42NjZjMCA0Ni45MzQgMzguNCA4NS4zMzQgODUuMzM0IDg1LjMzNGg0MjYuNjY2djE3MC42NjZoODUuMzM0VjgxMC42NjdoMTcwLjY2NnYtODUuMzM0SDI5OC42Njd6IiAvPgo8L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjU5MDg1NDExMTM0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE3MDE5IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPkBmb250LWZhY2UgeyBmb250LWZhbWlseTogZmVlZGJhY2staWNvbmZvbnQ7IHNyYzogdXJsKCIvL2F0LmFsaWNkbi5jb20vdC9mb250XzEwMzExNThfdTY5dzh5aHhkdS53b2ZmMj90PTE2MzAwMzM3NTk5NDQiKSBmb3JtYXQoIndvZmYyIiksIHVybCgiLy9hdC5hbGljZG4uY29tL3QvZm9udF8xMDMxMTU4X3U2OXc4eWh4ZHUud29mZj90PTE2MzAwMzM3NTk5NDQiKSBmb3JtYXQoIndvZmYiKSwgdXJsKCIvL2F0LmFsaWNkbi5jb20vdC9mb250XzEwMzExNThfdTY5dzh5aHhkdS50dGY/dD0xNjMwMDMzNzU5OTQ0IikgZm9ybWF0KCJ0cnVldHlwZSIpOyB9Cjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0xMjggNDIuNjY2NjY3QzgwLjY0IDQyLjY2NjY2NyA0Mi42NjY2NjcgODAuNjQgNDIuNjY2NjY3IDEyOEw0Mi42NjY2NjcgNTk3LjMzMzMzM0M0Mi42NjY2NjcgNjQ0LjY5MzMzMyA4MC42NCA2ODIuNjY2NjY3IDEyOCA2ODIuNjY2NjY3IDE4NC43NDY2NjcgNjgyLjY2NjY2NyAyOTguNjY2NjY3IDY4Mi42NjY2NjcgMjk4LjY2NjY2NyA2ODIuNjY2NjY3IDI5OC42NjY2NjcgNjgyLjY2NjY2NyAyOTguNjY2NjY3IDc5Ni41ODY2NjcgMjk4LjY2NjY2NyA4NTMuMzMzMzMzIDI5OC42NjY2NjcgOTAwLjY5MzMzMyAzMzYuNjQgOTM4LjY2NjY2NyAzODQgOTM4LjY2NjY2N0w4NTMuMzMzMzMzIDkzOC42NjY2NjdDOTAwLjY5MzMzMyA5MzguNjY2NjY3IDkzOC42NjY2NjcgOTAwLjY5MzMzMyA5MzguNjY2NjY3IDg1My4zMzMzMzNMOTM4LjY2NjY2NyAzODRDOTM4LjY2NjY2NyAzMzYuNjQgOTAwLjY5MzMzMyAyOTguNjY2NjY3IDg1My4zMzMzMzMgMjk4LjY2NjY2NyA3OTYuNTg2NjY3IDI5OC42NjY2NjcgNjgyLjY2NjY2NyAyOTguNjY2NjY3IDY4Mi42NjY2NjcgMjk4LjY2NjY2NyA2ODIuNjY2NjY3IDI5OC42NjY2NjcgNjgyLjY2NjY2NyAxODQuNzQ2NjY3IDY4Mi42NjY2NjcgMTI4IDY4Mi42NjY2NjcgODAuNjQgNjQ0LjY5MzMzMyA0Mi42NjY2NjcgNTk3LjMzMzMzMyA0Mi42NjY2NjdMMTI4IDQyLjY2NjY2N00xMjggMTI4IDU5Ny4zMzMzMzMgMTI4QzU5Ny4zMzMzMzMgMTg0Ljc0NjY2NyA1OTcuMzMzMzMzIDI5OC42NjY2NjcgNTk3LjMzMzMzMyAyOTguNjY2NjY3TDM4NCAyOTguNjY2NjY3QzMzNi42NCAyOTguNjY2NjY3IDI5OC42NjY2NjcgMzM2LjY0IDI5OC42NjY2NjcgMzg0TDI5OC42NjY2NjcgNTk3LjMzMzMzM0MyOTguNjY2NjY3IDU5Ny4zMzMzMzMgMTg0Ljc0NjY2NyA1OTcuMzMzMzMzIDEyOCA1OTcuMzMzMzMzTDEyOCAxMjhNMzg0IDM4NCA1OTcuMzMzMzMzIDM4NCA1OTcuMzMzMzMzIDU5Ny4zMzMzMzMgMzg0IDU5Ny4zMzMzMzMgMzg0IDM4NE02ODIuNjY2NjY3IDM4NEM2ODIuNjY2NjY3IDM4NCA3OTYuNTg2NjY3IDM4NCA4NTMuMzMzMzMzIDM4NEw4NTMuMzMzMzMzIDg1My4zMzMzMzMgMzg0IDg1My4zMzMzMzNDMzg0IDc5Ni41ODY2NjcgMzg0IDY4Mi42NjY2NjcgMzg0IDY4Mi42NjY2NjdMNTk3LjMzMzMzMyA2ODIuNjY2NjY3QzY0NC42OTMzMzMgNjgyLjY2NjY2NyA2ODIuNjY2NjY3IDY0NC42OTMzMzMgNjgyLjY2NjY2NyA1OTcuMzMzMzMzTDY4Mi42NjY2NjcgMzg0WiIgcC1pZD0iMTcwMjAiPjwvcGF0aD48L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjU5MDg1MzkxNTUzIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE2ODc1IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPkBmb250LWZhY2UgeyBmb250LWZhbWlseTogZmVlZGJhY2staWNvbmZvbnQ7IHNyYzogdXJsKCIvL2F0LmFsaWNkbi5jb20vdC9mb250XzEwMzExNThfdTY5dzh5aHhkdS53b2ZmMj90PTE2MzAwMzM3NTk5NDQiKSBmb3JtYXQoIndvZmYyIiksIHVybCgiLy9hdC5hbGljZG4uY29tL3QvZm9udF8xMDMxMTU4X3U2OXc4eWh4ZHUud29mZj90PTE2MzAwMzM3NTk5NDQiKSBmb3JtYXQoIndvZmYiKSwgdXJsKCIvL2F0LmFsaWNkbi5jb20vdC9mb250XzEwMzExNThfdTY5dzh5aHhkdS50dGY/dD0xNjMwMDMzNzU5OTQ0IikgZm9ybWF0KCJ0cnVldHlwZSIpOyB9Cjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0xMjggNDIuNjY2NjY3QzgwLjY0IDQyLjY2NjY2NyA0Mi42NjY2NjcgODAuNjQgNDIuNjY2NjY3IDEyOEw0Mi42NjY2NjcgMjEzLjMzMzMzMyAxMjggMjEzLjMzMzMzMyAxMjggMTI4IDIxMy4zMzMzMzMgMTI4IDIxMy4zMzMzMzMgNDIuNjY2NjY3IDEyOCA0Mi42NjY2NjdNMjk4LjY2NjY2NyA0Mi42NjY2NjcgMjk4LjY2NjY2NyAxMjggNDI2LjY2NjY2NyAxMjggNDI2LjY2NjY2NyA0Mi42NjY2NjcgMjk4LjY2NjY2NyA0Mi42NjY2NjdNNTEyIDQyLjY2NjY2NyA1MTIgMTI4IDU5Ny4zMzMzMzMgMTI4IDU5Ny4zMzMzMzMgMjEzLjMzMzMzMyA2ODIuNjY2NjY3IDIxMy4zMzMzMzMgNjgyLjY2NjY2NyAxMjhDNjgyLjY2NjY2NyA4MC42NCA2NDQuNjkzMzMzIDQyLjY2NjY2NyA1OTcuMzMzMzMzIDQyLjY2NjY2N0w1MTIgNDIuNjY2NjY3TTQyLjY2NjY2NyAyOTguNjY2NjY3IDQyLjY2NjY2NyA0MjYuNjY2NjY3IDEyOCA0MjYuNjY2NjY3IDEyOCAyOTguNjY2NjY3IDQyLjY2NjY2NyAyOTguNjY2NjY3TTU5Ny4zMzMzMzMgMjk4LjY2NjY2N0M1OTcuMzMzMzMzIDI5OC42NjY2NjcgNTk3LjMzMzMzMyA0OTcuOTIgNTk3LjMzMzMzMyA1OTcuMzMzMzMzIDQ5Ny45MiA1OTcuMzMzMzMzIDI5OC42NjY2NjcgNTk3LjMzMzMzMyAyOTguNjY2NjY3IDU5Ny4zMzMzMzMgMjk4LjY2NjY2NyA1OTcuMzMzMzMzIDI5OC42NjY2NjcgNzY4IDI5OC42NjY2NjcgODUzLjMzMzMzMyAyOTguNjY2NjY3IDkwMC42OTMzMzMgMzM2LjY0IDkzOC42NjY2NjcgMzg0IDkzOC42NjY2NjdMODUzLjMzMzMzMyA5MzguNjY2NjY3QzkwMC42OTMzMzMgOTM4LjY2NjY2NyA5MzguNjY2NjY3IDkwMC42OTMzMzMgOTM4LjY2NjY2NyA4NTMuMzMzMzMzTDkzOC42NjY2NjcgMzg0QzkzOC42NjY2NjcgMzM2LjY0IDkwMC42OTMzMzMgMjk4LjY2NjY2NyA4NTMuMzMzMzMzIDI5OC42NjY2NjcgNzY4IDI5OC42NjY2NjcgNTk3LjMzMzMzMyAyOTguNjY2NjY3IDU5Ny4zMzMzMzMgMjk4LjY2NjY2N002ODIuNjY2NjY3IDM4NCA4NTMuMzMzMzMzIDM4NCA4NTMuMzMzMzMzIDg1My4zMzMzMzMgMzg0IDg1My4zMzMzMzMgMzg0IDY4Mi42NjY2NjcgNTk3LjMzMzMzMyA2ODIuNjY2NjY3QzY0NC42OTMzMzMgNjgyLjY2NjY2NyA2ODIuNjY2NjY3IDY0NC42OTMzMzMgNjgyLjY2NjY2NyA1OTcuMzMzMzMzTDY4Mi42NjY2NjcgMzg0TTQyLjY2NjY2NyA1MTIgNDIuNjY2NjY3IDU5Ny4zMzMzMzNDNDIuNjY2NjY3IDY0NC42OTMzMzMgODAuNjQgNjgyLjY2NjY2NyAxMjggNjgyLjY2NjY2N0wyMTMuMzMzMzMzIDY4Mi42NjY2NjcgMjEzLjMzMzMzMyA1OTcuMzMzMzMzIDEyOCA1OTcuMzMzMzMzIDEyOCA1MTIgNDIuNjY2NjY3IDUxMloiIHAtaWQ9IjE2ODc2Ij48L3BhdGg+PC9zdmc+"
  }, function (e, t, n) {
    var r = n(452);
    "string" == typeof r && (r = [
      [e.i, r, ""]
    ]);
    var A = {
      hmr: !0,
      transform: void 0,
      insertInto: void 0
    };
    n(13)(r, A);
    r.locals && (e.exports = r.locals)
  }, function (e, t, n) {
    (e.exports = n(12)(!1)).push([e.i,
      ".yunxin-whiteboard-float {\n    position: absolute;\n    left: 56px;\n    top: 56px;\n    bottom: 56px;\n}\n\n    .yunxin-whiteboard-float .panel {\n        position: fixed;\n        display: inline-flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: center;\n        padding: 12px;\n        background-color: white;\n        box-shadow: rgba(5, 0, 50, 0.14) 0px 4px 16px 0;\n        left: 0;\n        top: 0;\n        max-width: 192px;\n        z-index: 10;\n        cursor: auto;\n    }\n\n    .yunxin-whiteboard-float .panel .selected::after{\n            content: '';\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            top: -4px;\n            left: -4px;\n            padding: 3px;\n            border: 1px solid blue;\n        }\n\n    .yunxin-whiteboard-float .panel .slider {\n            display: block;\n            height: 42px;\n        }\n\n    .yunxin-whiteboard-float .panel .slider input{\n                top: 4px;\n                width: 100%;\n            }\n\n    .yunxin-whiteboard-float .panel .slider .tips{\n                position: absolute;\n                left: 0;\n                right: 0;\n                bottom: 4px;\n                display: flex;\n                justify-content: space-between;\n                font-size: 14px;\n            }\n\n    .yunxin-whiteboard-float .panel .radio-item {\n            margin: 8px;\n        }\n\n    .yunxin-whiteboard-float .color-platte .color-style-background{\n            border: 1px solid rgba(0,0,0,.1);\n            width: 24px;\n            height: 24px;\n            border-radius: 50%;\n            padding: 1px;\n        }\n\n    .yunxin-whiteboard-float .color-platte .color-style-border{\n            border: 4px solid rgba(0,0,0,.1);\n            width: 24px;\n            height: 24px;\n            border-radius: 50%;\n            padding: 1px;\n        }\n\n    .yunxin-whiteboard-float .color-platte .color-style-border::before{\n            content: '';\n            position: absolute;\n            width: 16px;\n            height: 16px;\n            border-radius: 50%;\n            left: -1px;\n            top: -1px;\n            border: 1px solid rgba(0,0,0,.1);\n        }\n\n    .yunxin-whiteboard-float .color-platte .color-style-border::after{\n            content: '';\n            position: absolute;\n            width: 24px;\n            height: 24px;\n            border-radius: 50%;\n            left: -5px;\n            top: -5px;\n            border: 1px solid rgba(0,0,0,.1);\n        }\n\n    .yunxin-whiteboard-float .color-platte .color-style-icon{\n            display: inline-flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            padding-top: 0;\n            padding-bottom: 0;\n        }\n\n    .yunxin-whiteboard-float .color-platte .color-style-icon i{\n                font-size: 16px;\n            }\n\n    .yunxin-whiteboard-float .color-platte .color-style-icon .default-icon-color-block{\n                border: 1px solid rgba(0,0,0,.1);\n                background-color: gray;\n                width: 120%;\n                height: 3px;\n            }\n\n    .yunxin-whiteboard-float .color-platte .panel{\n            justify-content: space-between;\n        }\n\n    .yunxin-whiteboard-float .color-platte .panel .opacity{\n                display: block;\n                height: 42px;\n            }\n\n    .yunxin-whiteboard-float .color-platte .panel .opacity input{\n                    top: 4px;\n                    width: 100%;\n                }\n\n    .yunxin-whiteboard-float .color-platte .panel .opacity .tips{\n                    position: absolute;\n                    left: 0;\n                    right: 0;\n                    bottom: 4px;\n                    display: flex;\n                    justify-content: space-between;\n                    font-size: 14px;\n                }\n\n    .yunxin-whiteboard-float .color-platte .panel .color{\n                border: 1px solid rgba(0,0,0,.1);\n                width: 16px;\n                height: 16px;\n                margin: 4px;\n                border-radius: 50%;\n            }\n\n    .yunxin-whiteboard-float .color-platte .panel .radio-item-checked::after{\n                content: '';\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                top: -4px;\n                left: -4px;\n                padding: 3px;\n                border: 1px solid blue;\n                border-radius: 50%;\n            }",
      ""
    ])
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.arrayRemove = void 0;
    var r, A = n(7),
      a = (r = A) && r.__esModule ? r : {
        default: r
      };
    t.arrayRemove = function (e, t) {
      var n = "string" == typeof t ? [t] : t,
        r = !0,
        A = !1,
        i = void 0;
      try {
        for (var o, s = (0, a.default)(n); !(r = (o = s.next()).done); r = !0) {
          var u = o.value,
            l = e.indexOf(u); - 1 !== l && e.splice(l, 1)
        }
      } catch (e) {
        A = !0, i = e
      } finally {
        try {
          !r && s.return && s.return()
        } finally {
          if (A) throw i
        }
      }
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = i(n(5)),
      A = i(n(0)),
      a = i(n(1));

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var o = function () {
        function e(t) {
          var n = this;
          (0, A.default)(this, e), this.showPopup = function (e) {
            var t = e.x,
              A = e.y,
              a = n.app.container.el,
              i = s(t, A, a);
            n.hidePopup();
            var o = document.createElement("div");
            o.id = "yx-shape-popup", a.appendChild(o), (0, r.default)(o.style, {
              background: "white",
              width: "130px",
              position: "absolute",
              left: i.x + "px",
              top: i.y + "px",
              boxShadow: "0 8px 24px -4px rgba(0,0,0,0.1)",
              padding: "5px",
              display: "flex",
              justifyContent: "space-around",
              flexWrap: "wrap"
            });
            var u = n.app.shapeManager.getPopupShapes(),
              l = function (t) {
                var A = document.createElement("div");
                (0, r.default)(A.style, {
                  width: "40px",
                  height: "40px",
                  display: "inline-block",
                  background: "url(" + u[t].icon + ") center center no-repeat",
                  marginBottom: "2px",
                  cursor: "pointer"
                }), A.onclick = function () {
                  n.hidePopup(), e.onSelect(t)
                }, o.appendChild(A)
              };
            for (var c in u) l(c)
          }, this.isTargetOnPopup = function (e) {
            for (; e;) {
              if (e && "yx-shape-popup" === e.id) return !0;
              e = e.parentNode
            }
            return !1
          }, this.onMouseDown = function (e, t) {
            n.isTargetOnPopup(t) || n.hidePopup()
          }, this.hidePopup = function () {
            var e = n.app.container.el.querySelector("#yx-shape-popup");
            e && e.remove()
          }, this.app = t, t.on("event:camera:transform", this.hidePopup), t.on(
            "event:mousedown", (function (e, t) {
              n.onMouseDown(e, t)
            }))
        }
        return (0, a.default)(e, [{
          key: "destroy",
          value: function () {
            this.app.off("event:camera:transform", this.hidePopup), this
              .hidePopup()
          }
        }]), e
      }(),
      s = function (e, t, n) {
        return t += 10, e = Math.max(e, 0), e = Math.min(e, n.clientWidth - 130), t = Math
          .max(t, 0), {
            x: e,
            y: t = Math.min(t, n.clientHeight - 100)
          }
      };
    t.default = o
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = g(n(7)),
      A = g(n(11)),
      a = g(n(21)),
      i = g(n(0)),
      o = g(n(1)),
      s = n(31),
      u = g(n(32)),
      l = g(n(456)),
      c = g(n(259)),
      d = g(n(457)),
      p = n(14),
      h = n(145),
      f = g(n(458));

    function g(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var y = function () {
      function e(t) {
        var n = this;
        (0, i.default)(this, e), this.resourceCache = {}, this.mediaResourceCache = {},
          this.crossOriginResourceCache = {}, this.resourceReadyListeners = {}, this
          .retryCount = {}, this.resourceTimer = {}, this.lastSuccessImgIndex = 0, this
          .fetchResource = function (e) {
            var t = e.urlArr,
              r = e.cb,
              A = e.antiLeechProp,
              i = (t = (t = Array.isArray(t) ? t : [t]).map((function (e) {
                return n.getDownloadUrl(e, "image")
              })))[0],
              o = n.retryCount[i] || 0,
              s = t[(0 === o ? n.lastSuccessImgIndex : o) % t.length],
              u = !n.resourceCache.hasOwnProperty(i);
            (u && (o >= t.length && !n.app.appConfig.resRetryCors ? n.resourceCache[i] =
                new f.default({
                  handleExif: !0
                }) : (n.crossOriginResourceCache[i] = new f.default({
                    handleExif: !0
                  }), n.crossOriginResourceCache[i].setCrossOrigin("anonymous"), n
                  .resourceCache[i] = n.crossOriginResourceCache[i])), "function" ==
              typeof r) && (n.resourceLoaded(i) || -1 === (n.resourceReadyListeners[
              i] || []).indexOf(r) && n.setResourceLoadedCallback({
              urlArr: t,
              sourceType: "",
              cb: r,
              antiLeechProp: A
            }));
            u && (A ? n.app.getAntiLeechInfo ? n.app.getAntiLeechInfo(A, s).then((
              function (e) {
                n.resourceCache[i].setSrc(e.url), n.clearExpireAntiRes(i, "image")
              })).catch((function (e) {
              n.app.logger.error(
                  "[ws] getAntiLeechInfo failed, please check your getAntiLeechInfo function. antiLeechProp: " +
                  (0, a.default)(A) + ", url: " + i), n.app.logger.error(
                  "[ws] getAntiLeechInfo error: " + e), n.resourceCache[i]
                .setSrc(s)
            })) : (n.app.logger.error(
              "[ws] picture has antiLeechInfo, but getAntiLeechInfo function is not provided"
              ), n.resourceCache[i].setSrc(s)) : n.resourceCache[i].setSrc(s))
          }, this.fetchMediaResource = function (e) {
            var t = e.url,
              r = e.sourceType,
              i = e.type,
              o = e.cb,
              s = e.antiLeechProp;
            t = n.getDownloadUrl(t, "url" === i ? "url" : "media");
            var u = A.default.resolve(t);
            t && (s ? n.app.getAntiLeechInfo ? u = n.app.getAntiLeechInfo(s, t).then((
                function (e) {
                  return n.clearExpireAntiRes(t, i), n.tweakMediaStart(e.url, i)
                })).catch((function (e) {
                return n.app.logger.error(
                  "[ws] getAntiLeechInfo failed, please check your getAntiLeechInfo function. antiLeechProp: " +
                  (0, a.default)(s) + ", url: " + t), n.app.logger.error(
                  "[ws] getAntiLeechInfo error: " + e), n.tweakMediaStart(t, i)
              })) : (n.app.logger.error(
                "[ws] picture has antiLeechInfo, but getAntiLeechInfo function is not provided"
                ), u = A.default.resolve(n.tweakMediaStart(t, i))) : u = A.default
              .resolve(n.tweakMediaStart(t, i))), u.then((function (e) {
              console.log("", "[ws] antiLeechUrlPromise antiLeechURL: ", e);
              var A = void 0;
              if ("url" === i) n.mediaResourceCache[t] = document.createElement(
                "iframe"), A = n.mediaResourceCache[t];
              else if (!n.mediaResourceCache.hasOwnProperty(t))
                if (n.mediaResourceCache[t] = document.createElement(i),
                  "audio" === i) {
                  var a = document.createElement("source");
                  A = a, a.setAttribute("type", r), n.mediaResourceCache[t]
                    .appendChild(a)
                } else(A = n.mediaResourceCache[t]).poster = d.default;
              "function" == typeof o && (n.mediaResourceLoaded(t, i) || -1 === (n
                .resourceReadyListeners[t] || []).indexOf(o) && (console.log(
                  "", "[ws] antiLeechUrlPromise setResourceLoadedCallback"), n
                .setResourceLoadedCallback({
                  urlArr: t,
                  sourceType: r,
                  cb: o,
                  mediaType: i,
                  antiLeechProp: s
                })));
              A && (A.src = e)
            }))
          }, this.clearExpireAntiRes = function (e, t) {
            setTimeout((function () {
              n.app.logger.log("[ws] delete resource cache, url : " + e), delete n
                .crossOriginResourceCache[e], delete n.resourceCache[e], delete n
                .retryCount[e], delete n.mediaResourceCache[e], delete n
                .resourceReadyListeners[e]
            }), 1e3 * (n.app.appConfig.nosAntiLeechExpire - 10))
          }, this.setResourceLoadedCallback = function (e) {
            var t = e.urlArr,
              A = e.sourceType,
              a = e.cb,
              i = e.mediaType,
              o = e.antiLeechProp,
              l = (t = (t = Array.isArray(t) ? t : [t]).map((function (e) {
                return n.getDownloadUrl(e, "url" === i ? "url" : i ? "media" :
                  "image")
              })))[0];
            n.resourceReadyListeners[l] = n.resourceReadyListeners[l] || [], n
              .resourceReadyListeners[l].push(a);
            var c = i ? n.mediaResourceCache[l] : n.resourceCache[l],
              d = function (e) {
                var r;
                clearTimeout(n.resourceTimer[l]), c.onerror = null, (r = n.retryCount)[
                  l] || (r[l] = 0);
                var d = c.src,
                  h = c.children;
                h && h[0] && (d = h[0].src), n.app.logger.error("[wb]" + (i ||
                  "image") + "资源 [url: " + d + "] 第" + n.retryCount[l] + "加载失败");
                var f = i ? "video" === i ? u.default.VIDEO_UPLOAD_FAIL : u.default
                  .AUDIO_UPLOAD_FAIL : u.default.PIC_UPLOAD_FAIL,
                  g = n.retryCount[l] < n.app.appConfig.resMaxRetry,
                  y = i ? (0, p.getMsg)("video" === i ? "Video" : "Audio") : (0, p
                    .getMsg)("Image");
                if (n.retryCount[l] > 0) {
                  var v = Math.ceil(n.app.appConfig.resRetryInterval / 1e3);
                  (0, s.showToast)({
                    type: "error",
                    msg: p.isZh ? y + "加载失败 " + (g ? ", " + v + "s后将尝试重新加载(" + (n
                        .retryCount[l] + 1) + "/" + n.app.appConfig.resMaxRetry +
                      ")" : "") : y + " load failed " + (g ? ", " + v +
                      "s later would try to reload: (" + (n.retryCount[l] + 1) +
                      "/" + n.app.appConfig.resMaxRetry + ")" : ""),
                    time: 3,
                    msgType: f
                  })
                }
                var m = n.retryCount[l] > 0 ? n.app.appConfig.resRetryInterval : 100;
                if (setTimeout((function () {
                    delete n.resourceCache[l], delete n.mediaResourceCache[l],
                      delete n.resourceReadyListeners[l], g && (i ? n
                        .fetchMediaResource({
                          url: l,
                          sourceType: A,
                          type: i,
                          cb: a,
                          antiLeechProp: o
                        }) : n.fetchResource({
                          urlArr: t,
                          cb: a,
                          antiLeechProp: o
                        }))
                  }), m), !g) {
                  var w = n.getResourceMetadata(l, i || "image");
                  n.app.emit("event:resource:onload", w)
                }
                n.retryCount[l] += 1
              };
            if (clearTimeout(n.resourceTimer[l]), n.resourceTimer[l] = setTimeout((
                function () {
                  d()
                }), 8e3), "video" == i || "audio" == i) c.onloadedmetadata =
          function () {
              clearTimeout(n.resourceTimer[l]);
              var e = n.resourceReadyListeners[l] || [],
                t = !0,
                A = !1,
                a = void 0;
              try {
                for (var o, s = (0, r.default)(e); !(t = (o = s.next()).done); t = !
                  0) {
                  (0, o.value)(c)
                }
              } catch (e) {
                A = !0, a = e
              } finally {
                try {
                  !t && s.return && s.return()
                } finally {
                  if (A) throw a
                }
              }
              delete n.resourceReadyListeners[l];
              var u = n.getResourceMetadata(l, i);
              n.app.emit("event:resource:onload", u)
            };
            else if ("url" === i) {
              console.log("setResourceLoadedCallback onload url页面加载");
              var h = t.indexOf(l);
              n.lastSuccessImgIndex = -1 === h ? n.lastSuccessImgIndex : h,
                clearTimeout(n.resourceTimer[l]);
              var f = n.resourceReadyListeners[l] || [],
                g = !0,
                y = !1,
                v = void 0;
              try {
                for (var m, w = (0, r.default)(f); !(g = (m = w.next()).done); g = !0) {
                  (0, m.value)(c.getImage())
                }
              } catch (e) {
                y = !0, v = e
              } finally {
                try {
                  !g && w.return && w.return()
                } finally {
                  if (y) throw v
                }
              }
              delete n.resourceReadyListeners[l];
              var B = n.getResourceMetadata(l, "url");
              n.app.emit("event:resource:onload", B)
            } else console.log("setResourceLoadedCallback resource: ", c), c.onload =
              function () {
                console.log("setResourceLoadedCallback onload ");
                var e = t.indexOf(l);
                n.lastSuccessImgIndex = -1 === e ? n.lastSuccessImgIndex : e,
                  clearTimeout(n.resourceTimer[l]);
                var A = n.resourceReadyListeners[l] || [],
                  a = !0,
                  i = !1,
                  o = void 0;
                try {
                  for (var s, u = (0, r.default)(A); !(a = (s = u.next()).done); a = !
                    0) {
                    (0, s.value)(c.getImage())
                  }
                } catch (e) {
                  i = !0, o = e
                } finally {
                  try {
                    !a && u.return && u.return()
                  } finally {
                    if (i) throw o
                  }
                }
                delete n.resourceReadyListeners[l];
                var d = n.getResourceMetadata(l, "image");
                n.app.emit("event:resource:onload", d)
              };
            c.onerror = d
          }, this.resourceLoaded = function (e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            e = n.getDownloadUrl(e, "image");
            var r = t ? n.crossOriginResourceCache[e] : n.resourceCache[e];
            if (r) {
              var A = r.getImage();
              if (A) return A && A.complete && A.width > 0 && A.height > 0
            }
            return !1
          }, this.getResource = function (e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            e = n.getDownloadUrl(e, "image");
            var r = t ? n.crossOriginResourceCache[e] : n.resourceCache[e];
            return r.getImage()
          }, this.mediaResourceLoaded = function (e, t) {
            e = n.getDownloadUrl(e, "media");
            var r = n.mediaResourceCache[e];
            return "url" === t && r instanceof HTMLIFrameElement ? !!r :
              r instanceof HTMLMediaElement && (r && r.readyState >= 1)
          }, this.getMediaResource = function (e) {
            return e = n.getDownloadUrl(e, "media"), n.mediaResourceCache[e]
          }, this.app = t, this.resourceCache.imageLoading = new f.default({
            handleExif: !0
          }), this.resourceCache.imageLoading.setSrc(l.default), this.resourceCache
          .audio = new f.default({
            handleExif: !0
          }), this.resourceCache.audio.setSrc(c.default), this.crossOriginResourceCache
          .imageLoading = new f.default({
            handleExif: !0
          }), this.crossOriginResourceCache.imageLoading.setCrossOrigin("anonymous"),
          this.crossOriginResourceCache.imageLoading.setSrc(l.default)
      }
      return (0, o.default)(e, [{
        key: "getDownloadUrl",
        value: function (e, t) {
          var n, r;
          return "url" === t ? e : "image" === t ? (null === (n = this.app
              .serviceConf) || void 0 === n ? void 0 : n.imgDownloadHost) ? (0,
              h.replaceUrlHost)(e, this.app.serviceConf.imgDownloadHost) : e :
            "media" === t ? (null === (r = this.app.serviceConf) || void 0 ===
              r ? void 0 : r.mediaDownloadHost) ? (0, h.replaceUrlHost)(e, this
              .app.serviceConf.mediaDownloadHost) : e : void 0
        }
      }, {
        key: "destroy",
        value: function () {
          this.resourceCache = {}, this.mediaResourceCache = {}, this
            .crossOriginResourceCache = {}, this.resourceReadyListeners = {},
            this.retryCount = {}, this.resourceTimer = {}
        }
      }, {
        key: "tweakMediaStart",
        value: function (e, t) {
          return "audio" === t ? e : e + "#t=0.1"
        }
      }, {
        key: "getResourceMetadata",
        value: function (e, t) {
          var n = this.getDownloadUrl(e, "image" === t ? "image" : "media");
          if ("url" === t) {
            var r = this.mediaResourceCache[n];
            if (r && r.contentWindow && r.contentWindow.document) {
              var A = r.contentWindow || r.contentDocument;
              return {
                type: t,
                url: e,
                loaded: !0,
                width: A.document.body.scrollWidth || A.document.documentElement
                  .scrollWidth,
                height: A.document.body.scrollHeight || A.document
                  .documentElement.scrollHeight
              }
            }
            return {
              type: t,
              url: e,
              loaded: !1,
              width: 0,
              height: 0,
              duration: 0
            }
          }
          if ("image" === t) {
            var a = this.resourceCache[n] || this.crossOriginResourceCache[n],
              i = a && a.getImage();
            return i && i.complete && i.width > 0 && i.height > 0 ? {
              type: t,
              url: e,
              loaded: !0,
              width: i.width,
              height: i.height
            } : {
              type: t,
              url: e,
              loaded: !1,
              width: 0,
              height: 0
            }
          }
          if ("video" === t) {
            var o = this.mediaResourceCache[n];
            return o && o.readyState >= 1 ? {
              type: t,
              url: e,
              loaded: !0,
              width: o.videoWidth,
              height: o.videoHeight,
              duration: o.duration
            } : {
              type: t,
              url: e,
              loaded: !1,
              width: 0,
              height: 0,
              duration: 0
            }
          }
          if ("audio" === t) {
            var s = this.mediaResourceCache[n];
            return s && s.readyState >= 1 ? {
              type: t,
              url: e,
              loaded: !0,
              duration: s.duration
            } : {
              type: t,
              url: e,
              loaded: !1,
              duration: 0
            }
          }
        }
      }]), e
    }();
    t.default = y
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAC3CAMAAAAGjUrGAAAAb1BMVEVPT0/g4OBMTExERERBQUHj4+Pn5+fR0dH///9JSUnp6elAQEDW1taCgoJwcHBSUlJoaGi7u7teXl7GxsacnJypqanc3Nw6OjqhoaFlZWVZWVlycnLv7++WlpaMjIy2traHh4d7e3uvr681NTX19fUTUkkoAAAGsElEQVR4nO2c2ZaqOhCGMRNJmEUQkUHc/f7PeBKQScHeV7pPUt9FLxeLC/i7JipJOQ4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgMwiJBwh9+1n+BYTA6BgGTa1ourgUWNiti8BRl6U5lWzk4CenEGFbZUE4atKDZPSwgjKZt52wURaE4/Ygn/SYdJF+EdmmCsJhuifIAGP3CH/7MT8JLpP3igxOVGDx7Sf9FIicnoPIjq3kHfn2w34GcXTZ3yiikXcrogoJtoyE9myYin80339wIV/iBju4adImSepvpOZDZ3qoxfe1JFQVI81FFW89Igrr5DlDs5vZouB2FUoYba9oVcwjVdre0rWxsMZkUcRKEnYoyq0QKlQ5t1LFZEtB8cJxqC7KdpIKInG6VI9ezQ20aH5T5ofv0iwizSoNleamZNE+LEW24pd/PV6WMdQ113scMqRiWf9eoCKRzKKwzGRRbkoUeRsleesS3iJxy9Bc73FwyKpg/KeLy9va3ZvzFPW9TzzdlxDRVK7jpEpj8kYVbxGUa3Nzj7NwGOKqlNyWb0KF8KfsQw12ngXEpbp0O+3nIHSZDaUwOMzO9JroWiXYDSv4NCefjz7bt3hoohwojfdUwe7oPbIxOqI8INP70t32q+hGQzG6cJuYNdFhpd4OKyQdb2KxBWF2qYkOK93mZ3I3Vm6ssMB51pocqEwvG+4hfJuc50mTPqygF1vAxRRRDP48HnnRRLfeavKkylyjsMB859nQpA8r3tocZucx+ev4waYmQ1hZqoLbx200tVUTHVayaOEloh6dx7fUdwYHOtTzYjG6TvV99M3H/Qj7mihV3KlaQccp8RyNTzzvNFEOlIzVSjQJZX4l+1aTPqw8/Cd/XDG6AznwiyZKg1MvChqTMWiiDGXQADSZFJH3R5syAt95vP9UuaFyvMYuNmvC/GBq6KPYoo/AXU0oXfatRTBqkn/xYT/EjiZUrtc3xNgsoK6ttb1Mn7Yc4LH7SFs7vwGZf3vuQM5lrNlrgT2vmlBavDTa5nDCzE/FL5qoT5zjq3fgZLwrN1+SZ02Ye91o3KPjtAiUmB9O1pqwvNlcC5xb1PJmfjhZaqK/gTffGEWzbJ9+vm8waUJlsrfjAmdTEWtBJp41ke7V2wmfi80W0vyGkjNqwg7bgWRxS28mFjTtneGFVSBx9kMnKWYzuRpsJnMsJS6TWxXJfOu0fm62mZB6bBU5qEs3txKMiHjepCTNbZ0gfJcsHc+bvz9JLC6L6sXcZVHUb7lnafQX1RcO54qOmrsCKMphEz31tzaarMG3ZZEbmqoJivOxSKPNu73COhAvT4Sxk7GeUy7On+xXro4+qnL1Fwd4WGvumdrFp8vwhbMdYhE+Jstjg8zkNCzCdW+AZiV5Hu2BhBeuT6lT1+jxH0qU51199ZFgPQxGIwTGYeHLp66K4ZNiVMnx3FpjfnK6XePjJeyaLM3l0yF1mRptJRoRvZ7Mp9NImNej6DKz4HQ+Evfnk+j7UGrwMdolOMj/cogDSy2YVjAgovvfDPvQe9rM95sRhOP0N1UYvZe2GMmAKlQTtu9BlB3uR4uM5AEixyKXWzNPKJNu7diniAYJHGYuk2yaBqN+MHnQZZxdXrMCYeJc63vq5rqU890ka2LrJ/k5vblgQjwF0WNhrNcDAAAAAAAA+D+w7D/bXMKKcQULY3SZt7yW5h/22wW3+dBkxYn/p+LjZVH8mLva9xso5t1wpI3X+HYa2wLiVNmriePlrn57fOeeQ/SIMUSw8EivCcIe8gYzQoQIz5ZGigi4Dh3iJ8MiS7AjYpdzGdRKExQlnP+0OvKKi7pa2TFYSuH9tEqJhkdIhRQiOu538YnnkqCoqm6XppLIQSE/BHHGbZh5ohEFR4iwlOgw66Gf9CwQLrkkOJUeEcSrEoylq66SmFtwPkWDHH4iVx4jrck5UPaiLpK78h1+74Ig6NoffO39yyEJtcRQcFL9cQ9en47PRXXW10RTeUf+GGDuOzV/XP2xRBOVjm9cn7LQmjS8z8EqF3slDz2iOJ9VHO61wEVliSaO5/NKZ2EdT0re6CR8PlQE00Rbh3fPcMTr/mplxckDjTKDfrCYzjs4483ZE66KseLKs7PnZTwQuFBXz8gfgo0V4GG8C05z4pBMFSI8PanaHgeqUuFcD5glhapUODP/lPWCxyiCUv3BqAtK0v8UIryFw4gcdfV2eb9j1GjQvNa1/RMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4d/kP29xLaKNz9DgAAAAASUVORK5CYII="
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = i(n(0)),
      A = i(n(1)),
      a = n(459);

    function i(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var o = function () {
      function e(t) {
        (0, r.default)(this, e), this.handleExif = !0
      }
      return (0, A.default)(e, [{
        key: "setSrc",
        value: function (e) {
          var t = this;
          this.url = e, this.handleExif ? (0, a.getStrippedExifImage)(e).then((
            function (e) {
              t.builtInImage = e, t.builtInImage.onerror = t.onerror, e
                .complete ? t.onload() : e.onload = t.onload
            })).catch((function () {
            t.setNaiveImage(e)
          })) : this.setNaiveImage(e)
        }
      }, {
        key: "setNaiveImage",
        value: function (e) {
          this.builtInImage = new Image, this.crossOriginValue && this
            .builtInImage.setAttribute("crossorigin", this.crossOriginValue),
            this.builtInImage.onload = this.onload, this.builtInImage.onerror =
            this.onerror, this.builtInImage.src = e
        }
      }, {
        key: "setCrossOrigin",
        value: function (e) {
          this.crossOriginValue = e
        }
      }, {
        key: "getImage",
        value: function () {
          return this.builtInImage
        }
      }, {
        key: "src",
        get: function () {
          return this.url
        }
      }]), e
    }();
    t.default = o
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = a(n(36)),
      A = a(n(11));

    function a(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.getStrippedExifImage = function (e) {
      return function (e) {
        var t = e.url;
        return new A.default((function (e, n) {
          var r = new XMLHttpRequest;
          r.responseType = "blob", r.onload = function () {
            200 === r.status ? e(r.response) : n(r)
          }, r.onerror = function (e) {
            n(e)
          }, r.open("GET", t), r.send()
        }))
      }({
        url: e
      }).then((function (e) {
        return A.default.all([(t = {
          blob: e
        }, n = new FileReader, r = t.blob, new A.default((function (e,
        t) {
          n.onload = function (n) {
            var r, A;
            if ("string" == typeof (null === (r = n.target) ||
                void 0 === r ? void 0 : r.result) || !(null === (A =
                n.target) || void 0 === A ? void 0 : A.result))
              return t("getOrientationFromBlob: reader load error");
            var a = new DataView(n.target.result);
            if (65496 != a.getUint16(0, !1)) return e(-2);
            for (var i = a.byteLength, o = 2; o < i;) {
              if (a.getUint16(o + 2, !1) <= 8) return t(-1);
              var s = a.getUint16(o, !1);
              if (o += 2, 65505 == s) {
                if (1165519206 != a.getUint32(o += 2, !1)) return e(
                  -1);
                var u = 18761 == a.getUint16(o += 6, !1);
                o += a.getUint32(o + 4, u);
                var l = a.getUint16(o, u);
                o += 2;
                for (var c = 0; c < l; c++)
                  if (274 == a.getUint16(o + 12 * c, u)) return e(a
                    .getUint16(o + 12 * c + 8, u))
              } else {
                if (65280 != (65280 & s)) break;
                o += a.getUint16(o, !1)
              }
            }
            return e(-1)
          }, n.readAsArrayBuffer(r)
        }))), e]);
        var t, n, r
      })).then((function (e) {
        var t, n, a = (0, r.default)(e, 2),
          i = a[0],
          o = a[1];
        return i < 2 ? A.default.reject("没有 exif 信息。按照正常方式加载图片即可") : (t = {
          blob: o
        }, n = t.blob, new A.default((function (e, t) {
          var r = new FileReader;
          r.onload = function (r) {
            var A, a;
            if ("string" == typeof (null === (A = r.target) ||
                void 0 === A ? void 0 : A.result) || !(null === (a = r
                .target) || void 0 === a ? void 0 : a.result)) return t(
              "getExifStrippedBlobFromBlob: reader load error");
            var i = function (e) {
              var t = new DataView(e),
                n = 0,
                r = 0,
                A = [],
                a = 0;
              if (65496 == t.getUint16(n)) {
                n += 2;
                var i = t.getUint16(n);
                for (n += 2; n < t.byteLength;) {
                  if (65505 == i) A[a] = {
                    recess: r,
                    offset: n - 2
                  }, r = n + t.getUint16(n), a++;
                  else if (65498 == i) break;
                  n += t.getUint16(n), i = t.getUint16(n), n += 2
                }
                if (A.length > 0) {
                  var o = [];
                  return A.forEach((function (t) {
                    o.push(e.slice(t.recess, t.offset))
                  })), o.push(e.slice(r)), new Blob(o, {
                    type: "image/jpeg"
                  })
                }
              }
            }(r.target.result);
            i instanceof Blob ? e(i) : e(n)
          }, r.onerror = function (e) {
            t(e)
          }, r.readAsArrayBuffer(n)
        }))).then((function (e) {
          return function (e) {
            var t = e.blob;
            return new A.default((function (e, n) {
              var r = new FileReader;
              r.onload = function () {
                var t = r.result;
                e(t)
              }, r.onerror = function (e) {
                n(e)
              }, r.readAsDataURL(t)
            }))
          }({
            blob: e
          })
        })).then((function (e) {
          return t = e, n = i, new A.default((function (e, r) {
            var A = new Image;
            A.onload = function () {
              var t = A.width,
                r = A.height,
                a = document.createElement("canvas"),
                i = a.getContext("2d");
              switch (4 < n && n < 9 ? (a.width = r, a.height = t) :
                (a.width = t, a.height = r), n) {
                case 2:
                  i.transform(-1, 0, 0, 1, t, 0);
                  break;
                case 3:
                  i.transform(-1, 0, 0, -1, t, r);
                  break;
                case 4:
                  i.transform(1, 0, 0, -1, 0, r);
                  break;
                case 5:
                  i.transform(0, 1, 1, 0, 0, 0);
                  break;
                case 6:
                  i.transform(0, 1, -1, 0, r, 0);
                  break;
                case 7:
                  i.transform(0, -1, -1, 0, r, t);
                  break;
                case 8:
                  i.transform(0, -1, 1, 0, 0, t)
              }
              i.drawImage(A, 0, 0), e(a.toDataURL())
            }, A.src = t
          }));
          var t, n
        })).then((function (e) {
          return t = e, new A.default((function (e, n) {
            var r = new Image;
            r.onload = function () {
              e(r)
            }, r.onerror = function () {
              n()
            }, r.src = t
          }));
          var t
        }))
      }))
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = g(n(0)),
      A = g(n(1)),
      a = n(28),
      i = g(n(149)),
      o = g(n(150)),
      s = g(n(461)),
      u = g(n(462)),
      l = g(n(463)),
      c = g(n(464)),
      d = g(n(465)),
      p = g(n(466)),
      h = g(n(467)),
      f = n(14);

    function g(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var y = .5522848,
      v = .1,
      m = function () {
        function e(t) {
          (0, r.default)(this, e), this.ShapeDesc = {
            diamond: {
              hint: (0, f.getMsg)("Diamond"),
              icon: h.default,
              path: [{
                per: [-1 / 8, 1 / 8],
                t: "l",
                pos: [
                  [0, .5],
                  [.5, 0]
                ]
              }, {
                per: [1 / 8, 3 / 8],
                t: "l",
                pos: [
                  [.5, 0],
                  [1, .5]
                ]
              }, {
                per: [3 / 8, 5 / 8],
                t: "l",
                pos: [
                  [1, .5],
                  [.5, 1]
                ]
              }, {
                per: [5 / 8, 7 / 8],
                t: "l",
                pos: [
                  [.5, 1],
                  [0, .5]
                ]
              }],
              dir: [{
                per: [0, .25],
                angle: a.DIRECTION.UP
              }, {
                per: [.25, .5],
                angle: a.DIRECTION.RIGHT
              }, {
                per: [.5, .75],
                angle: a.DIRECTION.DOWN
              }, {
                per: [.75, 1],
                angle: a.DIRECTION.LEFT
              }],
              textB: [
                [.23, .25],
                [.75, .77]
              ]
            },
            "round-rect": {
              hint: (0, f.getMsg)("roundRect"),
              icon: s.default,
              path: function (e, t) {
                var n = e > t ? v * t / e : v,
                  r = e > t ? v : v * e / t;
                return [{
                  per: [.02, .23],
                  t: "l",
                  pos: [
                    [n, 0],
                    [1 - n, 0]
                  ]
                }, {
                  per: [.23, .27],
                  t: "b",
                  pos: [
                    [1 - n, 0],
                    [1 - n + n * y, 0],
                    [1, r - r * y],
                    [1, r]
                  ]
                }, {
                  per: [.27, .48],
                  t: "l",
                  pos: [
                    [1, r],
                    [1, 1 - r]
                  ]
                }, {
                  per: [.48, .52],
                  t: "b",
                  pos: [
                    [1, 1 - r],
                    [1, 1 - r + r * y],
                    [1 - n + n * y, 1],
                    [1 - n, 1]
                  ]
                }, {
                  per: [.52, .73],
                  t: "l",
                  pos: [
                    [1 - n, 1],
                    [n, 1]
                  ]
                }, {
                  per: [.73, .77],
                  t: "b",
                  pos: [
                    [n, 1],
                    [n - n * y, 1],
                    [0, 1 - r + r * y],
                    [0, 1 - r]
                  ]
                }, {
                  per: [.77, .98],
                  t: "l",
                  pos: [
                    [0, 1 - r],
                    [0, r]
                  ]
                }, {
                  per: [.98, .02],
                  t: "b",
                  pos: [
                    [0, r],
                    [0, r - r * y],
                    [n - n * y, 0],
                    [n, 0]
                  ]
                }]
              },
              dir: [{
                per: [0, .25],
                angle: a.DIRECTION.UP
              }, {
                per: [.25, .5],
                angle: a.DIRECTION.RIGHT
              }, {
                per: [.5, .75],
                angle: a.DIRECTION.DOWN
              }, {
                per: [.75, 1],
                angle: a.DIRECTION.LEFT
              }],
              textB: [
                [v - v / Math.SQRT2, v - v / Math.SQRT2],
                [1 - 2 * (v - v / Math.SQRT2), 1 - 2 * (v - v / Math.SQRT2)]
              ]
            },
            parallelogram: {
              hint: (0, f.getMsg)("Parallelogram"),
              icon: u.default,
              path: [{
                per: [0, .125],
                t: "l",
                pos: [
                  [.2, 0],
                  [.5, 0]
                ]
              }, {
                per: [.125, .25],
                t: "l",
                pos: [
                  [.5, 0],
                  [1, 0]
                ]
              }, {
                per: [.25, .5],
                t: "l",
                pos: [
                  [1, 0],
                  [.8, 1]
                ]
              }, {
                per: [.5, .625],
                t: "l",
                pos: [
                  [.8, 1],
                  [.5, 1]
                ]
              }, {
                per: [.625, .75],
                t: "l",
                pos: [
                  [.5, 1],
                  [0, 1]
                ]
              }, {
                per: [.75, 1],
                t: "l",
                pos: [
                  [0, 1],
                  [.2, 0]
                ]
              }],
              dir: [{
                per: [0, .25],
                angle: a.DIRECTION.UP
              }, {
                per: [.25, .5],
                angle: a.DIRECTION.RIGHT
              }, {
                per: [.5, .75],
                angle: a.DIRECTION.DOWN
              }, {
                per: [.75, 1],
                angle: a.DIRECTION.LEFT
              }],
              textB: [
                [.2, 0],
                [.8, 1]
              ]
            },
            cloud: {
              hint: (0, f.getMsg)("Cloud"),
              icon: l.default,
              path: [{
                per: [0, .27],
                t: "b",
                pos: [
                  [.273, .157],
                  [.333, -.03],
                  [.718, -.058],
                  [.82, .14]
                ]
              }, {
                per: [.27, .375],
                t: "b",
                pos: [
                  [.82, .14],
                  [1.005, .152],
                  [1.067, .368],
                  [.922, .5]
                ]
              }, {
                per: [.375, .466],
                t: "b",
                pos: [
                  [.922, .5],
                  [1.043, .645],
                  [1.018, .8],
                  [.888, .87]
                ]
              }, {
                per: [.466, .625],
                t: "b",
                pos: [
                  [.888, .87],
                  [.902, 1.008],
                  [.625, 1.053],
                  [.5, .912]
                ]
              }, {
                per: [.625, .739],
                t: "b",
                pos: [
                  [.5, .912],
                  [.35, 1.057],
                  [.145, 1.018],
                  [.145, .823]
                ]
              }, {
                per: [.739, .875],
                t: "b",
                pos: [
                  [.145, .823],
                  [.01, .783],
                  [-.06, .65],
                  [.082, .5]
                ]
              }, {
                per: [.875, 1],
                t: "b",
                pos: [
                  [.082, .5],
                  [-.105, .278],
                  [.092, .098],
                  [.273, .157]
                ]
              }],
              dir: [{
                per: [0, .25],
                angle: a.DIRECTION.UP
              }, {
                per: [.25, .5],
                angle: a.DIRECTION.RIGHT
              }, {
                per: [.5, .75],
                angle: a.DIRECTION.DOWN
              }, {
                per: [.75, 1],
                angle: a.DIRECTION.LEFT
              }],
              textB: [
                [.15, .16],
                [.89, .88]
              ]
            },
            rect: {
              hint: (0, f.getMsg)("Rect"),
              icon: o.default,
              path: [{
                per: [0, .25],
                t: "l",
                pos: [
                  [0, 0],
                  [1, 0]
                ]
              }, {
                per: [.25, .5],
                t: "l",
                pos: [
                  [1, 0],
                  [1, 1]
                ]
              }, {
                per: [.5, .75],
                t: "l",
                pos: [
                  [1, 1],
                  [0, 1]
                ]
              }, {
                per: [.75, 1],
                t: "l",
                pos: [
                  [0, 1],
                  [0, 0]
                ]
              }],
              dir: [{
                per: [0, .25],
                angle: a.DIRECTION.UP
              }, {
                per: [.25, .5],
                angle: a.DIRECTION.RIGHT
              }, {
                per: [.5, .75],
                angle: a.DIRECTION.DOWN
              }, {
                per: [.75, 1],
                angle: a.DIRECTION.LEFT
              }],
              textB: [
                [.02, .02],
                [.98, .98]
              ]
            },
            triangle: {
              hint: (0, f.getMsg)("Triangle"),
              icon: p.default,
              path: [{
                per: [0, .125],
                t: "l",
                pos: [
                  [1 / 3, 1 / 3],
                  [.5, 0]
                ]
              }, {
                per: [.125, .25],
                t: "l",
                pos: [
                  [.5, 0],
                  [2 / 3, 1 / 3]
                ]
              }, {
                per: [.25, .5],
                t: "l",
                pos: [
                  [2 / 3, 1 / 3],
                  [1, 1]
                ]
              }, {
                per: [.5, .75],
                t: "l",
                pos: [
                  [1, 1],
                  [0, 1]
                ]
              }, {
                per: [.75, 1],
                t: "l",
                pos: [
                  [0, 1],
                  [1 / 3, 1 / 3]
                ]
              }],
              dir: [{
                per: [0, .125],
                angle: a.DIRECTION.UP
              }, {
                per: [.125, .25],
                angle: a.DIRECTION.UP
              }, {
                per: [.25, .5],
                angle: a.DIRECTION.RIGHT
              }, {
                per: [.5, .75],
                angle: a.DIRECTION.DOWN
              }, {
                per: [.75, 1],
                angle: a.DIRECTION.LEFT
              }],
              textB: [
                [.25, .5],
                [.75, 1]
              ]
            },
            ellipse: {
              hint: (0, f.getMsg)("Ellipse"),
              icon: d.default,
              textB: [
                [.14, .14],
                [.86, .86]
              ],
              path: [{
                t: "b",
                pos: [
                  [0, .5],
                  [0, .2238576],
                  [.2238576, 0],
                  [.5, 0]
                ],
                per: [-1 / 8, 1 / 8]
              }, {
                t: "b",
                pos: [
                  [.5, 0],
                  [.7761424, 0],
                  [1, .2238576],
                  [1, .5]
                ],
                per: [1 / 8, 3 / 8]
              }, {
                t: "b",
                pos: [
                  [1, .5],
                  [1, .7761424],
                  [.7761424, 1],
                  [.5, 1]
                ],
                per: [3 / 8, 5 / 8]
              }, {
                t: "b",
                pos: [
                  [.5, 1],
                  [.2238576, 1],
                  [0, .7761424],
                  [0, .5]
                ],
                per: [5 / 8, 7 / 8]
              }],
              dir: [{
                per: [0, 1 / 4],
                angle: a.DIRECTION.UP
              }, {
                per: [1 / 4, .5],
                angle: a.DIRECTION.RIGHT
              }, {
                per: [.5, 3 / 4],
                angle: a.DIRECTION.DOWN
              }, {
                per: [3 / 4, 1],
                angle: a.DIRECTION.LEFT
              }]
            },
            star: {
              hint: (0, f.getMsg)("Star"),
              icon: c.default,
              textB: [
                [.25, .33],
                [.75, .8]
              ],
              path: [{
                t: "l",
                per: [.125, .225],
                pos: [
                  [.5, 0],
                  [.655, .329]
                ]
              }, {
                t: "l",
                per: [.225, .325],
                pos: [
                  [.655, .329],
                  [1, .382]
                ]
              }, {
                t: "l",
                per: [.325, .425],
                pos: [
                  [1, .382],
                  [.75, .724]
                ]
              }, {
                t: "l",
                per: [.425, .525],
                pos: [
                  [.75, .724],
                  [.809, 1]
                ]
              }, {
                t: "l",
                per: [.525, .625],
                pos: [
                  [.809, 1],
                  [.5, .829]
                ]
              }, {
                t: "l",
                per: [.625, .725],
                pos: [
                  [.5, .829],
                  [.191, 1]
                ]
              }, {
                t: "l",
                per: [.725, .825],
                pos: [
                  [.191, 1],
                  [.25, .724]
                ]
              }, {
                t: "l",
                per: [.825, .925],
                pos: [
                  [.25, .724],
                  [0, .382]
                ]
              }, {
                t: "l",
                per: [-.075, .025],
                pos: [
                  [0, .382],
                  [.345, .329]
                ]
              }, {
                t: "l",
                per: [.025, .125],
                pos: [
                  [.345, .329],
                  [.5, 0]
                ]
              }],
              dir: [{
                per: [0, .25],
                angle: a.DIRECTION.UP
              }, {
                per: [.25, .5],
                angle: a.DIRECTION.RIGHT
              }, {
                per: [.5, .75],
                angle: a.DIRECTION.DOWN
              }, {
                per: [.75, 1],
                angle: a.DIRECTION.LEFT
              }]
            }
          }, this.popupShapes = ["text", "rect", "round-rect", "triangle",
            "parallelogram", "cloud", "ellipse", "star", "diamond"
          ], this.floatShapes = ["text", "rect", "round-rect", "triangle",
            "parallelogram", "cloud", "ellipse", "star", "diamond"
          ], this.tbShapes = ["rect", "round-rect", "triangle", "parallelogram",
            "cloud", "ellipse", "star", "diamond"
          ], this.app = t
        }
        return (0, A.default)(e, [{
          key: "getShapeIcons",
          value: function (e) {
            var t = this,
              n = {};
            return e.forEach((function (e) {
              t.ShapeDesc.hasOwnProperty(e) ? n[e] = {
                icon: t.ShapeDesc[e].icon,
                hint: t.ShapeDesc[e].hint
              } : "text" === e ? n[e] = {
                icon: i.default,
                hint: (0, f.getMsg)("Text")
              } : t.app.logger.error("Shape " + e + " is not found")
            })), n
          }
        }, {
          key: "getPopupShapes",
          value: function () {
            return this.getShapeIcons(this.popupShapes)
          }
        }, {
          key: "getFloatShapes",
          value: function () {
            return this.getShapeIcons(this.floatShapes)
          }
        }, {
          key: "getTbShapes",
          value: function () {
            return this.getShapeIcons(this.tbShapes)
          }
        }, {
          key: "getShapeBoundByTextBound",
          value: function (e, t) {
            var n = (this.ShapeDesc[e] || this.ShapeDesc.rect).textB || [
                [0, 0],
                [1, 1]
              ],
              r = t.w / (n[1][0] - n[0][0]),
              A = t.h / (n[1][1] - n[0][1]);
            return {
              w: r,
              h: A,
              sx: t.sx - r * n[0][0],
              sy: t.sy - A * n[0][1]
            }
          }
        }]), e
      }();
    t.default = m
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMTIiIHk9IjEyIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSI0IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNiIvPgo8L3N2Zz4K"
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1NTk2NjM5NzIxMyIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iODQxMiIgd2lkdGg9IjQwIgogICAgaGVpZ2h0PSI0MCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPHBhdGgKICAgICAgICBkPSJNMzUwIDMwMGg0MDBsLTEwMCA0MDBoLTQwMHoiCiAgICAgICAgc3Ryb2tlLXdpZHRoPSI0MCIgc3Ryb2tlPSIjMDAwMDAwIiBmaWxsPSJub25lIj48L3BhdGg+Cjwvc3ZnPg=="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1NTk2NjM5NzIxMyIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iODQxMiIgd2lkdGg9IjQwIgogICAgaGVpZ2h0PSI0MCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPHBhdGgKICAgICAgICBkPSJNMzYzLjkzIDMzMC4xM0MzOTkuNDcgMjA5LjY3LCA2MTIuNjcgMjIwLjA3LCA2MzMuNDcgMzE1LjQwQzc0NS4yNyAzMDAuNjcsIDc5NS41MyA0MDkuMDAsIDczMS40MCA1MDMuNDdDNzk5LjAwIDU5MS4wMCwgNzM2LjYwIDcyOS42NywgNjUwLjgwIDcwMS45M0M2MjAuNDcgNzcwLjQwLCA1MzIuOTMgNzg2Ljg3LCA0ODcuODcgNzAxLjkzQzQxOC41MyA3ODIuNTMsIDMzMy42MCA3NDIuNjcsIDMxNS40MCA2NjguMTNDMjM1LjY3IDYyOC4yNywgMjE0LjAwIDU0NC4yMCwgMjgxLjYwIDQ3NC4wMEMxOTQuMDcgNDA5Ljg3LCAyOTIuMDAgMjkyLjAwLCAzNjMuOTMgMzMwLjEzIgogICAgICAgIHN0cm9rZS13aWR0aD0iNDAiIHN0cm9rZT0iIzAwMDAwMCIgZmlsbD0ibm9uZSI+PC9wYXRoPgo8L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHZpZXdCb3g9IjAgMCA0MCA0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiPgogICAgPHBhdGgKICAgIGQ9Ik0yMCA5bDMuMjMgNi41NWw3LjIzIDEuMDVsLTUuMjMgNi44MGwxLjIzIDUuNTBsLTYuNDcgLTMuNDBsLTYuNDcgMy40MGwxLjIzIC01LjUwbC01LjIzIC02LjgwbDcuMjMgLTEuMDV6IgogICAgc3Ryb2tlLXdpZHRoPSIxLjYiIHN0cm9rZT0iIzAwMDAwMCIgZmlsbD0ibm9uZSI+PC9wYXRoPgo8L3N2Zz4="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTAiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMS44Ii8+Cjwvc3ZnPgo="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1NTk2NjM5NzIxMyIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iODQxMiIgd2lkdGg9IjQwIgogICAgaGVpZ2h0PSI0MCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPHBhdGgKICAgICAgICBkPSJNNTAwIDI4MGwtMjIwIDQ0MGw0NDAgMHoiCiAgICAgICAgc3Ryb2tlLXdpZHRoPSI0MCIgc3Ryb2tlPSIjMDAwMDAwIiBmaWxsPSJub25lIj48L3BhdGg+Cjwvc3ZnPg=="
  }, function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdD0iMTY1NTk2NjM5NzIxMyIKICAgIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iODQxMiIgd2lkdGg9IjQwIgogICAgaGVpZ2h0PSI0MCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPHBhdGgKICAgICAgICBkPSJNNTAwIDI1MGwtMjUwIDI1MGwyNTAgMjUwbDI1MCAtMjUwbC0yNTAgLTI1MCIKICAgICAgICBzdHJva2Utd2lkdGg9IjQwIiBzdHJva2U9IiMwMDAwMDAiIGZpbGw9Im5vbmUiPjwvcGF0aD4KPC9zdmc+"
  }, function (e, t, n) {
    "use strict";
    n.r(t), n.d(t, "default", (function () {
      return a
    }));
    var r = n(264),
      A = n.n(r);

    function a() {
      return A()(
        '/*!\n * \n *     VERSION: 3.9.15\n *     Git Hash: 0bcc91b00b789cd59996fd99a5b71de5a9298065\n * \n *     Create At: 2025/4/22 15:36:21\n * \n */!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=void 0,a=!1;self.onmessage=function(e){switch(e.data.command){case"start":clearInterval(r),r=setInterval((function(){postMessage({message:"tick"})}),e.data.interval),a=!0;break;case"update":clearInterval(r),a&&(r=setInterval((function(){postMessage({message:"tick"})}),e.data.interval));break;case"end":clearInterval(r),a=!1}}}]);',
        "Worker", void 0, void 0)
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = u(n(0)),
      A = u(n(1)),
      a = u(n(470)),
      i = u(n(146)),
      o = function (e) {
        if (e && e.__esModule) return e;
        var t = {};
        if (null != e)
          for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t.default = e, t
      }(n(157)),
      s = n(260);

    function u(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var l = (new Date).valueOf(),
      c = function () {
        function e(t, n) {
          (0, r.default)(this, e), this.dispatcher = new i.default, this.appInDebug = n,
            this.logger = new a.default("whiteboard-" + t, 864e5), this.wrapLog(), this
            .log(s.SPLITTER)
        }
        return (0, A.default)(e, [{
          key: "getLogTilNow",
          value: function () {
            var e = (new Date).valueOf();
            return this.logger.get({
              start: 0,
              end: e
            }).then((function (e) {
              return e
            }))
          }
        }, {
          key: "deleteLogTilNow",
          value: function () {
            var e = (new Date).valueOf();
            this.logger.delete({
              start: 0,
              end: e
            })
          }
        }, {
          key: "wrapLog",
          value: function () {
            this.log = this.wrapLogByType("log"), this.info = this.wrapLogByType(
                "info"), this.error = this.wrapLogByType("error"), this.warn =
              this.wrapLogByType("warn"), this.debug = this.wrapLogByType("debug")
          }
        }, {
          key: "wrapLogByType",
          value: function (e) {
            var t = this;
            return function () {
              for (var n = arguments.length, r = Array(n), A = 0; A < n; A++) r[
                A] = arguments[A];
              var a = Array.prototype.slice.apply(r);
              a = [t.getLogPrefix()].concat(a);
              var i = t.argsToString.call(t, a, e);
              try {
                t.dispatcher.emit("log", {
                  type: e,
                  msg: i
                }), (t.appInDebug || "error" === e) && console[e].apply(
                  console, a), t.logger.log(e, i)
              } catch (e) {}
            }
          }
        }, {
          key: "argsToString",
          value: function (e, t) {
            var n = "";
            try {
              for (var r = [], A = 0; A < e.length; A++) o.isFunction(e[A]) ? r
                .push(e[A].toString()) : o.isObject(e[A]) || o.isArray(e[A]) ? r
                .push(o.JSONStringify(e[A])) : r.push(e[A]);
              n = r.join(" ")
            } catch (e) {}
            return this.padEnd(t, 5) + " " + n
          }
        }, {
          key: "getLogPrefix",
          value: function () {
            var e = new Date,
              t = e.valueOf() - l,
              n = e.toLocaleString();
            return "+" + this.pad(t / 1e3, 1, 6) + "s " + n
          }
        }, {
          key: "pad",
          value: function (e, t, n) {
            for (var r = e.toFixed(t).toString(); r.length < n;) r = " " + r;
            return r
          }
        }, {
          key: "padEnd",
          value: function (e, t) {
            for (; e.length < t;) e += " ";
            return e
          }
        }]), e
      }();
    t.default = c
  }, function (e, t, n) {
    window,
    e.exports = function (e) {
      var t = {};

      function n(r) {
        if (t[r]) return t[r].exports;
        var A = t[r] = {
          i: r,
          l: !1,
          exports: {}
        };
        return e[r].call(A.exports, A, A.exports, n), A.l = !0, A.exports
      }
      return n.m = e, n.c = t, n.d = function (e, t, r) {
        n.o(e, t) || Object.defineProperty(e, t, {
          enumerable: !0,
          get: r
        })
      }, n.r = function (e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e,
          Symbol.toStringTag, {
            value: "Module"
          }), Object.defineProperty(e, "__esModule", {
          value: !0
        })
      }, n.t = function (e, t) {
        if (1 & t && (e = n(e)), 8 & t) return e;
        if (4 & t && "object" == typeof e && e && e.__esModule) return e;
        var r = Object.create(null);
        if (n.r(r), Object.defineProperty(r, "default", {
            enumerable: !0,
            value: e
          }), 2 & t && "string" != typeof e)
          for (var A in e) n.d(r, A, function (t) {
            return e[t]
          }.bind(null, A));
        return r
      }, n.n = function (e) {
        var t = e && e.__esModule ? function () {
          return e.default
        } : function () {
          return e
        };
        return n.d(t, "a", t), t
      }, n.o = function (e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
      }, n.p = "", n(n.s = 106)
    }([function (e, t, n) {
      "use strict";
      var r = n(3),
        A = n(27).f,
        a = n(74),
        i = n(9),
        o = n(12),
        s = n(14),
        u = n(13),
        l = function (e) {
          var t = function (t, n, r) {
            if (this instanceof e) {
              switch (arguments.length) {
                case 0:
                  return new e;
                case 1:
                  return new e(t);
                case 2:
                  return new e(t, n)
              }
              return new e(t, n, r)
            }
            return e.apply(this, arguments)
          };
          return t.prototype = e.prototype, t
        };
      e.exports = function (e, t) {
        var n, c, d, p, h, f, g, y, v = e.target,
          m = e.global,
          w = e.stat,
          B = e.proto,
          I = m ? r : w ? r[v] : (r[v] || {}).prototype,
          M = m ? i : i[v] || (i[v] = {}),
          C = M.prototype;
        for (d in t) n = !a(m ? d : v + (w ? "." : "#") + d, e.forced) && I && u(I,
            d), h = M[d], n && (f = e.noTargetGet ? (y = A(I, d)) && y.value : I[
          d]), p = n && f ? f : t[d], n && typeof h == typeof p || (g = e.bind &&
            n ? o(p, r) : e.wrap && n ? l(p) : B && "function" == typeof p ? o(
              Function.call, p) : p, (e.sham || p && p.sham || h && h.sham) && s(g,
              "sham", !0), M[d] = g, B && (u(i, c = v + "Prototype") || s(i, c, {}),
              i[c][d] = p, e.real && C && !C[d] && s(C, d, p)))
      }
    }, function (e, t, n) {
      var r = n(10);
      e.exports = function (e) {
        if (!r(e)) throw TypeError(String(e) + " is not an object");
        return e
      }
    }, function (e, t) {
      e.exports = !0
    }, function (e, t, n) {
      (function (t) {
        var n = function (e) {
          return e && e.Math == Math && e
        };
        e.exports = n("object" == typeof globalThis && globalThis) || n("object" ==
          typeof window && window) || n("object" == typeof self && self) || n(
          "object" == typeof t && t) || function () {
          return this
        }() || Function("return this")()
      }).call(this, n(110))
    }, function (e, t, n) {
      var r = n(1),
        A = n(116),
        a = n(29),
        i = n(12),
        o = n(82),
        s = n(117),
        u = function (e, t) {
          this.stopped = e, this.result = t
        };
      e.exports = function (e, t, n) {
        var l, c, d, p, h, f, g, y = n && n.that,
          v = !(!n || !n.AS_ENTRIES),
          m = !(!n || !n.IS_ITERATOR),
          w = !(!n || !n.INTERRUPTED),
          B = i(t, y, 1 + v + w),
          I = function (e) {
            return l && s(l), new u(!0, e)
          },
          M = function (e) {
            return v ? (r(e), w ? B(e[0], e[1], I) : B(e[0], e[1])) : w ? B(e, I) :
              B(e)
          };
        if (m) l = e;
        else {
          if ("function" != typeof (c = o(e))) throw TypeError(
            "Target is not iterable");
          if (A(c)) {
            for (d = 0, p = a(e.length); p > d; d++)
              if ((h = M(e[d])) && h instanceof u) return h;
            return new u(!1)
          }
          l = c.call(e)
        }
        for (f = l.next; !(g = f.call(l)).done;) {
          try {
            h = M(g.value)
          } catch (e) {
            throw s(l), e
          }
          if ("object" == typeof h && h && h instanceof u) return h
        }
        return new u(!1)
      }
    }, function (e, t, n) {
      var r = n(9),
        A = n(13),
        a = n(68),
        i = n(15).f;
      e.exports = function (e) {
        var t = r.Symbol || (r.Symbol = {});
        A(t, e) || i(t, e, {
          value: a.f(e)
        })
      }
    }, function (e, t, n) {
      var r = n(3),
        A = n(53),
        a = n(13),
        i = n(40),
        o = n(58),
        s = n(81),
        u = A("wks"),
        l = r.Symbol,
        c = s ? l : l && l.withoutSetter || i;
      e.exports = function (e) {
        return a(u, e) && (o || "string" == typeof u[e]) || (o && a(l, e) ? u[e] =
          l[e] : u[e] = c("Symbol." + e)), u[e]
      }
    }, function (e, t) {
      e.exports = function (e) {
        try {
          return !!e()
        } catch (e) {
          return !0
        }
      }
    }, function (e, t) {
      e.exports = function (e) {
        if ("function" != typeof e) throw TypeError(String(e) +
          " is not a function");
        return e
      }
    }, function (e, t) {
      e.exports = {}
    }, function (e, t) {
      e.exports = function (e) {
        return "object" == typeof e ? null !== e : "function" == typeof e
      }
    }, function (e, t, n) {
      var r = n(7);
      e.exports = !r((function () {
        return 7 != Object.defineProperty({}, 1, {
          get: function () {
            return 7
          }
        })[1]
      }))
    }, function (e, t, n) {
      var r = n(8);
      e.exports = function (e, t, n) {
        if (r(e), void 0 === t) return e;
        switch (n) {
          case 0:
            return function () {
              return e.call(t)
            };
          case 1:
            return function (n) {
              return e.call(t, n)
            };
          case 2:
            return function (n, r) {
              return e.call(t, n, r)
            };
          case 3:
            return function (n, r, A) {
              return e.call(t, n, r, A)
            }
        }
        return function () {
          return e.apply(t, arguments)
        }
      }
    }, function (e, t, n) {
      var r = n(19),
        A = {}.hasOwnProperty;
      e.exports = Object.hasOwn || function (e, t) {
        return A.call(r(e), t)
      }
    }, function (e, t, n) {
      var r = n(11),
        A = n(15),
        a = n(22);
      e.exports = r ? function (e, t, n) {
        return A.f(e, t, a(1, n))
      } : function (e, t, n) {
        return e[t] = n, e
      }
    }, function (e, t, n) {
      var r = n(11),
        A = n(73),
        a = n(1),
        i = n(37),
        o = Object.defineProperty;
      t.f = r ? o : function (e, t, n) {
        if (a(e), t = i(t, !0), a(n), A) try {
          return o(e, t, n)
        } catch (e) {}
        if ("get" in n || "set" in n) throw TypeError("Accessors not supported");
        return "value" in n && (e[t] = n.value), e
      }
    }, function (e, t, n) {
      var r = n(9),
        A = n(3),
        a = function (e) {
          return "function" == typeof e ? e : void 0
        };
      e.exports = function (e, t) {
        return arguments.length < 2 ? a(r[e]) || a(A[e]) : r[e] && r[e][t] || A[
          e] && A[e][t]
      }
    }, function (e, t, n) {
      var r = n(2),
        A = n(224);
      e.exports = r ? A : function (e) {
        return Map.prototype.entries.call(e)
      }
    }, function (e, t, n) {
      var r = n(72),
        A = n(36);
      e.exports = function (e) {
        return r(A(e))
      }
    }, function (e, t, n) {
      var r = n(36);
      e.exports = function (e) {
        return Object(r(e))
      }
    }, function (e, t, n) {
      var r, A, a, i = n(89),
        o = n(3),
        s = n(10),
        u = n(14),
        l = n(13),
        c = n(54),
        d = n(39),
        p = n(30),
        h = o.WeakMap;
      if (i || c.state) {
        var f = c.state || (c.state = new h),
          g = f.get,
          y = f.has,
          v = f.set;
        r = function (e, t) {
          if (y.call(f, e)) throw new TypeError("Object already initialized");
          return t.facade = e, v.call(f, e, t), t
        }, A = function (e) {
          return g.call(f, e) || {}
        }, a = function (e) {
          return y.call(f, e)
        }
      } else {
        var m = d("state");
        p[m] = !0, r = function (e, t) {
          if (l(e, m)) throw new TypeError("Object already initialized");
          return t.facade = e, u(e, m, t), t
        }, A = function (e) {
          return l(e, m) ? e[m] : {}
        }, a = function (e) {
          return l(e, m)
        }
      }
      e.exports = {
        set: r,
        get: A,
        has: a,
        enforce: function (e) {
          return a(e) ? A(e) : r(e, {})
        },
        getterFor: function (e) {
          return function (t) {
            var n;
            if (!s(t) || (n = A(t)).type !== e) throw TypeError(
              "Incompatible receiver, " + e + " required");
            return n
          }
        }
      }
    }, function (e, t, n) {
      var r = n(9);
      e.exports = function (e) {
        return r[e + "Prototype"]
      }
    }, function (e, t) {
      e.exports = function (e, t) {
        return {
          enumerable: !(1 & e),
          configurable: !(2 & e),
          writable: !(4 & e),
          value: t
        }
      }
    }, function (e, t) {
      e.exports = {}
    }, function (e, t, n) {
      var r = n(59),
        A = n(15).f,
        a = n(14),
        i = n(13),
        o = n(119),
        s = n(6)("toStringTag");
      e.exports = function (e, t, n, u) {
        if (e) {
          var l = n ? e : e.prototype;
          i(l, s) || A(l, s, {
            configurable: !0,
            value: t
          }), u && !r && a(l, "toString", o)
        }
      }
    }, function (e, t, n) {
      var r = n(12),
        A = n(72),
        a = n(19),
        i = n(29),
        o = n(63),
        s = [].push,
        u = function (e) {
          var t = 1 == e,
            n = 2 == e,
            u = 3 == e,
            l = 4 == e,
            c = 6 == e,
            d = 7 == e,
            p = 5 == e || c;
          return function (h, f, g, y) {
            for (var v, m, w = a(h), B = A(w), I = r(f, g, 3), M = i(B.length), C =
                0, b = y || o, x = t ? b(h, M) : n || d ? b(h, 0) : void 0; M >
              C; C++)
              if ((p || C in B) && (m = I(v = B[C], C, w), e))
                if (t) x[C] = m;
                else if (m) switch (e) {
              case 3:
                return !0;
              case 5:
                return v;
              case 6:
                return C;
              case 2:
                s.call(x, v)
            } else switch (e) {
              case 4:
                return !1;
              case 7:
                s.call(x, v)
            }
            return c ? -1 : u || l ? l : x
          }
        };
      e.exports = {
        forEach: u(0),
        map: u(1),
        filter: u(2),
        some: u(3),
        every: u(4),
        find: u(5),
        findIndex: u(6),
        filterOut: u(7)
      }
    }, function (e, t, n) {
      e.exports = n(107)
    }, function (e, t, n) {
      var r = n(11),
        A = n(71),
        a = n(22),
        i = n(18),
        o = n(37),
        s = n(13),
        u = n(73),
        l = Object.getOwnPropertyDescriptor;
      t.f = r ? l : function (e, t) {
        if (e = i(e), t = o(t, !0), u) try {
          return l(e, t)
        } catch (e) {}
        if (s(e, t)) return a(!A.f.call(e, t), e[t])
      }
    }, function (e, t) {
      var n = {}.toString;
      e.exports = function (e) {
        return n.call(e).slice(8, -1)
      }
    }, function (e, t, n) {
      var r = n(42),
        A = Math.min;
      e.exports = function (e) {
        return e > 0 ? A(r(e), 9007199254740991) : 0
      }
    }, function (e, t) {
      e.exports = {}
    }, function (e, t, n) {
      var r = n(14);
      e.exports = function (e, t, n, A) {
        A && A.enumerable ? e[t] = n : r(e, t, n)
      }
    }, function (e, t, n) {
      var r = n(1),
        A = n(8),
        a = n(6)("species");
      e.exports = function (e, t) {
        var n, i = r(e).constructor;
        return void 0 === i || null == (n = r(i)[a]) ? t : A(n)
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(8),
        A = function (e) {
          var t, n;
          this.promise = new e((function (e, r) {
            if (void 0 !== t || void 0 !== n) throw TypeError(
              "Bad Promise constructor");
            t = e, n = r
          })), this.resolve = r(t), this.reject = r(n)
        };
      e.exports.f = function (e) {
        return new A(e)
      }
    }, function (e, t, n) {
      n(128);
      var r = n(129),
        A = n(3),
        a = n(45),
        i = n(14),
        o = n(23),
        s = n(6)("toStringTag");
      for (var u in r) {
        var l = A[u],
          c = l && l.prototype;
        c && a(c) !== s && i(c, s, u), o[u] = o.Array
      }
    }, function (e, t) {
      e.exports = function (e) {
        return e && e.__esModule ? e : {
          default: e
        }
      }, e.exports.default = e.exports, e.exports.__esModule = !0
    }, function (e, t) {
      e.exports = function (e) {
        if (null == e) throw TypeError("Can't call method on " + e);
        return e
      }
    }, function (e, t, n) {
      var r = n(10);
      e.exports = function (e, t) {
        if (!r(e)) return e;
        var n, A;
        if (t && "function" == typeof (n = e.toString) && !r(A = n.call(e)))
        return A;
        if ("function" == typeof (n = e.valueOf) && !r(A = n.call(e))) return A;
        if (!t && "function" == typeof (n = e.toString) && !r(A = n.call(e)))
        return A;
        throw TypeError("Can't convert object to primitive value")
      }
    }, function (e, t, n) {
      e.exports = n(111)
    }, function (e, t, n) {
      var r = n(53),
        A = n(40),
        a = r("keys");
      e.exports = function (e) {
        return a[e] || (a[e] = A(e))
      }
    }, function (e, t) {
      var n = 0,
        r = Math.random();
      e.exports = function (e) {
        return "Symbol(" + String(void 0 === e ? "" : e) + ")_" + (++n + r)
          .toString(36)
      }
    }, function (e, t, n) {
      var r, A = n(1),
        a = n(76),
        i = n(57),
        o = n(30),
        s = n(80),
        u = n(51),
        l = n(39)("IE_PROTO"),
        c = function () {},
        d = function (e) {
          return "<script>" + e + "<\/script>"
        },
        p = function () {
          try {
            r = document.domain && new ActiveXObject("htmlfile")
          } catch (e) {}
          var e, t;
          p = r ? function (e) {
            e.write(d("")), e.close();
            var t = e.parentWindow.Object;
            return e = null, t
          }(r) : ((t = u("iframe")).style.display = "none", s.appendChild(t), t
            .src = String("javascript:"), (e = t.contentWindow.document).open(), e
            .write(d("document.F=Object")), e.close(), e.F);
          for (var n = i.length; n--;) delete p.prototype[i[n]];
          return p()
        };
      o[l] = !0, e.exports = Object.create || function (e, t) {
        var n;
        return null !== e ? (c.prototype = A(e), n = new c, c.prototype = null, n[
          l] = e) : n = p(), void 0 === t ? n : a(n, t)
      }
    }, function (e, t) {
      var n = Math.ceil,
        r = Math.floor;
      e.exports = function (e) {
        return isNaN(e = +e) ? 0 : (e > 0 ? r : n)(e)
      }
    }, function (e, t, n) {
      var r, A, a = n(3),
        i = n(44),
        o = a.process,
        s = o && o.versions,
        u = s && s.v8;
      u ? A = (r = u.split("."))[0] < 4 ? 1 : r[0] + r[1] : i && (!(r = i.match(
        /Edge\/(\d+)/)) || r[1] >= 74) && (r = i.match(/Chrome\/(\d+)/)) && (A = r[
        1]), e.exports = A && +A
    }, function (e, t, n) {
      var r = n(16);
      e.exports = r("navigator", "userAgent") || ""
    }, function (e, t, n) {
      var r = n(59),
        A = n(28),
        a = n(6)("toStringTag"),
        i = "Arguments" == A(function () {
          return arguments
        }());
      e.exports = r ? A : function (e) {
        var t, n, r;
        return void 0 === e ? "Undefined" : null === e ? "Null" : "string" ==
          typeof (n = function (e, t) {
            try {
              return e[t]
            } catch (e) {}
          }(t = Object(e), a)) ? n : i ? A(t) : "Object" == (r = A(t)) &&
          "function" == typeof t.callee ? "Arguments" : r
      }
    }, function (e, t) {}, function (e, t, n) {
      var r = n(31);
      e.exports = function (e, t, n) {
        for (var A in t) n && n.unsafe && e[A] ? e[A] = t[A] : r(e, A, t[A], n);
        return e
      }
    }, function (e, t) {
      e.exports = function (e, t, n) {
        if (!(e instanceof t)) throw TypeError("Incorrect " + (n ? n + " " : "") +
          "invocation");
        return e
      }
    }, function (e, t) {
      e.exports = function (e) {
        try {
          return {
            error: !1,
            value: e()
          }
        } catch (e) {
          return {
            error: !0,
            value: e
          }
        }
      }
    }, function (e, t, n) {
      var r = n(30),
        A = n(10),
        a = n(13),
        i = n(15).f,
        o = n(40),
        s = n(217),
        u = o("meta"),
        l = 0,
        c = Object.isExtensible || function () {
          return !0
        },
        d = function (e) {
          i(e, u, {
            value: {
              objectID: "O" + ++l,
              weakData: {}
            }
          })
        },
        p = e.exports = {
          REQUIRED: !1,
          fastKey: function (e, t) {
            if (!A(e)) return "symbol" == typeof e ? e : ("string" == typeof e ?
              "S" : "P") + e;
            if (!a(e, u)) {
              if (!c(e)) return "F";
              if (!t) return "E";
              d(e)
            }
            return e[u].objectID
          },
          getWeakData: function (e, t) {
            if (!a(e, u)) {
              if (!c(e)) return !0;
              if (!t) return !1;
              d(e)
            }
            return e[u].weakData
          },
          onFreeze: function (e) {
            return s && p.REQUIRED && c(e) && !a(e, u) && d(e), e
          }
        };
      r[u] = !0
    }, function (e, t, n) {
      var r = n(3),
        A = n(10),
        a = r.document,
        i = A(a) && A(a.createElement);
      e.exports = function (e) {
        return i ? a.createElement(e) : {}
      }
    }, function (e, t, n) {
      var r = n(13),
        A = n(19),
        a = n(39),
        i = n(114),
        o = a("IE_PROTO"),
        s = Object.prototype;
      e.exports = i ? Object.getPrototypeOf : function (e) {
        return e = A(e), r(e, o) ? e[o] : "function" == typeof e.constructor &&
          e instanceof e.constructor ? e.constructor.prototype :
          e instanceof Object ? s : null
      }
    }, function (e, t, n) {
      var r = n(2),
        A = n(54);
      (e.exports = function (e, t) {
        return A[e] || (A[e] = void 0 !== t ? t : {})
      })("versions", []).push({
        version: "3.13.1",
        mode: r ? "pure" : "global",
        copyright: "© 2021 Denis Pushkarev (zloirock.ru)"
      })
    }, function (e, t, n) {
      var r = n(3),
        A = n(113),
        a = r["__core-js_shared__"] || A("__core-js_shared__", {});
      e.exports = a
    }, function (e, t, n) {
      var r = n(1),
        A = n(115);
      e.exports = Object.setPrototypeOf || ("__proto__" in {} ? function () {
        var e, t = !1,
          n = {};
        try {
          (e = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set)
          .call(n, []), t = n instanceof Array
        } catch (e) {}
        return function (n, a) {
          return r(n), A(a), t ? e.call(n, a) : n.__proto__ = a, n
        }
      }() : void 0)
    }, function (e, t, n) {
      var r = n(77),
        A = n(57);
      e.exports = Object.keys || function (e) {
        return r(e, A)
      }
    }, function (e, t) {
      e.exports = ["constructor", "hasOwnProperty", "isPrototypeOf",
        "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"
      ]
    }, function (e, t, n) {
      var r = n(43),
        A = n(7);
      e.exports = !!Object.getOwnPropertySymbols && !A((function () {
        var e = Symbol();
        return !String(e) || !(Object(e) instanceof Symbol) || !Symbol.sham &&
          r && r < 41
      }))
    }, function (e, t, n) {
      var r = {};
      r[n(6)("toStringTag")] = "z", e.exports = "[object z]" === String(r)
    }, function (e, t, n) {
      var r = n(28),
        A = n(3);
      e.exports = "process" == r(A.process)
    }, function (e, t, n) {
      "use strict";
      var r = n(126).charAt,
        A = n(20),
        a = n(62),
        i = A.set,
        o = A.getterFor("String Iterator");
      a(String, "String", (function (e) {
        i(this, {
          type: "String Iterator",
          string: String(e),
          index: 0
        })
      }), (function () {
        var e, t = o(this),
          n = t.string,
          A = t.index;
        return A >= n.length ? {
          value: void 0,
          done: !0
        } : (e = r(n, A), t.index += e.length, {
          value: e,
          done: !1
        })
      }))
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(127),
        a = n(52),
        i = n(55),
        o = n(24),
        s = n(14),
        u = n(31),
        l = n(6),
        c = n(2),
        d = n(23),
        p = n(92),
        h = p.IteratorPrototype,
        f = p.BUGGY_SAFARI_ITERATORS,
        g = l("iterator"),
        y = function () {
          return this
        };
      e.exports = function (e, t, n, l, p, v, m) {
        A(n, t, l);
        var w, B, I, M = function (e) {
            if (e === p && k) return k;
            if (!f && e in x) return x[e];
            switch (e) {
              case "keys":
              case "values":
              case "entries":
                return function () {
                  return new n(this, e)
                }
            }
            return function () {
              return new n(this)
            }
          },
          C = t + " Iterator",
          b = !1,
          x = e.prototype,
          T = x[g] || x["@@iterator"] || p && x[p],
          k = !f && T || M(p),
          E = "Array" == t && x.entries || T;
        if (E && (w = a(E.call(new e)), h !== Object.prototype && w.next && (c || a(
              w) === h || (i ? i(w, h) : "function" != typeof w[g] && s(w, g, y)),
            o(w, C, !0, !0), c && (d[C] = y))), "values" == p && T && "values" !== T
          .name && (b = !0, k = function () {
            return T.call(this)
          }), c && !m || x[g] === k || s(x, g, k), d[t] = k, p)
          if (B = {
              values: M("values"),
              keys: v ? k : M("keys"),
              entries: M("entries")
            }, m)
            for (I in B)(f || b || !(I in x)) && u(x, I, B[I]);
          else r({
            target: t,
            proto: !0,
            forced: f || b
          }, B);
        return B
      }
    }, function (e, t, n) {
      var r = n(10),
        A = n(64),
        a = n(6)("species");
      e.exports = function (e, t) {
        var n;
        return A(e) && ("function" != typeof (n = e.constructor) || n !== Array && !
          A(n.prototype) ? r(n) && null === (n = n[a]) && (n = void 0) : n =
          void 0), new(void 0 === n ? Array : n)(0 === t ? 0 : t)
      }
    }, function (e, t, n) {
      var r = n(28);
      e.exports = Array.isArray || function (e) {
        return "Array" == r(e)
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(37),
        A = n(15),
        a = n(22);
      e.exports = function (e, t, n) {
        var i = r(t);
        i in e ? A.f(e, i, a(0, n)) : e[i] = n
      }
    }, function (e, t, n) {
      var r = n(7),
        A = n(6),
        a = n(43),
        i = A("species");
      e.exports = function (e) {
        return a >= 51 || !r((function () {
          var t = [];
          return (t.constructor = {})[i] = function () {
            return {
              foo: 1
            }
          }, 1 !== t[e](Boolean).foo
        }))
      }
    }, function (e, t, n) {
      var r = n(77),
        A = n(57).concat("length", "prototype");
      t.f = Object.getOwnPropertyNames || function (e) {
        return r(e, A)
      }
    }, function (e, t, n) {
      var r = n(6);
      t.f = r
    }, function (e, t, n) {
      "use strict";
      var r = n(7);
      e.exports = function (e, t) {
        var n = [][e];
        return !!n && r((function () {
          n.call(null, t || function () {
            throw 1
          }, 1)
        }))
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(1);
      e.exports = function (e, t) {
        var n, A = r(this),
          a = arguments.length > 2 ? arguments[2] : void 0;
        if ("function" != typeof t && "function" != typeof a) throw TypeError(
          "At least one callback required");
        return A.has(e) ? (n = A.get(e), "function" == typeof t && (n = t(n), A.set(
          e, n))) : "function" == typeof a && (n = a(), A.set(e, n)), n
      }
    }, function (e, t, n) {
      "use strict";
      var r = {}.propertyIsEnumerable,
        A = Object.getOwnPropertyDescriptor,
        a = A && !r.call({
          1: 2
        }, 1);
      t.f = a ? function (e) {
        var t = A(this, e);
        return !!t && t.enumerable
      } : r
    }, function (e, t, n) {
      var r = n(7),
        A = n(28),
        a = "".split;
      e.exports = r((function () {
        return !Object("z").propertyIsEnumerable(0)
      })) ? function (e) {
        return "String" == A(e) ? a.call(e, "") : Object(e)
      } : Object
    }, function (e, t, n) {
      var r = n(11),
        A = n(7),
        a = n(51);
      e.exports = !r && !A((function () {
        return 7 != Object.defineProperty(a("div"), "a", {
          get: function () {
            return 7
          }
        }).a
      }))
    }, function (e, t, n) {
      var r = n(7),
        A = /#|\.prototype\./,
        a = function (e, t) {
          var n = o[i(e)];
          return n == u || n != s && ("function" == typeof t ? r(t) : !!t)
        },
        i = a.normalize = function (e) {
          return String(e).replace(A, ".").toLowerCase()
        },
        o = a.data = {},
        s = a.NATIVE = "N",
        u = a.POLYFILL = "P";
      e.exports = a
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(52),
        a = n(55),
        i = n(41),
        o = n(14),
        s = n(22),
        u = n(4),
        l = function (e, t) {
          var n = this;
          if (!(n instanceof l)) return new l(e, t);
          a && (n = a(new Error(void 0), A(n))), void 0 !== t && o(n, "message",
            String(t));
          var r = [];
          return u(e, r.push, {
            that: r
          }), o(n, "errors", r), n
        };
      l.prototype = i(Error.prototype, {
        constructor: s(5, l),
        message: s(5, ""),
        name: s(5, "AggregateError")
      }), r({
        global: !0
      }, {
        AggregateError: l
      })
    }, function (e, t, n) {
      var r = n(11),
        A = n(15),
        a = n(1),
        i = n(56);
      e.exports = r ? Object.defineProperties : function (e, t) {
        a(e);
        for (var n, r = i(t), o = r.length, s = 0; o > s;) A.f(e, n = r[s++], t[n]);
        return e
      }
    }, function (e, t, n) {
      var r = n(13),
        A = n(18),
        a = n(78).indexOf,
        i = n(30);
      e.exports = function (e, t) {
        var n, o = A(e),
          s = 0,
          u = [];
        for (n in o) !r(i, n) && r(o, n) && u.push(n);
        for (; t.length > s;) r(o, n = t[s++]) && (~a(u, n) || u.push(n));
        return u
      }
    }, function (e, t, n) {
      var r = n(18),
        A = n(29),
        a = n(79),
        i = function (e) {
          return function (t, n, i) {
            var o, s = r(t),
              u = A(s.length),
              l = a(i, u);
            if (e && n != n) {
              for (; u > l;)
                if ((o = s[l++]) != o) return !0
            } else
              for (; u > l; l++)
                if ((e || l in s) && s[l] === n) return e || l || 0;
            return !e && -1
          }
        };
      e.exports = {
        includes: i(!0),
        indexOf: i(!1)
      }
    }, function (e, t, n) {
      var r = n(42),
        A = Math.max,
        a = Math.min;
      e.exports = function (e, t) {
        var n = r(e);
        return n < 0 ? A(n + t, 0) : a(n, t)
      }
    }, function (e, t, n) {
      var r = n(16);
      e.exports = r("document", "documentElement")
    }, function (e, t, n) {
      var r = n(58);
      e.exports = r && !Symbol.sham && "symbol" == typeof Symbol.iterator
    }, function (e, t, n) {
      var r = n(45),
        A = n(23),
        a = n(6)("iterator");
      e.exports = function (e) {
        if (null != e) return e[a] || e["@@iterator"] || A[r(e)]
      }
    }, function (e, t, n) {
      var r = n(3);
      e.exports = r.Promise
    }, function (e, t, n) {
      "use strict";
      var r = n(16),
        A = n(15),
        a = n(6),
        i = n(11),
        o = a("species");
      e.exports = function (e) {
        var t = r(e),
          n = A.f;
        i && t && !t[o] && n(t, o, {
          configurable: !0,
          get: function () {
            return this
          }
        })
      }
    }, function (e, t, n) {
      var r = n(54),
        A = Function.toString;
      "function" != typeof r.inspectSource && (r.inspectSource = function (e) {
        return A.call(e)
      }), e.exports = r.inspectSource
    }, function (e, t, n) {
      var r, A, a, i = n(3),
        o = n(7),
        s = n(12),
        u = n(80),
        l = n(51),
        c = n(87),
        d = n(60),
        p = i.location,
        h = i.setImmediate,
        f = i.clearImmediate,
        g = i.process,
        y = i.MessageChannel,
        v = i.Dispatch,
        m = 0,
        w = {},
        B = function (e) {
          if (w.hasOwnProperty(e)) {
            var t = w[e];
            delete w[e], t()
          }
        },
        I = function (e) {
          return function () {
            B(e)
          }
        },
        M = function (e) {
          B(e.data)
        },
        C = function (e) {
          i.postMessage(e + "", p.protocol + "//" + p.host)
        };
      h && f || (h = function (e) {
          for (var t = [], n = 1; arguments.length > n;) t.push(arguments[n++]);
          return w[++m] = function () {
            ("function" == typeof e ? e : Function(e)).apply(void 0, t)
          }, r(m), m
        }, f = function (e) {
          delete w[e]
        }, d ? r = function (e) {
          g.nextTick(I(e))
        } : v && v.now ? r = function (e) {
          v.now(I(e))
        } : y && !c ? (a = (A = new y).port2, A.port1.onmessage = M, r = s(a
          .postMessage, a, 1)) : i.addEventListener && "function" ==
        typeof postMessage && !i.importScripts && p && "file:" !== p.protocol && !o(
          C) ? (r = C, i.addEventListener("message", M, !1)) : r =
        "onreadystatechange" in l("script") ? function (e) {
          u.appendChild(l("script")).onreadystatechange = function () {
            u.removeChild(this), B(e)
          }
        } : function (e) {
          setTimeout(I(e), 0)
        }), e.exports = {
        set: h,
        clear: f
      }
    }, function (e, t, n) {
      var r = n(44);
      e.exports = /(?:iphone|ipod|ipad).*applewebkit/i.test(r)
    }, function (e, t, n) {
      var r = n(1),
        A = n(10),
        a = n(33);
      e.exports = function (e, t) {
        if (r(e), A(t) && t.constructor === e) return t;
        var n = a.f(e);
        return (0, n.resolve)(t), n.promise
      }
    }, function (e, t, n) {
      var r = n(3),
        A = n(85),
        a = r.WeakMap;
      e.exports = "function" == typeof a && /native code/.test(A(a))
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(8),
        a = n(33),
        i = n(49),
        o = n(4);
      r({
        target: "Promise",
        stat: !0
      }, {
        allSettled: function (e) {
          var t = this,
            n = a.f(t),
            r = n.resolve,
            s = n.reject,
            u = i((function () {
              var n = A(t.resolve),
                a = [],
                i = 0,
                s = 1;
              o(e, (function (e) {
                var A = i++,
                  o = !1;
                a.push(void 0), s++, n.call(t, e).then((function (e) {
                  o || (o = !0, a[A] = {
                    status: "fulfilled",
                    value: e
                  }, --s || r(a))
                }), (function (e) {
                  o || (o = !0, a[A] = {
                    status: "rejected",
                    reason: e
                  }, --s || r(a))
                }))
              })), --s || r(a)
            }));
          return u.error && s(u.value), n.promise
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(8),
        a = n(16),
        i = n(33),
        o = n(49),
        s = n(4);
      r({
        target: "Promise",
        stat: !0
      }, {
        any: function (e) {
          var t = this,
            n = i.f(t),
            r = n.resolve,
            u = n.reject,
            l = o((function () {
              var n = A(t.resolve),
                i = [],
                o = 0,
                l = 1,
                c = !1;
              s(e, (function (e) {
                var A = o++,
                  s = !1;
                i.push(void 0), l++, n.call(t, e).then((function (e) {
                  s || c || (c = !0, r(e))
                }), (function (e) {
                  s || c || (s = !0, i[A] = e, --l || u(new(a(
                    "AggregateError"))(i,
                    "No one promise resolved")))
                }))
              })), --l || u(new(a("AggregateError"))(i,
                "No one promise resolved"))
            }));
          return l.error && u(l.value), n.promise
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r, A, a, i = n(7),
        o = n(52),
        s = n(14),
        u = n(13),
        l = n(6),
        c = n(2),
        d = l("iterator"),
        p = !1;
      [].keys && ("next" in (a = [].keys()) ? (A = o(o(a))) !== Object.prototype && (
        r = A) : p = !0);
      var h = null == r || i((function () {
        var e = {};
        return r[d].call(e) !== e
      }));
      h && (r = {}), c && !h || u(r, d) || s(r, d, (function () {
        return this
      })), e.exports = {
        IteratorPrototype: r,
        BUGGY_SAFARI_ITERATORS: p
      }
    }, function (e, t) {
      e.exports = function () {}
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(7),
        a = n(64),
        i = n(10),
        o = n(19),
        s = n(29),
        u = n(65),
        l = n(63),
        c = n(66),
        d = n(6),
        p = n(43),
        h = d("isConcatSpreadable"),
        f = p >= 51 || !A((function () {
          var e = [];
          return e[h] = !1, e.concat()[0] !== e
        })),
        g = c("concat"),
        y = function (e) {
          if (!i(e)) return !1;
          var t = e[h];
          return void 0 !== t ? !!t : a(e)
        };
      r({
        target: "Array",
        proto: !0,
        forced: !f || !g
      }, {
        concat: function (e) {
          var t, n, r, A, a, i = o(this),
            c = l(i, 0),
            d = 0;
          for (t = -1, r = arguments.length; t < r; t++)
            if (y(a = -1 === t ? i : arguments[t])) {
              if (d + (A = s(a.length)) > 9007199254740991) throw TypeError(
                "Maximum allowed index exceeded");
              for (n = 0; n < A; n++, d++) n in a && u(c, d, a[n])
            } else {
              if (d >= 9007199254740991) throw TypeError(
                "Maximum allowed index exceeded");
              u(c, d++, a)
            } return c.length = d, c
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(3),
        a = n(16),
        i = n(2),
        o = n(11),
        s = n(58),
        u = n(81),
        l = n(7),
        c = n(13),
        d = n(64),
        p = n(10),
        h = n(1),
        f = n(19),
        g = n(18),
        y = n(37),
        v = n(22),
        m = n(41),
        w = n(56),
        B = n(67),
        I = n(147),
        M = n(96),
        C = n(27),
        b = n(15),
        x = n(71),
        T = n(14),
        k = n(31),
        E = n(53),
        N = n(39),
        O = n(30),
        P = n(40),
        _ = n(6),
        D = n(68),
        Q = n(5),
        S = n(24),
        U = n(20),
        F = n(25).forEach,
        L = N("hidden"),
        j = _("toPrimitive"),
        z = U.set,
        R = U.getterFor("Symbol"),
        H = Object.prototype,
        Y = A.Symbol,
        G = a("JSON", "stringify"),
        K = C.f,
        W = b.f,
        Z = I.f,
        V = x.f,
        X = E("symbols"),
        J = E("op-symbols"),
        q = E("string-to-symbol-registry"),
        $ = E("symbol-to-string-registry"),
        ee = E("wks"),
        te = A.QObject,
        ne = !te || !te.prototype || !te.prototype.findChild,
        re = o && l((function () {
          return 7 != m(W({}, "a", {
            get: function () {
              return W(this, "a", {
                value: 7
              }).a
            }
          })).a
        })) ? function (e, t, n) {
          var r = K(H, t);
          r && delete H[t], W(e, t, n), r && e !== H && W(H, t, r)
        } : W,
        Ae = function (e, t) {
          var n = X[e] = m(Y.prototype);
          return z(n, {
            type: "Symbol",
            tag: e,
            description: t
          }), o || (n.description = t), n
        },
        ae = u ? function (e) {
          return "symbol" == typeof e
        } : function (e) {
          return Object(e) instanceof Y
        },
        ie = function (e, t, n) {
          e === H && ie(J, t, n), h(e);
          var r = y(t, !0);
          return h(n), c(X, r) ? (n.enumerable ? (c(e, L) && e[L][r] && (e[L][r] = !
            1), n = m(n, {
              enumerable: v(0, !1)
            })) : (c(e, L) || W(e, L, v(1, {})), e[L][r] = !0), re(e, r, n)) : W(e,
            r, n)
        },
        oe = function (e, t) {
          h(e);
          var n = g(t),
            r = w(n).concat(ce(n));
          return F(r, (function (t) {
            o && !se.call(n, t) || ie(e, t, n[t])
          })), e
        },
        se = function (e) {
          var t = y(e, !0),
            n = V.call(this, t);
          return !(this === H && c(X, t) && !c(J, t)) && (!(n || !c(this, t) || !c(X,
            t) || c(this, L) && this[L][t]) || n)
        },
        ue = function (e, t) {
          var n = g(e),
            r = y(t, !0);
          if (n !== H || !c(X, r) || c(J, r)) {
            var A = K(n, r);
            return !A || !c(X, r) || c(n, L) && n[L][r] || (A.enumerable = !0), A
          }
        },
        le = function (e) {
          var t = Z(g(e)),
            n = [];
          return F(t, (function (e) {
            c(X, e) || c(O, e) || n.push(e)
          })), n
        },
        ce = function (e) {
          var t = e === H,
            n = Z(t ? J : g(e)),
            r = [];
          return F(n, (function (e) {
            !c(X, e) || t && !c(H, e) || r.push(X[e])
          })), r
        };
      s || (k((Y = function () {
            if (this instanceof Y) throw TypeError("Symbol is not a constructor");
            var e = arguments.length && void 0 !== arguments[0] ? String(
                arguments[0]) : void 0,
              t = P(e),
              n = function (e) {
                this === H && n.call(J, e), c(this, L) && c(this[L], t) && (this[
                  L][t] = !1), re(this, t, v(1, e))
              };
            return o && ne && re(H, t, {
              configurable: !0,
              set: n
            }), Ae(t, e)
          }).prototype, "toString", (function () {
            return R(this).tag
          })), k(Y, "withoutSetter", (function (e) {
            return Ae(P(e), e)
          })), x.f = se, b.f = ie, C.f = ue, B.f = I.f = le, M.f = ce, D.f =
          function (e) {
            return Ae(_(e), e)
          }, o && (W(Y.prototype, "description", {
            configurable: !0,
            get: function () {
              return R(this).description
            }
          }), i || k(H, "propertyIsEnumerable", se, {
            unsafe: !0
          }))), r({
          global: !0,
          wrap: !0,
          forced: !s,
          sham: !s
        }, {
          Symbol: Y
        }), F(w(ee), (function (e) {
          Q(e)
        })), r({
          target: "Symbol",
          stat: !0,
          forced: !s
        }, {
          for: function (e) {
            var t = String(e);
            if (c(q, t)) return q[t];
            var n = Y(t);
            return q[t] = n, $[n] = t, n
          },
          keyFor: function (e) {
            if (!ae(e)) throw TypeError(e + " is not a symbol");
            if (c($, e)) return $[e]
          },
          useSetter: function () {
            ne = !0
          },
          useSimple: function () {
            ne = !1
          }
        }), r({
          target: "Object",
          stat: !0,
          forced: !s,
          sham: !o
        }, {
          create: function (e, t) {
            return void 0 === t ? m(e) : oe(m(e), t)
          },
          defineProperty: ie,
          defineProperties: oe,
          getOwnPropertyDescriptor: ue
        }), r({
          target: "Object",
          stat: !0,
          forced: !s
        }, {
          getOwnPropertyNames: le,
          getOwnPropertySymbols: ce
        }), r({
          target: "Object",
          stat: !0,
          forced: l((function () {
            M.f(1)
          }))
        }, {
          getOwnPropertySymbols: function (e) {
            return M.f(f(e))
          }
        }), G && r({
          target: "JSON",
          stat: !0,
          forced: !s || l((function () {
            var e = Y();
            return "[null]" != G([e]) || "{}" != G({
              a: e
            }) || "{}" != G(Object(e))
          }))
        }, {
          stringify: function (e, t, n) {
            for (var r, A = [e], a = 1; arguments.length > a;) A.push(arguments[
              a++]);
            if (r = t, (p(t) || void 0 !== e) && !ae(e)) return d(t) || (t =
              function (e, t) {
                if ("function" == typeof r && (t = r.call(this, e, t)), !ae(
                  t)) return t
              }), A[1] = t, G.apply(null, A)
          }
        }), Y.prototype[j] || T(Y.prototype, j, Y.prototype.valueOf), S(Y, "Symbol"),
        O[L] = !0
    }, function (e, t) {
      t.f = Object.getOwnPropertySymbols
    }, function (e, t, n) {
      n(5)("iterator")
    }, function (e, t, n) {
      e.exports = n(174)
    }, function (e, t, n) {
      e.exports = n(182)
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(3),
        a = n(50),
        i = n(7),
        o = n(14),
        s = n(4),
        u = n(48),
        l = n(10),
        c = n(24),
        d = n(15).f,
        p = n(25).forEach,
        h = n(11),
        f = n(20),
        g = f.set,
        y = f.getterFor;
      e.exports = function (e, t, n) {
        var f, v = -1 !== e.indexOf("Map"),
          m = -1 !== e.indexOf("Weak"),
          w = v ? "set" : "add",
          B = A[e],
          I = B && B.prototype,
          M = {};
        if (h && "function" == typeof B && (m || I.forEach && !i((function () {
            (new B).entries().next()
          })))) {
          f = t((function (t, n) {
            g(u(t, f, e), {
              type: e,
              collection: new B
            }), null != n && s(n, t[w], {
              that: t,
              AS_ENTRIES: v
            })
          }));
          var C = y(e);
          p(["add", "clear", "delete", "forEach", "get", "has", "set", "keys",
            "values", "entries"
          ], (function (e) {
            var t = "add" == e || "set" == e;
            !(e in I) || m && "clear" == e || o(f.prototype, e, (function (n,
              r) {
              var A = C(this).collection;
              if (!t && m && !l(n)) return "get" == e && void 0;
              var a = A[e](0 === n ? 0 : n, r);
              return t ? this : a
            }))
          })), m || d(f.prototype, "size", {
            configurable: !0,
            get: function () {
              return C(this).collection.size
            }
          })
        } else f = n.getConstructor(t, e, v, w), a.REQUIRED = !0;
        return c(f, e, !1, !0), M[e] = f, r({
          global: !0,
          forced: !0
        }, M), m || n.setStrong(f, e, v), f
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(8),
        A = n(12),
        a = n(4);
      e.exports = function (e) {
        var t, n, i, o, s = arguments.length,
          u = s > 1 ? arguments[1] : void 0;
        return r(this), (t = void 0 !== u) && r(u), null == e ? new this : (n = [],
          t ? (i = 0, o = A(u, s > 2 ? arguments[2] : void 0, 2), a(e, (function (
            e) {
            n.push(o(e, i++))
          }))) : a(e, n.push, {
            that: n
          }), new this(n))
      }
    }, function (e, t, n) {
      "use strict";
      e.exports = function () {
        for (var e = arguments.length, t = new Array(e); e--;) t[e] = arguments[e];
        return new this(t)
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(1),
        A = n(8);
      e.exports = function () {
        for (var e, t = r(this), n = A(t.delete), a = !0, i = 0, o = arguments
            .length; i < o; i++) e = n.call(t, arguments[i]), a = a && e;
        return !!a
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(1);
      e.exports = function (e, t) {
        var n = r(this),
          A = n.has(e) && "update" in t ? t.update(n.get(e), e, n) : t.insert(e, n);
        return n.set(e, A), A
      }
    }, function (e, t, n) {
      e.exports = n(241)
    }, function (e, t, n) {
      "use strict";
      var r = n(35),
        A = r(n(26)),
        a = r(n(38)),
        i = r(n(134)),
        o = r(n(139));
      (0, A.default)(t, "__esModule", {
        value: !0
      });
      var s = function (e) {
          return e && e.__esModule ? e : {
            default: e
          }
        }(n(143)),
        u = function () {
          function e(e, t, n) {
            if (void 0 === t && (t = 864e5), this.name = e, this.expire = t, this
              .onError = n, this.logQueue = [], this.addTimer = -1, this.onError =
              n || function () {}, "undefined" == typeof indexedDB || "undefined" ==
              typeof IDBKeyRange || "undefined" == typeof Proxy) return this.onError(
              "not support indexeddb or Proxy"), this.get = function () {
              return a.default.resolve([])
            }, this.delete = function () {
              return a.default.resolve()
            }, void(this.log = function () {});
            this.db = new s.default(e, t)
          }
          return e.prototype.get = function (e) {
            return this.db.getLogs(e)
          }, e.prototype.delete = function (e) {
            return this.db.deleteLogs(e)
          }, e.prototype.log = function (e, t, n) {
            var r, A = this,
              a = {
                time: +new Date,
                level: e,
                type: n,
                logStr: t
              };
            this.logQueue.push(a), clearTimeout(this.addTimer), this.logQueue
              .length > 3e3 ? this.db.save((0, i.default)(r = this.logQueue).call(r,
                0)) : this.addTimer = (0, o.default)((function () {
                var e;
                A.db.save((0, i.default)(e = A.logQueue).call(e, 0))
              }), 2e3)
          }, e
        }();
      t.default = u
    }, function (e, t, n) {
      var r = n(108);
      e.exports = r
    }, function (e, t, n) {
      n(109);
      var r = n(9).Object,
        A = e.exports = function (e, t, n) {
          return r.defineProperty(e, t, n)
        };
      r.defineProperty.sham && (A.sham = !0)
    }, function (e, t, n) {
      var r = n(0),
        A = n(11);
      r({
        target: "Object",
        stat: !0,
        forced: !A,
        sham: !A
      }, {
        defineProperty: n(15).f
      })
    }, function (e, t) {
      var n;
      n = function () {
        return this
      }();
      try {
        n = n || new Function("return this")()
      } catch (e) {
        "object" == typeof window && (n = window)
      }
      e.exports = n
    }, function (e, t, n) {
      var r = n(112);
      n(130), n(131), n(132), n(133), e.exports = r
    }, function (e, t, n) {
      n(75), n(46), n(118), n(90), n(91), n(125), n(61), n(34);
      var r = n(9);
      e.exports = r.Promise
    }, function (e, t, n) {
      var r = n(3),
        A = n(14);
      e.exports = function (e, t) {
        try {
          A(r, e, t)
        } catch (n) {
          r[e] = t
        }
        return t
      }
    }, function (e, t, n) {
      var r = n(7);
      e.exports = !r((function () {
        function e() {}
        return e.prototype.constructor = null, Object.getPrototypeOf(new e) !==
          e.prototype
      }))
    }, function (e, t, n) {
      var r = n(10);
      e.exports = function (e) {
        if (!r(e) && null !== e) throw TypeError("Can't set " + String(e) +
          " as a prototype");
        return e
      }
    }, function (e, t, n) {
      var r = n(6),
        A = n(23),
        a = r("iterator"),
        i = Array.prototype;
      e.exports = function (e) {
        return void 0 !== e && (A.Array === e || i[a] === e)
      }
    }, function (e, t, n) {
      var r = n(1);
      e.exports = function (e) {
        var t = e.return;
        if (void 0 !== t) return r(t.call(e)).value
      }
    }, function (e, t, n) {
      "use strict";
      var r, A, a, i, o = n(0),
        s = n(2),
        u = n(3),
        l = n(16),
        c = n(83),
        d = n(31),
        p = n(47),
        h = n(55),
        f = n(24),
        g = n(84),
        y = n(10),
        v = n(8),
        m = n(48),
        w = n(85),
        B = n(4),
        I = n(120),
        M = n(32),
        C = n(86).set,
        b = n(121),
        x = n(88),
        T = n(123),
        k = n(33),
        E = n(49),
        N = n(20),
        O = n(74),
        P = n(6),
        _ = n(124),
        D = n(60),
        Q = n(43),
        S = P("species"),
        U = "Promise",
        F = N.get,
        L = N.set,
        j = N.getterFor(U),
        z = c && c.prototype,
        R = c,
        H = z,
        Y = u.TypeError,
        G = u.document,
        K = u.process,
        W = k.f,
        Z = W,
        V = !!(G && G.createEvent && u.dispatchEvent),
        X = "function" == typeof PromiseRejectionEvent,
        J = !1,
        q = O(U, (function () {
          var e = w(R) !== String(R);
          if (!e && 66 === Q) return !0;
          if (s && !H.finally) return !0;
          if (Q >= 51 && /native code/.test(R)) return !1;
          var t = new R((function (e) {
              e(1)
            })),
            n = function (e) {
              e((function () {}), (function () {}))
            };
          return (t.constructor = {})[S] = n, !(J = t.then((
          function () {})) instanceof n) || !e && _ && !X
        })),
        $ = q || !I((function (e) {
          R.all(e).catch((function () {}))
        })),
        ee = function (e) {
          var t;
          return !(!y(e) || "function" != typeof (t = e.then)) && t
        },
        te = function (e, t) {
          if (!e.notified) {
            e.notified = !0;
            var n = e.reactions;
            b((function () {
              for (var r = e.value, A = 1 == e.state, a = 0; n.length > a;) {
                var i, o, s, u = n[a++],
                  l = A ? u.ok : u.fail,
                  c = u.resolve,
                  d = u.reject,
                  p = u.domain;
                try {
                  l ? (A || (2 === e.rejection && ae(e), e.rejection = 1), !
                    0 === l ? i = r : (p && p.enter(), i = l(r), p && (p
                    .exit(), s = !0)), i === u.promise ? d(Y(
                      "Promise-chain cycle")) : (o = ee(i)) ? o.call(i, c,
                    d) : c(i)) : d(r)
                } catch (e) {
                  p && !s && p.exit(), d(e)
                }
              }
              e.reactions = [], e.notified = !1, t && !e.rejection && re(e)
            }))
          }
        },
        ne = function (e, t, n) {
          var r, A;
          V ? ((r = G.createEvent("Event")).promise = t, r.reason = n, r.initEvent(e,
            !1, !0), u.dispatchEvent(r)) : r = {
            promise: t,
            reason: n
          }, !X && (A = u["on" + e]) ? A(r) : "unhandledrejection" === e && T(
            "Unhandled promise rejection", n)
        },
        re = function (e) {
          C.call(u, (function () {
            var t, n = e.facade,
              r = e.value;
            if (Ae(e) && (t = E((function () {
                D ? K.emit("unhandledRejection", r, n) : ne(
                  "unhandledrejection", n, r)
              })), e.rejection = D || Ae(e) ? 2 : 1, t.error)) throw t.value
          }))
        },
        Ae = function (e) {
          return 1 !== e.rejection && !e.parent
        },
        ae = function (e) {
          C.call(u, (function () {
            var t = e.facade;
            D ? K.emit("rejectionHandled", t) : ne("rejectionhandled", t, e
              .value)
          }))
        },
        ie = function (e, t, n) {
          return function (r) {
            e(t, r, n)
          }
        },
        oe = function (e, t, n) {
          e.done || (e.done = !0, n && (e = n), e.value = t, e.state = 2, te(e, !0))
        },
        se = function (e, t, n) {
          if (!e.done) {
            e.done = !0, n && (e = n);
            try {
              if (e.facade === t) throw Y("Promise can't be resolved itself");
              var r = ee(t);
              r ? b((function () {
                var n = {
                  done: !1
                };
                try {
                  r.call(t, ie(se, n, e), ie(oe, n, e))
                } catch (t) {
                  oe(n, t, e)
                }
              })) : (e.value = t, e.state = 1, te(e, !1))
            } catch (t) {
              oe({
                done: !1
              }, t, e)
            }
          }
        };
      if (q && (H = (R = function (e) {
          m(this, R, U), v(e), r.call(this);
          var t = F(this);
          try {
            e(ie(se, t), ie(oe, t))
          } catch (e) {
            oe(t, e)
          }
        }).prototype, (r = function (e) {
          L(this, {
            type: U,
            done: !1,
            notified: !1,
            parent: !1,
            reactions: [],
            rejection: !1,
            state: 0,
            value: void 0
          })
        }).prototype = p(H, {
          then: function (e, t) {
            var n = j(this),
              r = W(M(this, R));
            return r.ok = "function" != typeof e || e, r.fail = "function" ==
              typeof t && t, r.domain = D ? K.domain : void 0, n.parent = !0, n
              .reactions.push(r), 0 != n.state && te(n, !1), r.promise
          },
          catch: function (e) {
            return this.then(void 0, e)
          }
        }), A = function () {
          var e = new r,
            t = F(e);
          this.promise = e, this.resolve = ie(se, t), this.reject = ie(oe, t)
        }, k.f = W = function (e) {
          return e === R || e === a ? new A(e) : Z(e)
        }, !s && "function" == typeof c && z !== Object.prototype)) {
        i = z.then, J || (d(z, "then", (function (e, t) {
          var n = this;
          return new R((function (e, t) {
            i.call(n, e, t)
          })).then(e, t)
        }), {
          unsafe: !0
        }), d(z, "catch", H.catch, {
          unsafe: !0
        }));
        try {
          delete z.constructor
        } catch (e) {}
        h && h(z, H)
      }
      o({
        global: !0,
        wrap: !0,
        forced: q
      }, {
        Promise: R
      }), f(R, U, !1, !0), g(U), a = l(U), o({
        target: U,
        stat: !0,
        forced: q
      }, {
        reject: function (e) {
          var t = W(this);
          return t.reject.call(void 0, e), t.promise
        }
      }), o({
        target: U,
        stat: !0,
        forced: s || q
      }, {
        resolve: function (e) {
          return x(s && this === a ? R : this, e)
        }
      }), o({
        target: U,
        stat: !0,
        forced: $
      }, {
        all: function (e) {
          var t = this,
            n = W(t),
            r = n.resolve,
            A = n.reject,
            a = E((function () {
              var n = v(t.resolve),
                a = [],
                i = 0,
                o = 1;
              B(e, (function (e) {
                var s = i++,
                  u = !1;
                a.push(void 0), o++, n.call(t, e).then((function (e) {
                  u || (u = !0, a[s] = e, --o || r(a))
                }), A)
              })), --o || r(a)
            }));
          return a.error && A(a.value), n.promise
        },
        race: function (e) {
          var t = this,
            n = W(t),
            r = n.reject,
            A = E((function () {
              var A = v(t.resolve);
              B(e, (function (e) {
                A.call(t, e).then(n.resolve, r)
              }))
            }));
          return A.error && r(A.value), n.promise
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(59),
        A = n(45);
      e.exports = r ? {}.toString : function () {
        return "[object " + A(this) + "]"
      }
    }, function (e, t, n) {
      var r = n(6)("iterator"),
        A = !1;
      try {
        var a = 0,
          i = {
            next: function () {
              return {
                done: !!a++
              }
            },
            return: function () {
              A = !0
            }
          };
        i[r] = function () {
          return this
        }, Array.from(i, (function () {
          throw 2
        }))
      } catch (e) {}
      e.exports = function (e, t) {
        if (!t && !A) return !1;
        var n = !1;
        try {
          var a = {};
          a[r] = function () {
            return {
              next: function () {
                return {
                  done: n = !0
                }
              }
            }
          }, e(a)
        } catch (e) {}
        return n
      }
    }, function (e, t, n) {
      var r, A, a, i, o, s, u, l, c = n(3),
        d = n(27).f,
        p = n(86).set,
        h = n(87),
        f = n(122),
        g = n(60),
        y = c.MutationObserver || c.WebKitMutationObserver,
        v = c.document,
        m = c.process,
        w = c.Promise,
        B = d(c, "queueMicrotask"),
        I = B && B.value;
      I || (r = function () {
        var e, t;
        for (g && (e = m.domain) && e.exit(); A;) {
          t = A.fn, A = A.next;
          try {
            t()
          } catch (e) {
            throw A ? i() : a = void 0, e
          }
        }
        a = void 0, e && e.enter()
      }, h || g || f || !y || !v ? w && w.resolve ? ((u = w.resolve(void 0))
        .constructor = w, l = u.then, i = function () {
          l.call(u, r)
        }) : i = g ? function () {
        m.nextTick(r)
      } : function () {
        p.call(c, r)
      } : (o = !0, s = v.createTextNode(""), new y(r).observe(s, {
        characterData: !0
      }), i = function () {
        s.data = o = !o
      })), e.exports = I || function (e) {
        var t = {
          fn: e,
          next: void 0
        };
        a && (a.next = t), A || (A = t, i()), a = t
      }
    }, function (e, t, n) {
      var r = n(44);
      e.exports = /web0s(?!.*chrome)/i.test(r)
    }, function (e, t, n) {
      var r = n(3);
      e.exports = function (e, t) {
        var n = r.console;
        n && n.error && (1 === arguments.length ? n.error(e) : n.error(e, t))
      }
    }, function (e, t) {
      e.exports = "object" == typeof window
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(83),
        i = n(7),
        o = n(16),
        s = n(32),
        u = n(88),
        l = n(31);
      if (r({
          target: "Promise",
          proto: !0,
          real: !0,
          forced: !!a && i((function () {
            a.prototype.finally.call({
              then: function () {}
            }, (function () {}))
          }))
        }, {
          finally: function (e) {
            var t = s(this, o("Promise")),
              n = "function" == typeof e;
            return this.then(n ? function (n) {
              return u(t, e()).then((function () {
                return n
              }))
            } : e, n ? function (n) {
              return u(t, e()).then((function () {
                throw n
              }))
            } : e)
          }
        }), !A && "function" == typeof a) {
        var c = o("Promise").prototype.finally;
        a.prototype.finally !== c && l(a.prototype, "finally", c, {
          unsafe: !0
        })
      }
    }, function (e, t, n) {
      var r = n(42),
        A = n(36),
        a = function (e) {
          return function (t, n) {
            var a, i, o = String(A(t)),
              s = r(n),
              u = o.length;
            return s < 0 || s >= u ? e ? "" : void 0 : (a = o.charCodeAt(s)) <
              55296 || a > 56319 || s + 1 === u || (i = o.charCodeAt(s + 1)) <
              56320 || i > 57343 ? e ? o.charAt(s) : a : e ? o.slice(s, s + 2) : i -
              56320 + (a - 55296 << 10) + 65536
          }
        };
      e.exports = {
        codeAt: a(!1),
        charAt: a(!0)
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(92).IteratorPrototype,
        A = n(41),
        a = n(22),
        i = n(24),
        o = n(23),
        s = function () {
          return this
        };
      e.exports = function (e, t, n) {
        var u = t + " Iterator";
        return e.prototype = A(r, {
          next: a(1, n)
        }), i(e, u, !1, !0), o[u] = s, e
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(18),
        A = n(93),
        a = n(23),
        i = n(20),
        o = n(62),
        s = i.set,
        u = i.getterFor("Array Iterator");
      e.exports = o(Array, "Array", (function (e, t) {
        s(this, {
          type: "Array Iterator",
          target: r(e),
          index: 0,
          kind: t
        })
      }), (function () {
        var e = u(this),
          t = e.target,
          n = e.kind,
          r = e.index++;
        return !t || r >= t.length ? (e.target = void 0, {
          value: void 0,
          done: !0
        }) : "keys" == n ? {
          value: r,
          done: !1
        } : "values" == n ? {
          value: t[r],
          done: !1
        } : {
          value: [r, t[r]],
          done: !1
        }
      }), "values"), a.Arguments = a.Array, A("keys"), A("values"), A("entries")
    }, function (e, t) {
      e.exports = {
        CSSRuleList: 0,
        CSSStyleDeclaration: 0,
        CSSValueList: 0,
        ClientRectList: 0,
        DOMRectList: 0,
        DOMStringList: 0,
        DOMTokenList: 1,
        DataTransferItemList: 0,
        FileList: 0,
        HTMLAllCollection: 0,
        HTMLCollection: 0,
        HTMLFormElement: 0,
        HTMLSelectElement: 0,
        MediaList: 0,
        MimeTypeArray: 0,
        NamedNodeMap: 0,
        NodeList: 1,
        PaintRequestList: 0,
        Plugin: 0,
        PluginArray: 0,
        SVGLengthList: 0,
        SVGNumberList: 0,
        SVGPathSegList: 0,
        SVGPointList: 0,
        SVGStringList: 0,
        SVGTransformList: 0,
        SourceBufferList: 0,
        StyleSheetList: 0,
        TextTrackCueList: 0,
        TextTrackList: 0,
        TouchList: 0
      }
    }, function (e, t, n) {
      n(75)
    }, function (e, t, n) {
      n(90)
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(33),
        a = n(49);
      r({
        target: "Promise",
        stat: !0
      }, {
        try: function (e) {
          var t = A.f(this),
            n = a(e);
          return (n.error ? t.reject : t.resolve)(n.value), t.promise
        }
      })
    }, function (e, t, n) {
      n(91)
    }, function (e, t, n) {
      e.exports = n(135)
    }, function (e, t, n) {
      var r = n(136);
      e.exports = r
    }, function (e, t, n) {
      var r = n(137),
        A = Array.prototype;
      e.exports = function (e) {
        var t = e.splice;
        return e === A || e instanceof Array && t === A.splice ? r : t
      }
    }, function (e, t, n) {
      n(138);
      var r = n(21);
      e.exports = r("Array").splice
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(79),
        a = n(42),
        i = n(29),
        o = n(19),
        s = n(63),
        u = n(65),
        l = n(66)("splice"),
        c = Math.max,
        d = Math.min;
      r({
        target: "Array",
        proto: !0,
        forced: !l
      }, {
        splice: function (e, t) {
          var n, r, l, p, h, f, g = o(this),
            y = i(g.length),
            v = A(e, y),
            m = arguments.length;
          if (0 === m ? n = r = 0 : 1 === m ? (n = 0, r = y - v) : (n = m - 2,
              r = d(c(a(t), 0), y - v)), y + n - r > 9007199254740991)
          throw TypeError("Maximum allowed length exceeded");
          for (l = s(g, r), p = 0; p < r; p++)(h = v + p) in g && u(l, p, g[h]);
          if (l.length = r, n < r) {
            for (p = v; p < y - r; p++) f = p + n, (h = p + r) in g ? g[f] = g[
              h] : delete g[f];
            for (p = y; p > y - r + n; p--) delete g[p - 1]
          } else if (n > r)
            for (p = y - r; p > v; p--) f = p + n - 1, (h = p + r - 1) in g ? g[
              f] = g[h] : delete g[f];
          for (p = 0; p < n; p++) g[p + v] = arguments[p + 2];
          return g.length = y - r + n, l
        }
      })
    }, function (e, t, n) {
      e.exports = n(140)
    }, function (e, t, n) {
      var r = n(141);
      e.exports = r
    }, function (e, t, n) {
      n(142);
      var r = n(9);
      e.exports = r.setTimeout
    }, function (e, t, n) {
      var r = n(0),
        A = n(3),
        a = n(44),
        i = [].slice,
        o = function (e) {
          return function (t, n) {
            var r = arguments.length > 2,
              A = r ? i.call(arguments, 2) : void 0;
            return e(r ? function () {
              ("function" == typeof t ? t : Function(t)).apply(this, A)
            } : t, n)
          }
        };
      r({
        global: !0,
        bind: !0,
        forced: /MSIE .\./.test(a)
      }, {
        setTimeout: o(A.setTimeout),
        setInterval: o(A.setInterval)
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(35),
        A = r(n(38)),
        a = r(n(144)),
        i = r(n(171)),
        o = r(n(26)),
        s = r(n(98)),
        u = r(n(178)),
        l = r(n(99)),
        c = function (e, t, n, r) {
          return new(n || (n = A.default))((function (A, a) {
            function i(e) {
              try {
                s(r.next(e))
              } catch (e) {
                a(e)
              }
            }

            function o(e) {
              try {
                s(r.throw(e))
              } catch (e) {
                a(e)
              }
            }

            function s(e) {
              var t;
              e.done ? A(e.value) : (t = e.value, t instanceof n ? t : new n((
                function (e) {
                  e(t)
                }))).then(i, o)
            }
            s((r = r.apply(e, t || [])).next())
          }))
        },
        d = function (e, t) {
          var n, r, A, o, s = {
            label: 0,
            sent: function () {
              if (1 & A[0]) throw A[1];
              return A[1]
            },
            trys: [],
            ops: []
          };
          return o = {
            next: u(0),
            throw: u(1),
            return: u(2)
          }, "function" == typeof a.default && (o[i.default] = function () {
            return this
          }), o;

          function u(a) {
            return function (i) {
              return function (a) {
                if (n) throw new TypeError("Generator is already executing.");
                for (; s;) try {
                  if (n = 1, r && (A = 2 & a[0] ? r.return : a[0] ? r.throw || (
                      (A = r.return) && A.call(r), 0) : r.next) && !(A = A.call(
                      r, a[1])).done) return A;
                  switch (r = 0, A && (a = [2 & a[0], A.value]), a[0]) {
                    case 0:
                    case 1:
                      A = a;
                      break;
                    case 4:
                      return s.label++, {
                        value: a[1],
                        done: !1
                      };
                    case 5:
                      s.label++, r = a[1], a = [0];
                      continue;
                    case 7:
                      a = s.ops.pop(), s.trys.pop();
                      continue;
                    default:
                      if (!((A = (A = s.trys).length > 0 && A[A.length - 1]) ||
                          6 !== a[0] && 2 !== a[0])) {
                        s = 0;
                        continue
                      }
                      if (3 === a[0] && (!A || a[1] > A[0] && a[1] < A[3])) {
                        s.label = a[1];
                        break
                      }
                      if (6 === a[0] && s.label < A[1]) {
                        s.label = A[1], A = a;
                        break
                      }
                      if (A && s.label < A[2]) {
                        s.label = A[2], s.ops.push(a);
                        break
                      }
                      A[2] && s.ops.pop(), s.trys.pop();
                      continue
                  }
                  a = t.call(e, s)
                } catch (e) {
                  a = [6, e], r = 0
                } finally {
                  n = A = 0
                }
                if (5 & a[0]) throw a[1];
                return {
                  value: a[0] ? a[1] : void 0,
                  done: !0
                }
              }([a, i])
            }
          }
        };
      (0, o.default)(t, "__esModule", {
        value: !0
      });
      var p = n(188),
        h = function () {
          function e(e, t) {
            void 0 === t && (t = 86400), this.name = e, this.expire = t, this
              .dbVersion = 2, this.name = e, this.expire = t, this.dbPromise = this
              .initDB()
          }
          return e.prototype.initDB = function () {
            return p.openDB(this.name, this.dbVersion, {
              upgrade: function (e, t, n, r) {
                if (1 === t) try {
                  e.deleteObjectStore("log_detail")
                } catch (e) {}
                e.createObjectStore("log_detail", {
                  keyPath: "id",
                  autoIncrement: !0
                }).createIndex("time", "time")
              }
            })
          }, e.prototype.getLogs = function (e) {
            return c(this, void 0, void 0, (function () {
              var t, n, r, a, i, o, u, l;
              return d(this, (function (c) {
                switch (c.label) {
                  case 0:
                    return t = [], [4, this.dbPromise];
                  case 1:
                    return n = c.sent(), r = p.unwrap(n).transaction(
                      "log_detail", "readonly").objectStore(
                      "log_detail"), a = function (e) {
                      var t = e.end,
                        n = e.start,
                        r = e.type,
                        A = e.level,
                        a = IDBKeyRange.bound(n || 0, t || +new Date),
                        i = function (e) {
                          return !0
                        },
                        o = 0;
                      switch (r && (o += 2), A && (o += 1), o) {
                        case 1:
                          i = function (e) {
                            return e.level === A
                          };
                          break;
                        case 2:
                          i = function (e) {
                            return e.type === r
                          };
                          break;
                        case 3:
                          i = function (e) {
                            return e.type === r && e.level === A
                          }
                      }
                      return {
                        indexName: "time",
                        filter: i,
                        keyRange: a
                      }
                    }(e), i = a.indexName, o = a.keyRange, u = (0, s
                      .default)(a), l = r.index(i).openCursor(o), [2,
                      new A.default((function (e, n) {
                        l.onsuccess = function (n) {
                          var r = n.target.result;
                          r ? (u(r.value) && t.push(r.value), r
                            .continue()) : e(t)
                        }, l.onerror = function (e) {
                          n(e)
                        }
                      }))
                    ]
                }
              }))
            }))
          }, e.prototype.deleteLogs = function (e) {
            return c(this, void 0, void 0, (function () {
              var t, n, r, a, i;
              return d(this, (function (o) {
                switch (o.label) {
                  case 0:
                    return [4, this.dbPromise];
                  case 1:
                    return t = o.sent(), n = p.unwrap(t).transaction(
                        "log_detail", "readwrite").objectStore(
                        "log_detail"), r = e.start, a = e.end, i = n
                      .index("time").openKeyCursor(IDBKeyRange.bound(r,
                        a)), [2, new A.default((function (e, t) {
                        i.onsuccess = function () {
                          var t = i.result;
                          t ? (n.delete(t.primaryKey), t
                            .continue()) : e(null)
                        }, i.onerror = function (e) {
                          t(e)
                        }
                      }))]
                }
              }))
            }))
          }, e.prototype.save = function (e) {
            return c(this, void 0, void 0, (function () {
              var t, n;
              return d(this, (function (r) {
                switch (r.label) {
                  case 0:
                    return [4, this.dbPromise];
                  case 1:
                    return t = r.sent(), n = [], [2, this.deleteLogs({
                      start: 0,
                      end: (0, u.default)() - this.expire
                    }).then((function () {
                      var r = t.transaction("log_detail",
                        "readwrite").objectStore("log_detail");
                      return (0, l.default)(e).call(e, (
                        function (e) {
                          n.push(r.put(e))
                        })), A.default.all(n)
                    }))]
                }
              }))
            }))
          }, e
        }();
      t.default = h
    }, function (e, t, n) {
      e.exports = n(145)
    }, function (e, t, n) {
      var r = n(146);
      n(164), n(165), n(166), n(167), n(168), n(169), n(170), e.exports = r
    }, function (e, t, n) {
      n(94), n(46), n(95), n(148), n(149), n(150), n(151), n(97), n(152), n(153), n(
        154), n(155), n(156), n(157), n(158), n(159), n(160), n(161), n(162), n(163);
      var r = n(9);
      e.exports = r.Symbol
    }, function (e, t, n) {
      var r = n(18),
        A = n(67).f,
        a = {}.toString,
        i = "object" == typeof window && window && Object.getOwnPropertyNames ? Object
        .getOwnPropertyNames(window) : [];
      e.exports.f = function (e) {
        return i && "[object Window]" == a.call(e) ? function (e) {
          try {
            return A(e)
          } catch (e) {
            return i.slice()
          }
        }(e) : A(r(e))
      }
    }, function (e, t, n) {
      n(5)("asyncIterator")
    }, function (e, t) {}, function (e, t, n) {
      n(5)("hasInstance")
    }, function (e, t, n) {
      n(5)("isConcatSpreadable")
    }, function (e, t, n) {
      n(5)("match")
    }, function (e, t, n) {
      n(5)("matchAll")
    }, function (e, t, n) {
      n(5)("replace")
    }, function (e, t, n) {
      n(5)("search")
    }, function (e, t, n) {
      n(5)("species")
    }, function (e, t, n) {
      n(5)("split")
    }, function (e, t, n) {
      n(5)("toPrimitive")
    }, function (e, t, n) {
      n(5)("toStringTag")
    }, function (e, t, n) {
      n(5)("unscopables")
    }, function (e, t, n) {
      var r = n(3);
      n(24)(r.JSON, "JSON", !0)
    }, function (e, t) {}, function (e, t) {}, function (e, t, n) {
      n(5)("asyncDispose")
    }, function (e, t, n) {
      n(5)("dispose")
    }, function (e, t, n) {
      n(5)("matcher")
    }, function (e, t, n) {
      n(5)("metadata")
    }, function (e, t, n) {
      n(5)("observable")
    }, function (e, t, n) {
      n(5)("patternMatch")
    }, function (e, t, n) {
      n(5)("replaceAll")
    }, function (e, t, n) {
      e.exports = n(172)
    }, function (e, t, n) {
      var r = n(173);
      e.exports = r
    }, function (e, t, n) {
      n(97), n(61), n(34);
      var r = n(68);
      e.exports = r.f("iterator")
    }, function (e, t, n) {
      var r = n(175);
      e.exports = r
    }, function (e, t, n) {
      var r = n(176),
        A = Array.prototype;
      e.exports = function (e) {
        var t = e.filter;
        return e === A || e instanceof Array && t === A.filter ? r : t
      }
    }, function (e, t, n) {
      n(177);
      var r = n(21);
      e.exports = r("Array").filter
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(25).filter;
      r({
        target: "Array",
        proto: !0,
        forced: !n(66)("filter")
      }, {
        filter: function (e) {
          return A(this, e, arguments.length > 1 ? arguments[1] : void 0)
        }
      })
    }, function (e, t, n) {
      e.exports = n(179)
    }, function (e, t, n) {
      var r = n(180);
      e.exports = r
    }, function (e, t, n) {
      n(181);
      var r = n(9);
      e.exports = r.Date.now
    }, function (e, t, n) {
      n(0)({
        target: "Date",
        stat: !0
      }, {
        now: function () {
          return (new Date).getTime()
        }
      })
    }, function (e, t, n) {
      var r = n(183);
      e.exports = r
    }, function (e, t, n) {
      n(34);
      var r = n(184),
        A = n(45),
        a = Array.prototype,
        i = {
          DOMTokenList: !0,
          NodeList: !0
        };
      e.exports = function (e) {
        var t = e.forEach;
        return e === a || e instanceof Array && t === a.forEach || i.hasOwnProperty(
          A(e)) ? r : t
      }
    }, function (e, t, n) {
      var r = n(185);
      e.exports = r
    }, function (e, t, n) {
      n(186);
      var r = n(21);
      e.exports = r("Array").forEach
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(187);
      r({
        target: "Array",
        proto: !0,
        forced: [].forEach != A
      }, {
        forEach: A
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(25).forEach,
        A = n(69)("forEach");
      e.exports = A ? [].forEach : function (e) {
        return r(this, e, arguments.length > 1 ? arguments[1] : void 0)
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(189),
        A = n(193),
        a = n(98),
        i = n(196),
        o = n(99),
        s = n(200),
        u = n(205),
        l = n(26),
        c = n(35);
      l(t, "__esModule", {
        value: !0
      }), t.deleteDB = function (e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
          n = t.blocked,
          r = indexedDB.deleteDatabase(e);
        return n && r.addEventListener("blocked", (function () {
          return n()
        })), (0, y.w)(r).then((function () {}))
      }, t.openDB = function (e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
          r = n.blocked,
          A = n.upgrade,
          a = n.blocking,
          i = n.terminated,
          o = indexedDB.open(e, t),
          s = (0, y.w)(o);
        return A && o.addEventListener("upgradeneeded", (function (e) {
          A((0, y.w)(o.result), e.oldVersion, e.newVersion, (0, y.w)(o
            .transaction))
        })), r && o.addEventListener("blocked", (function () {
          return r()
        })), s.then((function (e) {
          i && e.addEventListener("close", (function () {
            return i()
          })), a && e.addEventListener("versionchange", (function () {
            return a()
          }))
        })).catch((function () {})), s
      }, l(t, "unwrap", {
        enumerable: !0,
        get: function () {
          return y.u
        }
      }), l(t, "wrap", {
        enumerable: !0,
        get: function () {
          return y.w
        }
      });
      var d = c(n(209)),
        p = c(n(211)),
        h = c(n(212)),
        f = c(n(213)),
        g = c(n(105)),
        y = n(250);

      function v(e, t) {
        var n = r(e);
        if (A) {
          var o = A(e);
          t && (o = a(o).call(o, (function (t) {
            return i(e, t).enumerable
          }))), n.push.apply(n, o)
        }
        return n
      }

      function m(e) {
        for (var t = 1; t < arguments.length; t++) {
          var n, r = null != arguments[t] ? arguments[t] : {};
          if (t % 2) o(n = v(Object(r), !0)).call(n, (function (t) {
            (0, p.default)(e, t, r[t])
          }));
          else if (s) u(e, s(r));
          else {
            var A;
            o(A = v(Object(r))).call(A, (function (t) {
              l(e, t, i(r, t))
            }))
          }
        }
        return e
      }
      var w = ["get", "getKey", "getAll", "getAllKeys", "count"],
        B = ["put", "add", "delete", "clear"],
        I = new f.default;

      function M(e, t) {
        if (e instanceof IDBDatabase && !(t in e) && "string" == typeof t) {
          if (I.get(t)) return I.get(t);
          var n = t.replace(/FromIndex$/, ""),
            r = t !== n,
            A = (0, g.default)(B).call(B, n);
          if (n in (r ? IDBIndex : IDBObjectStore).prototype && (A || (0, g.default)(
              w).call(w, n))) {
            var a = function () {
              var e = (0, h.default)(d.default.mark((function e(t) {
                var a, i, o, s, u, l, c, p = arguments;
                return d.default.wrap((function (e) {
                  for (;;) switch (e.prev = e.next) {
                    case 0:
                      for (i = this.transaction(t, A ? "readwrite" :
                          "readonly"), o = i.store, s = p.length,
                        u = new Array(s > 1 ? s - 1 : 0), l = 1; l <
                        s; l++) u[l - 1] = p[l];
                      return r && (o = o.index(u.shift())), e.next =
                        6, (a = o)[n].apply(a, u);
                    case 6:
                      if (c = e.sent, !A) {
                        e.next = 10;
                        break
                      }
                      return e.next = 10, i.done;
                    case 10:
                      return e.abrupt("return", c);
                    case 11:
                    case "end":
                      return e.stop()
                  }
                }), e, this)
              })));
              return function (t) {
                return e.apply(this, arguments)
              }
            }();
            return I.set(t, a), a
          }
        }
      }(0, y.r)((function (e) {
        return m(m({}, e), {}, {
          get: function (t, n, r) {
            return M(t, n) || e.get(t, n, r)
          },
          has: function (t, n) {
            return !!M(t, n) || e.has(t, n)
          }
        })
      }))
    }, function (e, t, n) {
      e.exports = n(190)
    }, function (e, t, n) {
      var r = n(191);
      e.exports = r
    }, function (e, t, n) {
      n(192);
      var r = n(9);
      e.exports = r.Object.keys
    }, function (e, t, n) {
      var r = n(0),
        A = n(19),
        a = n(56);
      r({
        target: "Object",
        stat: !0,
        forced: n(7)((function () {
          a(1)
        }))
      }, {
        keys: function (e) {
          return a(A(e))
        }
      })
    }, function (e, t, n) {
      e.exports = n(194)
    }, function (e, t, n) {
      var r = n(195);
      e.exports = r
    }, function (e, t, n) {
      n(95);
      var r = n(9);
      e.exports = r.Object.getOwnPropertySymbols
    }, function (e, t, n) {
      e.exports = n(197)
    }, function (e, t, n) {
      var r = n(198);
      e.exports = r
    }, function (e, t, n) {
      n(199);
      var r = n(9).Object,
        A = e.exports = function (e, t) {
          return r.getOwnPropertyDescriptor(e, t)
        };
      r.getOwnPropertyDescriptor.sham && (A.sham = !0)
    }, function (e, t, n) {
      var r = n(0),
        A = n(7),
        a = n(18),
        i = n(27).f,
        o = n(11),
        s = A((function () {
          i(1)
        }));
      r({
        target: "Object",
        stat: !0,
        forced: !o || s,
        sham: !o
      }, {
        getOwnPropertyDescriptor: function (e, t) {
          return i(a(e), t)
        }
      })
    }, function (e, t, n) {
      e.exports = n(201)
    }, function (e, t, n) {
      var r = n(202);
      e.exports = r
    }, function (e, t, n) {
      n(203);
      var r = n(9);
      e.exports = r.Object.getOwnPropertyDescriptors
    }, function (e, t, n) {
      var r = n(0),
        A = n(11),
        a = n(204),
        i = n(18),
        o = n(27),
        s = n(65);
      r({
        target: "Object",
        stat: !0,
        sham: !A
      }, {
        getOwnPropertyDescriptors: function (e) {
          for (var t, n, r = i(e), A = o.f, u = a(r), l = {}, c = 0; u.length >
            c;) void 0 !== (n = A(r, t = u[c++])) && s(l, t, n);
          return l
        }
      })
    }, function (e, t, n) {
      var r = n(16),
        A = n(67),
        a = n(96),
        i = n(1);
      e.exports = r("Reflect", "ownKeys") || function (e) {
        var t = A.f(i(e)),
          n = a.f;
        return n ? t.concat(n(e)) : t
      }
    }, function (e, t, n) {
      e.exports = n(206)
    }, function (e, t, n) {
      var r = n(207);
      e.exports = r
    }, function (e, t, n) {
      n(208);
      var r = n(9).Object,
        A = e.exports = function (e, t) {
          return r.defineProperties(e, t)
        };
      r.defineProperties.sham && (A.sham = !0)
    }, function (e, t, n) {
      var r = n(0),
        A = n(11);
      r({
        target: "Object",
        stat: !0,
        forced: !A,
        sham: !A
      }, {
        defineProperties: n(76)
      })
    }, function (e, t, n) {
      e.exports = n(210)
    }, function (e, t, n) {
      var r = function (e) {
        "use strict";
        var t = Object.prototype,
          n = t.hasOwnProperty,
          r = "function" == typeof Symbol ? Symbol : {},
          A = r.iterator || "@@iterator",
          a = r.asyncIterator || "@@asyncIterator",
          i = r.toStringTag || "@@toStringTag";

        function o(e, t, n) {
          return Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
          }), e[t]
        }
        try {
          o({}, "")
        } catch (e) {
          o = function (e, t, n) {
            return e[t] = n
          }
        }

        function s(e, t, n, r) {
          var A = t && t.prototype instanceof c ? t : c,
            a = Object.create(A.prototype),
            i = new M(r || []);
          return a._invoke = function (e, t, n) {
            var r = "suspendedStart";
            return function (A, a) {
              if ("executing" === r) throw new Error(
                "Generator is already running");
              if ("completed" === r) {
                if ("throw" === A) throw a;
                return {
                  value: void 0,
                  done: !0
                }
              }
              for (n.method = A, n.arg = a;;) {
                var i = n.delegate;
                if (i) {
                  var o = w(i, n);
                  if (o) {
                    if (o === l) continue;
                    return o
                  }
                }
                if ("next" === n.method) n.sent = n._sent = n.arg;
                else if ("throw" === n.method) {
                  if ("suspendedStart" === r) throw r = "completed", n.arg;
                  n.dispatchException(n.arg)
                } else "return" === n.method && n.abrupt("return", n.arg);
                r = "executing";
                var s = u(e, t, n);
                if ("normal" === s.type) {
                  if (r = n.done ? "completed" : "suspendedYield", s.arg === l)
                    continue;
                  return {
                    value: s.arg,
                    done: n.done
                  }
                }
                "throw" === s.type && (r = "completed", n.method = "throw", n
                  .arg = s.arg)
              }
            }
          }(e, n, i), a
        }

        function u(e, t, n) {
          try {
            return {
              type: "normal",
              arg: e.call(t, n)
            }
          } catch (e) {
            return {
              type: "throw",
              arg: e
            }
          }
        }
        e.wrap = s;
        var l = {};

        function c() {}

        function d() {}

        function p() {}
        var h = {};
        h[A] = function () {
          return this
        };
        var f = Object.getPrototypeOf,
          g = f && f(f(C([])));
        g && g !== t && n.call(g, A) && (h = g);
        var y = p.prototype = c.prototype = Object.create(h);

        function v(e) {
          ["next", "throw", "return"].forEach((function (t) {
            o(e, t, (function (e) {
              return this._invoke(t, e)
            }))
          }))
        }

        function m(e, t) {
          var r;
          this._invoke = function (A, a) {
            function i() {
              return new t((function (r, i) {
                ! function r(A, a, i, o) {
                  var s = u(e[A], e, a);
                  if ("throw" !== s.type) {
                    var l = s.arg,
                      c = l.value;
                    return c && "object" == typeof c && n.call(c,
                      "__await") ? t.resolve(c.__await).then((function (e) {
                        r("next", e, i, o)
                      }), (function (e) {
                        r("throw", e, i, o)
                      })) : t.resolve(c).then((function (e) {
                        l.value = e, i(l)
                      }), (function (e) {
                        return r("throw", e, i, o)
                      }))
                  }
                  o(s.arg)
                }(A, a, r, i)
              }))
            }
            return r = r ? r.then(i, i) : i()
          }
        }

        function w(e, t) {
          var n = e.iterator[t.method];
          if (void 0 === n) {
            if (t.delegate = null, "throw" === t.method) {
              if (e.iterator.return && (t.method = "return", t.arg = void 0, w(e,
                  t), "throw" === t.method)) return l;
              t.method = "throw", t.arg = new TypeError(
                "The iterator does not provide a 'throw' method")
            }
            return l
          }
          var r = u(n, e.iterator, t.arg);
          if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t
            .delegate = null, l;
          var A = r.arg;
          return A ? A.done ? (t[e.resultName] = A.value, t.next = e.nextLoc,
            "return" !== t.method && (t.method = "next", t.arg = void 0), t
            .delegate = null, l) : A : (t.method = "throw", t.arg = new TypeError(
            "iterator result is not an object"), t.delegate = null, l)
        }

        function B(e) {
          var t = {
            tryLoc: e[0]
          };
          1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t
            .afterLoc = e[3]), this.tryEntries.push(t)
        }

        function I(e) {
          var t = e.completion || {};
          t.type = "normal", delete t.arg, e.completion = t
        }

        function M(e) {
          this.tryEntries = [{
            tryLoc: "root"
          }], e.forEach(B, this), this.reset(!0)
        }

        function C(e) {
          if (e) {
            var t = e[A];
            if (t) return t.call(e);
            if ("function" == typeof e.next) return e;
            if (!isNaN(e.length)) {
              var r = -1,
                a = function t() {
                  for (; ++r < e.length;)
                    if (n.call(e, r)) return t.value = e[r], t.done = !1, t;
                  return t.value = void 0, t.done = !0, t
                };
              return a.next = a
            }
          }
          return {
            next: b
          }
        }

        function b() {
          return {
            value: void 0,
            done: !0
          }
        }
        return d.prototype = y.constructor = p, p.constructor = d, d.displayName =
          o(p, i, "GeneratorFunction"), e.isGeneratorFunction = function (e) {
            var t = "function" == typeof e && e.constructor;
            return !!t && (t === d || "GeneratorFunction" === (t.displayName || t
              .name))
          }, e.mark = function (e) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(e, p) : (e
                .__proto__ = p, o(e, i, "GeneratorFunction")), e.prototype = Object
              .create(y), e
          }, e.awrap = function (e) {
            return {
              __await: e
            }
          }, v(m.prototype), m.prototype[a] = function () {
            return this
          }, e.AsyncIterator = m, e.async = function (t, n, r, A, a) {
            void 0 === a && (a = Promise);
            var i = new m(s(t, n, r, A), a);
            return e.isGeneratorFunction(n) ? i : i.next().then((function (e) {
              return e.done ? e.value : i.next()
            }))
          }, v(y), o(y, i, "Generator"), y[A] = function () {
            return this
          }, y.toString = function () {
            return "[object Generator]"
          }, e.keys = function (e) {
            var t = [];
            for (var n in e) t.push(n);
            return t.reverse(),
              function n() {
                for (; t.length;) {
                  var r = t.pop();
                  if (r in e) return n.value = r, n.done = !1, n
                }
                return n.done = !0, n
              }
          }, e.values = C, M.prototype = {
            constructor: M,
            reset: function (e) {
              if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0,
                this.done = !1, this.delegate = null, this.method = "next", this
                .arg = void 0, this.tryEntries.forEach(I), !e)
                for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !
                  isNaN(+t.slice(1)) && (this[t] = void 0)
            },
            stop: function () {
              this.done = !0;
              var e = this.tryEntries[0].completion;
              if ("throw" === e.type) throw e.arg;
              return this.rval
            },
            dispatchException: function (e) {
              if (this.done) throw e;
              var t = this;

              function r(n, r) {
                return i.type = "throw", i.arg = e, t.next = n, r && (t.method =
                  "next", t.arg = void 0), !!r
              }
              for (var A = this.tryEntries.length - 1; A >= 0; --A) {
                var a = this.tryEntries[A],
                  i = a.completion;
                if ("root" === a.tryLoc) return r("end");
                if (a.tryLoc <= this.prev) {
                  var o = n.call(a, "catchLoc"),
                    s = n.call(a, "finallyLoc");
                  if (o && s) {
                    if (this.prev < a.catchLoc) return r(a.catchLoc, !0);
                    if (this.prev < a.finallyLoc) return r(a.finallyLoc)
                  } else if (o) {
                    if (this.prev < a.catchLoc) return r(a.catchLoc, !0)
                  } else {
                    if (!s) throw new Error(
                      "try statement without catch or finally");
                    if (this.prev < a.finallyLoc) return r(a.finallyLoc)
                  }
                }
              }
            },
            abrupt: function (e, t) {
              for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                var A = this.tryEntries[r];
                if (A.tryLoc <= this.prev && n.call(A, "finallyLoc") && this
                  .prev < A.finallyLoc) {
                  var a = A;
                  break
                }
              }
              a && ("break" === e || "continue" === e) && a.tryLoc <= t && t <= a
                .finallyLoc && (a = null);
              var i = a ? a.completion : {};
              return i.type = e, i.arg = t, a ? (this.method = "next", this.next =
                a.finallyLoc, l) : this.complete(i)
            },
            complete: function (e, t) {
              if ("throw" === e.type) throw e.arg;
              return "break" === e.type || "continue" === e.type ? this.next = e
                .arg : "return" === e.type ? (this.rval = this.arg = e.arg, this
                  .method = "return", this.next = "end") : "normal" === e.type &&
                t && (this.next = t), l
            },
            finish: function (e) {
              for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                var n = this.tryEntries[t];
                if (n.finallyLoc === e) return this.complete(n.completion, n
                  .afterLoc), I(n), l
              }
            },
            catch: function (e) {
              for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                var n = this.tryEntries[t];
                if (n.tryLoc === e) {
                  var r = n.completion;
                  if ("throw" === r.type) {
                    var A = r.arg;
                    I(n)
                  }
                  return A
                }
              }
              throw new Error("illegal catch attempt")
            },
            delegateYield: function (e, t, n) {
              return this.delegate = {
                iterator: C(e),
                resultName: t,
                nextLoc: n
              }, "next" === this.method && (this.arg = void 0), l
            }
          }, e
      }(e.exports);
      try {
        regeneratorRuntime = r
      } catch (e) {
        Function("r", "regeneratorRuntime = r")(r)
      }
    }, function (e, t, n) {
      var r = n(26);
      e.exports = function (e, t, n) {
        return t in e ? r(e, t, {
          value: n,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }) : e[t] = n, e
      }, e.exports.default = e.exports, e.exports.__esModule = !0
    }, function (e, t, n) {
      var r = n(38);

      function A(e, t, n, A, a, i, o) {
        try {
          var s = e[i](o),
            u = s.value
        } catch (e) {
          return void n(e)
        }
        s.done ? t(u) : r.resolve(u).then(A, a)
      }
      e.exports = function (e) {
        return function () {
          var t = this,
            n = arguments;
          return new r((function (r, a) {
            var i = e.apply(t, n);

            function o(e) {
              A(i, r, a, o, s, "next", e)
            }

            function s(e) {
              A(i, r, a, o, s, "throw", e)
            }
            o(void 0)
          }))
        }
      }, e.exports.default = e.exports, e.exports.__esModule = !0
    }, function (e, t, n) {
      e.exports = n(214)
    }, function (e, t, n) {
      var r = n(215);
      n(219), n(220), n(221), n(222), n(223), n(225), n(226), n(227), n(228), n(229),
        n(231), n(232), n(233), n(234), n(235), n(236), n(237), n(238), n(239), n(
        240), e.exports = r
    }, function (e, t, n) {
      n(216), n(46), n(61), n(34);
      var r = n(9);
      e.exports = r.Map
    }, function (e, t, n) {
      "use strict";
      var r = n(100),
        A = n(218);
      e.exports = r("Map", (function (e) {
        return function () {
          return e(this, arguments.length ? arguments[0] : void 0)
        }
      }), A)
    }, function (e, t, n) {
      var r = n(7);
      e.exports = !r((function () {
        return Object.isExtensible(Object.preventExtensions({}))
      }))
    }, function (e, t, n) {
      "use strict";
      var r = n(15).f,
        A = n(41),
        a = n(47),
        i = n(12),
        o = n(48),
        s = n(4),
        u = n(62),
        l = n(84),
        c = n(11),
        d = n(50).fastKey,
        p = n(20),
        h = p.set,
        f = p.getterFor;
      e.exports = {
        getConstructor: function (e, t, n, u) {
          var l = e((function (e, r) {
              o(e, l, t), h(e, {
                type: t,
                index: A(null),
                first: void 0,
                last: void 0,
                size: 0
              }), c || (e.size = 0), null != r && s(r, e[u], {
                that: e,
                AS_ENTRIES: n
              })
            })),
            p = f(t),
            g = function (e, t, n) {
              var r, A, a = p(e),
                i = y(e, t);
              return i ? i.value = n : (a.last = i = {
                  index: A = d(t, !0),
                  key: t,
                  value: n,
                  previous: r = a.last,
                  next: void 0,
                  removed: !1
                }, a.first || (a.first = i), r && (r.next = i), c ? a.size++ : e
                .size++, "F" !== A && (a.index[A] = i)), e
            },
            y = function (e, t) {
              var n, r = p(e),
                A = d(t);
              if ("F" !== A) return r.index[A];
              for (n = r.first; n; n = n.next)
                if (n.key == t) return n
            };
          return a(l.prototype, {
            clear: function () {
              for (var e = p(this), t = e.index, n = e.first; n;) n
                .removed = !0, n.previous && (n.previous = n.previous.next =
                  void 0), delete t[n.index], n = n.next;
              e.first = e.last = void 0, c ? e.size = 0 : this.size = 0
            },
            delete: function (e) {
              var t = p(this),
                n = y(this, e);
              if (n) {
                var r = n.next,
                  A = n.previous;
                delete t.index[n.index], n.removed = !0, A && (A.next = r),
                  r && (r.previous = A), t.first == n && (t.first = r), t
                  .last == n && (t.last = A), c ? t.size-- : this.size--
              }
              return !!n
            },
            forEach: function (e) {
              for (var t, n = p(this), r = i(e, arguments.length > 1 ?
                  arguments[1] : void 0, 3); t = t ? t.next : n.first;)
                for (r(t.value, t.key, this); t && t.removed;) t = t
                  .previous
            },
            has: function (e) {
              return !!y(this, e)
            }
          }), a(l.prototype, n ? {
            get: function (e) {
              var t = y(this, e);
              return t && t.value
            },
            set: function (e, t) {
              return g(this, 0 === e ? 0 : e, t)
            }
          } : {
            add: function (e) {
              return g(this, e = 0 === e ? 0 : e, e)
            }
          }), c && r(l.prototype, "size", {
            get: function () {
              return p(this).size
            }
          }), l
        },
        setStrong: function (e, t, n) {
          var r = t + " Iterator",
            A = f(t),
            a = f(r);
          u(e, t, (function (e, t) {
            h(this, {
              type: r,
              target: e,
              state: A(e),
              kind: t,
              last: void 0
            })
          }), (function () {
            for (var e = a(this), t = e.kind, n = e.last; n && n.removed;)
              n = n.previous;
            return e.target && (e.last = n = n ? n.next : e.state.first) ?
              "keys" == t ? {
                value: n.key,
                done: !1
              } : "values" == t ? {
                value: n.value,
                done: !1
              } : {
                value: [n.key, n.value],
                done: !1
              } : (e.target = void 0, {
                value: void 0,
                done: !0
              })
          }), n ? "entries" : "values", !n, !0), l(t)
        }
      }
    }, function (e, t, n) {
      n(0)({
        target: "Map",
        stat: !0
      }, {
        from: n(101)
      })
    }, function (e, t, n) {
      n(0)({
        target: "Map",
        stat: !0
      }, {
        of: n(102)
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(103);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        deleteAll: function () {
          return a.apply(this, arguments)
        }
      })
    }, function (e, t, n) {
      "use strict";
      n(0)({
        target: "Map",
        proto: !0,
        real: !0,
        forced: n(2)
      }, {
        emplace: n(104)
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(1),
        i = n(12),
        o = n(17),
        s = n(4);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        every: function (e) {
          var t = a(this),
            n = o(t),
            r = i(e, arguments.length > 1 ? arguments[1] : void 0, 3);
          return !s(n, (function (e, n, A) {
            if (!r(n, e, t)) return A()
          }), {
            AS_ENTRIES: !0,
            IS_ITERATOR: !0,
            INTERRUPTED: !0
          }).stopped
        }
      })
    }, function (e, t, n) {
      var r = n(1),
        A = n(82);
      e.exports = function (e) {
        var t = A(e);
        if ("function" != typeof t) throw TypeError(String(e) + " is not iterable");
        return r(t.call(e))
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(16),
        i = n(1),
        o = n(8),
        s = n(12),
        u = n(32),
        l = n(17),
        c = n(4);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        filter: function (e) {
          var t = i(this),
            n = l(t),
            r = s(e, arguments.length > 1 ? arguments[1] : void 0, 3),
            A = new(u(t, a("Map"))),
            d = o(A.set);
          return c(n, (function (e, n) {
            r(n, e, t) && d.call(A, e, n)
          }), {
            AS_ENTRIES: !0,
            IS_ITERATOR: !0
          }), A
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(1),
        i = n(12),
        o = n(17),
        s = n(4);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        find: function (e) {
          var t = a(this),
            n = o(t),
            r = i(e, arguments.length > 1 ? arguments[1] : void 0, 3);
          return s(n, (function (e, n, A) {
            if (r(n, e, t)) return A(n)
          }), {
            AS_ENTRIES: !0,
            IS_ITERATOR: !0,
            INTERRUPTED: !0
          }).result
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(1),
        i = n(12),
        o = n(17),
        s = n(4);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        findKey: function (e) {
          var t = a(this),
            n = o(t),
            r = i(e, arguments.length > 1 ? arguments[1] : void 0, 3);
          return s(n, (function (e, n, A) {
            if (r(n, e, t)) return A(e)
          }), {
            AS_ENTRIES: !0,
            IS_ITERATOR: !0,
            INTERRUPTED: !0
          }).result
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(4),
        a = n(8);
      r({
        target: "Map",
        stat: !0
      }, {
        groupBy: function (e, t) {
          var n = new this;
          a(t);
          var r = a(n.has),
            i = a(n.get),
            o = a(n.set);
          return A(e, (function (e) {
            var A = t(e);
            r.call(n, A) ? i.call(n, A).push(e) : o.call(n, A, [e])
          })), n
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(1),
        i = n(17),
        o = n(230),
        s = n(4);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        includes: function (e) {
          return s(i(a(this)), (function (t, n, r) {
            if (o(n, e)) return r()
          }), {
            AS_ENTRIES: !0,
            IS_ITERATOR: !0,
            INTERRUPTED: !0
          }).stopped
        }
      })
    }, function (e, t) {
      e.exports = function (e, t) {
        return e === t || e != e && t != t
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(4),
        a = n(8);
      r({
        target: "Map",
        stat: !0
      }, {
        keyBy: function (e, t) {
          var n = new this;
          a(t);
          var r = a(n.set);
          return A(e, (function (e) {
            r.call(n, t(e), e)
          })), n
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(1),
        i = n(17),
        o = n(4);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        keyOf: function (e) {
          return o(i(a(this)), (function (t, n, r) {
            if (n === e) return r(t)
          }), {
            AS_ENTRIES: !0,
            IS_ITERATOR: !0,
            INTERRUPTED: !0
          }).result
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(16),
        i = n(1),
        o = n(8),
        s = n(12),
        u = n(32),
        l = n(17),
        c = n(4);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        mapKeys: function (e) {
          var t = i(this),
            n = l(t),
            r = s(e, arguments.length > 1 ? arguments[1] : void 0, 3),
            A = new(u(t, a("Map"))),
            d = o(A.set);
          return c(n, (function (e, n) {
            d.call(A, r(n, e, t), n)
          }), {
            AS_ENTRIES: !0,
            IS_ITERATOR: !0
          }), A
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(16),
        i = n(1),
        o = n(8),
        s = n(12),
        u = n(32),
        l = n(17),
        c = n(4);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        mapValues: function (e) {
          var t = i(this),
            n = l(t),
            r = s(e, arguments.length > 1 ? arguments[1] : void 0, 3),
            A = new(u(t, a("Map"))),
            d = o(A.set);
          return c(n, (function (e, n) {
            d.call(A, e, r(n, e, t))
          }), {
            AS_ENTRIES: !0,
            IS_ITERATOR: !0
          }), A
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(1),
        i = n(8),
        o = n(4);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        merge: function (e) {
          for (var t = a(this), n = i(t.set), r = 0; r < arguments.length;) o(
            arguments[r++], n, {
              that: t,
              AS_ENTRIES: !0
            });
          return t
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(1),
        i = n(8),
        o = n(17),
        s = n(4);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        reduce: function (e) {
          var t = a(this),
            n = o(t),
            r = arguments.length < 2,
            A = r ? void 0 : arguments[1];
          if (i(e), s(n, (function (n, a) {
              r ? (r = !1, A = a) : A = e(A, a, n, t)
            }), {
              AS_ENTRIES: !0,
              IS_ITERATOR: !0
            }), r) throw TypeError("Reduce of empty map with no initial value");
          return A
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(1),
        i = n(12),
        o = n(17),
        s = n(4);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        some: function (e) {
          var t = a(this),
            n = o(t),
            r = i(e, arguments.length > 1 ? arguments[1] : void 0, 3);
          return s(n, (function (e, n, A) {
            if (r(n, e, t)) return A()
          }), {
            AS_ENTRIES: !0,
            IS_ITERATOR: !0,
            INTERRUPTED: !0
          }).stopped
        }
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(1),
        i = n(8);
      r({
        target: "Map",
        proto: !0,
        real: !0,
        forced: A
      }, {
        update: function (e, t) {
          var n = a(this),
            r = arguments.length;
          i(t);
          var A = n.has(e);
          if (!A && r < 3) throw TypeError("Updating absent value");
          var o = A ? n.get(e) : i(r > 2 ? arguments[2] : void 0)(e, n);
          return n.set(e, t(o, e, n)), n
        }
      })
    }, function (e, t, n) {
      "use strict";
      n(0)({
        target: "Map",
        proto: !0,
        real: !0,
        forced: n(2)
      }, {
        upsert: n(70)
      })
    }, function (e, t, n) {
      "use strict";
      n(0)({
        target: "Map",
        proto: !0,
        real: !0,
        forced: n(2)
      }, {
        updateOrInsert: n(70)
      })
    }, function (e, t, n) {
      var r = n(242);
      e.exports = r
    }, function (e, t, n) {
      var r = n(243),
        A = n(245),
        a = Array.prototype,
        i = String.prototype;
      e.exports = function (e) {
        var t = e.includes;
        return e === a || e instanceof Array && t === a.includes ? r : "string" ==
          typeof e || e === i || e instanceof String && t === i.includes ? A : t
      }
    }, function (e, t, n) {
      n(244);
      var r = n(21);
      e.exports = r("Array").includes
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(78).includes,
        a = n(93);
      r({
        target: "Array",
        proto: !0
      }, {
        includes: function (e) {
          return A(this, e, arguments.length > 1 ? arguments[1] : void 0)
        }
      }), a("includes")
    }, function (e, t, n) {
      n(246);
      var r = n(21);
      e.exports = r("String").includes
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(247),
        a = n(36);
      r({
        target: "String",
        proto: !0,
        forced: !n(249)("includes")
      }, {
        includes: function (e) {
          return !!~String(a(this)).indexOf(A(e), arguments.length > 1 ?
            arguments[1] : void 0)
        }
      })
    }, function (e, t, n) {
      var r = n(248);
      e.exports = function (e) {
        if (r(e)) throw TypeError("The method doesn't accept regular expressions");
        return e
      }
    }, function (e, t, n) {
      var r = n(10),
        A = n(28),
        a = n(6)("match");
      e.exports = function (e) {
        var t;
        return r(e) && (void 0 !== (t = e[a]) ? !!t : "RegExp" == A(e))
      }
    }, function (e, t, n) {
      var r = n(6)("match");
      e.exports = function (e) {
        var t = /./;
        try {
          "/./" [e](t)
        } catch (n) {
          try {
            return t[r] = !1, "/./" [e](t)
          } catch (e) {}
        }
        return !1
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(26),
        A = n(35);
      r(t, "__esModule", {
        value: !0
      }), t.r = function (e) {
        m = e(m)
      }, t.w = B, t.u = t.i = t.a = void 0;
      var a, i, o = A(n(251)),
        s = A(n(256)),
        u = A(n(38)),
        l = A(n(266)),
        c = A(n(270)),
        d = A(n(105)),
        p = function (e, t) {
          return (0, o.default)(t).call(t, (function (t) {
            return e instanceof t
          }))
        };
      t.i = p;
      var h = new s.default,
        f = new s.default,
        g = new s.default,
        y = new s.default,
        v = new s.default;
      t.a = v;
      var m = {
        get: function (e, t, n) {
          if (e instanceof IDBTransaction) {
            if ("done" === t) return f.get(e);
            if ("objectStoreNames" === t) return e.objectStoreNames || g.get(e);
            if ("store" === t) return n.objectStoreNames[1] ? void 0 : n
              .objectStore(n.objectStoreNames[0])
          }
          return B(e[t])
        },
        set: function (e, t, n) {
          return e[t] = n, !0
        },
        has: function (e, t) {
          return e instanceof IDBTransaction && ("done" === t || "store" === t) ||
            t in e
        }
      };

      function w(e) {
        return "function" == typeof e ? function (e) {
          var t;
          return e !== IDBDatabase.prototype.transaction || "objectStoreNames" in
            IDBTransaction.prototype ? (0, d.default)(t = i || (i = [IDBCursor
              .prototype.advance, IDBCursor.prototype.continue, IDBCursor
              .prototype.continuePrimaryKey
            ])).call(t, e) ? function () {
              for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[
                r] = arguments[r];
              return e.apply(I(this), n), B(h.get(this))
            } : function () {
              for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[
                r] = arguments[r];
              return B(e.apply(I(this), n))
            } : function (t) {
              for (var n, r = arguments.length, A = new Array(r > 1 ? r - 1 : 0),
                  a = 1; a < r; a++) A[a - 1] = arguments[a];
              var i = e.call.apply(e, (0, l.default)(n = [I(this), t]).call(n, A));
              return g.set(i, (0, c.default)(t) ? (0, c.default)(t).call(t) : [t]),
                B(i)
            }
        }(e) : (e instanceof IDBTransaction && function (e) {
          if (!f.has(e)) {
            var t = new u.default((function (t, n) {
              var r = function () {
                  e.removeEventListener("complete", A), e
                    .removeEventListener("error", a), e.removeEventListener(
                      "abort", a)
                },
                A = function () {
                  t(), r()
                },
                a = function () {
                  n(e.error || new DOMException("AbortError",
                    "AbortError")), r()
                };
              e.addEventListener("complete", A), e.addEventListener("error",
                a), e.addEventListener("abort", a)
            }));
            f.set(e, t)
          }
        }(e), p(e, a || (a = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor,
          IDBTransaction
        ])) ? new Proxy(e, m) : e)
      }

      function B(e) {
        if (e instanceof IDBRequest) return t = e, (n = new u.default((function (e,
        n) {
          var r = function () {
              t.removeEventListener("success", A), t.removeEventListener(
                "error", a)
            },
            A = function () {
              e(B(t.result)), r()
            },
            a = function () {
              n(t.error), r()
            };
          t.addEventListener("success", A), t.addEventListener("error", a)
        }))).then((function (e) {
          e instanceof IDBCursor && h.set(e, t)
        })).catch((function () {})), v.set(n, t), n;
        var t, n;
        if (y.has(e)) return y.get(e);
        var r = w(e);
        return r !== e && (y.set(e, r), v.set(r, e)), r
      }
      var I = function (e) {
        return v.get(e)
      };
      t.u = I
    }, function (e, t, n) {
      e.exports = n(252)
    }, function (e, t, n) {
      var r = n(253);
      e.exports = r
    }, function (e, t, n) {
      var r = n(254),
        A = Array.prototype;
      e.exports = function (e) {
        var t = e.some;
        return e === A || e instanceof Array && t === A.some ? r : t
      }
    }, function (e, t, n) {
      n(255);
      var r = n(21);
      e.exports = r("Array").some
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(25).some;
      r({
        target: "Array",
        proto: !0,
        forced: !n(69)("some")
      }, {
        some: function (e) {
          return A(this, e, arguments.length > 1 ? arguments[1] : void 0)
        }
      })
    }, function (e, t, n) {
      e.exports = n(257)
    }, function (e, t, n) {
      var r = n(258);
      n(261), n(262), n(263), n(264), n(265), e.exports = r
    }, function (e, t, n) {
      n(46), n(259), n(34);
      var r = n(9);
      e.exports = r.WeakMap
    }, function (e, t, n) {
      "use strict";
      var r, A = n(3),
        a = n(47),
        i = n(50),
        o = n(100),
        s = n(260),
        u = n(10),
        l = n(20).enforce,
        c = n(89),
        d = !A.ActiveXObject && "ActiveXObject" in A,
        p = Object.isExtensible,
        h = function (e) {
          return function () {
            return e(this, arguments.length ? arguments[0] : void 0)
          }
        },
        f = e.exports = o("WeakMap", h, s);
      if (c && d) {
        r = s.getConstructor(h, "WeakMap", !0), i.REQUIRED = !0;
        var g = f.prototype,
          y = g.delete,
          v = g.has,
          m = g.get,
          w = g.set;
        a(g, {
          delete: function (e) {
            if (u(e) && !p(e)) {
              var t = l(this);
              return t.frozen || (t.frozen = new r), y.call(this, e) || t.frozen
                .delete(e)
            }
            return y.call(this, e)
          },
          has: function (e) {
            if (u(e) && !p(e)) {
              var t = l(this);
              return t.frozen || (t.frozen = new r), v.call(this, e) || t.frozen
                .has(e)
            }
            return v.call(this, e)
          },
          get: function (e) {
            if (u(e) && !p(e)) {
              var t = l(this);
              return t.frozen || (t.frozen = new r), v.call(this, e) ? m.call(
                this, e) : t.frozen.get(e)
            }
            return m.call(this, e)
          },
          set: function (e, t) {
            if (u(e) && !p(e)) {
              var n = l(this);
              n.frozen || (n.frozen = new r), v.call(this, e) ? w.call(this, e,
                t) : n.frozen.set(e, t)
            } else w.call(this, e, t);
            return this
          }
        })
      }
    }, function (e, t, n) {
      "use strict";
      var r = n(47),
        A = n(50).getWeakData,
        a = n(1),
        i = n(10),
        o = n(48),
        s = n(4),
        u = n(25),
        l = n(13),
        c = n(20),
        d = c.set,
        p = c.getterFor,
        h = u.find,
        f = u.findIndex,
        g = 0,
        y = function (e) {
          return e.frozen || (e.frozen = new v)
        },
        v = function () {
          this.entries = []
        },
        m = function (e, t) {
          return h(e.entries, (function (e) {
            return e[0] === t
          }))
        };
      v.prototype = {
        get: function (e) {
          var t = m(this, e);
          if (t) return t[1]
        },
        has: function (e) {
          return !!m(this, e)
        },
        set: function (e, t) {
          var n = m(this, e);
          n ? n[1] = t : this.entries.push([e, t])
        },
        delete: function (e) {
          var t = f(this.entries, (function (t) {
            return t[0] === e
          }));
          return ~t && this.entries.splice(t, 1), !!~t
        }
      }, e.exports = {
        getConstructor: function (e, t, n, u) {
          var c = e((function (e, r) {
              o(e, c, t), d(e, {
                type: t,
                id: g++,
                frozen: void 0
              }), null != r && s(r, e[u], {
                that: e,
                AS_ENTRIES: n
              })
            })),
            h = p(t),
            f = function (e, t, n) {
              var r = h(e),
                i = A(a(t), !0);
              return !0 === i ? y(r).set(t, n) : i[r.id] = n, e
            };
          return r(c.prototype, {
            delete: function (e) {
              var t = h(this);
              if (!i(e)) return !1;
              var n = A(e);
              return !0 === n ? y(t).delete(e) : n && l(n, t.id) &&
                delete n[t.id]
            },
            has: function (e) {
              var t = h(this);
              if (!i(e)) return !1;
              var n = A(e);
              return !0 === n ? y(t).has(e) : n && l(n, t.id)
            }
          }), r(c.prototype, n ? {
            get: function (e) {
              var t = h(this);
              if (i(e)) {
                var n = A(e);
                return !0 === n ? y(t).get(e) : n ? n[t.id] : void 0
              }
            },
            set: function (e, t) {
              return f(this, e, t)
            }
          } : {
            add: function (e) {
              return f(this, e, !0)
            }
          }), c
        }
      }
    }, function (e, t, n) {
      "use strict";
      n(0)({
        target: "WeakMap",
        proto: !0,
        real: !0,
        forced: n(2)
      }, {
        emplace: n(104)
      })
    }, function (e, t, n) {
      n(0)({
        target: "WeakMap",
        stat: !0
      }, {
        from: n(101)
      })
    }, function (e, t, n) {
      n(0)({
        target: "WeakMap",
        stat: !0
      }, {
        of: n(102)
      })
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(2),
        a = n(103);
      r({
        target: "WeakMap",
        proto: !0,
        real: !0,
        forced: A
      }, {
        deleteAll: function () {
          return a.apply(this, arguments)
        }
      })
    }, function (e, t, n) {
      "use strict";
      n(0)({
        target: "WeakMap",
        proto: !0,
        real: !0,
        forced: n(2)
      }, {
        upsert: n(70)
      })
    }, function (e, t, n) {
      e.exports = n(267)
    }, function (e, t, n) {
      var r = n(268);
      e.exports = r
    }, function (e, t, n) {
      var r = n(269),
        A = Array.prototype;
      e.exports = function (e) {
        var t = e.concat;
        return e === A || e instanceof Array && t === A.concat ? r : t
      }
    }, function (e, t, n) {
      n(94);
      var r = n(21);
      e.exports = r("Array").concat
    }, function (e, t, n) {
      e.exports = n(271)
    }, function (e, t, n) {
      var r = n(272);
      e.exports = r
    }, function (e, t, n) {
      var r = n(273),
        A = Array.prototype;
      e.exports = function (e) {
        var t = e.sort;
        return e === A || e instanceof Array && t === A.sort ? r : t
      }
    }, function (e, t, n) {
      n(274);
      var r = n(21);
      e.exports = r("Array").sort
    }, function (e, t, n) {
      "use strict";
      var r = n(0),
        A = n(8),
        a = n(19),
        i = n(7),
        o = n(69),
        s = [],
        u = s.sort,
        l = i((function () {
          s.sort(void 0)
        })),
        c = i((function () {
          s.sort(null)
        })),
        d = o("sort");
      r({
        target: "Array",
        proto: !0,
        forced: l || !c || !d
      }, {
        sort: function (e) {
          return void 0 === e ? u.call(a(this)) : u.call(a(this), A(e))
        }
      })
    }]).default
  }, , , , , , function (e, t) {
    var n = {
      utf8: {
        stringToBytes: function (e) {
          return n.bin.stringToBytes(unescape(encodeURIComponent(e)))
        },
        bytesToString: function (e) {
          return decodeURIComponent(escape(n.bin.bytesToString(e)))
        }
      },
      bin: {
        stringToBytes: function (e) {
          for (var t = [], n = 0; n < e.length; n++) t.push(255 & e.charCodeAt(n));
          return t
        },
        bytesToString: function (e) {
          for (var t = [], n = 0; n < e.length; n++) t.push(String.fromCharCode(e[
          n]));
          return t.join("")
        }
      }
    };
    e.exports = n
  }, function (e, t, n) {
    (function (e, r) {
      var A;
      /*!
       * Platform.js v1.3.6
       * Copyright 2014-2020 Benjamin Tan
       * Copyright 2011-2013 John-David Dalton
       * Available under MIT license
       */
      (function () {
        "use strict";
        var a = {
            function: !0,
            object: !0
          },
          i = a[typeof window] && window || this,
          o = a[typeof t] && t,
          s = a[typeof e] && e && !e.nodeType && e,
          u = o && s && "object" == typeof r && r;
        !u || u.global !== u && u.window !== u && u.self !== u || (i = u);
        var l = Math.pow(2, 53) - 1,
          c = /\bOpera/,
          d = Object.prototype,
          p = d.hasOwnProperty,
          h = d.toString;

        function f(e) {
          return (e = String(e)).charAt(0).toUpperCase() + e.slice(1)
        }

        function g(e) {
          return e = B(e), /^(?:webOS|i(?:OS|P))/.test(e) ? e : f(e)
        }

        function y(e, t) {
          for (var n in e) p.call(e, n) && t(e[n], n, e)
        }

        function v(e) {
          return null == e ? f(e) : h.call(e).slice(8, -1)
        }

        function m(e) {
          return String(e).replace(/([ -])(?!$)/g, "$1?")
        }

        function w(e, t) {
          var n = null;
          return function (e, t) {
            var n = -1,
              r = e ? e.length : 0;
            if ("number" == typeof r && r > -1 && r <= l)
              for (; ++n < r;) t(e[n], n, e);
            else y(e, t)
          }(e, (function (r, A) {
            n = t(n, r, A, e)
          })), n
        }

        function B(e) {
          return String(e).replace(/^ +| +$/g, "")
        }
        var I = function e(t) {
          var n = i,
            r = t && "object" == typeof t && "String" != v(t);
          r && (n = t, t = null);
          var A = n.navigator || {},
            a = A.userAgent || "";
          t || (t = a);
          var o, s, u, l, d, p = r ? !!A.likeChrome : /\bChrome\b/.test(t) && !
            /internal|\n/i.test(h.toString()),
            f = r ? "Object" : "ScriptBridgingProxyObject",
            I = r ? "Object" : "Environment",
            M = r && n.java ? "JavaPackage" : v(n.java),
            C = r ? "Object" : "RuntimeObject",
            b = /\bJava/.test(M) && n.java,
            x = b && v(n.environment) == I,
            T = b ? "a" : "α",
            k = b ? "b" : "β",
            E = n.document || {},
            N = n.operamini || n.opera,
            O = c.test(O = r && N ? N["[[Class]]"] : v(N)) ? O : N = null,
            P = t,
            _ = [],
            D = null,
            Q = t == a,
            S = Q && N && "function" == typeof N.version && N.version(),
            U = w([{
              label: "EdgeHTML",
              pattern: "Edge"
            }, "Trident", {
              label: "WebKit",
              pattern: "AppleWebKit"
            }, "iCab", "Presto", "NetFront", "Tasman", "KHTML", "Gecko"], (
              function (e, n) {
                return e || RegExp("\\b" + (n.pattern || m(n)) + "\\b", "i").exec(
                  t) && (n.label || n)
              })),
            F = function (e) {
              return w(e, (function (e, n) {
                return e || RegExp("\\b" + (n.pattern || m(n)) + "\\b", "i")
                  .exec(t) && (n.label || n)
              }))
            }(["Adobe AIR", "Arora", "Avant Browser", "Breach", "Camino",
              "Electron", "Epiphany", "Fennec", "Flock", "Galeon", "GreenBrowser",
              "iCab", "Iceweasel", "K-Meleon", "Konqueror", "Lunascape",
              "Maxthon", {
                label: "Microsoft Edge",
                pattern: "(?:Edge|Edg|EdgA|EdgiOS)"
              }, "Midori", "Nook Browser", "PaleMoon", "PhantomJS", "Raven",
              "Rekonq", "RockMelt", {
                label: "Samsung Internet",
                pattern: "SamsungBrowser"
              }, "SeaMonkey", {
                label: "Silk",
                pattern: "(?:Cloud9|Silk-Accelerated)"
              }, "Sleipnir", "SlimBrowser", {
                label: "SRWare Iron",
                pattern: "Iron"
              }, "Sunrise", "Swiftfox", "Vivaldi", "Waterfox", "WebPositive", {
                label: "Yandex Browser",
                pattern: "YaBrowser"
              }, {
                label: "UC Browser",
                pattern: "UCBrowser"
              }, "Opera Mini", {
                label: "Opera Mini",
                pattern: "OPiOS"
              }, "Opera", {
                label: "Opera",
                pattern: "OPR"
              }, "Chromium", "Chrome", {
                label: "Chrome",
                pattern: "(?:HeadlessChrome)"
              }, {
                label: "Chrome Mobile",
                pattern: "(?:CriOS|CrMo)"
              }, {
                label: "Firefox",
                pattern: "(?:Firefox|Minefield)"
              }, {
                label: "Firefox for iOS",
                pattern: "FxiOS"
              }, {
                label: "IE",
                pattern: "IEMobile"
              }, {
                label: "IE",
                pattern: "MSIE"
              }, "Safari"
            ]),
            L = R([{
                label: "BlackBerry",
                pattern: "BB10"
              }, "BlackBerry", {
                label: "Galaxy S",
                pattern: "GT-I9000"
              }, {
                label: "Galaxy S2",
                pattern: "GT-I9100"
              }, {
                label: "Galaxy S3",
                pattern: "GT-I9300"
              }, {
                label: "Galaxy S4",
                pattern: "GT-I9500"
              }, {
                label: "Galaxy S5",
                pattern: "SM-G900"
              }, {
                label: "Galaxy S6",
                pattern: "SM-G920"
              }, {
                label: "Galaxy S6 Edge",
                pattern: "SM-G925"
              }, {
                label: "Galaxy S7",
                pattern: "SM-G930"
              }, {
                label: "Galaxy S7 Edge",
                pattern: "SM-G935"
              }, "Google TV", "Lumia", "iPad", "iPod", "iPhone", "Kindle", {
                label: "Kindle Fire",
                pattern: "(?:Cloud9|Silk-Accelerated)"
              }, "Nexus", "Nook", "PlayBook", "PlayStation Vita", "PlayStation",
              "TouchPad", "Transformer", {
                label: "Wii U",
                pattern: "WiiU"
              }, "Wii", "Xbox One", {
                label: "Xbox 360",
                pattern: "Xbox"
              }, "Xoom"
            ]),
            j = function (e) {
              return w(e, (function (e, n, r) {
                return e || (n[L] || n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(L)] ||
                    RegExp("\\b" + m(r) + "(?:\\b|\\w*\\d)", "i").exec(t)) &&
                  r
              }))
            }({
              Apple: {
                iPad: 1,
                iPhone: 1,
                iPod: 1
              },
              Alcatel: {},
              Archos: {},
              Amazon: {
                Kindle: 1,
                "Kindle Fire": 1
              },
              Asus: {
                Transformer: 1
              },
              "Barnes & Noble": {
                Nook: 1
              },
              BlackBerry: {
                PlayBook: 1
              },
              Google: {
                "Google TV": 1,
                Nexus: 1
              },
              HP: {
                TouchPad: 1
              },
              HTC: {},
              Huawei: {},
              Lenovo: {},
              LG: {},
              Microsoft: {
                Xbox: 1,
                "Xbox One": 1
              },
              Motorola: {
                Xoom: 1
              },
              Nintendo: {
                "Wii U": 1,
                Wii: 1
              },
              Nokia: {
                Lumia: 1
              },
              Oppo: {},
              Samsung: {
                "Galaxy S": 1,
                "Galaxy S2": 1,
                "Galaxy S3": 1,
                "Galaxy S4": 1
              },
              Sony: {
                PlayStation: 1,
                "PlayStation Vita": 1
              },
              Xiaomi: {
                Mi: 1,
                Redmi: 1
              }
            }),
            z = function (e) {
              return w(e, (function (e, n) {
                var r = n.pattern || m(n);
                return !e && (e = RegExp("\\b" + r + "(?:/[\\d.]+|[ \\w.]*)",
                  "i").exec(t)) && (e = function (e, t, n) {
                  var r = {
                    "10.0": "10",
                    6.4: "10 Technical Preview",
                    6.3: "8.1",
                    6.2: "8",
                    6.1: "Server 2008 R2 / 7",
                    "6.0": "Server 2008 / Vista",
                    5.2: "Server 2003 / XP 64-bit",
                    5.1: "XP",
                    5.01: "2000 SP1",
                    "5.0": "2000",
                    "4.0": "NT",
                    "4.90": "ME"
                  };
                  return t && n && /^Win/i.test(e) && !/^Windows Phone /i
                    .test(e) && (r = r[/[\d.]+$/.exec(e)]) && (e =
                      "Windows " + r), e = String(e), t && n && (e = e
                      .replace(RegExp(t, "i"), n)), e = g(e.replace(
                        / ce$/i, " CE").replace(/\bhpw/i, "web").replace(
                        /\bMacintosh\b/, "Mac OS").replace(/_PowerPC\b/i,
                        " OS").replace(/\b(OS X) [^ \d]+/i, "$1").replace(
                        /\bMac (OS X)\b/, "$1").replace(/\/(\d)/, " $1")
                      .replace(/_/g, ".").replace(
                        /(?: BePC|[ .]*fc[ \d.]+)$/i, "").replace(
                        /\bx86\.64\b/gi, "x86_64").replace(
                        /\b(Windows Phone) OS\b/, "$1").replace(
                        /\b(Chrome OS \w+) [\d.]+\b/, "$1").split(" on ")[
                        0])
                }(e, r, n.label || n)), e
              }))
            }(["Windows Phone", "KaiOS", "Android", "CentOS", {
                label: "Chrome OS",
                pattern: "CrOS"
              }, "Debian", {
                label: "DragonFly BSD",
                pattern: "DragonFly"
              }, "Fedora", "FreeBSD", "Gentoo", "Haiku", "Kubuntu", "Linux Mint",
              "OpenBSD", "Red Hat", "SuSE", "Ubuntu", "Xubuntu", "Cygwin",
              "Symbian OS", "hpwOS", "webOS ", "webOS", "Tablet OS", "Tizen",
              "Linux", "Mac OS X", "Macintosh", "Mac", "Windows 98;", "Windows "
            ]);

          function R(e) {
            return w(e, (function (e, n) {
              var r = n.pattern || m(n);
              return !e && (e = RegExp("\\b" + r + " *\\d+[.\\w_]*", "i")
                .exec(t) || RegExp("\\b" + r + " *\\w+-[\\w]*", "i").exec(
                t) || RegExp("\\b" + r +
                  "(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)", "i").exec(t)
                ) && ((e = String(n.label && !RegExp(r, "i").test(n.label) ?
                n.label : e).split("/"))[1] && !/[\d.]+/.test(e[0]) && (e[
                0] += " " + e[1]), n = n.label || n, e = g(e[0].replace(
                RegExp(r, "i"), n).replace(RegExp("; *(?:" + n +
                "[_-])?", "i"), " ").replace(RegExp("(" + n +
                ")[-_.]?(\\w)", "i"), "$1 $2"))), e
            }))
          }

          function H(e) {
            return w(e, (function (e, n) {
              return e || (RegExp(n +
                "(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)",
                "i").exec(t) || 0)[1] || null
            }))
          }
          if (U && (U = [U]), /\bAndroid\b/.test(z) && !L && (o =
              /\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t)) && (L = B(
              o[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i, "") || null), j && !L ? L =
            R([j]) : j && L && (L = L.replace(RegExp("^(" + m(j) + ")[-_.\\s]",
              "i"), j + " ").replace(RegExp("^(" + m(j) + ")[-_.]?(\\w)", "i"),
              j + " $2")), (o = /\bGoogle TV\b/.exec(L)) && (L = o[0]),
            /\bSimulator\b/i.test(t) && (L = (L ? L + " " : "") + "Simulator"),
            "Opera Mini" == F && /\bOPiOS\b/.test(t) && _.push(
              "running in Turbo/Uncompressed mode"), "IE" == F &&
            /\blike iPhone OS\b/.test(t) ? (j = (o = e(t.replace(/like iPhone OS/,
              ""))).manufacturer, L = o.product) : /^iP/.test(L) ? (F || (F =
              "Safari"), z = "iOS" + ((o = / OS ([\d_]+)/i.exec(t)) ? " " + o[1]
              .replace(/_/g, ".") : "")) : "Konqueror" == F && /^Linux\b/i.test(z) ?
            z = "Kubuntu" : j && "Google" != j && (/Chrome/.test(F) && !
              /\bMobile Safari\b/i.test(t) || /\bVita\b/.test(L)) || /\bAndroid\b/
            .test(z) && /^Chrome/.test(F) && /\bVersion\//i.test(t) ? (F =
              "Android Browser", z = /\bAndroid\b/.test(z) ? z : "Android") :
            "Silk" == F ? (/\bMobi/i.test(t) || (z = "Android", _.unshift(
              "desktop mode")), /Accelerated *= *true/i.test(t) && _.unshift(
              "accelerated")) : "UC Browser" == F && /\bUCWEB\b/.test(t) ? _.push(
              "speed mode") : "PaleMoon" == F && (o = /\bFirefox\/([\d.]+)\b/.exec(
              t)) ? _.push("identifying as Firefox " + o[1]) : "Firefox" == F && (
              o = /\b(Mobile|Tablet|TV)\b/i.exec(t)) ? (z || (z = "Firefox OS"),
              L || (L = o[1])) : !F || (o = !/\bMinefield\b/i.test(t) &&
              /\b(?:Firefox|Safari)\b/.exec(F)) ? (F && !L && /[\/,]|^[^(]+?\)/
              .test(t.slice(t.indexOf(o + "/") + 8)) && (F = null), (o = L || j ||
                z) && (L || j || /\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(
                z)) && (F = /[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(z) ? z : o) +
                " Browser")) : "Electron" == F && (o = (/\bChrome\/([\d.]+)\b/.exec(
              t) || 0)[1]) && _.push("Chromium " + o), S || (S = H([
              "(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)",
              "Version", m(F), "(?:Firefox|Minefield|NetFront)"
            ])), (o = ("iCab" == U && parseFloat(S) > 3 ? "WebKit" : /\bOpera\b/
                .test(F) && (/\bOPR\b/.test(t) ? "Blink" : "Presto")) ||
              /\b(?:Midori|Nook|Safari)\b/i.test(t) && !/^(?:Trident|EdgeHTML)$/
              .test(U) && "WebKit" || !U && /\bMSIE\b/i.test(t) && ("Mac OS" == z ?
                "Tasman" : "Trident") || "WebKit" == U &&
              /\bPlayStation\b(?! Vita\b)/i.test(F) && "NetFront") && (U = [o]),
            "IE" == F && (o = (/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t) || 0)[1]) ? (F +=
              " Mobile", z = "Windows Phone " + (/\+$/.test(o) ? o : o + ".x"), _
              .unshift("desktop mode")) : /\bWPDesktop\b/i.test(t) ? (F =
              "IE Mobile", z = "Windows Phone 8.x", _.unshift("desktop mode"), S ||
              (S = (/\brv:([\d.]+)/.exec(t) || 0)[1])) : "IE" != F && "Trident" ==
            U && (o = /\brv:([\d.]+)/.exec(t)) && (F && _.push("identifying as " +
              F + (S ? " " + S : "")), F = "IE", S = o[1]), Q) {
            if (l = "global", d = null != (u = n) ? typeof u[l] : "number",
              /^(?:boolean|number|string|undefined)$/.test(d) || "object" == d && !
              u[l]) v(o = n.runtime) == f ? (F = "Adobe AIR", z = o.flash.system
                .Capabilities.os) : v(o = n.phantom) == C ? (F = "PhantomJS", S = (
                o = o.version || null) && o.major + "." + o.minor + "." + o.patch) :
              "number" == typeof E.documentMode && (o = /\bTrident\/(\d+)/i.exec(
              t)) ? (S = [S, E.documentMode], (o = +o[1] + 4) != S[1] && (_.push(
                  "IE " + S[1] + " mode"), U && (U[1] = ""), S[1] = o), S = "IE" ==
                F ? String(S[1].toFixed(1)) : S[0]) : "number" == typeof E
              .documentMode && /^(?:Chrome|Firefox)\b/.test(F) && (_.push(
                "masking as " + F + " " + S), F = "IE", S = "11.0", U = [
                "Trident"], z = "Windows");
            else if (b && (P = (o = b.lang.System).getProperty("os.arch"), z = z ||
                o.getProperty("os.name") + " " + o.getProperty("os.version")), x) {
              try {
                S = n.require("ringo/engine").version.join("."), F = "RingoJS"
              } catch (e) {
                (o = n.system) && o.global.system == n.system && (F = "Narwhal",
                  z || (z = o[0].os || null))
              }
              F || (F = "Rhino")
            } else "object" == typeof n.process && !n.process.browser && (o = n
              .process) && ("object" == typeof o.versions && ("string" == typeof o
              .versions.electron ? (_.push("Node " + o.versions.node), F =
                "Electron", S = o.versions.electron) : "string" == typeof o
              .versions.nw && (_.push("Chromium " + S, "Node " + o.versions
                .node), F = "NW.js", S = o.versions.nw)), F || (F = "Node.js",
              P = o.arch, z = o.platform, S = (S = /[\d.]+/.exec(o.version)) ?
              S[0] : null));
            z = z && g(z)
          }
          if (S && (o = /(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(S) ||
              /(?:alpha|beta)(?: ?\d)?/i.exec(t + ";" + (Q && A.appMinorVersion)) ||
              /\bMinefield\b/i.test(t) && "a") && (D = /b/i.test(o) ? "beta" :
              "alpha", S = S.replace(RegExp(o + "\\+?$"), "") + ("beta" == D ? k :
                T) + (/\d+\+?/.exec(o) || "")), "Fennec" == F || "Firefox" == F &&
            /\b(?:Android|Firefox OS|KaiOS)\b/.test(z)) F = "Firefox Mobile";
          else if ("Maxthon" == F && S) S = S.replace(/\.[\d.]+/, ".x");
          else if (/\bXbox\b/i.test(L)) "Xbox 360" == L && (z = null), "Xbox 360" ==
            L && /\bIEMobile\b/.test(t) && _.unshift("mobile mode");
          else if (!/^(?:Chrome|IE|Opera)$/.test(F) && (!F || L || /Browser|Mobi/
              .test(F)) || "Windows CE" != z && !/Mobi/i.test(t))
            if ("IE" == F && Q) try {
              null === n.external && _.unshift("platform preview")
            } catch (e) {
              _.unshift("embedded")
            } else(/\bBlackBerry\b/.test(L) || /\bBB10\b/.test(t)) && (o = (
                  RegExp(L.replace(/ +/g, " *") + "/([.\\d]+)", "i").exec(t) || 0
                  )[1] || S) ? (z = ((o = [o, /BB10/.test(t)])[1] ? (L = null, j =
                "BlackBerry") : "Device Software") + " " + o[0], S = null) :
              this != y && "Wii" != L && (Q && N || /Opera/.test(F) &&
                /\b(?:MSIE|Firefox)\b/i.test(t) || "Firefox" == F &&
                /\bOS X (?:\d+\.){2,}/.test(z) || "IE" == F && (z && !/^Win/.test(
                    z) && S > 5.5 || /\bWindows XP\b/.test(z) && S > 8 || 8 ==
                  S && !/\bTrident\b/.test(t))) && !c.test(o = e.call(y, t
                .replace(c, "") + ";")) && o.name && (o = "ing as " + o.name + ((
                  o = o.version) ? " " + o : ""), c.test(F) ? (/\bIE\b/.test(o) &&
                  "Mac OS" == z && (z = null), o = "identify" + o) : (o = "mask" +
                  o, F = O ? g(O.replace(/([a-z])([A-Z])/g, "$1 $2")) : "Opera",
                  /\bIE\b/.test(o) && (z = null), Q || (S = null)), U = [
                "Presto"], _.push(o));
            else F += " Mobile";
          (o = (/\bAppleWebKit\/([\d.]+\+?)/i.exec(t) || 0)[1]) && (o = [parseFloat(
              o.replace(/\.(\d)$/, ".0$1")), o], "Safari" == F && "+" == o[1].slice(
              -1) ? (F = "WebKit Nightly", D = "alpha", S = o[1].slice(0, -1)) :
            S != o[1] && S != (o[2] = (/\bSafari\/([\d.]+\+?)/i.exec(t) || 0)[1]) ||
            (S = null), o[1] = (/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t) || 0)[1],
            537.36 == o[0] && 537.36 == o[2] && parseFloat(o[1]) >= 28 &&
            "WebKit" == U && (U = ["Blink"]), Q && (p || o[1]) ? (U && (U[1] =
              "like Chrome"), o = o[1] || ((o = o[0]) < 530 ? 1 : o < 532 ? 2 :
              o < 532.05 ? 3 : o < 533 ? 4 : o < 534.03 ? 5 : o < 534.07 ? 6 : o <
              534.1 ? 7 : o < 534.13 ? 8 : o < 534.16 ? 9 : o < 534.24 ? 10 : o <
              534.3 ? 11 : o < 535.01 ? 12 : o < 535.02 ? "13+" : o < 535.07 ?
              15 : o < 535.11 ? 16 : o < 535.19 ? 17 : o < 536.05 ? 18 : o <
              536.1 ? 19 : o < 537.01 ? 20 : o < 537.11 ? "21+" : o < 537.13 ?
              23 : o < 537.18 ? 24 : o < 537.24 ? 25 : o < 537.36 ? 26 :
              "Blink" != U ? "27" : "28")) : (U && (U[1] = "like Safari"), o = (o =
                o[0]) < 400 ? 1 : o < 500 ? 2 : o < 526 ? 3 : o < 533 ? 4 : o <
              534 ? "4+" : o < 535 ? 5 : o < 537 ? 6 : o < 538 ? 7 : o < 601 ? 8 :
              o < 602 ? 9 : o < 604 ? 10 : o < 606 ? 11 : o < 608 ? 12 : "12"), U &&
            (U[1] += " " + (o += "number" == typeof o ? ".x" : /[.+]/.test(o) ? "" :
              "+")), "Safari" == F && (!S || parseInt(S) > 45) ? S = o : "Chrome" ==
            F && /\bHeadlessChrome/i.test(t) && _.unshift("headless")), "Opera" == F
            && (o = /\bzbov|zvav$/.exec(z)) ? (F += " ", _.unshift("desktop mode"),
              "zvav" == o ? (F += "Mini", S = null) : F += "Mobile", z = z.replace(
                RegExp(" *" + o + "$"), "")) : "Safari" == F && /\bChrome\b/.exec(
              U && U[1]) ? (_.unshift("desktop mode"), F = "Chrome Mobile", S =
              null, /\bOS X\b/.test(z) ? (j = "Apple", z = "iOS 4.3+") : z = null) :
            /\bSRWare Iron\b/.test(F) && !S && (S = H("Chrome")), S && 0 == S
            .indexOf(o = /[\d.]+$/.exec(z)) && t.indexOf("/" + o + "-") > -1 && (z =
              B(z.replace(o, ""))), z && -1 != z.indexOf(F) && !RegExp(F + " OS")
            .test(z) && (z = z.replace(RegExp(" *" + m(F) + " *"), "")), U && !
            /\b(?:Avant|Nook)\b/.test(F) && (/Browser|Lunascape|Maxthon/.test(F) ||
              "Safari" != F && /^iOS/.test(z) && /\bSafari\b/.test(U[1]) ||
              /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/
              .test(F) && U[1]) && (o = U[U.length - 1]) && _.push(o), _.length && (
              _ = ["(" + _.join("; ") + ")"]), j && L && L.indexOf(j) < 0 && _.push(
              "on " + j), L && _.push((/^on /.test(_[_.length - 1]) ? "" : "on ") +
              L), z && (o = / ([\d.+]+)$/.exec(z), s = o && "/" == z.charAt(z
              .length - o[0].length - 1), z = {
              architecture: 32,
              family: o && !s ? z.replace(o[0], "") : z,
              version: o ? o[1] : null,
              toString: function () {
                var e = this.version;
                return this.family + (e && !s ? " " + e : "") + (64 == this
                  .architecture ? " 64-bit" : "")
              }
            }), (o = /\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(P)) && !/\bi686\b/i
            .test(P) ? (z && (z.architecture = 64, z.family = z.family.replace(
              RegExp(" *" + o), "")), F && (/\bWOW64\b/i.test(t) || Q &&
              /\w(?:86|32)$/.test(A.cpuClass || A.platform) && !/\bWin64; x64\b/i
              .test(t)) && _.unshift("32-bit")) : z && /^OS X/.test(z.family) &&
            "Chrome" == F && parseFloat(S) >= 39 && (z.architecture = 64), t || (t =
              null);
          var Y = {};
          return Y.description = t, Y.layout = U && U[0], Y.manufacturer = j, Y
            .name = F, Y.prerelease = D, Y.product = L, Y.ua = t, Y.version = F &&
            S, Y.os = z || {
              architecture: null,
              family: null,
              version: null,
              toString: function () {
                return "null"
              }
            }, Y.parse = e, Y.toString = function () {
              return this.description || ""
            }, Y.version && _.unshift(S), Y.name && _.unshift(F), z && F && (z !=
              String(z).split(" ")[0] || z != F.split(" ")[0] && !L) && _.push(L ?
              "(" + z + ")" : "on " + z), _.length && (Y.description = _.join(" ")),
            Y
        }();
        i.platform = I, void 0 === (A = function () {
          return I
        }.call(t, n, t, e)) || (e.exports = A)
      }).call(this)
    }).call(this, n(266)(e), n(232))
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.RECONNECTING_THRESHOLD = 8e3, t.HeartBeatTimeout = 4e3, t.HeartBeatInterval = 4e3, t
      .LoginAckTimeout = 3e3, t.LoginMaxRetry = 4, t.SocketConnTimeout = 8e3
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = l(n(5)),
      A = l(n(21)),
      a = l(n(11));
    t.getChannelInfo = function (e, t, n) {
      var r = d(e, e.serviceConf.roomServerAddr);
      return r ? c({
        whiteboardSDK: e,
        params: t,
        lbsCache: r,
        sessionId: n
      }) : (p(e), c({
        whiteboardSDK: e,
        params: t,
        sessionId: n
      }))
    }, t.updateLbsCache = p;
    var i = n(260),
      o = l(n(505)),
      s = n(107),
      u = n(267);

    function l(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }

    function c(e) {
      var t = e.whiteboardSDK,
        n = e.params,
        s = e.lbsCache,
        l = e.retryCount,
        p = void 0 === l ? 0 : l,
        h = e.retryIdx,
        f = void 0 === h ? 0 : h;
      if (e.sessionId !== t.sessionId) return a.default.reject({
        code: u.SESSION_EXPIRE_ERROR,
        message: "session expired"
      });
      var g = void 0;
      !s && p > 0 && (s = d(t, t.serviceConf.roomServerAddr)) && (f = 0), g = s && s.urls
        .length > 0 ? s.urls[f % s.urls.length] : t.serviceConf.roomServerAddr;
      var y = void 0;
      if (!t.opt.hasOwnProperty("isSecureMode") || t.opt.isSecureMode) y = t.opt
        .getAuthInfo().then((function (e) {
          return e && e.checksum && e.nonce && e.curTime || t.logger.error(
            "[ws] getAuthInfo must return checksum, nonce and curTime"), {
            secureType: "1",
            checksum: e.checksum,
            nonce: e.nonce,
            curtime: e.curTime.toString()
          }
        }));
      else {
        var v = Math.ceil(Date.now() / 1e3),
          m = (0, o.default)(t.opt.appKey + "." + t.uid + "." + v);
        y = a.default.resolve({
          secureType: "2",
          curtime: v.toString(),
          checksum: m
        })
      }
      var w = void 0,
        B = !!n.persistent,
        I = "number" == typeof n.channelDestroyTime ? n.channelDestroyTime : 0;
      return y.then((function (e) {
        return w = Date.now(), a.default.race([fetch(g, {
          method: "post",
          headers: {
            "Content-Type": "application/json"
          },
          cache: "no-cache",
          body: (0, A.default)((0, r.default)({
            uid: t.uid,
            appkey: t.opt.appKey,
            channelName: n.channel,
            mode: "4",
            version: "3.9.15",
            persistent: B,
            channelDestroyTime: I
          }, e))
        }), (0, i.delay)(5e3).then((function () {
          return a.default.reject({
            code: u.GET_CHANNEL_TIMEOUT,
            message: "timeout(5s)"
          })
        }))])
      })).then((function (e) {
        return e.json()
      })).then((function (e) {
        if (!e || 200 !== e.code && "200" !== e.code) return a.default.reject(e);
        if (e.time.hasOwnProperty("T2") && e.time.hasOwnProperty("T3")) {
          var n = Date.now(),
            r = n - w - (e.time.T3 - e.time.T2),
            A = e.time.T3 + r / 2;
          t.ntpTimeDiff = A - n
        }
        return e
      })).catch((function (t) {
        return function (e, t, n) {
          var A = e.whiteboardSDK,
            o = e.retryCount,
            s = void 0 === o ? 0 : o,
            u = e.retryIdx,
            l = void 0 === u ? 0 : u,
            d = e.lbsCache,
            p = "errMsg: " + (t && (t.errmsg || t.error || t.message || t.msg)) +
            "\ngetChannelInfo(retry: " + s + "/total: 3)(url: " + n +
            ")\nlbsRequestId: " + (null == d ? void 0 : d.uuid) + ".",
            h = (t && t.code || 0) + (s < 3 ? 2e3 : 1e3);
          if (A.dataReportUtil("v3_login", {
              time: Date.now(),
              time_elapsed: 0,
              result: {
                code: h,
                message: p
              }
            }), s < 3) {
            A.logger.error("[ws] getChannelInfo(" + n + ") err: " + p +
              ", code: " + h + ", prepare to retry");
            var f = 200 + 300 * s + 3e3 * Math.random();
            return (0, i.delay)(f).then((function () {
              return c((0, r.default)((0, r.default)({}, e), {
                retryCount: s + 1,
                retryIdx: l + 1
              }))
            }))
          }
          return A.logger.error("[ws] getChannelInfo(" + n + " err: " + p +
              ", code: " + h), localStorage.removeItem("yxwbLbs"), a.default
            .reject({
              code: h,
              message: p
            })
        }((0, r.default)((0, r.default)({}, e), {
          retryIdx: f,
          lbsCache: s
        }), t, g)
      }))
    }

    function d(e, t) {
      try {
        var n = localStorage.getItem("yxwbLbs");
        if (n) {
          var r = JSON.parse(n);
          return r.appkey !== e.opt.appKey || "3.9.15" !== r.ver || Date.now() > r
            .expireAt ? void 0 : r
        }
      } catch (e) {
        return
      }
    }

    function p(e) {
      if (e.serviceConf.lbsUrl) {
        var t = e.serviceConf.lbsUrl + "?business=whiteboard&appKey=" + e.opt.appKey +
          "&clientType=16&sdkVersion=3.9.15",
          n = (0, s.v4)();
        return fetch(t, {
          method: "get",
          cache: "no-cache",
          headers: {
            "X-Request-Id": n
          }
        }).then((function (e) {
          return e.json()
        })).then((function (t) {
          if (e.logger.log("[ws] whiteboardSDK lbs results", (0, A.default)(t)),
            Array.isArray(t.whiteboard)) {
            var r = t.whiteboard.map((function (e) {
                return e.domain
              })).filter((function (e) {
                return e
              })).map((function (e) {
                return e.endsWith("/") ? "https://" + e +
                  "v1/g2/whiteboard/getChannelInfo" : "https://" + e +
                  "/v1/g2/whiteboard/getChannelInfo"
              })),
              a = 1e3 * (t.ttl || 600);
            if (r.length > 0) {
              var i = {
                appkey: e.opt.appKey,
                ver: "3.9.15",
                expireAt: Date.now() + a,
                urls: r.concat([e.serviceConf.roomServerAddr]),
                uuid: n
              };
              localStorage.setItem("yxwbLbs", (0, A.default)(i))
            }
          }
        })).catch((function (t) {
          e.logger.error("[ws] whiteboardSDK lbs(" + e.serviceConf.lbsUrl +
            ")) fetch error", t)
        }))
      }
    }
  }, , , , , , , , , function (e, t, n) {
    e.exports = n(489)
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.WhiteBoardSDK = void 0;
    var r = I(n(108)),
      A = I(n(5)),
      a = I(n(33)),
      i = I(n(11)),
      o = I(n(0)),
      s = I(n(1));
    n(490);
    var u = I(n(272)),
      l = n(31),
      c = n(491),
      d = n(492),
      p = I(n(32)),
      h = I(n(499)),
      f = I(n(469)),
      g = n(72),
      y = I(g),
      v = n(157),
      m = n(14),
      w = n(479),
      B = n(267);

    function I(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var M = {
        roomServerAddr: "https://roomserver.netease.im/v1/g2/whiteboard/getChannelInfo",
        sdkLogNosAddr: "https://statistic.live.126.net/sdklog/getToken",
        dataReportAddr: "https://statistic.live.126.net/statics/report/common/form",
        directNosAddr: "https://wanproxy-web.127.net",
        mediaUploadAddr: "https://vcloud.163.com",
        docTransAddr: "https://vcloud.163.com",
        pptFontUrl: "https://wb.vod.126.net/courseware/pptview/fonts/",
        textFontUrl: "https://wb.vod.126.net/courseware/fonts",
        lbsUrl: "https://wecan-lbs.netease.im/api/v1/domains"
      },
      C = void 0,
      b = 0,
      x = function () {
        function e(t) {
          var n = this;
          if ((0, o.default)(this, e), this.socketState = "disconnected", this
            .joinRoomCallback = {}, this.ntpTimeDiff = 0, this.sessionId = 0, this
            .joinRoom = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
              n.logger.log("[wb]joinRoom", e, "session id", n.sessionId), n.sessionId +=
                1, n.dispatcher.emit("sidChange"), n.joinRoomCallback = t, n
                .joinRoomParams = e, n.channel = e.channel;
              var r = n.sessionId;
              return (0, w.getChannelInfo)(n, e, r).then((function (e) {
                return n.sessionId === r ? (n.channelInfo = {
                  cid: e.cid,
                  wbUrls: e.ips.whiteboardarray,
                  token: e.token
                }, n.startSession()) : i.default.reject({
                  code: B.SESSION_EXPIRE_ERROR,
                  message: "session expired"
                })
              })).catch((function (t) {
                n.logger.warn("[wb]加入房间(" + e.channel + ")失败", t);
                var r = (0, c.getErrorCodeMsgFromEvent)(t, "加入房间失败"),
                  A = r.code,
                  a = r.message;
                return i.default.reject({
                  type: "JoinRoomError",
                  message: a,
                  code: A
                })
              }))
            }, this._getDrawPluginParams = function () {
              var e, t = null === (e = n.opt) || void 0 === e ? void 0 : e
                .drawPluginParams;
              return "object" === (void 0 === t ? "undefined" : (0, a.default)(t)) &&
                null !== t || (t = {}), n.joinRoomParams && n.joinRoomParams
                .hasOwnProperty("cameraBound") && (t.cameraBound = n.joinRoomParams
                  .cameraBound), t
            }, this.startSession = function () {
              var e, t;
              if (!n.channelInfo) return i.default.reject("为获取channelInfo");
              var r = [];
              return 0 === (r = (null === (e = n.opt.testParams) || void 0 === e ?
                  void 0 : e.wsUrl) ? [null === (t = n.opt.testParams) || void 0 === t ?
                  void 0 : t.wsUrl
                ] : n.channelInfo.wbUrls).length ? i.default.reject("urlArray is empty") :
                n.wbSocketClient.startSession({
                  uid: n.uid.toString(),
                  cid: n.channelInfo.cid.toString(),
                  whiteboardVersion: "3.9.15",
                  urlArray: r,
                  token: n.channelInfo.token,
                  record: n.opt.record,
                  from_g2: !0
                }).then((function () {
                  n.logger.log("[wb]startSession成功");
                  var e = n._getDrawPluginParams();
                  return n.drawPlugin && n.drawPlugin.destroy(), n.drawPlugin = u
                    .default.getInstance((0, A.default)({
                      container: n.opt.container,
                      account: n.opt.uid.toString(),
                      uid: n.opt.uid,
                      nickname: n.opt.nickname ? n.opt.nickname : n.uid
                      .toString(),
                      platform: n.opt.platform,
                      nim: null,
                      connector: n.wbSocketClient,
                      appkey: n.opt.appKey,
                      logger: n.logger,
                      isG1: !1,
                      serviceConf: n.serviceConf,
                      ntpTimeDiff: n.ntpTimeDiff,
                      lang: n.opt.lang,
                      sessionId: n.getSessionId(),
                      getAntiLeechInfo: n.opt.getAntiLeechInfo
                    }, e)), n.opt.getAuthInfo || n.logger.error(
                      "[wb] getAuthInfo is required"), n.drawPlugin.getAuthInfo = n
                    .opt.getAuthInfo, n.drawPlugin.setDataReportParams(n.serviceConf
                      .dataReportAddr, {
                        uid: n.opt.uid.toString(),
                        cid: n.getChannelId().toString(),
                        ws_url: n.wbSocketClient.urlBeingUsed,
                        channel_name: n.channel,
                        appkey: n.opt.appKey
                      }), n.bindSocketStateChange(), n.drawPlugin.setIsConnected(!0),
                    n.socketState = "connected", n._syncFinishPromise(n.drawPlugin)
                    .then((function () {
                      return setTimeout((function () {
                        var e;
                        n.joinRoomCallback.onconnected && n.joinRoomCallback
                          .onconnected(!1), n._onSyncFinish(), null === (e =
                            n.drawPlugin) || void 0 === e || e.on(
                            "event:sync_finished", (function () {
                              n._onSyncFinish()
                            }))
                      }), 0), n.drawPlugin
                    })).catch((function (e) {
                      return n.logger.error("[wb]" + e.message), i.default
                    .reject({
                        message: e.message
                      })
                    }))
                })).catch((function (e) {
                  return n.logger.error("[wb] Start session failed", e), n.destroy({
                    reason: "joinRoomFail",
                    message: "加入房间失败"
                  }), i.default.reject(e)
                }))
            }, this.bindSocketStateChange = function () {
              n.wbSocketClient.on("connected", (function () {
                n.onSocketStateChange("connected")
              })), n.wbSocketClient.on("willreconnect", (function () {
                n.onSocketStateChange("willreconnect")
              })), n.wbSocketClient.on("reconnecting", (function () {
                n.onSocketStateChange("willreconnect")
              })), n.wbSocketClient.on("disconnected", (function (e) {
                n.onSocketStateChange("disconnected", e)
              }))
            }, this.onSocketStateChange = function (e, t) {
              n.logger.warn("[wb]client.onSocketStateChange set state::" + e +
                ". Current state:" + n.socketState), e !== n.socketState && (n
                .socketState = e, "willreconnect" === e ? n._onwillreconnect() :
                "disconnected" === e ? n._ondisconnected(t) : "connected" === e && n
                ._onconnected(!1))
            }, this._idx = b++, this.logger = new f.default(t.uid, !1 !== t.debug), this
            .dispatcher = this.logger.dispatcher, this.opt = t, this.uid = Number(t.uid),
            this.serviceConf = (0, A.default)({}, M, t.privateConf || {}), t.lang && (0, m
              .setLang)(t.lang), isNaN(this.uid) || this.uid <= 0 || !(0, r.default)(this
              .uid)) throw new Error("uid必须为正整数");
          this.wbSocketClient = new h.default(this), C = this, this.logger.log(
            "[wb]初始化白板SDK, 用户设备信息为: " + navigator.userAgent), this.logger.log(
            "[wb]初始化白板SDK, getInstance参数为: opt: " + (0, v.JSONStringify)(t, 4))
        }
        return (0, s.default)(e, [{
          key: "destroy",
          value: function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
              0] : {
                reason: "manualDestroy",
                message: "手动调用destroy断开连接"
              };
            this.logger.log("[wb]destroy. reason: " + e.reason + ", msg: " + e
                .message), this.sessionId += 1, this.dispatcher.emit("sidChange"),
              this.drawPlugin && this.drawPlugin.destroy(), this.wbSocketClient &&
              (this.wbSocketClient.destroy(e), this.wbSocketClient
                .removeAllListeners())
          }
        }, {
          key: "isConnected",
          value: function () {
            return this.drawPlugin && this.drawPlugin.isConnected
          }
        }, {
          key: "isSynchronizing",
          value: function () {
            return this.drawPlugin && this.drawPlugin.dataHub.isSynchronizing
          }
        }, {
          key: "getSessionId",
          value: function () {
            return this.getChannelId() + "_" + this.uid + "_" + this._idx
          }
        }, {
          key: "getUid",
          value: function () {
            return this.uid
          }
        }, {
          key: "getChannelId",
          value: function () {
            var e;
            return null === (e = this.channelInfo) || void 0 === e ? void 0 : e
              .cid
          }
        }, {
          key: "_syncFinishPromise",
          value: function (e) {
            var t = this,
              n = void 0;
            e.once("event:sync_finished", (function () {
              t.logger.log("[wb]加入房间时的sync_finished"), (0, l.hideToast)(),
                "function" == typeof n && n()
            })), this._onSyncData();
            var r = new i.default((function (e, r) {
                var A = setTimeout((function () {
                  t.dataReportUtil("v3_conn_error", {
                    error: {
                      code: g.DataReportConnError.Sync_Timeout,
                      message: "joinRoom时同步数据超时"
                    }
                  }), r({
                    code: 714,
                    message: "同步超时"
                  })
                }), 8e4);
                n = function () {
                  clearTimeout(A), e()
                }
              })),
              A = new i.default((function (e, n) {
                t.dispatcher.on("sidChange", (function () {
                  n({
                    code: B.SESSION_EXPIRE_ERROR,
                    message: "session expire"
                  })
                }))
              }));
            return i.default.race([r, A])
          }
        }, {
          key: "_onSyncData",
          value: function () {
            this.drawPlugin && (this.logger.log("[wb]开始同步数据"), this.drawPlugin
              .readyToSyncData(), (0, l.showToast)({
                msg: (0, m.getMsg)("sync"),
                time: 1e3,
                type: "info",
                top: 30,
                msgType: p.default.SYNCHRONIZING
              }), "function" == typeof this.joinRoomCallback.onSyncStart && this
              .joinRoomCallback.onSyncStart())
          }
        }, {
          key: "_onSyncFinish",
          value: function () {
            this.logger.log("[wb]sync_finished"), setTimeout((function () {
                (0, l.hideToast)()
              }), 300), "function" == typeof this.joinRoomCallback.onSyncFinish &&
              this.joinRoomCallback.onSyncFinish()
          }
        }, {
          key: "_onconnected",
          value: function (e) {
            if (this.logger.warn("[wb]onconnected, isreconnecting", e), (0, l
                .hideToast)(), e && !this.drawPlugin && (0, l.showToast)({
                msg: (0, m.getMsg)("recnned"),
                time: 3,
                type: "success",
                top: 30,
                msgType: p.default.ON_CONNECTED
              }), !this.drawPlugin) throw new Error(
            "[wb]connected时drawPlugin未创建");
            this.drawPlugin.setDataReportParams(this.serviceConf.dataReportAddr, {
                uid: this.opt.uid.toString(),
                cid: this.getChannelId().toString(),
                ws_url: this.wbSocketClient.urlBeingUsed,
                channel_name: this.channel,
                appkey: this.opt.appKey
              }), this.drawPlugin.setIsConnected(!0), this._onSyncData(),
              "function" == typeof this.joinRoomCallback.onconnected && this
              .joinRoomCallback.onconnected(e)
          }
        }, {
          key: "_onwillreconnect",
          value: function () {
            this.logger.warn("[wb]onwillreconnect"), (0, l.showToast)({
                msg: (0, m.getMsg)("recnning"),
                time: 1e3,
                type: "warn",
                msgType: p.default.ON_WILL_RECONNECT
              }), this.drawPlugin && (this.drawPlugin.setIsConnected(!1), this
                .drawPlugin.stopSyncData()), "function" == typeof this
              .joinRoomCallback.onwillreconnect && this.joinRoomCallback
              .onwillreconnect()
          }
        }, {
          key: "_ondisconnected",
          value: function (e) {
            this.logger.warn("[wb]ondisconnected", e), (0, l.showToast)({
                msg: (0, m.getMsg)("disconn"),
                time: 1e3,
                type: "error",
                msgType: p.default.ON_DISCONNECTED
              }), this.drawPlugin && (this.drawPlugin.setIsConnected(!1), this
                .drawPlugin.stopSyncData()), this.destroy({
                reason: "websocketClose",
                message: "连接已关闭"
              }), "function" == typeof this.joinRoomCallback.ondisconnected &&
              this.joinRoomCallback.ondisconnected(e)
          }
        }, {
          key: "dataReportUtil",
          value: function (e, t) {
            (0, y.default)(this.serviceConf.dataReportAddr, e, this
            .getSessionId(), (0, A.default)({
                uid: this.getUid(),
                cid: this.getChannelId(),
                ws_url: this.wbSocketClient.urlBeingUsed,
                channel_name: this.channel,
                appkey: this.opt.appKey,
                from_g2: !0,
                time: Date.now()
              }, t))
          }
        }]), e
      }(),
      T = {
        getInstance: function (e) {
          return new x(e)
        },
        showToast: l.showToast,
        hideToast: l.hideToast,
        interceptShowToast: l.interceptShowToast,
        removeToastIntercept: l.removeToastIntercept
      };
    window.yunxinWbLogUpload = function () {
      return (0, d.uploadLog)(C, {
        appkey: C.opt.appKey,
        uid: C.getUid().toString(),
        channel: C.channel
      })
    }, window.addEventListener("error", (function (e) {
      if (C) {
        var t = e.message,
          n = e.filename,
          r = e.lineno,
          A = e.colno,
          a = e.error,
          i = void 0;
        i = a && a.stack ? a.stack : a ? null == a ? void 0 : a.message :
          "\n        message: " + t + ",\n        filename: " + n +
          ",\n        lineno: " + r + ",\n        colno: " + A + "\n      ", console
          .error("[whiteboard] catch global error: " + i), C.logger.error(
            "[whiteboard] catch global error: " + i)
      }
    })), t.WhiteBoardSDK = x, t.default = T
  }, function (e, t, n) {
    "use strict";
    n.r(t), n.d(t, "Headers", (function () {
      return h
    })), n.d(t, "Request", (function () {
      return B
    })), n.d(t, "Response", (function () {
      return M
    })), n.d(t, "DOMException", (function () {
      return b
    })), n.d(t, "fetch", (function () {
      return x
    }));
    var r = "undefined" != typeof globalThis && globalThis || "undefined" !=
      typeof self && self || void 0 !== r && r,
      A = "URLSearchParams" in r,
      a = "Symbol" in r && "iterator" in Symbol,
      i = "FileReader" in r && "Blob" in r && function () {
        try {
          return new Blob, !0
        } catch (e) {
          return !1
        }
      }(),
      o = "FormData" in r,
      s = "ArrayBuffer" in r;
    if (s) var u = ["[object Int8Array]", "[object Uint8Array]",
        "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]",
        "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]",
        "[object Float64Array]"
      ],
      l = ArrayBuffer.isView || function (e) {
        return e && u.indexOf(Object.prototype.toString.call(e)) > -1
      };

    function c(e) {
      if ("string" != typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e) ||
        "" === e) throw new TypeError('Invalid character in header field name: "' + e +
        '"');
      return e.toLowerCase()
    }

    function d(e) {
      return "string" != typeof e && (e = String(e)), e
    }

    function p(e) {
      var t = {
        next: function () {
          var t = e.shift();
          return {
            done: void 0 === t,
            value: t
          }
        }
      };
      return a && (t[Symbol.iterator] = function () {
        return t
      }), t
    }

    function h(e) {
      this.map = {}, e instanceof h ? e.forEach((function (e, t) {
        this.append(t, e)
      }), this) : Array.isArray(e) ? e.forEach((function (e) {
        this.append(e[0], e[1])
      }), this) : e && Object.getOwnPropertyNames(e).forEach((function (t) {
        this.append(t, e[t])
      }), this)
    }

    function f(e) {
      if (e.bodyUsed) return Promise.reject(new TypeError("Already read"));
      e.bodyUsed = !0
    }

    function g(e) {
      return new Promise((function (t, n) {
        e.onload = function () {
          t(e.result)
        }, e.onerror = function () {
          n(e.error)
        }
      }))
    }

    function y(e) {
      var t = new FileReader,
        n = g(t);
      return t.readAsArrayBuffer(e), n
    }

    function v(e) {
      if (e.slice) return e.slice(0);
      var t = new Uint8Array(e.byteLength);
      return t.set(new Uint8Array(e)), t.buffer
    }

    function m() {
      return this.bodyUsed = !1, this._initBody = function (e) {
        var t;
        this.bodyUsed = this.bodyUsed, this._bodyInit = e, e ? "string" == typeof e ?
          this._bodyText = e : i && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob =
          e : o && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : A &&
          URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() :
          s && i && ((t = e) && DataView.prototype.isPrototypeOf(t)) ? (this
            ._bodyArrayBuffer = v(e.buffer), this._bodyInit = new Blob([this
              ._bodyArrayBuffer
            ])) : s && (ArrayBuffer.prototype.isPrototypeOf(e) || l(e)) ? this
          ._bodyArrayBuffer = v(e) : this._bodyText = e = Object.prototype.toString
          .call(e) : this._bodyText = "", this.headers.get("content-type") || (
            "string" == typeof e ? this.headers.set("content-type",
              "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this
            .headers.set("content-type", this._bodyBlob.type) : A && URLSearchParams
            .prototype.isPrototypeOf(e) && this.headers.set("content-type",
              "application/x-www-form-urlencoded;charset=UTF-8"))
      }, i && (this.blob = function () {
        var e = f(this);
        if (e) return e;
        if (this._bodyBlob) return Promise.resolve(this._bodyBlob);
        if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this
          ._bodyArrayBuffer
        ]));
        if (this._bodyFormData) throw new Error(
          "could not read FormData body as blob");
        return Promise.resolve(new Blob([this._bodyText]))
      }, this.arrayBuffer = function () {
        if (this._bodyArrayBuffer) {
          var e = f(this);
          return e || (ArrayBuffer.isView(this._bodyArrayBuffer) ? Promise.resolve(
            this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,
              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength)
            ) : Promise.resolve(this._bodyArrayBuffer))
        }
        return this.blob().then(y)
      }), this.text = function () {
        var e, t, n, r = f(this);
        if (r) return r;
        if (this._bodyBlob) return e = this._bodyBlob, t = new FileReader, n = g(t), t
          .readAsText(e), n;
        if (this._bodyArrayBuffer) return Promise.resolve(function (e) {
          for (var t = new Uint8Array(e), n = new Array(t.length), r = 0; r < t
            .length; r++) n[r] = String.fromCharCode(t[r]);
          return n.join("")
        }(this._bodyArrayBuffer));
        if (this._bodyFormData) throw new Error("could not read FormData body as text");
        return Promise.resolve(this._bodyText)
      }, o && (this.formData = function () {
        return this.text().then(I)
      }), this.json = function () {
        return this.text().then(JSON.parse)
      }, this
    }
    h.prototype.append = function (e, t) {
      e = c(e), t = d(t);
      var n = this.map[e];
      this.map[e] = n ? n + ", " + t : t
    }, h.prototype.delete = function (e) {
      delete this.map[c(e)]
    }, h.prototype.get = function (e) {
      return e = c(e), this.has(e) ? this.map[e] : null
    }, h.prototype.has = function (e) {
      return this.map.hasOwnProperty(c(e))
    }, h.prototype.set = function (e, t) {
      this.map[c(e)] = d(t)
    }, h.prototype.forEach = function (e, t) {
      for (var n in this.map) this.map.hasOwnProperty(n) && e.call(t, this.map[n], n,
        this)
    }, h.prototype.keys = function () {
      var e = [];
      return this.forEach((function (t, n) {
        e.push(n)
      })), p(e)
    }, h.prototype.values = function () {
      var e = [];
      return this.forEach((function (t) {
        e.push(t)
      })), p(e)
    }, h.prototype.entries = function () {
      var e = [];
      return this.forEach((function (t, n) {
        e.push([n, t])
      })), p(e)
    }, a && (h.prototype[Symbol.iterator] = h.prototype.entries);
    var w = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];

    function B(e, t) {
      if (!(this instanceof B)) throw new TypeError(
        'Please use the "new" operator, this DOM object constructor cannot be called as a function.'
        );
      var n, r, A = (t = t || {}).body;
      if (e instanceof B) {
        if (e.bodyUsed) throw new TypeError("Already read");
        this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers =
            new h(e.headers)), this.method = e.method, this.mode = e.mode, this.signal = e
          .signal, A || null == e._bodyInit || (A = e._bodyInit, e.bodyUsed = !0)
      } else this.url = String(e);
      if (this.credentials = t.credentials || this.credentials || "same-origin", !t
        .headers && this.headers || (this.headers = new h(t.headers)), this.method = (n =
          t.method || this.method || "GET", r = n.toUpperCase(), w.indexOf(r) > -1 ? r : n
          ), this.mode = t.mode || this.mode || null, this.signal = t.signal || this
        .signal, this.referrer = null, ("GET" === this.method || "HEAD" === this
        .method) && A) throw new TypeError("Body not allowed for GET or HEAD requests");
      if (this._initBody(A), !("GET" !== this.method && "HEAD" !== this.method ||
          "no-store" !== t.cache && "no-cache" !== t.cache)) {
        var a = /([?&])_=[^&]*/;
        if (a.test(this.url)) this.url = this.url.replace(a, "$1_=" + (new Date)
        .getTime());
        else {
          this.url += (/\?/.test(this.url) ? "&" : "?") + "_=" + (new Date).getTime()
        }
      }
    }

    function I(e) {
      var t = new FormData;
      return e.trim().split("&").forEach((function (e) {
        if (e) {
          var n = e.split("="),
            r = n.shift().replace(/\+/g, " "),
            A = n.join("=").replace(/\+/g, " ");
          t.append(decodeURIComponent(r), decodeURIComponent(A))
        }
      })), t
    }

    function M(e, t) {
      if (!(this instanceof M)) throw new TypeError(
        'Please use the "new" operator, this DOM object constructor cannot be called as a function.'
        );
      t || (t = {}), this.type = "default", this.status = void 0 === t.status ? 200 : t
        .status, this.ok = this.status >= 200 && this.status < 300, this.statusText =
        void 0 === t.statusText ? "" : "" + t.statusText, this.headers = new h(t.headers),
        this.url = t.url || "", this._initBody(e)
    }
    B.prototype.clone = function () {
      return new B(this, {
        body: this._bodyInit
      })
    }, m.call(B.prototype), m.call(M.prototype), M.prototype.clone = function () {
      return new M(this._bodyInit, {
        status: this.status,
        statusText: this.statusText,
        headers: new h(this.headers),
        url: this.url
      })
    }, M.error = function () {
      var e = new M(null, {
        status: 0,
        statusText: ""
      });
      return e.type = "error", e
    };
    var C = [301, 302, 303, 307, 308];
    M.redirect = function (e, t) {
      if (-1 === C.indexOf(t)) throw new RangeError("Invalid status code");
      return new M(null, {
        status: t,
        headers: {
          location: e
        }
      })
    };
    var b = r.DOMException;
    try {
      new b
    } catch (e) {
      (b = function (e, t) {
        this.message = e, this.name = t;
        var n = Error(e);
        this.stack = n.stack
      }).prototype = Object.create(Error.prototype), b.prototype.constructor = b
    }

    function x(e, t) {
      return new Promise((function (n, A) {
        var a = new B(e, t);
        if (a.signal && a.signal.aborted) return A(new b("Aborted", "AbortError"));
        var o = new XMLHttpRequest;

        function u() {
          o.abort()
        }
        o.onload = function () {
            var e, t, r = {
              status: o.status,
              statusText: o.statusText,
              headers: (e = o.getAllResponseHeaders() || "", t = new h, e.replace(
                /\r?\n[\t ]+/g, " ").split("\r").map((function (e) {
                return 0 === e.indexOf("\n") ? e.substr(1, e.length) : e
              })).forEach((function (e) {
                var n = e.split(":"),
                  r = n.shift().trim();
                if (r) {
                  var A = n.join(":").trim();
                  t.append(r, A)
                }
              })), t)
            };
            r.url = "responseURL" in o ? o.responseURL : r.headers.get(
              "X-Request-URL");
            var A = "response" in o ? o.response : o.responseText;
            setTimeout((function () {
              n(new M(A, r))
            }), 0)
          }, o.onerror = function () {
            setTimeout((function () {
              A(new TypeError("Network request failed"))
            }), 0)
          }, o.ontimeout = function () {
            setTimeout((function () {
              A(new TypeError("Network request failed"))
            }), 0)
          }, o.onabort = function () {
            setTimeout((function () {
              A(new b("Aborted", "AbortError"))
            }), 0)
          }, o.open(a.method, function (e) {
            try {
              return "" === e && r.location.href ? r.location.href : e
            } catch (t) {
              return e
            }
          }(a.url), !0), "include" === a.credentials ? o.withCredentials = !0 :
          "omit" === a.credentials && (o.withCredentials = !1), "responseType" in
          o && (i ? o.responseType = "blob" : s && a.headers.get("Content-Type") &&
            -1 !== a.headers.get("Content-Type").indexOf(
            "application/octet-stream") && (o.responseType = "arraybuffer")), !t ||
          "object" != typeof t.headers || t.headers instanceof h ? a.headers
          .forEach((function (e, t) {
            o.setRequestHeader(t, e)
          })) : Object.getOwnPropertyNames(t.headers).forEach((function (e) {
            o.setRequestHeader(e, d(t.headers[e]))
          })), a.signal && (a.signal.addEventListener("abort", u), o
            .onreadystatechange = function () {
              4 === o.readyState && a.signal.removeEventListener("abort", u)
            }), o.send(void 0 === a._bodyInit ? null : a._bodyInit)
      }))
    }
    x.polyfill = !0, r.fetch || (r.fetch = x, r.Headers = h, r.Request = B, r.Response =
      M)
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.getErrorCodeMsgFromEvent = function (e, t) {
      var n = void 0,
        r = void 0;
      return e && e.event && e.event.code ? n = e.event.code : e && e.code && (n = e
          .code), e && e.event && e.event.message ? r = e.event.message : e && e
        .message ? r = e.message : e && e.event && e.event.msg ? r = e.event.msg : e &&
        e.msg ? r = e.msg : e && e.error && (r = e.error), r || (r = t), {
          code: n,
          message: r
        }
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = d(n(21)),
      A = d(n(11));
    t.uploadLog = function (e, t) {
      if (!t.channel || !t.uid) return (0, u.showToast)({
        type: "warn",
        msg: (0, c.getMsg)("uidCnameMiss")
      });
      var n = void 0;
      return (0, l.delay)(4e3).then((function () {
        return p(e.serviceConf.sdkLogNosAddr, t)
      })).then((function (e) {
        n = e
      })).then((function () {
        return e.logger.getLogTilNow()
      })).then((function (e) {
        var n = e.map((function (e) {
            return e.logStr
          })),
          r = (0, l.stringToBlob)((0, l.formatLogs)(n, t.channel, t.uid),
            "whiteboardLog.txt");
        return new File([r], "whiteboardLog.txt", {
          type: "text/plain"
        })
      })).then((function (r) {
        return h(e.serviceConf.directNosAddr, e.serviceConf.dataReportAddr, n, r,
          e.getSessionId(), t)
      })).then((function () {
        var r = (0, c.getMsg)("logMsg", t.uid);
        return console.log(r), console.log("Log object name: " + (n && n.data && n
          .data.fileName)), e.logger.deleteLogTilNow(), {
          time: Date.now(),
          timeStr: (new Date).toTimeString(),
          uid: t.uid,
          objectName: n && n.data && n.data.fileName,
          channel: t.channel
        }
      })).catch((function (e) {
        return console.error(e), A.default.reject(e)
      }))
    };
    var a = n(107),
      i = d(n(493)),
      o = d(n(156)),
      s = d(n(72)),
      u = n(31),
      l = n(260),
      c = n(14);

    function d(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var p = function (e, t) {
        var n = (0, a.v4)(),
          o = Math.round(Date.now() / 1e3),
          s = (0, r.default)({
            appkey: t.appkey,
            sdktype: "whiteboard",
            sdkver: "3.9.15",
            md5: n,
            ext: "log"
          });
        return fetch(e, {
          method: "post",
          headers: {
            "content-type": "application/json",
            Nonce: n,
            CurTime: o.toString(),
            CheckSum: (0, i.default)(s + n + o + "021cc0370d824a51b7c8180485c27b38")
          },
          body: s
        }).then((function (e) {
          return e.json()
        })).then((function (e) {
          return e && 200 === e.code ? e : A.default.reject(e)
        }))
      },
      h = function (e, t, n, r, a, i) {
        return e = e || "https://wanproxy-web.127.net", new A.default((function (A, u) {
          var l = o.default.createConfig({
            directUploadAddr: e,
            onError: function (e) {
              u(e)
            },
            onComplete: function (e) {
              (0, s.default)(t, "logUpload", a, {
                uid: i.uid,
                appkey: i.appkey,
                channel: i.channel,
                filename: n.data.fileName,
                time: Date.now()
              }), A()
            }
          });
          o.default.createTask(r, {
            bucketName: n.data.bucket,
            objectName: n.data.fileName,
            token: n.data.xNosToken
          }, l)
        }))
      }
  }, function (e, t, n) {
    (function (t) {
      var r, A, a, i;
      r = n(498), A = n(476).utf8, a = n(476).bin, (i = function (e, n) {
        var i = r.wordsToBytes(function (e) {
          e.constructor == String ? e = A.stringToBytes(e) : void 0 !== t &&
            "function" == typeof t.isBuffer && t.isBuffer(e) ? e = Array
            .prototype.slice.call(e, 0) : Array.isArray(e) || (e = e
          .toString());
          var n = r.bytesToWords(e),
            a = 8 * e.length,
            i = [],
            o = 1732584193,
            s = -271733879,
            u = -1732584194,
            l = 271733878,
            c = -1009589776;
          n[a >> 5] |= 128 << 24 - a % 32, n[15 + (a + 64 >>> 9 << 4)] = a;
          for (var d = 0; d < n.length; d += 16) {
            for (var p = o, h = s, f = u, g = l, y = c, v = 0; v < 80; v++) {
              if (v < 16) i[v] = n[d + v];
              else {
                var m = i[v - 3] ^ i[v - 8] ^ i[v - 14] ^ i[v - 16];
                i[v] = m << 1 | m >>> 31
              }
              var w = (o << 5 | o >>> 27) + c + (i[v] >>> 0) + (v < 20 ?
                1518500249 + (s & u | ~s & l) : v < 40 ? 1859775393 + (s ^ u ^
                  l) : v < 60 ? (s & u | s & l | u & l) - 1894007588 : (s ^
                  u ^ l) - 899497514);
              c = l, l = u, u = s << 30 | s >>> 2, s = o, o = w
            }
            o += p, s += h, u += f, l += g, c += y
          }
          return [o, s, u, l, c]
        }(e));
        return n && n.asBytes ? i : n && n.asString ? a.bytesToString(i) : r
          .bytesToHex(i)
      })._blocksize = 16, i._digestsize = 20, e.exports = i
    }).call(this, n(494).Buffer)
  }, function (e, t, n) {
    "use strict";
    (function (e) {
      /*!
       * The buffer module from node.js, for the browser.
       *
       * @author   Feross Aboukhadijeh <http://feross.org>
       * @license  MIT
       */
      var r = n(495),
        A = n(496),
        a = n(497);

      function i() {
        return s.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
      }

      function o(e, t) {
        if (i() < t) throw new RangeError("Invalid typed array length");
        return s.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = s.prototype :
          (null === e && (e = new s(t)), e.length = t), e
      }

      function s(e, t, n) {
        if (!(s.TYPED_ARRAY_SUPPORT || this instanceof s)) return new s(e, t, n);
        if ("number" == typeof e) {
          if ("string" == typeof t) throw new Error(
            "If encoding is specified then the first argument must be a string");
          return c(this, e)
        }
        return u(this, e, t, n)
      }

      function u(e, t, n, r) {
        if ("number" == typeof t) throw new TypeError(
          '"value" argument must not be a number');
        return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ?
          function (e, t, n, r) {
            if (t.byteLength, n < 0 || t.byteLength < n) throw new RangeError(
              "'offset' is out of bounds");
            if (t.byteLength < n + (r || 0)) throw new RangeError(
              "'length' is out of bounds");
            t = void 0 === n && void 0 === r ? new Uint8Array(t) : void 0 === r ?
              new Uint8Array(t, n) : new Uint8Array(t, n, r);
            s.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = s.prototype : e = d(e, t);
            return e
          }(e, t, n, r) : "string" == typeof t ? function (e, t, n) {
            "string" == typeof n && "" !== n || (n = "utf8");
            if (!s.isEncoding(n)) throw new TypeError(
              '"encoding" must be a valid string encoding');
            var r = 0 | h(t, n),
              A = (e = o(e, r)).write(t, n);
            A !== r && (e = e.slice(0, A));
            return e
          }(e, t, n) : function (e, t) {
            if (s.isBuffer(t)) {
              var n = 0 | p(t.length);
              return 0 === (e = o(e, n)).length || t.copy(e, 0, 0, n), e
            }
            if (t) {
              if ("undefined" != typeof ArrayBuffer && t
                .buffer instanceof ArrayBuffer || "length" in t) return "number" !=
                typeof t.length || (r = t.length) != r ? o(e, 0) : d(e, t);
              if ("Buffer" === t.type && a(t.data)) return d(e, t.data)
            }
            var r;
            throw new TypeError(
              "First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object."
              )
          }(e, t)
      }

      function l(e) {
        if ("number" != typeof e) throw new TypeError(
          '"size" argument must be a number');
        if (e < 0) throw new RangeError('"size" argument must not be negative')
      }

      function c(e, t) {
        if (l(t), e = o(e, t < 0 ? 0 : 0 | p(t)), !s.TYPED_ARRAY_SUPPORT)
          for (var n = 0; n < t; ++n) e[n] = 0;
        return e
      }

      function d(e, t) {
        var n = t.length < 0 ? 0 : 0 | p(t.length);
        e = o(e, n);
        for (var r = 0; r < n; r += 1) e[r] = 255 & t[r];
        return e
      }

      function p(e) {
        if (e >= i()) throw new RangeError(
          "Attempt to allocate Buffer larger than maximum size: 0x" + i().toString(
            16) + " bytes");
        return 0 | e
      }

      function h(e, t) {
        if (s.isBuffer(e)) return e.length;
        if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer
          .isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e
          .byteLength;
        "string" != typeof e && (e = "" + e);
        var n = e.length;
        if (0 === n) return 0;
        for (var r = !1;;) switch (t) {
          case "ascii":
          case "latin1":
          case "binary":
            return n;
          case "utf8":
          case "utf-8":
          case void 0:
            return j(e).length;
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return 2 * n;
          case "hex":
            return n >>> 1;
          case "base64":
            return z(e).length;
          default:
            if (r) return j(e).length;
            t = ("" + t).toLowerCase(), r = !0
        }
      }

      function f(e, t, n) {
        var r = !1;
        if ((void 0 === t || t < 0) && (t = 0), t > this.length) return "";
        if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return "";
        if ((n >>>= 0) <= (t >>>= 0)) return "";
        for (e || (e = "utf8");;) switch (e) {
          case "hex":
            return E(this, t, n);
          case "utf8":
          case "utf-8":
            return x(this, t, n);
          case "ascii":
            return T(this, t, n);
          case "latin1":
          case "binary":
            return k(this, t, n);
          case "base64":
            return b(this, t, n);
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return N(this, t, n);
          default:
            if (r) throw new TypeError("Unknown encoding: " + e);
            e = (e + "").toLowerCase(), r = !0
        }
      }

      function g(e, t, n) {
        var r = e[t];
        e[t] = e[n], e[n] = r
      }

      function y(e, t, n, r, A) {
        if (0 === e.length) return -1;
        if ("string" == typeof n ? (r = n, n = 0) : n > 2147483647 ? n = 2147483647 :
          n < -2147483648 && (n = -2147483648), n = +n, isNaN(n) && (n = A ? 0 : e
            .length - 1), n < 0 && (n = e.length + n), n >= e.length) {
          if (A) return -1;
          n = e.length - 1
        } else if (n < 0) {
          if (!A) return -1;
          n = 0
        }
        if ("string" == typeof t && (t = s.from(t, r)), s.isBuffer(t)) return 0 === t
          .length ? -1 : v(e, t, n, r, A);
        if ("number" == typeof t) return t &= 255, s.TYPED_ARRAY_SUPPORT &&
          "function" == typeof Uint8Array.prototype.indexOf ? A ? Uint8Array.prototype
          .indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : v(
            e, [t], n, r, A);
        throw new TypeError("val must be string, number or Buffer")
      }

      function v(e, t, n, r, A) {
        var a, i = 1,
          o = e.length,
          s = t.length;
        if (void 0 !== r && ("ucs2" === (r = String(r).toLowerCase()) || "ucs-2" ===
            r || "utf16le" === r || "utf-16le" === r)) {
          if (e.length < 2 || t.length < 2) return -1;
          i = 2, o /= 2, s /= 2, n /= 2
        }

        function u(e, t) {
          return 1 === i ? e[t] : e.readUInt16BE(t * i)
        }
        if (A) {
          var l = -1;
          for (a = n; a < o; a++)
            if (u(e, a) === u(t, -1 === l ? 0 : a - l)) {
              if (-1 === l && (l = a), a - l + 1 === s) return l * i
            } else -1 !== l && (a -= a - l), l = -1
        } else
          for (n + s > o && (n = o - s), a = n; a >= 0; a--) {
            for (var c = !0, d = 0; d < s; d++)
              if (u(e, a + d) !== u(t, d)) {
                c = !1;
                break
              } if (c) return a
          }
        return -1
      }

      function m(e, t, n, r) {
        n = Number(n) || 0;
        var A = e.length - n;
        r ? (r = Number(r)) > A && (r = A) : r = A;
        var a = t.length;
        if (a % 2 != 0) throw new TypeError("Invalid hex string");
        r > a / 2 && (r = a / 2);
        for (var i = 0; i < r; ++i) {
          var o = parseInt(t.substr(2 * i, 2), 16);
          if (isNaN(o)) return i;
          e[n + i] = o
        }
        return i
      }

      function w(e, t, n, r) {
        return R(j(t, e.length - n), e, n, r)
      }

      function B(e, t, n, r) {
        return R(function (e) {
          for (var t = [], n = 0; n < e.length; ++n) t.push(255 & e.charCodeAt(n));
          return t
        }(t), e, n, r)
      }

      function I(e, t, n, r) {
        return B(e, t, n, r)
      }

      function M(e, t, n, r) {
        return R(z(t), e, n, r)
      }

      function C(e, t, n, r) {
        return R(function (e, t) {
          for (var n, r, A, a = [], i = 0; i < e.length && !((t -= 2) < 0); ++i) n =
            e.charCodeAt(i), r = n >> 8, A = n % 256, a.push(A), a.push(r);
          return a
        }(t, e.length - n), e, n, r)
      }

      function b(e, t, n) {
        return 0 === t && n === e.length ? r.fromByteArray(e) : r.fromByteArray(e.slice(
          t, n))
      }

      function x(e, t, n) {
        n = Math.min(e.length, n);
        for (var r = [], A = t; A < n;) {
          var a, i, o, s, u = e[A],
            l = null,
            c = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
          if (A + c <= n) switch (c) {
            case 1:
              u < 128 && (l = u);
              break;
            case 2:
              128 == (192 & (a = e[A + 1])) && (s = (31 & u) << 6 | 63 & a) > 127 && (
                l = s);
              break;
            case 3:
              a = e[A + 1], i = e[A + 2], 128 == (192 & a) && 128 == (192 & i) && (s =
                (15 & u) << 12 | (63 & a) << 6 | 63 & i) > 2047 && (s < 55296 || s >
                57343) && (l = s);
              break;
            case 4:
              a = e[A + 1], i = e[A + 2], o = e[A + 3], 128 == (192 & a) && 128 == (
                192 & i) && 128 == (192 & o) && (s = (15 & u) << 18 | (63 & a) <<
                12 | (63 & i) << 6 | 63 & o) > 65535 && s < 1114112 && (l = s)
          }
          null === l ? (l = 65533, c = 1) : l > 65535 && (l -= 65536, r.push(l >>> 10 &
            1023 | 55296), l = 56320 | 1023 & l), r.push(l), A += c
        }
        return function (e) {
          var t = e.length;
          if (t <= 4096) return String.fromCharCode.apply(String, e);
          var n = "",
            r = 0;
          for (; r < t;) n += String.fromCharCode.apply(String, e.slice(r, r +=
          4096));
          return n
        }(r)
      }
      t.Buffer = s, t.SlowBuffer = function (e) {
          +e != e && (e = 0);
          return s.alloc(+e)
        }, t.INSPECT_MAX_BYTES = 50, s.TYPED_ARRAY_SUPPORT = void 0 !== e
        .TYPED_ARRAY_SUPPORT ? e.TYPED_ARRAY_SUPPORT : function () {
          try {
            var e = new Uint8Array(1);
            return e.__proto__ = {
              __proto__: Uint8Array.prototype,
              foo: function () {
                return 42
              }
            }, 42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(
              1, 1).byteLength
          } catch (e) {
            return !1
          }
        }(), t.kMaxLength = i(), s.poolSize = 8192, s._augment = function (e) {
          return e.__proto__ = s.prototype, e
        }, s.from = function (e, t, n) {
          return u(null, e, t, n)
        }, s.TYPED_ARRAY_SUPPORT && (s.prototype.__proto__ = Uint8Array.prototype, s
          .__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && s[
            Symbol.species] === s && Object.defineProperty(s, Symbol.species, {
            value: null,
            configurable: !0
          })), s.alloc = function (e, t, n) {
          return function (e, t, n, r) {
            return l(t), t <= 0 ? o(e, t) : void 0 !== n ? "string" == typeof r ? o(e,
              t).fill(n, r) : o(e, t).fill(n) : o(e, t)
          }(null, e, t, n)
        }, s.allocUnsafe = function (e) {
          return c(null, e)
        }, s.allocUnsafeSlow = function (e) {
          return c(null, e)
        }, s.isBuffer = function (e) {
          return !(null == e || !e._isBuffer)
        }, s.compare = function (e, t) {
          if (!s.isBuffer(e) || !s.isBuffer(t)) throw new TypeError(
            "Arguments must be Buffers");
          if (e === t) return 0;
          for (var n = e.length, r = t.length, A = 0, a = Math.min(n, r); A < a; ++A)
            if (e[A] !== t[A]) {
              n = e[A], r = t[A];
              break
            } return n < r ? -1 : r < n ? 1 : 0
        }, s.isEncoding = function (e) {
          switch (String(e).toLowerCase()) {
            case "hex":
            case "utf8":
            case "utf-8":
            case "ascii":
            case "latin1":
            case "binary":
            case "base64":
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return !0;
            default:
              return !1
          }
        }, s.concat = function (e, t) {
          if (!a(e)) throw new TypeError('"list" argument must be an Array of Buffers');
          if (0 === e.length) return s.alloc(0);
          var n;
          if (void 0 === t)
            for (t = 0, n = 0; n < e.length; ++n) t += e[n].length;
          var r = s.allocUnsafe(t),
            A = 0;
          for (n = 0; n < e.length; ++n) {
            var i = e[n];
            if (!s.isBuffer(i)) throw new TypeError(
              '"list" argument must be an Array of Buffers');
            i.copy(r, A), A += i.length
          }
          return r
        }, s.byteLength = h, s.prototype._isBuffer = !0, s.prototype.swap16 =
        function () {
          var e = this.length;
          if (e % 2 != 0) throw new RangeError(
            "Buffer size must be a multiple of 16-bits");
          for (var t = 0; t < e; t += 2) g(this, t, t + 1);
          return this
        }, s.prototype.swap32 = function () {
          var e = this.length;
          if (e % 4 != 0) throw new RangeError(
            "Buffer size must be a multiple of 32-bits");
          for (var t = 0; t < e; t += 4) g(this, t, t + 3), g(this, t + 1, t + 2);
          return this
        }, s.prototype.swap64 = function () {
          var e = this.length;
          if (e % 8 != 0) throw new RangeError(
            "Buffer size must be a multiple of 64-bits");
          for (var t = 0; t < e; t += 8) g(this, t, t + 7), g(this, t + 1, t + 6), g(
            this, t + 2, t + 5), g(this, t + 3, t + 4);
          return this
        }, s.prototype.toString = function () {
          var e = 0 | this.length;
          return 0 === e ? "" : 0 === arguments.length ? x(this, 0, e) : f.apply(this,
            arguments)
        }, s.prototype.equals = function (e) {
          if (!s.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
          return this === e || 0 === s.compare(this, e)
        }, s.prototype.inspect = function () {
          var e = "",
            n = t.INSPECT_MAX_BYTES;
          return this.length > 0 && (e = this.toString("hex", 0, n).match(/.{2}/g).join(
            " "), this.length > n && (e += " ... ")), "<Buffer " + e + ">"
        }, s.prototype.compare = function (e, t, n, r, A) {
          if (!s.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
          if (void 0 === t && (t = 0), void 0 === n && (n = e ? e.length : 0),
            void 0 === r && (r = 0), void 0 === A && (A = this.length), t < 0 || n > e
            .length || r < 0 || A > this.length) throw new RangeError(
            "out of range index");
          if (r >= A && t >= n) return 0;
          if (r >= A) return -1;
          if (t >= n) return 1;
          if (this === e) return 0;
          for (var a = (A >>>= 0) - (r >>>= 0), i = (n >>>= 0) - (t >>>= 0), o = Math
              .min(a, i), u = this.slice(r, A), l = e.slice(t, n), c = 0; c < o; ++c)
            if (u[c] !== l[c]) {
              a = u[c], i = l[c];
              break
            } return a < i ? -1 : i < a ? 1 : 0
        }, s.prototype.includes = function (e, t, n) {
          return -1 !== this.indexOf(e, t, n)
        }, s.prototype.indexOf = function (e, t, n) {
          return y(this, e, t, n, !0)
        }, s.prototype.lastIndexOf = function (e, t, n) {
          return y(this, e, t, n, !1)
        }, s.prototype.write = function (e, t, n, r) {
          if (void 0 === t) r = "utf8", n = this.length, t = 0;
          else if (void 0 === n && "string" == typeof t) r = t, n = this.length, t = 0;
          else {
            if (!isFinite(t)) throw new Error(
              "Buffer.write(string, encoding, offset[, length]) is no longer supported"
              );
            t |= 0, isFinite(n) ? (n |= 0, void 0 === r && (r = "utf8")) : (r = n, n =
              void 0)
          }
          var A = this.length - t;
          if ((void 0 === n || n > A) && (n = A), e.length > 0 && (n < 0 || t < 0) ||
            t > this.length) throw new RangeError(
            "Attempt to write outside buffer bounds");
          r || (r = "utf8");
          for (var a = !1;;) switch (r) {
            case "hex":
              return m(this, e, t, n);
            case "utf8":
            case "utf-8":
              return w(this, e, t, n);
            case "ascii":
              return B(this, e, t, n);
            case "latin1":
            case "binary":
              return I(this, e, t, n);
            case "base64":
              return M(this, e, t, n);
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return C(this, e, t, n);
            default:
              if (a) throw new TypeError("Unknown encoding: " + r);
              r = ("" + r).toLowerCase(), a = !0
          }
        }, s.prototype.toJSON = function () {
          return {
            type: "Buffer",
            data: Array.prototype.slice.call(this._arr || this, 0)
          }
        };

      function T(e, t, n) {
        var r = "";
        n = Math.min(e.length, n);
        for (var A = t; A < n; ++A) r += String.fromCharCode(127 & e[A]);
        return r
      }

      function k(e, t, n) {
        var r = "";
        n = Math.min(e.length, n);
        for (var A = t; A < n; ++A) r += String.fromCharCode(e[A]);
        return r
      }

      function E(e, t, n) {
        var r = e.length;
        (!t || t < 0) && (t = 0), (!n || n < 0 || n > r) && (n = r);
        for (var A = "", a = t; a < n; ++a) A += L(e[a]);
        return A
      }

      function N(e, t, n) {
        for (var r = e.slice(t, n), A = "", a = 0; a < r.length; a += 2) A += String
          .fromCharCode(r[a] + 256 * r[a + 1]);
        return A
      }

      function O(e, t, n) {
        if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
        if (e + t > n) throw new RangeError("Trying to access beyond buffer length")
      }

      function P(e, t, n, r, A, a) {
        if (!s.isBuffer(e)) throw new TypeError(
          '"buffer" argument must be a Buffer instance');
        if (t > A || t < a) throw new RangeError('"value" argument is out of bounds');
        if (n + r > e.length) throw new RangeError("Index out of range")
      }

      function _(e, t, n, r) {
        t < 0 && (t = 65535 + t + 1);
        for (var A = 0, a = Math.min(e.length - n, 2); A < a; ++A) e[n + A] = (t &
          255 << 8 * (r ? A : 1 - A)) >>> 8 * (r ? A : 1 - A)
      }

      function D(e, t, n, r) {
        t < 0 && (t = 4294967295 + t + 1);
        for (var A = 0, a = Math.min(e.length - n, 4); A < a; ++A) e[n + A] = t >>> 8 *
          (r ? A : 3 - A) & 255
      }

      function Q(e, t, n, r, A, a) {
        if (n + r > e.length) throw new RangeError("Index out of range");
        if (n < 0) throw new RangeError("Index out of range")
      }

      function S(e, t, n, r, a) {
        return a || Q(e, 0, n, 4), A.write(e, t, n, r, 23, 4), n + 4
      }

      function U(e, t, n, r, a) {
        return a || Q(e, 0, n, 8), A.write(e, t, n, r, 52, 8), n + 8
      }
      s.prototype.slice = function (e, t) {
        var n, r = this.length;
        if ((e = ~~e) < 0 ? (e += r) < 0 && (e = 0) : e > r && (e = r), (t =
            void 0 === t ? r : ~~t) < 0 ? (t += r) < 0 && (t = 0) : t > r && (t = r),
          t < e && (t = e), s.TYPED_ARRAY_SUPPORT)(n = this.subarray(e, t))
          .__proto__ = s.prototype;
        else {
          var A = t - e;
          n = new s(A, void 0);
          for (var a = 0; a < A; ++a) n[a] = this[a + e]
        }
        return n
      }, s.prototype.readUIntLE = function (e, t, n) {
        e |= 0, t |= 0, n || O(e, t, this.length);
        for (var r = this[e], A = 1, a = 0; ++a < t && (A *= 256);) r += this[e + a] *
          A;
        return r
      }, s.prototype.readUIntBE = function (e, t, n) {
        e |= 0, t |= 0, n || O(e, t, this.length);
        for (var r = this[e + --t], A = 1; t > 0 && (A *= 256);) r += this[e + --t] *
          A;
        return r
      }, s.prototype.readUInt8 = function (e, t) {
        return t || O(e, 1, this.length), this[e]
      }, s.prototype.readUInt16LE = function (e, t) {
        return t || O(e, 2, this.length), this[e] | this[e + 1] << 8
      }, s.prototype.readUInt16BE = function (e, t) {
        return t || O(e, 2, this.length), this[e] << 8 | this[e + 1]
      }, s.prototype.readUInt32LE = function (e, t) {
        return t || O(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] <<
          16) + 16777216 * this[e + 3]
      }, s.prototype.readUInt32BE = function (e, t) {
        return t || O(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 |
          this[e + 2] << 8 | this[e + 3])
      }, s.prototype.readIntLE = function (e, t, n) {
        e |= 0, t |= 0, n || O(e, t, this.length);
        for (var r = this[e], A = 1, a = 0; ++a < t && (A *= 256);) r += this[e + a] *
          A;
        return r >= (A *= 128) && (r -= Math.pow(2, 8 * t)), r
      }, s.prototype.readIntBE = function (e, t, n) {
        e |= 0, t |= 0, n || O(e, t, this.length);
        for (var r = t, A = 1, a = this[e + --r]; r > 0 && (A *= 256);) a += this[e +
          --r] * A;
        return a >= (A *= 128) && (a -= Math.pow(2, 8 * t)), a
      }, s.prototype.readInt8 = function (e, t) {
        return t || O(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) :
          this[e]
      }, s.prototype.readInt16LE = function (e, t) {
        t || O(e, 2, this.length);
        var n = this[e] | this[e + 1] << 8;
        return 32768 & n ? 4294901760 | n : n
      }, s.prototype.readInt16BE = function (e, t) {
        t || O(e, 2, this.length);
        var n = this[e + 1] | this[e] << 8;
        return 32768 & n ? 4294901760 | n : n
      }, s.prototype.readInt32LE = function (e, t) {
        return t || O(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] <<
          16 | this[e + 3] << 24
      }, s.prototype.readInt32BE = function (e, t) {
        return t || O(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e +
          2] << 8 | this[e + 3]
      }, s.prototype.readFloatLE = function (e, t) {
        return t || O(e, 4, this.length), A.read(this, e, !0, 23, 4)
      }, s.prototype.readFloatBE = function (e, t) {
        return t || O(e, 4, this.length), A.read(this, e, !1, 23, 4)
      }, s.prototype.readDoubleLE = function (e, t) {
        return t || O(e, 8, this.length), A.read(this, e, !0, 52, 8)
      }, s.prototype.readDoubleBE = function (e, t) {
        return t || O(e, 8, this.length), A.read(this, e, !1, 52, 8)
      }, s.prototype.writeUIntLE = function (e, t, n, r) {
        (e = +e, t |= 0, n |= 0, r) || P(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
        var A = 1,
          a = 0;
        for (this[t] = 255 & e; ++a < n && (A *= 256);) this[t + a] = e / A & 255;
        return t + n
      }, s.prototype.writeUIntBE = function (e, t, n, r) {
        (e = +e, t |= 0, n |= 0, r) || P(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
        var A = n - 1,
          a = 1;
        for (this[t + A] = 255 & e; --A >= 0 && (a *= 256);) this[t + A] = e / a &
        255;
        return t + n
      }, s.prototype.writeUInt8 = function (e, t, n) {
        return e = +e, t |= 0, n || P(this, e, t, 1, 255, 0), s.TYPED_ARRAY_SUPPORT ||
          (e = Math.floor(e)), this[t] = 255 & e, t + 1
      }, s.prototype.writeUInt16LE = function (e, t, n) {
        return e = +e, t |= 0, n || P(this, e, t, 2, 65535, 0), s
          .TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : _(this,
            e, t, !0), t + 2
      }, s.prototype.writeUInt16BE = function (e, t, n) {
        return e = +e, t |= 0, n || P(this, e, t, 2, 65535, 0), s
          .TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : _(this,
            e, t, !1), t + 2
      }, s.prototype.writeUInt32LE = function (e, t, n) {
        return e = +e, t |= 0, n || P(this, e, t, 4, 4294967295, 0), s
          .TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24, this[t + 2] = e >>> 16,
            this[t + 1] = e >>> 8, this[t] = 255 & e) : D(this, e, t, !0), t + 4
      }, s.prototype.writeUInt32BE = function (e, t, n) {
        return e = +e, t |= 0, n || P(this, e, t, 4, 4294967295, 0), s
          .TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t +
            2] = e >>> 8, this[t + 3] = 255 & e) : D(this, e, t, !1), t + 4
      }, s.prototype.writeIntLE = function (e, t, n, r) {
        if (e = +e, t |= 0, !r) {
          var A = Math.pow(2, 8 * n - 1);
          P(this, e, t, n, A - 1, -A)
        }
        var a = 0,
          i = 1,
          o = 0;
        for (this[t] = 255 & e; ++a < n && (i *= 256);) e < 0 && 0 === o && 0 !==
          this[t + a - 1] && (o = 1), this[t + a] = (e / i >> 0) - o & 255;
        return t + n
      }, s.prototype.writeIntBE = function (e, t, n, r) {
        if (e = +e, t |= 0, !r) {
          var A = Math.pow(2, 8 * n - 1);
          P(this, e, t, n, A - 1, -A)
        }
        var a = n - 1,
          i = 1,
          o = 0;
        for (this[t + a] = 255 & e; --a >= 0 && (i *= 256);) e < 0 && 0 === o && 0 !==
          this[t + a + 1] && (o = 1), this[t + a] = (e / i >> 0) - o & 255;
        return t + n
      }, s.prototype.writeInt8 = function (e, t, n) {
        return e = +e, t |= 0, n || P(this, e, t, 1, 127, -128), s
          .TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), e < 0 && (e = 255 + e + 1),
          this[t] = 255 & e, t + 1
      }, s.prototype.writeInt16LE = function (e, t, n) {
        return e = +e, t |= 0, n || P(this, e, t, 2, 32767, -32768), s
          .TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : _(this,
            e, t, !0), t + 2
      }, s.prototype.writeInt16BE = function (e, t, n) {
        return e = +e, t |= 0, n || P(this, e, t, 2, 32767, -32768), s
          .TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : _(this,
            e, t, !1), t + 2
      }, s.prototype.writeInt32LE = function (e, t, n) {
        return e = +e, t |= 0, n || P(this, e, t, 4, 2147483647, -2147483648), s
          .TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8, this[t +
            2] = e >>> 16, this[t + 3] = e >>> 24) : D(this, e, t, !0), t + 4
      }, s.prototype.writeInt32BE = function (e, t, n) {
        return e = +e, t |= 0, n || P(this, e, t, 4, 2147483647, -2147483648), e <
          0 && (e = 4294967295 + e + 1), s.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24,
            this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : D(
            this, e, t, !1), t + 4
      }, s.prototype.writeFloatLE = function (e, t, n) {
        return S(this, e, t, !0, n)
      }, s.prototype.writeFloatBE = function (e, t, n) {
        return S(this, e, t, !1, n)
      }, s.prototype.writeDoubleLE = function (e, t, n) {
        return U(this, e, t, !0, n)
      }, s.prototype.writeDoubleBE = function (e, t, n) {
        return U(this, e, t, !1, n)
      }, s.prototype.copy = function (e, t, n, r) {
        if (n || (n = 0), r || 0 === r || (r = this.length), t >= e.length && (t = e
            .length), t || (t = 0), r > 0 && r < n && (r = n), r === n) return 0;
        if (0 === e.length || 0 === this.length) return 0;
        if (t < 0) throw new RangeError("targetStart out of bounds");
        if (n < 0 || n >= this.length) throw new RangeError(
          "sourceStart out of bounds");
        if (r < 0) throw new RangeError("sourceEnd out of bounds");
        r > this.length && (r = this.length), e.length - t < r - n && (r = e.length -
          t + n);
        var A, a = r - n;
        if (this === e && n < t && t < r)
          for (A = a - 1; A >= 0; --A) e[A + t] = this[A + n];
        else if (a < 1e3 || !s.TYPED_ARRAY_SUPPORT)
          for (A = 0; A < a; ++A) e[A + t] = this[A + n];
        else Uint8Array.prototype.set.call(e, this.subarray(n, n + a), t);
        return a
      }, s.prototype.fill = function (e, t, n, r) {
        if ("string" == typeof e) {
          if ("string" == typeof t ? (r = t, t = 0, n = this.length) : "string" ==
            typeof n && (r = n, n = this.length), 1 === e.length) {
            var A = e.charCodeAt(0);
            A < 256 && (e = A)
          }
          if (void 0 !== r && "string" != typeof r) throw new TypeError(
            "encoding must be a string");
          if ("string" == typeof r && !s.isEncoding(r)) throw new TypeError(
            "Unknown encoding: " + r)
        } else "number" == typeof e && (e &= 255);
        if (t < 0 || this.length < t || this.length < n) throw new RangeError(
          "Out of range index");
        if (n <= t) return this;
        var a;
        if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, e || (e = 0),
          "number" == typeof e)
          for (a = t; a < n; ++a) this[a] = e;
        else {
          var i = s.isBuffer(e) ? e : j(new s(e, r).toString()),
            o = i.length;
          for (a = 0; a < n - t; ++a) this[a + t] = i[a % o]
        }
        return this
      };
      var F = /[^+\/0-9A-Za-z-_]/g;

      function L(e) {
        return e < 16 ? "0" + e.toString(16) : e.toString(16)
      }

      function j(e, t) {
        var n;
        t = t || 1 / 0;
        for (var r = e.length, A = null, a = [], i = 0; i < r; ++i) {
          if ((n = e.charCodeAt(i)) > 55295 && n < 57344) {
            if (!A) {
              if (n > 56319) {
                (t -= 3) > -1 && a.push(239, 191, 189);
                continue
              }
              if (i + 1 === r) {
                (t -= 3) > -1 && a.push(239, 191, 189);
                continue
              }
              A = n;
              continue
            }
            if (n < 56320) {
              (t -= 3) > -1 && a.push(239, 191, 189), A = n;
              continue
            }
            n = 65536 + (A - 55296 << 10 | n - 56320)
          } else A && (t -= 3) > -1 && a.push(239, 191, 189);
          if (A = null, n < 128) {
            if ((t -= 1) < 0) break;
            a.push(n)
          } else if (n < 2048) {
            if ((t -= 2) < 0) break;
            a.push(n >> 6 | 192, 63 & n | 128)
          } else if (n < 65536) {
            if ((t -= 3) < 0) break;
            a.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
          } else {
            if (!(n < 1114112)) throw new Error("Invalid code point");
            if ((t -= 4) < 0) break;
            a.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
          }
        }
        return a
      }

      function z(e) {
        return r.toByteArray(function (e) {
          if ((e = function (e) {
              return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
            }(e).replace(F, "")).length < 2) return "";
          for (; e.length % 4 != 0;) e += "=";
          return e
        }(e))
      }

      function R(e, t, n, r) {
        for (var A = 0; A < r && !(A + n >= t.length || A >= e.length); ++A) t[A + n] =
          e[A];
        return A
      }
    }).call(this, n(232))
  }, function (e, t, n) {
    "use strict";
    t.byteLength = function (e) {
      var t = u(e),
        n = t[0],
        r = t[1];
      return 3 * (n + r) / 4 - r
    }, t.toByteArray = function (e) {
      var t, n, r = u(e),
        i = r[0],
        o = r[1],
        s = new a(function (e, t, n) {
          return 3 * (t + n) / 4 - n
        }(0, i, o)),
        l = 0,
        c = o > 0 ? i - 4 : i;
      for (n = 0; n < c; n += 4) t = A[e.charCodeAt(n)] << 18 | A[e.charCodeAt(n +
        1)] << 12 | A[e.charCodeAt(n + 2)] << 6 | A[e.charCodeAt(n + 3)], s[l++] = t >>
        16 & 255, s[l++] = t >> 8 & 255, s[l++] = 255 & t;
      2 === o && (t = A[e.charCodeAt(n)] << 2 | A[e.charCodeAt(n + 1)] >> 4, s[l++] =
        255 & t);
      1 === o && (t = A[e.charCodeAt(n)] << 10 | A[e.charCodeAt(n + 1)] << 4 | A[e
        .charCodeAt(n + 2)] >> 2, s[l++] = t >> 8 & 255, s[l++] = 255 & t);
      return s
    }, t.fromByteArray = function (e) {
      for (var t, n = e.length, A = n % 3, a = [], i = 0, o = n - A; i < o; i += 16383)
        a.push(l(e, i, i + 16383 > o ? o : i + 16383));
      1 === A ? (t = e[n - 1], a.push(r[t >> 2] + r[t << 4 & 63] + "==")) : 2 === A && (
        t = (e[n - 2] << 8) + e[n - 1], a.push(r[t >> 10] + r[t >> 4 & 63] + r[t <<
          2 & 63] + "="));
      return a.join("")
    };
    for (var r = [], A = [], a = "undefined" != typeof Uint8Array ? Uint8Array : Array,
        i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", o = 0, s =
        i.length; o < s; ++o) r[o] = i[o], A[i.charCodeAt(o)] = o;

    function u(e) {
      var t = e.length;
      if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
      var n = e.indexOf("=");
      return -1 === n && (n = t), [n, n === t ? 0 : 4 - n % 4]
    }

    function l(e, t, n) {
      for (var A, a, i = [], o = t; o < n; o += 3) A = (e[o] << 16 & 16711680) + (e[o +
        1] << 8 & 65280) + (255 & e[o + 2]), i.push(r[(a = A) >> 18 & 63] + r[a >> 12 &
        63] + r[a >> 6 & 63] + r[63 & a]);
      return i.join("")
    }
    A["-".charCodeAt(0)] = 62, A["_".charCodeAt(0)] = 63
  }, function (e, t) {
    /*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
    t.read = function (e, t, n, r, A) {
      var a, i, o = 8 * A - r - 1,
        s = (1 << o) - 1,
        u = s >> 1,
        l = -7,
        c = n ? A - 1 : 0,
        d = n ? -1 : 1,
        p = e[t + c];
      for (c += d, a = p & (1 << -l) - 1, p >>= -l, l += o; l > 0; a = 256 * a + e[t +
          c], c += d, l -= 8);
      for (i = a & (1 << -l) - 1, a >>= -l, l += r; l > 0; i = 256 * i + e[t + c], c +=
        d, l -= 8);
      if (0 === a) a = 1 - u;
      else {
        if (a === s) return i ? NaN : 1 / 0 * (p ? -1 : 1);
        i += Math.pow(2, r), a -= u
      }
      return (p ? -1 : 1) * i * Math.pow(2, a - r)
    }, t.write = function (e, t, n, r, A, a) {
      var i, o, s, u = 8 * a - A - 1,
        l = (1 << u) - 1,
        c = l >> 1,
        d = 23 === A ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
        p = r ? 0 : a - 1,
        h = r ? 1 : -1,
        f = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
      for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (o = isNaN(t) ? 1 : 0, i = l) : (
          i = Math.floor(Math.log(t) / Math.LN2), t * (s = Math.pow(2, -i)) < 1 && (i--,
            s *= 2), (t += i + c >= 1 ? d / s : d * Math.pow(2, 1 - c)) * s >= 2 && (
            i++, s /= 2), i + c >= l ? (o = 0, i = l) : i + c >= 1 ? (o = (t * s - 1) *
            Math.pow(2, A), i += c) : (o = t * Math.pow(2, c - 1) * Math.pow(2, A), i =
            0)); A >= 8; e[n + p] = 255 & o, p += h, o /= 256, A -= 8);
      for (i = i << A | o, u += A; u > 0; e[n + p] = 255 & i, p += h, i /= 256, u -= 8);
      e[n + p - h] |= 128 * f
    }
  }, function (e, t) {
    var n = {}.toString;
    e.exports = Array.isArray || function (e) {
      return "[object Array]" == n.call(e)
    }
  }, function (e, t) {
    var n, r;
    n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", r = {
      rotl: function (e, t) {
        return e << t | e >>> 32 - t
      },
      rotr: function (e, t) {
        return e << 32 - t | e >>> t
      },
      endian: function (e) {
        if (e.constructor == Number) return 16711935 & r.rotl(e, 8) | 4278255360 & r
          .rotl(e, 24);
        for (var t = 0; t < e.length; t++) e[t] = r.endian(e[t]);
        return e
      },
      randomBytes: function (e) {
        for (var t = []; e > 0; e--) t.push(Math.floor(256 * Math.random()));
        return t
      },
      bytesToWords: function (e) {
        for (var t = [], n = 0, r = 0; n < e.length; n++, r += 8) t[r >>> 5] |= e[
          n] << 24 - r % 32;
        return t
      },
      wordsToBytes: function (e) {
        for (var t = [], n = 0; n < 32 * e.length; n += 8) t.push(e[n >>> 5] >>> 24 -
          n % 32 & 255);
        return t
      },
      bytesToHex: function (e) {
        for (var t = [], n = 0; n < e.length; n++) t.push((e[n] >>> 4).toString(16)),
          t.push((15 & e[n]).toString(16));
        return t.join("")
      },
      hexToBytes: function (e) {
        for (var t = [], n = 0; n < e.length; n += 2) t.push(parseInt(e.substr(n, 2),
          16));
        return t
      },
      bytesToBase64: function (e) {
        for (var t = [], r = 0; r < e.length; r += 3)
          for (var A = e[r] << 16 | e[r + 1] << 8 | e[r + 2], a = 0; a < 4; a++) 8 *
            r + 6 * a <= 8 * e.length ? t.push(n.charAt(A >>> 6 * (3 - a) & 63)) : t
            .push("=");
        return t.join("")
      },
      base64ToBytes: function (e) {
        e = e.replace(/[^A-Z0-9+\/]/gi, "");
        for (var t = [], r = 0, A = 0; r < e.length; A = ++r % 4) 0 != A && t.push((n
            .indexOf(e.charAt(r - 1)) & Math.pow(2, -2 * A + 8) - 1) << 2 * A | n
          .indexOf(e.charAt(r)) >>> 6 - 2 * A);
        return t
      }
    }, e.exports = r
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = B(n(5)),
      A = B(n(33)),
      a = B(n(11)),
      i = B(n(2)),
      o = B(n(0)),
      s = B(n(1)),
      u = B(n(3)),
      l = B(n(4)),
      c = B(n(48)),
      d = B(n(500)),
      p = B(n(504)),
      h = n(158),
      f = n(478),
      g = n(72),
      y = B(g),
      v = n(102),
      m = n(479),
      w = n(267);

    function B(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var I = window,
      M = new p.default({
        min: 200,
        max: 15e3,
        jitter: .7
      }),
      C = function (e) {
        function t(e) {
          (0, o.default)(this, t);
          var n = (0, u.default)(this, (t.__proto__ || (0, i.default)(t)).call(this));
          return n.state = "disconnected", n.isOnline = !0, n.params = null, n.visT = 0, n
            .sessionId = 0, n.onMessage = function (e, t) {
              if ("broadcast" === t) n.onbroadcast(e);
              else if ("syncRequestAck" === t || "syncRequestResponse" === t ||
                "broadcastAck" === t) {
                var r = e.content && e.content.params;
                n.emit(t, r)
              } else "roomClosed" === t ? n.destroy({
                reason: "roomClosed",
                message: "房间关闭"
              }) : "kicked" === t && n.destroy({
                reason: "kickedBySameAccount",
                message: "当前账号在多处重复登录"
              })
            }, n.reconnect = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
              if (t > 10) return n.destroy({
                reason: "maxRetryExceed",
                message: "重试次数超过10次, 断开连接"
              });
              if ("disconnected" === n.state) return a.default.resolve(!0);
              var r = 0;
              if ("appSwitchToFront" !== e && (r = n.isOnline ? M.duration() : 2e3),
                "reconnecting" !== n.state) {
                if (n.visT < 0) {
                  var A = 1500;
                  return (0, h.delay)(A).then((function () {
                    n.reconnect("appSwitchToFront")
                  }))
                }
                n.setState("reconnecting");
                var i = void 0;
                return (0, h.delay)(r).then((function () {
                  if (n.logger.log("白板--\x3e WBSocketClient.reconnect 重连原因:" + e +
                      ", " + (new Date).toTimeString() + ",  current state: " + n
                      .state + ", reconnect after, " + r), "disconnected" !== n
                    .state) return i = Date.now(), n.signal.reconnect(e)
                })).catch((function (e) {
                  return n._reportSocketConnClosed(e), a.default.reject(e)
                })).then((function () {
                  return n.signal.login(n.params)
                })).then((function () {
                  n._reportLoginSuccess(i), "lbsUrl" in n.whiteboardSDK
                    .serviceConf && (0, m.updateLbsCache)(n.whiteboardSDK), n
                    .setState("connected"), M.reset()
                })).catch((function (e) {
                  if (n.logger.error("socket reconnect error", e), n
                    ._reportLoginFail(e, i), !e || e.code !== w
                    .LOGIN_FAILED_ERROR || 417 !== e.subCode && "417" !== e.subCode
                    ) {
                    if (e && e.code && e.code !== w.SOCKET_CLOSE_ERROR && e.code !==
                      w.SOCKET_IN_USE_ERROR) {
                      var r = e.error || e.msg || e.message || "unknownReason";
                      return n.destroy({
                        reason: r,
                        message: "login failed: " + e.code + " reason: " + r
                      })
                    }
                    return n.logger.log("reconnect fail", e), "disconnected" !== n
                      .state && n.setState("reconnectFail"), n.reconnect(
                        "reconnectFail", n.isOnline ? t + 1 : 0)
                  }
                  return n.destroy({
                    reason: "roomClosed",
                    message: "login failed: " + e.code + " reason: 房间已关闭"
                  })
                }))
              }
            }, n._handleOnline = function () {
              n.logger.log("白板--\x3e WBSocketClient._handleOnline"), n.isOnline = !0, M
                .reset()
            }, n._handleOffline = function () {
              n.logger.log("白板--\x3e WBSocketClient._handleOffline"), n.isOnline = !1,
                "connected" === n.state && n.setState("willreconnect")
            }, n._reportSocketConnClosed = function (e) {
              n._dataReportUtil("v3_conn_error", {
                error: {
                  code: g.DataReportConnError.Socket_Conn_Closed,
                  message: e.message
                }
              })
            }, n._reportLoginSuccess = function (e) {
              n._dataReportUtil("v3_login", {
                time: e,
                time_elapsed: Date.now() - e,
                result: {
                  code: 200,
                  message: "Login Success"
                }
              })
            }, n._reportLoginFail = function (e, t) {
              var r = w.SOCKET_UNKNOWN_ERROR,
                a = "";
              e instanceof Error ? (r = e.code || w.SOCKET_UNKNOWN_ERROR, a = e
                .toString()) : e.code ? (r = e.code, a = e.error || e.message || e.msg) :
                "object" === (void 0 === e ? "undefined" : (0, A.default)(e)) && e && (a =
                  e.name || e.error || e.message || e.msg), n._dataReportUtil(
                "v3_login", {
                  time: t,
                  time_elapsed: Date.now() - t,
                  result: {
                    code: r,
                    message: a
                  }
                })
            }, n._dataReportUtil = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
              null !== n.params && (0, y.default)(n.whiteboardSDK.serviceConf
                .dataReportAddr, e, "" + n.whiteboardSDK.getSessionId(), (0, r.default)
              ({
                  uid: n.params.uid,
                  cid: n.params.cid,
                  from_g2: n.params.from_g2,
                  appkey: n.whiteboardSDK.opt.appKey,
                  channel_name: n.whiteboardSDK.channel,
                  ws_url: n.urlBeingUsed,
                  time: Date.now()
                }, t))
            }, n.loadedAt = Date.now(), n.signal = new d.default(n, e), n.whiteboardSDK =
            e, (0, v.registerVisibleChangeHandler)((function () {
              n.logger.log("[wb]屏幕可见", (new Date).toTimeString()), n.visT = Date
              .now(), M.reset()
            }), (function () {
              n.logger.log("[wb]屏幕不可见", (new Date).toTimeString()), n.visT = -1
            })), n
        }
        return (0, l.default)(t, e), (0, s.default)(t, [{
          key: "startSession",
          value: function (e) {
            var t = this;
            if (this.sessionId += 1, this.logger.log(
                "白板--\x3e WBSocketClient.startSession, currentState: " + this
                .state), this.logger.log("白板startSession", e), this.params = {
                cid: e.cid,
                uid: e.uid,
                whiteboardVersion: e.whiteboardVersion,
                record: e.record,
                token: e.token,
                from_g2: void 0 === e.from_g2 || e.from_g2
              }, "disconnected" !== this.state) return a.default.reject({
              message: "session已经启动。如果需要重新启动session，请先destroy"
            });
            if (0 === e.urlArray.length) return a.default.reject({
              message: "startSession时的urlArray长度为0"
            });
            var n = function () {
              "function" == typeof I.addEventListener && (I.addEventListener(
                "online", t._handleOnline), I.addEventListener("offline", t
                ._handleOffline));
              for (var n = a.default.resolve(), r = !1, A = void 0, i = t
                  .sessionId, o = function (o) {
                    n = n.then((function () {
                      return A = Date.now(), r ? void 0 : t.signal
                        .connect({
                          cid: e.cid,
                          uid: e.uid,
                          urlArray: e.urlArray,
                          currIndex: o
                        }).catch((function (e) {
                          return t._reportSocketConnClosed(e), a
                            .default.reject(e)
                        })).then((function () {
                          if (t.sessionId === i) return t.signal
                            .login({
                              whiteboardVersion: e
                                .whiteboardVersion,
                              record: e.record,
                              token: e.token,
                              from_g2: void 0 === e.from_g2 || e
                                .from_g2
                            }).then((function () {
                              r = !0, t.setState("connected"), t
                                ._reportLoginSuccess(A)
                            }))
                        })).then((function () {
                          if (t.sessionId !== i) return t.signal
                            .logout(), t.signal.destroy(
                              "sessionExpire"), t._dataReportUtil(
                              "v3_logout", {
                                reason: "sessionExpire"
                              }), t.setState("disconnected"), a
                            .default.reject({
                              code: w.SESSION_EXPIRE_ERROR,
                              message: "startSession session expire"
                            })
                        })).catch((function (n) {
                          if (t.logger.log("startSession: " + e
                              .urlArray[o] + "失败，错误原因为: ", n), t
                            ._reportLoginFail(n, A), o === e.urlArray
                            .length - 1 || n && n.code === w
                            .SESSION_EXPIRE_ERROR) return a.default
                            .reject(n)
                        }))
                    }))
                  }, s = 0; s < e.urlArray.length; s++) o(s);
              return {
                v: n
              }
            }();
            return "object" === (void 0 === n ? "undefined" : (0, A.default)(n)) ?
              n.v : void 0
          }
        }, {
          key: "destroy",
          value: function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
              0] : {
                reason: "manualDestroy",
                message: "手动调用destroy断开连接"
              };
            this.logger.log("白板--\x3e WBSocketClient.destroy, currentState: " +
                this.state + ", reason: " + e.reason), this.sessionId += 1,
              "function" == typeof I.removeEventListener && (I
                .removeEventListener("online", this._handleOnline), I
                .removeEventListener("offline", this._handleOffline)),
              "disconnected" !== this.state && ("kickedBySameAccount" !== e
                .reason && "roomClosed" !== e.reason && this.signal.logout(), this
                ._dataReportUtil("v3_logout", {
                  reason: e.reason
                }), this.signal.destroy(e.reason), this.setState("disconnected", {
                  code: 200,
                  message: e.message
                }))
          }
        }, {
          key: "broadcastData",
          value: function (e) {
            e && ("connected" !== this.state ? this.logger.log(
              "白板--\x3e WBSocketClient.broadcastData 信令当前不处于连接状态, 当前状态: " +
              this.state) : this.signal.sendMsg("broadcast", e))
          }
        }, {
          key: "sendSyncRequest",
          value: function (e) {
            "connected" !== this.state ? this.logger.log(
              "白板--\x3e WBSocketClient.sendSyncRequest 信令当前不处于连接状态, 当前状态: " +
              this.state) : this.signal.sendMsg("syncRequest", {
              last_server_pkg_id: e
            })
          }
        }, {
          key: "onHeartBeatTimeout",
          value: function (e) {
            this.logger.log(
                "白板--\x3e WBSocketClient.onHeartBeatTimeout, currentState: " +
                this.state), "willreconnect" !== this.state && "connected" !==
              this.state || (e < f.RECONNECTING_THRESHOLD ? this.setState(
                "willreconnect") : (this._dataReportUtil("v3_conn_error", {
                error: {
                  code: g.DataReportConnError.HeartBeat_Timeout,
                  message: "心跳超时: " + e + "ms"
                }
              }), this.reconnect("heartbeatTimeout")))
          }
        }, {
          key: "onHeartBeat",
          value: function () {
            "willreconnect" === this.state && this.setState("connected")
          }
        }, {
          key: "onSignalClosed",
          value: function () {
            this.logger.log(
                "白板--\x3e WBSocketClient.onSignalClosed, currentState: " + this
                .state), "willreconnect" !== this.state && "connected" !== this
              .state || (this._dataReportUtil("v3_conn_error", {
                error: {
                  code: g.DataReportConnError.Socket_Closed,
                  message: "socket连接断开"
                }
              }), this.reconnect("websocketClose"))
          }
        }, {
          key: "onbroadcast",
          value: function (e) {
            var t = e.content && e.content.params && e.content.params.data,
              n = e.content && e.content.params && e.content.params.server_pkg_id,
              r = e.content && e.content.params && e.content.params.client_pkg_id,
              A = e.uid;
            try {
              t = JSON.parse(t || null)
            } catch (e) {}
            this.emit("data", {
              data: t,
              server_pkg_id: n,
              client_pkg_id: r,
              source_uid: A
            })
          }
        }, {
          key: "setState",
          value: function (e, t) {
            this.state !== e && (this.logger.log(
                "socketClient --\x3e setState from " + this.state + " to " + e),
              this.state = e, this.emit(e, t))
          }
        }, {
          key: "logger",
          get: function () {
            return this.whiteboardSDK.logger
          }
        }, {
          key: "urlBeingUsed",
          get: function () {
            return this.signal.urlBeingUsed
          }
        }]), t
      }(c.default);
    t.default = C
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    var r = g(n(21)),
      A = g(n(11)),
      a = g(n(2)),
      i = g(n(0)),
      o = g(n(1)),
      s = g(n(3)),
      u = g(n(4)),
      l = g(n(48)),
      c = g(n(477)),
      d = n(501),
      p = n(478),
      h = n(502),
      f = n(503);

    function g(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    var y = window,
      v = function (e) {
        function t(e, n) {
          (0, i.default)(this, t);
          var r = (0, s.default)(this, (t.__proto__ || (0, a.default)(t)).call(this));
          return r.socket = null, r.recv_bytes = 0, r.send_bytes = 0, r.hbCount = 0, r
            .connectParams = {
              cid: "",
              uid: "",
              urlArray: [],
              currIndex: -1
            }, r.heartBeat = {
              isBeating: !1,
              last: null,
              beatAckTimer: null,
              sendBeatTimer: null
            }, r.onHeartBeat = function (e) {
              r.hbCount % 75 == 0 && r.logger.log("on heart beat: " + r.hbCount + ", " + (
                  new Date).toTimeString()), r.hbCount += 1, r.heartBeat.last = Date
              .now(), clearTimeout(r.heartBeat.beatAckTimer), clearTimeout(r.heartBeat
                  .sendBeatTimer), r.heartBeat.beatAckTimer = null, r.heartBeat
                .sendBeatTimer = null, r.handler.onHeartBeat(), r.heartBeat
                .sendBeatTimer = setTimeout(r.sendHeartBeat, p.HeartBeatInterval)
            }, r.onMessageAsHeartBeatAck = function () {
              r.heartBeat.last = Date.now()
            }, r.sendHeartBeat = function () {
              clearTimeout(r.heartBeat.sendBeatTimer), r.heartBeat.sendBeatTimer = null, r
                .sendMsg("keep_alive"), r.heartBeat.beatAckTimer = setTimeout(r
                  .onHeartBeatTimeout, p.HeartBeatTimeout)
            }, r.onHeartBeatTimeout = function () {
              var e = Date.now();
              null === r.heartBeat.last && (r.heartBeat.last = e);
              var t = e - r.heartBeat.last;
              r.sendHeartBeat();
              var n = 0 === r.visT || r.visT > 0 && e - r.visT > 1e3;
              t > p.HeartBeatTimeout - 30 && !n && r.logger.log("timeout when invisible",
                t, (new Date).toTimeString()), t > p.HeartBeatTimeout - 30 && n && (r
                .logger.log(
                  "白板--\x3e Signal.onHeartBeatTimeout socket error: heartbeat timeout",
                  t, (new Date).toTimeString(), r.heartBeat.last), r.handler
                .onHeartBeatTimeout(t))
            }, r.handler = e, r.whiteboardSDK = n, r
        }
        return (0, u.default)(t, e), (0, o.default)(t, [{
          key: "logout",
          value: function () {
            if (this.logger.log("白板--\x3e Signal logout"), this.stopHeartBeat(),
              null !== this.socket)
              if (this.socketStatus === y.WebSocket.OPEN) this.sendLogoutMsg();
              else {
                this.logger.log("白板--\x3e Signal.login socket不是连接状态")
              }
            else {
              this.logger.log("白板--\x3e Signal.logout socket尚未初始化")
            }
          }
        }, {
          key: "login",
          value: function (e) {
            var t = this,
              n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] :
              0;
            if (this.logger.log("白板--\x3e Signal login"), null === this.socket) {
              var r = this.connectParams,
                a = r.uid,
                i = r.cid,
                o = r.urlArray,
                s = r.currIndex,
                u = o[s],
                l = "白板--\x3e Signal.login socket尚未初始化，请先连接socket: " + this
                .getFinalUrl(u, i, a);
              return this.logger.log(l), A.default.reject(new h
                .SocketNotInitError("SocketNotInitError: socket is not inited"))
            }
            if (this.socketStatus !== y.WebSocket.OPEN) {
              var c = "白板--\x3e Signal.login socket不是连接状态";
              return this.logger.log(c), A.default.reject(new h
                .SocketNotOpenError("SocketNotOpenError: socket is not open"))
            }
            return this.sendLoginMsg(e), clearTimeout(this.loginAckTimer), new A
              .default((function (r, A) {
                t.removeAllListeners("loginSuccess"), t.removeAllListeners(
                  "loginFailed"), t.once("loginSuccess", (function (e) {
                  clearTimeout(t.loginAckTimer), t.removeAllListeners(
                    "loginSuccess"), t.removeAllListeners(
                    "loginFailed"), t.logger.log(
                    "白板--\x3e Signal Login Success"), r()
                })), t.once("loginFailed", (function (e) {
                  clearTimeout(t.loginAckTimer), t.removeAllListeners(
                    "loginSuccess"), t.removeAllListeners(
                    "loginFailed"), t.logger.warn(
                    "白板--\x3e Login Failed", e), t.destroy(
                    "loginFailed"), A(e)
                })), t.loginAckTimer = setTimeout((function () {
                  if (clearTimeout(t.loginAckTimer), t
                    .removeAllListeners("loginSuccess"), t
                    .removeAllListeners("loginFailed"), n < p
                    .LoginMaxRetry) return t.logger.log(
                      "白板--\x3e Login timeout(" + n + "/" + p
                      .LoginMaxRetry + "), 即将重试"), t.login(e, n + 1)
                    .then((function () {
                      r()
                    })).catch((function (e) {
                      A(e)
                    }));
                  t.logger.log(
                      "白板--\x3e Login Failed. Login Ack超时，且重试次数超过" + p
                      .LoginMaxRetry + "次"), t.destroy("loginFailed"),
                    A(new h.LoginTimeoutError("Login Ack超时，且重试次数超过" + p
                      .LoginMaxRetry + "次"))
                }), p.LoginAckTimeout)
              }))
          }
        }, {
          key: "reconnect",
          value: function (e) {
            return this.destroy(e), this.connect(this.connectParams, !0)
          }
        }, {
          key: "connect",
          value: function (e) {
            var t = this,
              n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            if (null !== this.socket) {
              var r = "白板--\x3e Signal.connect socket正处于连接状态，请先销毁再重连";
              return this.logger.log(r), A.default.reject(new h.SocketInUseError(
                r))
            }
            n ? this.connectParams.currIndex = (this.connectParams.currIndex +
              1) % this.connectParams.urlArray.length : this.connectParams = e;
            var a = this.connectParams,
              i = a.cid,
              o = a.uid,
              s = a.urlArray,
              u = a.currIndex,
              l = s[u];
            return this.urlBeingUsed = l, l = this.getFinalUrl(l, i, o), new A
              .default((function (e, n) {
                clearTimeout(t.connetTimer), t.connetTimer = setTimeout((
                  function () {
                    t.socket && t.socketStatus !== y.WebSocket.OPEN && (t
                      .socket.onopen = null, t.socket.onclose = null, t
                      .socket.close(), t.socket = null, t.logger.error(
                        "[wb] ws/signal: socket connect timeout"), n(
                        new h.SocketConnClosedError("socket连接建立过程超时")))
                  }), p.SocketConnTimeout);
                try {
                  t.logger.log("白板--\x3e Signal.connect url: " + l), t
                    .socket = new y.WebSocket(l), t.socket.onopen = function (
                      n) {
                      t.initSignal(), t.logger.log("白板--\x3e Signal onopen"),
                        clearTimeout(t.connetTimer), e(t)
                    }, t.socket.onclose = function (e) {
                      var r = "白板--\x3e Signal onclose: " + l;
                      t.stopHeartBeat(), t.logger.log(r), t.socket = null, t
                        .handler.onSignalClosed(), clearTimeout(t
                        .connetTimer), n(new h.SocketConnClosedError(r))
                    }
                } catch (e) {
                  t.logger.log("白板--\x3e Signal.connect 信令连接建立失败", e), n(e)
                }
              }))
          }
        }, {
          key: "destroy",
          value: function (e) {
            this.logger.log("白板--\x3e Signal.destroy 销毁原因: " + e), this
              .stopHeartBeat(), null !== this.socket && (this.socket.onmessage =
                null, this.socket.onclose = null, this.socket.onopen = null, this
                .socket.onerror = null, this.socket.close(), this.socket = null)
          }
        }, {
          key: "getFinalUrl",
          value: function (e, t, n) {
            return y.wsUrl, (e = -1 !== e.indexOf("?") ? e + "&cid=" + t +
                "&uid=" + n : "/" === e[e.length - 1] ? e + "?cid=" + t +
                "&uid=" + n : e + "/?cid=" + t + "&uid=" + n).startsWith(
              "ws://") || e.startsWith("wss://") ? e : "wss://" + e
          }
        }, {
          key: "initSignal",
          value: function () {
            var e = this;
            null !== this.socket ? this.socket.onmessage = function (t) {
              var n = JSON.parse(t.data || null);
              if (n) return "loginAck" === n.type || n.type === d.serializeWb
                .gateWay.loginAck ? e.onLoginAck(n) : !e.heartBeat
                .isBeating || "keep_alive_ack" !== n.type && n.type !== d
                .serializeWb.gateWay.keep_alive_ack ? void(n && e.onMessage(
                  n)) : e.onHeartBeat(n)
            } : this.logger.log("白板--\x3e Signal.initSignal ws is null")
          }
        }, {
          key: "onLoginAck",
          value: function (e) {
            var t = e.content.params,
              n = t.auth_result - 0;
            if (200 !== n) {
              this.logger.log("白板--\x3e Signal.onLoginAck: 服务器验证不通过, 断开连接: " + n);
              var r = "服务器验证不通过, 断开连接";
              return t.errmsg ? r = t.errmsg : t.errMsg && (r = t.errMsg), this
                .emit("loginFailed", new h.LoginFailedError("code: " + n +
                  ", message: " + r, n))
            }
            this.logger.log("白板--\x3e Signal.onLoginAck: 白板服务器登录成功", e), this
              .emit("loginSuccess"), this.startHeartbeat()
          }
        }, {
          key: "onMessage",
          value: function (e) {
            e && e.cid && e.uid && (e.cid = +e.cid, e.uid = +e.uid);
            var t = d.unserializeWb.gateWay[e.type];
            return t ? "logout" !== t && e.cid !== this.connectParams.cid && e
              .cid !== Number(this.connectParams.cid) ? this.logger.log(
                "白板--\x3e Signal.onMessage: msg不属于当前cid: " + this.connectParams
                .cid, e) : (this.onMessageAsHeartBeatAck(), void this.handler
                .onMessage(e, t)) : this.logger.log(
                "白板--\x3e Signal.onMessage: msg类型找不到" + e.type)
          }
        }, {
          key: "startHeartbeat",
          value: function () {
            this.logger.log("白板--\x3e Signal.startHeartbeat:" + (new Date)
                .toTimeString()), this.heartBeat.last = Date.now(), this.heartBeat
              .isBeating = !0, clearTimeout(this.heartBeat.beatAckTimer),
              clearTimeout(this.heartBeat.sendBeatTimer), this.heartBeat
              .beatAckTimer = null, this.heartBeat.sendBeatTimer = null, this
              .sendHeartBeat()
          }
        }, {
          key: "stopHeartBeat",
          value: function () {
            this.logger.log("白板--\x3e Signal.stopHeartBeat at: " + (new Date)
                .toLocaleString()), clearTimeout(this.heartBeat.beatAckTimer),
              clearTimeout(this.heartBeat.sendBeatTimer), this.heartBeat
              .beatAckTimer = null, this.heartBeat.sendBeatTimer = null, this
              .heartBeat.isBeating = !1, this.heartBeat.last = null
          }
        }, {
          key: "sendLoginMsg",
          value: function (e) {
            var t = {
              cname: this.whiteboardSDK.channel,
              token: e.token,
              client_type: 2,
              client_net: 2,
              client_os: (0, f.getClientOs)(),
              client_sdk_version: e.whiteboardVersion,
              client_support_record: e.record
            };
            e.from_g2 && (t.from_g2 = !0), this.logger.log(
              "白板--\x3e Signal login", t), this.sendMsg("login", t)
          }
        }, {
          key: "sendLogoutMsg",
          value: function () {
            this.sendMsg("logout", {
              recv_bytes: this.recv_bytes,
              send_bytes: this.send_bytes
            })
          }
        }, {
          key: "sendMsg",
          value: function (e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[
              1] : {},
              n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[
                2],
              r = {
                type: e = d.serializeWb.gateWay[e],
                uid: +this.connectParams.uid,
                cid: +this.connectParams.cid,
                version: 31,
                content: {
                  params: t
                }
              },
              A = Date.now(),
              a = A;
            a = +A.toString().slice(0, -3), n && (r.content.params.timestamp = a),
              this.send(r)
          }
        }, {
          key: "receiveStats",
          value: function () {}
        }, {
          key: "sendStats",
          value: function () {}
        }, {
          key: "send",
          value: function (e) {
            null !== this.socket && this.socketStatus === y.WebSocket.OPEN ? (e
                .browser = {}, e.browser.name = c.default.name, e.browser
                .version = c.default.version, this.socket.send((0, r.default)(e))
                ) : (this.logger.log("白板--\x3e Signal.send失败，socket是否为null: " + (
                  null === this.socket) + ", socketStatus: " + this
                .socketStatus), this.logger.log("白板--\x3e Signal.send失败，数据: " +
                (0, r.default)(e)))
          }
        }, {
          key: "socketStatus",
          get: function () {
            return null === this.socket ? -1 : this.socket.readyState
          }
        }, {
          key: "visT",
          get: function () {
            return this.handler.visT
          }
        }, {
          key: "logger",
          get: function () {
            return this.whiteboardSDK.logger
          }
        }]), t
      }(l.default);
    t.default = v
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.serializeWb = {
      gateWay: {
        login: 1,
        loginAck: 2,
        join: 3,
        keep_alive: 4,
        keep_alive_ack: 5,
        keep_alive_node: 6,
        broadcast: 7,
        toUser: 8,
        logout: 9,
        syncRequest: 10,
        syncRequestAck: 11,
        syncRequestResponse: 12,
        broadcastAck: 13,
        kicked: 14,
        roomClosed: 15
      }
    }, t.unserializeWb = {
      gateWay: {
        1: "login",
        2: "loginAck",
        3: "join",
        4: "keep_alive",
        5: "keep_alive_ack",
        6: "keep_alive_node",
        7: "broadcast",
        8: "toUser",
        9: "logout",
        10: "syncRequest",
        11: "syncRequestAck",
        12: "syncRequestResponse",
        13: "broadcastAck",
        14: "kicked",
        15: "roomClosed"
      }
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
      }), t.SocketNotOpenError = t.SocketNotInitError = t.LoginFailedError = t
      .LoginTimeoutError = t.SocketConnClosedError = t.SocketInUseError = void 0;
    var r = s(n(2)),
      A = s(n(0)),
      a = s(n(3)),
      i = s(n(4)),
      o = n(267);

    function s(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.SocketInUseError = function (e) {
      function t(e) {
        (0, A.default)(this, t);
        var n = (0, a.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
        return n.msg = e, n.name = "SocketInUseError", n.code = o.SOCKET_IN_USE_ERROR, n
      }
      return (0, i.default)(t, e), t
    }(Error), t.SocketConnClosedError = function (e) {
      function t(e) {
        (0, A.default)(this, t);
        var n = (0, a.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
        return n.msg = e, n.name = "SocketConnClosedError", n.code = o
          .SOCKET_CLOSE_ERROR, n
      }
      return (0, i.default)(t, e), t
    }(Error), t.LoginTimeoutError = function (e) {
      function t(e) {
        (0, A.default)(this, t);
        var n = (0, a.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
        return n.msg = e, n.name = "LoginTimeoutError", n.code = o.LOGIN_TIMEOUT_ERROR,
          n
      }
      return (0, i.default)(t, e), t
    }(Error), t.LoginFailedError = function (e) {
      function t(e, n) {
        (0, A.default)(this, t);
        var i = (0, a.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
        return i.msg = e, i.name = "LoginFailedError", i.code = o.LOGIN_FAILED_ERROR, i
          .subCode = n, i
      }
      return (0, i.default)(t, e), t
    }(Error), t.SocketNotInitError = function (e) {
      function t(e) {
        (0, A.default)(this, t);
        var n = (0, a.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
        return n.msg = e, n.name = "SocketNotInitError", n.code = o
          .SOCKET_NOT_INIT_ERROR, n
      }
      return (0, i.default)(t, e), t
    }(Error), t.SocketNotOpenError = function (e) {
      function t(e) {
        (0, A.default)(this, t);
        var n = (0, a.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
        return n.msg = e, n.name = "SocketNotOpenError", n.code = o
          .SOCKET_NOT_OPEN_ERROR, n
      }
      return (0, i.default)(t, e), t
    }(Error)
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    }), t.getClientOs = t.delay = void 0;
    var r = a(n(11)),
      A = a(n(477));

    function a(e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
    t.delay = function (e) {
      return new r.default((function (t) {
        setTimeout((function () {
          t()
        }), e)
      }))
    }, t.getClientOs = function () {
      var e = "",
        t = "";
      try {
        e = A.default.description.toLowerCase(), t = A.default.ua.toString()
          .toLowerCase()
      } catch (e) {
        console.warn(e)
      }
      var n = /iPad|iPhone|iPod/.test(navigator.platform) || "MacIntel" === navigator
        .platform && navigator.maxTouchPoints > 1,
        r = /android/.test(e),
        a = /windows/.test(t),
        i = /os x/.test(t),
        o = /electron/.test(t),
        s = /qtwebengine/.test(t);
      return r ? 1 : n ? 2 : o || s ? a ? 3 : i ? 4 : 5 : 0
    }
  }, function (e, t) {
    function n(e) {
      e = e || {}, this.ms = e.min || 100, this.max = e.max || 1e4, this.factor = e
        .factor || 2, this.jitter = e.jitter > 0 && e.jitter <= 1 ? e.jitter : 0, this
        .attempts = 0
    }
    e.exports = n, n.prototype.duration = function () {
      var e = this.ms * Math.pow(this.factor, this.attempts++);
      if (this.jitter) {
        var t = Math.random(),
          n = Math.floor(t * this.jitter * e);
        e = 0 == (1 & Math.floor(10 * t)) ? e - n : e + n
      }
      return 0 | Math.min(e, this.max)
    }, n.prototype.reset = function () {
      this.attempts = 0
    }, n.prototype.setMin = function (e) {
      this.ms = e
    }, n.prototype.setMax = function (e) {
      this.max = e
    }, n.prototype.setJitter = function (e) {
      this.jitter = e
    }
  }, function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
      value: !0
    });
    t.default = function (e) {
      function t(e, t) {
        return e << t | e >>> 32 - t
      }

      function n(e, t) {
        var n, r, A, a, i;
        return A = 2147483648 & e, a = 2147483648 & t, i = (1073741823 & e) + (
            1073741823 & t), (n = 1073741824 & e) & (r = 1073741824 & t) ? 2147483648 ^
          i ^ A ^ a : n | r ? 1073741824 & i ? 3221225472 ^ i ^ A ^ a : 1073741824 ^ i ^
          A ^ a : i ^ A ^ a
      }

      function r(e, r, A, a, i, o, s) {
        return e = n(e, n(n(function (e, t, n) {
          return e & t | ~e & n
        }(r, A, a), i), s)), n(t(e, o), r)
      }

      function A(e, r, A, a, i, o, s) {
        return e = n(e, n(n(function (e, t, n) {
          return e & n | t & ~n
        }(r, A, a), i), s)), n(t(e, o), r)
      }

      function a(e, r, A, a, i, o, s) {
        return e = n(e, n(n(function (e, t, n) {
          return e ^ t ^ n
        }(r, A, a), i), s)), n(t(e, o), r)
      }

      function i(e, r, A, a, i, o, s) {
        return e = n(e, n(n(function (e, t, n) {
          return t ^ (e | ~n)
        }(r, A, a), i), s)), n(t(e, o), r)
      }

      function o(e) {
        var t, n = "",
          r = "";
        for (t = 0; t <= 3; t++) n += (r = "0" + (e >>> 8 * t & 255).toString(16))
          .substr(r.length - 2, 2);
        return n
      }
      var s, u, l, c, d, p, h, f, g, y = Array();
      for (y = function (e) {
          for (var t, n = e.length, r = n + 8, A = 16 * ((r - r % 64) / 64 + 1), a =
              Array(A - 1), i = 0, o = 0; o < n;) i = o % 4 * 8, a[t = (o - o % 4) /
            4] = a[t] | e.charCodeAt(o) << i, o++;
          return i = o % 4 * 8, a[t = (o - o % 4) / 4] = a[t] | 128 << i, a[A - 2] =
            n << 3, a[A - 1] = n >>> 29, a
        }(e = function (e) {
          e = e.replace(/\r\n/g, "\n");
          for (var t = "", n = 0; n < e.length; n++) {
            var r = e.charCodeAt(n);
            r < 128 ? t += String.fromCharCode(r) : r > 127 && r < 2048 ? (t += String
                .fromCharCode(r >> 6 | 192), t += String.fromCharCode(63 & r | 128)) :
              (t += String.fromCharCode(r >> 12 | 224), t += String.fromCharCode(r >>
                6 & 63 | 128), t += String.fromCharCode(63 & r | 128))
          }
          return t
        }(e)), p = 1732584193, h = 4023233417, f = 2562383102, g = 271733878, s = 0; s <
        y.length; s += 16) u = p, l = h, c = f, d = g, p = r(p, h, f, g, y[s + 0], 7,
          3614090360), g = r(g, p, h, f, y[s + 1], 12, 3905402710), f = r(f, g, p, h, y[
          s + 2], 17, 606105819), h = r(h, f, g, p, y[s + 3], 22, 3250441966), p = r(p,
          h, f, g, y[s + 4], 7, 4118548399), g = r(g, p, h, f, y[s + 5], 12,
        1200080426), f = r(f, g, p, h, y[s + 6], 17, 2821735955), h = r(h, f, g, p, y[
          s + 7], 22, 4249261313), p = r(p, h, f, g, y[s + 8], 7, 1770035416), g = r(g,
          p, h, f, y[s + 9], 12, 2336552879), f = r(f, g, p, h, y[s + 10], 17,
          4294925233), h = r(h, f, g, p, y[s + 11], 22, 2304563134), p = r(p, h, f, g,
          y[s + 12], 7, 1804603682), g = r(g, p, h, f, y[s + 13], 12, 4254626195), f =
        r(f, g, p, h, y[s + 14], 17, 2792965006), p = A(p, h = r(h, f, g, p, y[s + 15],
          22, 1236535329), f, g, y[s + 1], 5, 4129170786), g = A(g, p, h, f, y[s + 6],
          9, 3225465664), f = A(f, g, p, h, y[s + 11], 14, 643717713), h = A(h, f, g, p,
          y[s + 0], 20, 3921069994), p = A(p, h, f, g, y[s + 5], 5, 3593408605), g = A(
          g, p, h, f, y[s + 10], 9, 38016083), f = A(f, g, p, h, y[s + 15], 14,
          3634488961), h = A(h, f, g, p, y[s + 4], 20, 3889429448), p = A(p, h, f, g, y[
          s + 9], 5, 568446438), g = A(g, p, h, f, y[s + 14], 9, 3275163606), f = A(f,
          g, p, h, y[s + 3], 14, 4107603335), h = A(h, f, g, p, y[s + 8], 20,
          1163531501), p = A(p, h, f, g, y[s + 13], 5, 2850285829), g = A(g, p, h, f, y[
          s + 2], 9, 4243563512), f = A(f, g, p, h, y[s + 7], 14, 1735328473), p = a(p,
          h = A(h, f, g, p, y[s + 12], 20, 2368359562), f, g, y[s + 5], 4, 4294588738),
        g = a(g, p, h, f, y[s + 8], 11, 2272392833), f = a(f, g, p, h, y[s + 11], 16,
          1839030562), h = a(h, f, g, p, y[s + 14], 23, 4259657740), p = a(p, h, f, g,
          y[s + 1], 4, 2763975236), g = a(g, p, h, f, y[s + 4], 11, 1272893353), f = a(
          f, g, p, h, y[s + 7], 16, 4139469664), h = a(h, f, g, p, y[s + 10], 23,
          3200236656), p = a(p, h, f, g, y[s + 13], 4, 681279174), g = a(g, p, h, f, y[
          s + 0], 11, 3936430074), f = a(f, g, p, h, y[s + 3], 16, 3572445317), h = a(h,
          f, g, p, y[s + 6], 23, 76029189), p = a(p, h, f, g, y[s + 9], 4, 3654602809),
        g = a(g, p, h, f, y[s + 12], 11, 3873151461), f = a(f, g, p, h, y[s + 15], 16,
          530742520), p = i(p, h = a(h, f, g, p, y[s + 2], 23, 3299628645), f, g, y[s +
          0], 6, 4096336452), g = i(g, p, h, f, y[s + 7], 10, 1126891415), f = i(f, g,
          p, h, y[s + 14], 15, 2878612391), h = i(h, f, g, p, y[s + 5], 21, 4237533241),
        p = i(p, h, f, g, y[s + 12], 6, 1700485571), g = i(g, p, h, f, y[s + 3], 10,
          2399980690), f = i(f, g, p, h, y[s + 10], 15, 4293915773), h = i(h, f, g, p,
          y[s + 1], 21, 2240044497), p = i(p, h, f, g, y[s + 8], 6, 1873313359), g = i(
          g, p, h, f, y[s + 15], 10, 4264355552), f = i(f, g, p, h, y[s + 6], 15,
          2734768916), h = i(h, f, g, p, y[s + 13], 21, 1309151649), p = i(p, h, f, g,
          y[s + 4], 6, 4149444226), g = i(g, p, h, f, y[s + 11], 10, 3174756917), f = i(
          f, g, p, h, y[s + 2], 15, 718787259), h = i(h, f, g, p, y[s + 9], 21,
          3951481745), p = n(p, u), h = n(h, l), f = n(f, c), g = n(g, d);
      return (o(p) + o(h) + o(f) + o(g)).toLowerCase()
    }
  }]).default
}));
